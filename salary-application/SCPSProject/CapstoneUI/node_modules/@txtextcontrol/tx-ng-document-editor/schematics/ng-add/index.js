"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("@schematics/angular/utility/config");
const schematics_utilities_1 = require("schematics-utilities");
function default_1(options) {
    return (host) => {
        // get the workspace config of the consuming project
        // i.e. angular.json file
        const workspace = config_1.getWorkspace(host);
        // identify the project config which is using our library
        // or default to the default project in consumer workspace
        const project = schematics_utilities_1.getProjectFromWorkspace(workspace, options.project || workspace.defaultProject);
        // inject our module into the current main module of the selected project
        schematics_utilities_1.addModuleImportToRootModule(
        // tree to modify
        host, 
        // Module name to insert
        'DocumentEditorModule', 
        // project name for import statement
        '@txtextcontrol/tx-ng-document-editor', 
        // project to be modified
        project);
        // return updated tree
        return host;
    };
}
exports.default = default_1;
