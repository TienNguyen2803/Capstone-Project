/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
export var TX_JS = 'var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.BrowserDetect={init:function(){this.userAgent=navigator.userAgent;this.appVersion=navigator.appVersion;this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(this.userAgent)||this.searchVersion(this.appVersion)||"Unknown";},searchString:function(d){for(var e=0;e<d.length;e++){this.versionSearchString=d[e].subString;if(this.userAgent.indexOf(d[e].subString)!=-1){return d[e].identity;}}},searchVersion:function(d){var e=d.indexOf(this.versionSearchString);if(e==-1){return;}return parseFloat(d.substring(e+this.versionSearchString.length+1));},dataBrowser:[{subString:"Edge",identity:"Edge"},{subString:"Chrome",identity:"Chrome"},{subString:"Firefox",identity:"Firefox"},{subString:"Safari",identity:"Safari"},{subString:"Opera",identity:"Opera"},{subString:"MSIE",identity:"Explorer"},{subString:"rv:11.0",identity:"Explorer"},{subString:"Trident/",identity:"Explorer"},]};b.BrowserDetect.init();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(k,a){var b=k._private=k._private||{};var h=Math.log;var g=Math.LN2;var e=Math.clz32||function(l){return 31-h(l>>>0)/g|0;};var f=String.fromCharCode;var i=atob;var j=btoa;function d(m){var n=m.charCodeAt(0);if(n>=55296&&n<=56319){var l=m.charCodeAt(1);if(l!==l){return f(239,191,189);}if(l>=56320&&l<=57343){n=(n-55296)*1024+l-56320+65536;if(n>65535){return f((30<<3)|(n>>>18),(2<<6)|((n>>>12)&63),(2<<6)|((n>>>6)&63),(2<<6)|(n&63));}}else{return f(239,191,189);}}if(n<=127){return n;}else{if(n<=2047){return f((6<<5)|(n>>>6),(2<<6)|(n&63));}else{return f((14<<4)|(n>>>12),(2<<6)|((n>>>6)&63),(2<<6)|(n&63));}}}k.btoaUTF8=function(inputString,addBOM){return j((addBOM?"\\xEF\\xBB\\xBF":"")+inputString.replace(/[\\x80-\\uD7ff\\uDC00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]?/g,d));};function c(m){var l=m.charCodeAt(0)<<24;var o=e(~l);var n=0,q=m.length;var p="";if(o<5&&q>=o){l=(l<<o)>>>(24+o);for(n=1;n<o;++n){l=(l<<6)|(m.charCodeAt(n)&63);}if(l<=65535){p+=f(l);}else{if(l<=1114111){l-=65536;p+=f((l>>10)+55296,(l&1023)+56320);}else{n=0;}}}for(;n<q;++n){p+="\\ufffd";}return p;}k.atobUTF8=function(inputString,keepBOM){if(!keepBOM&&inputString.substring(0,3)==="\\xEF\\xBB\\xBF"){inputString=inputString.substring(3);}return i(inputString).replace(/[\\xc0-\\xff][\\x80-\\xbf]*/g,c);};return k;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Point=(function(){function d(x,y){if((typeof x!=="number")||(typeof y!=="number")){throw new TypeError("Parameters have to be numerical values.");}this.x=x;this.y=y;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.UIStateFlag={CanCopy:1,CanPaste:2,CanUndo:4,CanRedo:8,ControlChars:16,Header:32,Footer:64,TableGridLines:128,DocumentTargetMarkers:256,DrawingMarkerLines:512,TextFrameMarkerLines:1024,ContextMenusEnabled:2048,TextFieldsEditable:4096,FrameAnchors:8192,SelectObjects:16384};b.DocumentAccessPermissions={None:0,AllowAuthoring:1,AllowAuthoringFields:2,AllowContentAccessibility:4,AllowDocumentAssembly:8,AllowExtractContents:16,AllowGeneralEditing:32,AllowHighLevelPrinting:64,AllowLowLevelPrinting:128,AllowAll:255};b.PageContent={Background:1,HeadersAndFooters:2,MainText:4,All:7,ScreenElements:8};b.ControlChars={Tab:9,ParagraphEnd:10,LineBreak:11,PageBreak:12,ColumnBreak:14,NonVisibleHyphen:31,NonBreakingSpace:160,};b.VerticalAlignment={Top:0,Center:1,Bottom:2};b.HorizontalAlignment={Left:1,Right:2,Center:3,Justify:4};b.TextType={Text:0,Number:1};b.NumberFormat={None:0,ArabicNumbers:3,Letters:4,CapitalLetters:5,RomanNumbers:6,SmallRomanNumbers:7};b.FontUnderlineStyle={DoubledWordsOnly:4288,Doubled:4672,SingleWordsOnly:16528,Single:16912,None:20992};b.BreakType={NextLine:0,Column:1,Page:2,SectionNextPage:3,SectionContinuous:4};b.SectionBreakKind={BeginAtNewLine:256,BeginAtNewPage:512};b.ItemType={HypertextLink:0,DocumentLink:1,DocumentTarget:3,Link:4,PageNumber:5,FieldAdapter:6,ApplicationField:7,Chart:8,Frame:10,MergeBlock:11,HeaderFooter:12,ImagePlaceholder:13,TextField:14,Shape:15,DrawingCanvas:16,DrawingFrame:17};b.HeaderFooterType={Header:1,FirstPageHeader:2,Footer:4,FirstPageFooter:8,EvenHeader:128,EvenFooter:32768,All:32911};b.TableAddPosition={Before:1,After:2};b.PermanentControlChar=Object.freeze({Space:1,Tab:2,ParagraphEnd:4,ForcedLineBreak:8,ObjectAnchor:16,ForcedPageBreak:32,SectionBreak:64,Hyphen:128,NonBreakingSpace:256,TableCellEnd:512,Pagination:1024,All:2047});b.ListType={None:1,Bulleted:2,Numbered:4,Structured:8};b.Direction={LeftToRight:1,RightToLeft:2};b.Frame={LeftLine:1,RightLine:2,TopLine:4,BottomLine:8,Box:15,MergedBox:143,None:9371648};b.FrameStyle={Single:32,Double:64};b.Justification={Spaces:1,Kashida:2,SpacesAndKashida:3};b.TabType={LeftTab:1,RightTab:2,CenterTab:3,DecimalTab:4,RightBorderTab:5};b.MeasuringUnit=Object.freeze({CentiInch:1,StandardWPF:2,Twips:3,Millimeter:4,Centimeter:5,Point:6});b.FindOptions={Reverse:1,MatchCase:4,NoHighlight:8,NoMessageBox:16,MatchWholeWord:64};b.FormulaReferenceStyle={A1:2,R1C1:1};b.MisspelledWordKind={All:7,Duplicate:4,Ignored:2,Normal:1};b.txProperties={canEdit:true,canCharacterFormat:true,canParagraphFormat:true,canTableFormat:true,canDocumentFormat:true,canStyleFormat:true,canPrint:true};b.controlChars=false;b.tableGridLines=true;b.documentTargetMarkers=true;b.textFrameMarkerLines=true;b.contextMenusEnabled=true;b.textFieldsEditable=false;b.inputPositionChangedHandler=function(h){var i=h.detail;if(i.IsInTable&&(b.appMode==b.ApplicationMode.Normal)){b.adaptRibbonTabWidths();}else{if(a("#tabTableLayout").is(":visible")){b.adaptRibbonTabWidths();if(a("#"+a("#tabTableLayout").attr("rel")).is(":visible")||a("#"+a("#tabFormula").attr("rel")).is(":visible")){b.switchTabs(a("#tabDefault"));}}}};b.txPropertyChangedHandler=function(i){var h=i.detail;switch(h.propertyName){case"CanEdit":b.txProperties.canEdit=h.value;break;case"CanPrint":b.txProperties.canPrint=h.value;break;case"CanStyleFormat":b.txProperties.canStyleFormat=h.value;break;case"CanDocumentFormat":b.txProperties.canDocumentFormat=h.value;break;case"CanTableFormat":b.txProperties.canTableFormat=h.value;break;case"CanCharacterFormat":b.txProperties.canCharacterFormat=h.value;break;case"CanParagraphFormat":b.txProperties.canParagraphFormat=h.value;break;}};b.uiFlagsUpdatedHandler=function(h){var i=h.detail;b.contextMenusEnabled=(i&b.UIStateFlag.ContextMenusEnabled)!=0;b.textFieldsEditable=(i&b.UIStateFlag.TextFieldsEditable)!=0;};function e(h){var j="";var i=(typeof b.settings==="undefined");var m=document.getElementById("txPrintFrame");if(m){document.body.removeChild(m);}var l=b.isSSLConnection?"https://":"http://";if(!i){j=b.settings.ConnectionID;}else{if((typeof b.webControlSettings!=="undefined")&&b.webControlSettings.hasOwnProperty("connectionID")){j=b.webControlSettings.connectionID;}}if(!j){return"";}var k=i?l+b.getHostAndAppVirtPath()+"TXPrintHandler.ashx":l+b.getHostAndAppVirtPath()+b.settings.ApiRoute+"TXPrint";return k+"?connectionID="+j+"&embedPrintAction="+(h?"true":"false");}function f(){var i=e(true);if(!i){return;}var h=document.createElement("IFRAME");h.id="txPrintFrame";h.frameBorder=0;h.src=i;document.body.appendChild(h);}function d(){var i=e(false);if(!i){return;}var h=new b.EdgePrintDialog(i);h.showModal();}b.print=function(){if((b.BrowserDetect.browser==="Explorer")||(b.BrowserDetect.browser==="Other")){f();}else{if(b.BrowserDetect.browser==="Edge"){d();}else{b.sendCommand(b.Command.PrintToPDF,1);}}};b.printResultReceivedHandler=function(i){var k=i.detail;if((b.BrowserDetect.browser==="Explorer")||(b.BrowserDetect.browser==="Other")||(b.BrowserDetect.browser==="Edge")){return;}var l=document.getElementById("txPrintFrame");if(l){document.body.removeChild(l);}l=document.createElement("IFRAME");l.id="txPrintFrame";l.frameBorder=0;switch(b.BrowserDetect.browser){case"Chrome":h();break;default:j();break;}function j(){l.src="data:application/pdf;base64,"+k.Data;document.body.appendChild(l);}function h(){var m=Uint8Array.from(atob(k.Data),function(o){return o.charCodeAt(0);});var n=new window.Blob([m],{type:"application/pdf"});n=window.URL.createObjectURL(n);l.src=n;document.body.appendChild(l);l.focus();l.contentWindow.print();}};b.HyperlinkClickedEventArgs=(function(){function h(target){this.target=target;}return h;})();b.hyperlinkClickedHandler=function(i){var j=i.detail;var h=new b.HyperlinkClickedEventArgs(j);b.fireEvent(b.EventName.hyperlinkClicked,h);};function c(h,o,s){o=o||"";s=s||512;var m=atob(h);var l=[];for(var q=0;q<m.length;q+=s){var r=m.slice(q,q+s);var n=new Array(r.length);for(var p=0;p<r.length;p++){n[p]=r.charCodeAt(p);}var k=new Uint8Array(n);l.push(k);}var j=new Blob(l,{type:o});return j;}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Caret=(function(){function d(e,f){this.canvas=e;this.location={X:0,Y:0};this.size={width:0,height:0};this.isBlack=false;this.blinkTimer=null;this.isVisible=false;this.divCaret=null;this.pixelRatio=f||1;this.divCaret=document.createElement("div");this.divCaret.classList.add("caret");this.divCaret.style.left="1px";this.divCaret.style.top="1px";this.canvas.parentNode.appendChild(this.divCaret);}Object.defineProperty(d.prototype,"bounds",{get:function(){var e={x:this.location.X,y:this.location.Y,width:this.size.width,height:this.size.height};return e;},enumerable:true,configurable:true});d.prototype.setState=function(g){var f=this.isVisible;this.hide();var e=Math.max(1,g.Size.Height/this.pixelRatio);var h=Math.max(1,g.Size.Width/this.pixelRatio);this.setSize(h,e);this.setLocation(g.Location);f=g.Visibility;if(f){this.show();}};d.prototype.blink=function(){if(this.isBlack){this.setOpacity(0);this.isBlack=false;}else{this.setOpacity(1);this.isBlack=true;}};d.prototype.show=function(){if(this.isVisible){return;}this.isVisible=true;this.setOpacity(1);this.isBlack=true;clearInterval(this.blinkTimer);this.blinkTimer=setInterval(this.blink.bind(this),500);};d.prototype.hide=function(){if(!this.isVisible){return;}this.isVisible=false;clearInterval(this.blinkTimer);if(this.isBlack){this.setOpacity(0);this.isBlack=false;}};d.prototype.setOpacity=function(e){if(!b.ViewersInvisible){this.divCaret.style.opacity=""+e;}};d.prototype.setLocation=function(f){this.location=cloneObject(f);this.location.X/=this.pixelRatio;this.location.Y/=this.pixelRatio;var e=this.canvas.offsetLeft+this.location.X;var g=this.canvas.offsetTop+this.location.Y;this.divCaret.style.left=e+"px";this.divCaret.style.top=g+"px";};d.prototype.refreshLocation=function(){this.setLocation(this.location);};d.prototype.setSize=function(f,e){this.size.width=f;this.size.height=e;this.divCaret.style.width=f+"px";this.divCaret.style.height=e+"px";};d.prototype.isVisible=function(){return this.isVisible;};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ActivationState=Object.freeze({Activated:1,Deactivated:2,Disabled:3});b.HiddenTextField=(function(){function d(g,h,i){var j=this;this.canvas=g;this.componentType=h;this.owner=i;this.location={X:0,Y:0};this.elemInput=b.isTouchDevice?document.createElement("input"):document.createElement("div");this.elemInput.classList.add("txHiddenTextField");this.elemInput.setAttribute("autocomplete","off");this.elemInput.setAttribute("autocorrect","off");this.elemInput.setAttribute("spellcheck",false);this.elemInput.setAttribute("contenteditable",true);this.elemInput.tabIndex="-1";this.elemInput.addEventListener("keypress",b.keyPressHandler);this.elemInput.addEventListener("keydown",b.keyDownHandler);this.elemInput.addEventListener("keyup",b.keyUpHandler);this.elemInput.addEventListener("compositionstart",this.compositionstartHandler.bind(this));this.elemInput.addEventListener("compositionupdate",this.compositionupdateHandler.bind(this));this.elemInput.addEventListener("compositionend",this.compositionendHandler.bind(this));this.elemInput.addEventListener("blur",this.elemInput_Blur.bind(this));this.elemInput.addEventListener("focus",this.elemInput_Focus.bind(this));if(!b.isTouchDevice&&(h==b.ComponentType.TextView)){this.elemInput.addEventListener("paste",function(k){f(j,k);});this.elemInput.id="txHiddenTextField_textView";}this.canvas.parentNode.appendChild(this.elemInput);}Object.defineProperty(d.prototype,"top",{set:function(g){this.elemInput.style.top=g+"px";},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"left",{set:function(g){this.elemInput.style.left=g+"px";},enumerable:true,configurable:true});d.prototype.compositionstartHandler=function(i){b.inIMEComposition=true;var j=this.elemInput;var g=this.owner.caretBounds;var h=this.owner.canvas;j.style.left=g.x+h.offsetLeft+"px";j.style.top=g.y+h.offsetTop+g.height+"px";j.style.zIndex=1000;};d.prototype.compositionupdateHandler=function(g){};d.prototype.compositionendHandler=function(g){b.inIMEComposition=false;var j=this.elemInput;j.style.left="";j.style.top="";j.style.zIndex="";if(j.tagName==="DIV"){j.innerHTML="";}for(var h=0;h<g.data.length;++h){b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.KeyPress,0,0,{key:g.data[h],modifierKeys:0});}};d.prototype.focus=function(){if(!document.hasFocus()||(document.activeElement!=this.elemInput)){this.elemInput.focus();}};d.prototype.blur=function(){if(document.activeElement==this.elemInput){this.elemInput.blur();}};d.prototype.elemInput_Focus=function(g){if(this.elemInput.tagName==="INPUT"){this.elemInput.value="";}else{this.elemInput.innerHTML="";}};d.prototype.elemInput_Blur=function(g){b.sendCommand(b.Command.ComponentActivationState,this.componentType,b.ActivationState.Deactivated);};d.prototype.update=function(h,g){if(h!==null){this.elemInput.value=h;}if(this.elemInput.selectionStart!=g){this.elemInput.setSelectionRange(g,g);}};d.prototype.setText=function(g){if(this.elemInput.tagName==="INPUT"){this.elemInput.value=g;}else{this.elemInput.innerHTML=g;}};d.prototype.selectAll=function(){if(this.elemInput.tagName==="INPUT"){this.elemInput.select();return;}var g=this.elemInput;var h=document.createRange();h.selectNodeContents(g);var i=window.getSelection();i.removeAllRanges();i.addRange(h);};function e(g){var h=g.elemInput.innerHTML;g.elemInput.innerHTML="";b.pasteText(h,b.ClipboardDataType.HTML);}function f(h,g){if(b.clipboardMode==b.ClipboardMode.Server){return;}if(!b.handleClientPaste(g,false)){return;}h.elemInput.innerHTML="";setTimeout(function(){e(h);},10);return false;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.modifierKeys=0;var d={Shift:4,Ctrl:8,Alt:2048,Mask:2060};b.KeyCode={Backspace:a.ui.keyCode.BACKSPACE,TAB:a.ui.keyCode.TAB,Enter:a.ui.keyCode.ENTER,Shift:16,Control:17,Alt:18,LeftArrow:a.ui.keyCode.LEFT,UpArrow:a.ui.keyCode.UP,RightArrow:a.ui.keyCode.RIGHT,DownArrow:a.ui.keyCode.DOWN,DEL:a.ui.keyCode.DELETE,INS:45,END:a.ui.keyCode.END,HOME:a.ui.keyCode.HOME,PageUp:a.ui.keyCode.PAGE_UP,PageDown:a.ui.keyCode.PAGE_DOWN,Space:a.ui.keyCode.SPACE};function c(g){var h=0;if(g.shiftKey){h|=d.Shift;}if(g.altKey){h|=d.Alt;}if(g.ctrlKey||g.metaKey){h|=d.Ctrl;}return h;}function e(h,i){b.modifierKeys=c(h);var j=h.keyCode||h.which||0;switch(j){case 171:j=187;break;case 173:j=189;break;}var g={key:j,modifierKeys:b.modifierKeys};b.sendCommand(b.Command.ComponentEvent,i,0,0,g);switch(j){case b.KeyCode.Enter:case b.KeyCode.Backspace:case b.KeyCode.TAB:case b.KeyCode.DEL:case b.KeyCode.END:case b.KeyCode.HOME:case b.KeyCode.LeftArrow:case b.KeyCode.UpArrow:case b.KeyCode.RightArrow:case b.KeyCode.DownArrow:case b.KeyCode.PageUp:case b.KeyCode.PageDown:h.preventDefault();break;}}b.keyDownHandler=function(k){if(b.overlayControls.exist()){return;}b.modifierKeys=c(k);var l=k.keyCode||k.which||0;if(b.modifierKeys&d.Ctrl){switch(l){case 43:case 45:case 107:case 109:case 171:case 173:case 187:case 189:k.preventDefault();break;}}var i=(((b.modifierKeys&d.Mask)==d.Ctrl)&&(l==86))||((b.modifierKeys&d.Shift)&&(l==b.KeyCode.INS));var h=(((b.modifierKeys&d.Mask)==d.Ctrl)&&(l==88))||((b.modifierKeys&d.Shift)&&(l==b.KeyCode.DEL));var g=((b.modifierKeys&d.Mask)==d.Ctrl)&&((l==67)||(l==b.KeyCode.INS));if(((b.modifierKeys&d.Mask)==(d.Ctrl|d.Shift)&&(l==86))){var j=new b.ClientPasteDialog();j.showModal();k.preventDefault();return;}else{if(b.clipboardMode==b.ClipboardMode.Server){if(i){k.preventDefault();}}}if((g||h)&&(b.clipboardMode==b.ClipboardMode.Client)){if(g){document.execCommand("copy");}else{if(h){document.execCommand("cut");}}k.preventDefault();}if(i&&(b.clipboardMode==b.ClipboardMode.Client)){return;}e(k,b.UserInputEventType.KeyDown);};b.keyUpHandler=function(g){if(b.overlayControls.exist()){return;}e(g,b.UserInputEventType.KeyUp);};b.keyPressHandler=function(g){if(b.overlayControls.exist()){return;}if((typeof g.charCode!=="undefined")&&(g.charCode===0)){return;}b.modifierKeys=c(g);var h=g.charCode||g.keyCode||g.which||0;if(h){b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.KeyPress,0,0,{key:h,modifierKeys:b.modifierKeys});}else{g.preventDefault();}};return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(i,a){var b=i._private=i._private||{};b.ComponentType={TextView:0,HorRuler:1,VertRuler:2,StatusBar:3,TxDialog:4,TrackChangesView:5,};b.UserInputEventType={KeyDown:0,KeyPress:1,KeyUp:2,MouseMove:3,MouseDown:4,MouseUp:5,MouseDoubleClick:6,MouseWheel:7};b.MouseButtons={Left:1,Right:2,Middle:16};var f={IBeam:1,ArrowNE:2,VSplit:3,UpArrow:4,Arrow:5,DownArrow:6,SizeWE:7,SizeNS:8,SizeNWSE:9,SizeNESW:10,SizeAll:11,Cross:12,No:13,DragDropCopy:14,DragDropMove:15};var g={MoveAndSizeFrame:1,TableBorderMovingLine:2,DropCaret:3};b.cloneTouch=function(j){return{clientX:j.clientX,clientY:j.clientY,screenX:j.screenX,screenY:j.screenY,identifier:j.identifier,hasLeftDeadzone:j.hasLeftDeadzone};};var c=false;var e={touches:{},getItem:function(j){return this.touches["_"+j];},add:function(k){var j=k.identifier;this.touches["_"+j]=b.cloneTouch(k);},removeItem:function(j){var k=this.getItem(j);delete this.touches["_"+j];return k;},update:function(k){for(var j=0;j<k.length;++j){this.add(k[j]);}},count:function(){var k=0,j;for(j in this.touches){if(this.touches.hasOwnProperty(j)){++k;}}return k;},clear:function(){this.touches={};}};var h=(function(){var k=250,j=500,m=500;q.State={Initial:0,OneFinger:1,NoFingerAfterOneFinger:2,ImpendingDoubleClickOrObjectGrip:3,ObjectGrip:4};q.TouchEventType={Start:0,Move:1,End:2};function q(r){this.state=q.State.Initial;this.viewer=r;this.targetElem=r.canvas;this.touch=null;this.timeoutID=null;}function o(v,t,r,u){var s=document.createEvent("MouseEvents");s.initMouseEvent(t,true,true,window,1,v.screenX,v.screenY,v.clientX,v.clientY,false,false,false,false,r,null);u.dispatchEvent(s);}q.prototype.simulateMouseClick=function(s,r){o(s,"mouseover",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mouseout",r,this.targetElem);o(s,"click",r,this.targetElem);};q.prototype.simulateMouseDoubleClick=function(s,r){o(s,"mouseover",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"click",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mouseout",r,this.targetElem);o(s,"click",r,this.targetElem);o(s,"dblclick",r,this.targetElem);};q.prototype.reset=function(){if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}if(this.touch){o(this.touch,"mouseup",0,this.targetElem);o(this.touch,"mousemove",0,this.targetElem);o(this.touch,"mouseout",0,this.targetElem);this.touch=null;}this.state=q.State.Initial;};function n(){b.ignoreNextTextFocusRequest=true;this.simulateMouseClick(this.touch,2);this.timeoutID=this.touch=null;this.state=q.State.Initial;}q.prototype.initialState=function(s,r){switch(r){case q.TouchEventType.Start:this.timeoutID=setTimeout(n.bind(this),j);this.touch=b.cloneTouch(s);this.state=q.State.OneFinger;break;default:this.reset();}};function l(){this.timeoutID=this.touch=null;this.state=q.State.Initial;}q.prototype.oneFingerState=function(s,r){switch(r){case q.TouchEventType.End:if(this.timeoutID){clearTimeout(this.timeoutID);}this.timeoutID=setTimeout(l.bind(this),k);this.touch=b.cloneTouch(s);this.state=q.State.NoFingerAfterOneFinger;break;default:this.reset();}};function p(r){r=r||this;o(r.touch,"mouseover",0,r.targetElem);o(r.touch,"mousemove",0,r.targetElem);o(r.touch,"mousedown",0,r.targetElem);r.timeoutID=r.touch=null;r.state=q.State.ObjectGrip;}q.prototype.noFingerAfterOneFingerState=function(s,r){switch(r){case q.TouchEventType.Start:if(this.timeoutID){clearTimeout(this.timeoutID);}this.timeoutID=setTimeout(p.bind(this),m);this.touch=b.cloneTouch(s);this.state=q.State.ImpendingDoubleClickOrObjectGrip;break;default:this.reset();}};q.prototype.impendingDoubleClickOrObjectGripState=function(s,r){switch(r){case q.TouchEventType.End:if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}this.simulateMouseDoubleClick(s,0);this.state=q.State.Initial;break;case q.TouchEventType.Move:if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}p(this);this.touch=b.cloneTouch(s);break;default:this.reset();}};q.prototype.objectGripState=function(s,r){switch(r){case q.TouchEventType.Move:o(s,"mousemove",0,this.targetElem);this.touch=b.cloneTouch(s);break;case q.TouchEventType.End:o(s,"mouseup",0,this.targetElem);o(s,"mousemove",0,this.targetElem);o(s,"mouseout",0,this.targetElem);this.touch=b.cloneTouch(s);this.state=q.State.Initial;break;default:this.reset();}};q.prototype.processTouch=function(s,r){switch(this.state){case q.State.Initial:this.initialState(s,r);break;case q.State.OneFinger:this.oneFingerState(s,r);break;case q.State.NoFingerAfterOneFinger:this.noFingerAfterOneFingerState(s,r);break;case q.State.ImpendingDoubleClickOrObjectGrip:this.impendingDoubleClickOrObjectGripState(s,r);break;case q.State.ObjectGrip:this.objectGripState(s,r);break;}};return q;})();var d=20;b.mouseOwner=null;b.isPinchZooming=false;b.ComponentViewer=(function(){var p="1px dashed black",q="lightgray";function j(s,t,v,u,r){this.canvas=s;this.context=s.getContext("2d");this.mouseButtons=0;this.imgBuffer=null;this.shapeDIV=null;this.shapeBlinkTimer=null;this.shapeIsBlack=true;this.hiddenTextField=null;this.touchStateMachine=b.isTouchDevice?new h(this):null;this.viewChangedQueue=[];this.bUpdating=false;this.adaptToPixelRatio=r||false;this.pixelRatio=r?window.devicePixelRatio:1;if(this.adaptToPixelRatio){o(this.canvas,this.pixelRatio);}this.dialogNestingDepth=u||0;this.caret=new b.Caret(s,this.pixelRatio);if((t==b.ComponentType.TextView)||(t==b.ComponentType.TxDialog)){this.hiddenTextField=new b.HiddenTextField(s,t,this);}this.componentType=t;this.dialogType=v||b.TXDialogType.Unknown;this.cursorType=null;this.shapeDIV=document.createElement("div");this.shapeDIV.classList.add("txShapeDIV");this.shapeDIV.style.top="1px";this.shapeDIV.style.left="-9999px";this.context.canvas.parentNode.appendChild(this.shapeDIV);this.canvasClientBoundRect=null;s.addEventListener("mousedown",this.canvas_MouseDown.bind(this));s.addEventListener("mouseup",this.canvas_MouseUp.bind(this));s.addEventListener("click",this.canvas_Click.bind(this));this.shapeDIV.addEventListener("mouseup",this.canvas_MouseUp.bind(this));s.addEventListener("mousemove",this.canvas_MouseMove.bind(this));s.addEventListener("dblclick",this.canvas_DoubleClick.bind(this));s.addEventListener("DOMMouseScroll",this.canvas_MouseWheel.bind(this));s.addEventListener("mousewheel",this.canvas_MouseWheel.bind(this));s.addEventListener("contextmenu",function(w){w.preventDefault();});if(b.isTouchDevice){s.addEventListener("touchstart",this.canvas_TouchStart.bind(this));s.addEventListener("touchend",this.canvas_TouchEnd.bind(this));s.addEventListener("touchcancel",this.canvas_TouchCancel.bind(this));s.addEventListener("touchleave",this.canvas_TouchEnd.bind(this));s.addEventListener("touchmove",this.canvas_TouchMove.bind(this));}document.addEventListener("componentCursorChanged",this.cursorChanged.bind(this));if(this.componentType==b.ComponentType.TextView){document.addEventListener("drawShapeMessageReceived",this.drawShape.bind(this));}}Object.defineProperty(j.prototype,"width",{get:function(){return this.canvas.getBoundingClientRect().width;},set:function(r){this.canvas.width=r;},enumerable:true,configurable:true});Object.defineProperty(j.prototype,"height",{get:function(){return this.canvas.getBoundingClientRect().height;},set:function(r){this.canvas.height=r;},enumerable:true,configurable:true});Object.defineProperty(j.prototype,"left",{get:function(){return this.canvas.offsetLeft;},set:function(r){this.canvas.style.left=r+"px";},enumerable:true,configurable:true});Object.defineProperty(j.prototype,"top",{get:function(){return this.canvas.offsetTop;},set:function(r){this.canvas.style.top=r+"px";},enumerable:true,configurable:true});Object.defineProperty(j.prototype,"caretBounds",{get:function(){return this.caret.bounds;},enumerable:true,configurable:true});j.prototype.setCaretState=function(r){if(b.isTouchDevice&&!b.inIMEComposition&&r.Visibility&&this.hiddenTextField){this.hiddenTextField.top=r.Location.Y+this.canvas.offsetTop;}this.caret.setState(r);};function o(r,s){r.style.width=(r.width/s)+"px";r.style.height=(r.height/s)+"px";}j.prototype.setImage=function(s){var t=this;var r=new Image();r.onload=function(){t.context.clearRect(0,0,r.naturalWidth,r.naturalHeight);t.context.drawImage(r,0,0,r.naturalWidth,r.naturalHeight);b.sendCommand(b.Command.ImageLoaded,t.componentType,t.dialogType,t.dialogNestingDepth);};r.src=s;};j.prototype.requestUpdateImageRegions=function(r){if(this.bUpdating){this.viewChangedQueue.push({tiles:r});return;}this.bUpdating=true;this.updateImageRegions(r);};j.prototype.requestScroll=function(r,s){if(this.bUpdating){this.viewChangedQueue.push({delta:r,tiles:s});return;}this.bUpdating=true;this.scroll(r,s);};j.prototype.updateImageRegions=function(t){var s=this,u=0,r=t.length;t.forEach(function(w){var v=new Image();v.onload=function(){if(s.componentType==b.ComponentType.TxDialog){s.context.clearRect(w.pos.X,w.pos.Y,v.naturalWidth,v.naturalHeight);}s.context.drawImage(v,w.pos.X,w.pos.Y,v.naturalWidth,v.naturalHeight);if(r==++u){if(s.viewChangedQueue.length>0){s.processNextQueueEntry();}else{b.sendCommand(b.Command.ImageLoaded,s.componentType,s.dialogType,s.dialogNestingDepth);s.bUpdating=false;}}};v.src=w.imageDataURL;});};j.prototype.scroll=function(s,v){var u=this,t=0,r=v.length;if(!this.canvas.width||!this.canvas.height){return;}this.context.drawImage(this.canvas,s.X,s.Y,this.canvas.width,this.canvas.height);v.forEach(function(x){var w=new Image();w.onload=function(){u.context.drawImage(w,x.pos.X,x.pos.Y,w.naturalWidth,w.naturalHeight);if(r==++t){if(u.viewChangedQueue.length>0){u.processNextQueueEntry();}else{b.sendCommand(b.Command.ImageLoaded,u.componentType,u.dialogType,u.dialogNestingDepth);u.bUpdating=false;}}};w.src=x.imageDataURL;});};j.prototype.processNextQueueEntry=function(){var r=this.viewChangedQueue.shift();if(r.hasOwnProperty("delta")){this.scroll(r.delta,r.tiles);}else{this.updateImageRegions(r.tiles);}};j.prototype.show=function(){this.canvas.style.display="block";};j.prototype.hide=function(){this.canvas.style.display="none";};j.prototype.showCaret=function(){this.caret.show();};j.prototype.hideCaret=function(){this.caret.hide();};j.prototype.refreshCaretLocation=function(){this.caret.refreshLocation();};j.prototype.bufferContent=function(){if(!this.canvas.width||!this.canvas.height){this.imgBuffer=null;return;}this.imgBuffer=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);};j.prototype.drawBufferedContent=function(){if(!this.imgBuffer){return;}this.context.putImageData(this.imgBuffer,0,0);delete this.imgBuffer;};j.prototype.canvas_MouseDown=function(s){if(!b.mouseOwner){b.mouseOwner=this;}else{if(b.mouseOwner!=this){return;}}if(s.which==1){this.mouseButtons|=b.MouseButtons.Left;}if(s.which==2){this.mouseButtons|=b.MouseButtons.Middle;}if(s.which==3){this.mouseButtons|=b.MouseButtons.Right;}if(s.detail==2){this.canvas_DoubleClick(s);c=true;s.preventDefault();return;}var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtonToMouseButtonFlag(s.which)};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDown,this.componentType,0,r);s.preventDefault();};j.prototype.canvas_MouseUp=function(s){if(b.mouseOwner){return;}b.lastMouseUpEvent=s;var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtonToMouseButtonFlag(s.which)};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseUp,this.componentType,0,r);if(s.which==1){this.mouseButtons&=~b.MouseButtons.Left;}if(s.which==2){this.mouseButtons&=~b.MouseButtons.Middle;}if(s.which==3){this.mouseButtons&=~b.MouseButtons.Right;}this.canvasClientBoundRect=null;if(s.which==1){this.hideShape();}s.preventDefault();};j.prototype.canvas_Click=function(r){this.focus();};j.prototype.canvas_MouseMove=function(s){if(b.mouseOwner){return;}var t=this.getMousePos(s);var r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtons};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseMove,this.componentType,0,r);s.preventDefault();};j.prototype.canvas_DoubleClick=function(s){if(c){c=false;s.preventDefault();return;}var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDoubleClick,this.componentType,0,r);s.preventDefault();};j.prototype.canvas_TouchStart=function(r){b.hideAllOtherMenus();b.fileMenu.hide();var s=r.changedTouches;if((s.length==1)&&(e.count()==0)){this.canvasClientBoundRect=this.canvas.getBoundingClientRect();this.touchStateMachine.processTouch(s[0],h.TouchEventType.Start);}else{this.touchStateMachine.reset();}e.update(s);};j.prototype.canvas_TouchDragTextView=function(s){var t=e.getItem(s.identifier);if(this.componentType==b.ComponentType.TextView){var r={X:t.clientX-s.clientX,Y:t.clientY-s.clientY};r=b.pointPixelToTwips(r,b.zoom);b.scrollDelta(r,this.componentType);}};j.prototype.canvas_TouchPinchTextView=function(D){b.isPinchZooming=true;var B=D[0],E=e.getItem(B.identifier);var C,F;if(D.length==2){C=D[1];F=e.getItem(C.identifier);}else{for(var A in e.touches){if(A!=("_"+B.identifier)){F=C=e.touches[A];break;}}}var y={X:E.clientX,Y:E.clientY},z={X:F.clientX,Y:F.clientY},u=k(z,y),s=m(y,z);y={X:B.clientX,Y:B.clientY};z={X:C.clientX,Y:C.clientY};var t=k(z,y),r=m(y,z);var x={X:Math.round(s.X-r.X),Y:Math.round(s.Y-r.Y)};var v=Math.sqrt(x.X*x.X+x.Y*x.Y);if(v>0){x=b.pointPixelToTwips(x,b.zoom);b.scrollDelta(x,this.componentType);}var w=t/u;b.zoom=Math.round(b.zoom*w);b.sendCommand(b.Command.Zoom,b.zoom);};function n(u){var r=u.changedTouches;var w=[];for(var v=0;v<r.length;++v){var s=r[v];var x=e.getItem(s.identifier);if(x.hasLeftDeadzone){s.hasLeftDeadzone=true;w.push(s);}else{var t=l(x,s);if(t>=d){s.hasLeftDeadzone=true;w.push(s);}}}return w;}j.prototype.canvas_TouchMove=function(r){if(!e.count()){if(this.touchStateMachine.state!=h.State.Initial){this.touchStateMachine.reset();}return;}var s=n(r);if(s.length){switch(this.touchStateMachine.state){case h.State.ObjectGrip:case h.State.ImpendingDoubleClickOrObjectGrip:this.touchStateMachine.processTouch(s[0],h.TouchEventType.Move);break;default:switch(this.componentType){case b.ComponentType.TextView:this.canvas_TouchMoveTextView(s);break;}this.touchStateMachine.reset();}e.update(s);}if(r.cancelable){r.preventDefault();}};j.prototype.canvas_TouchMoveTextView=function(r){switch(e.count()){case 1:this.canvas_TouchDragTextView(r[0]);break;case 2:this.canvas_TouchPinchTextView(r);break;}};j.prototype.canvas_TouchEnd=function(r){b.isPinchZooming=false;var u=r.changedTouches;if(u.length==1){this.touchStateMachine.processTouch(u[0],h.TouchEventType.End);}for(var s=0;s<u.length;++s){var t=u[s];e.removeItem(t.identifier);}};j.prototype.canvas_TouchCancel=function(r){var u=r.changedTouches;if(u.length==1){this.touchStateMachine.processTouch(u[0],h.TouchEventType.End);}for(var s=0;s<u.length;++s){var t=u[s];e.removeItem(t.identifier);}if(r.cancelable){r.preventDefault();}};function k(t,u){var r=u.X-t.X;var s=u.Y-t.Y;return Math.sqrt((r*r)+(s*s));}function l(t,u){var r={X:t.clientX,Y:t.clientY},s={X:u.clientX,Y:u.clientY};return k(s,r);}function m(r,s){return{X:(r.X+s.X)/2,Y:(r.Y+s.Y)/2};}j.prototype.canvas_MouseWheel=function(t){var s=(t.wheelDelta||-(t.detail*40)),u=this.getMousePos(t),r={mousePos:{X:Math.round(u.x),Y:Math.round(u.y)},modifierKeys:b.modifierKeys,delta:s};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseWheel,this.componentType,0,r);t.preventDefault();};j.prototype.cursorChanged=function(s){var t=s.detail;var r;if(t.target!=this.componentType){return;}if(t.dialogType!=this.dialogType){return;}if(this.mouseButtons&b.MouseButtons.Left){return;}this.cursorType=t.cursorType;switch(t.cursorType){case f.IBeam:this.canvas.style.cursor="text";break;case f.ArrowNE:this.canvas.style.cursor="url("+b.imageResources.small.arrowne+") 32 0, default";break;case f.VSplit:this.canvas.style.cursor="col-resize";break;case f.UpArrow:this.canvas.style.cursor="pointer";break;case f.Arrow:this.canvas.style.cursor="default";break;case f.DownArrow:this.canvas.style.cursor="url("+b.imageResources.small.downarrow+") 23 11, default";break;case f.SizeWE:this.canvas.style.cursor="ew-resize";break;case f.SizeNS:this.canvas.style.cursor="ns-resize";break;case f.SizeNWSE:this.canvas.style.cursor="nwse-resize";break;case f.SizeNESW:this.canvas.style.cursor="nesw-resize";break;case f.SizeAll:this.canvas.style.cursor="move";break;case f.Cross:this.canvas.style.cursor="crosshair";break;case f.No:this.canvas.style.cursor="not-allowed";break;case f.DragDropCopy:this.canvas.style.cursor="copy";break;case f.DragDropMove:this.canvas.style.cursor="move";break;default:this.canvas.style.cursor="default";break;}};j.prototype.shapeBlink=function(){if(this.shapeIsBlack){this.shapeDIV.style.borderColor=q;this.shapeIsBlack=false;}else{this.shapeDIV.style.borderColor="black";this.shapeIsBlack=true;}};j.prototype.hideShape=function(){if(this.shapeBlinkTimer){clearTimeout(this.shapeBlinkTimer);this.shapeDIV.style.borderColor="black";this.shapeBlinkTimer=null;this.shapeIsBlack=true;}this.shapeDIV.style.opacity=0;this.shapeDIV.style.left="-9999px";};j.prototype.drawShape=function(r){if(!(this.mouseButtons&b.MouseButtons.Left)){return;}var s=r.detail;if(!this.shapeBlinkTimer){this.shapeBlinkTimer=setInterval(this.shapeBlink.bind(this),500);this.shapeDIV.style.backgroundColor="transparent";switch(s.Kind){case g.TableBorderMovingLine:this.shapeDIV.style.border="none";this.shapeDIV.style.borderLeft=p;break;case g.MoveAndSizeFrame:this.shapeDIV.style.border=p;break;case g.DropCaret:this.shapeDIV.style.border="none";this.shapeDIV.style.backgroundColor="black";break;}this.shapeDIV.style.opacity=1;}var t=s.Location.X+this.left,u=s.Location.Y+this.top;this.shapeDIV.style.top=u+"px";this.shapeDIV.style.left=t+"px";this.shapeDIV.style.height=s.Size.Height+"px";this.shapeDIV.style.width=s.Size.Width+"px";};j.prototype.focus=function(){if(b.ignoreNextTextFocusRequest){b.ignoreNextTextFocusRequest=false;return;}if(!this.hiddenTextField){return;}if((this.componentType!=b.ComponentType.TextView)&&(this.componentType!=b.ComponentType.TxDialog)){return;}this.hiddenTextField.focus();b.sendCommand(b.Command.ComponentActivationState,this.componentType,b.ActivationState.Activated);};j.prototype.blur=function(){if(this.hiddenTextField){this.hiddenTextField.blur();}};j.prototype.getMousePos=function(r){var s;if(b.isTouchDevice&&this.canvasClientBoundRect){s=this.canvasClientBoundRect;}else{s=this.canvas.getBoundingClientRect();}return{x:(r.clientX-s.left)*this.pixelRatio,y:(r.clientY-s.top)*this.pixelRatio};};j.prototype.mouseButtonToMouseButtonFlag=function(r){switch(r){case 1:return b.MouseButtons.Left;case 2:return b.MouseButtons.Middle;case 3:return b.MouseButtons.Right;}return 0;};j.prototype.setHiddenTextFieldText=function(r){this.hiddenTextField.setText(r);};j.prototype.selectHiddenTextfieldContent=function(){this.hiddenTextField.selectAll();};return j;})();return i;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.OverlayControlType={};b.OverlayControlMessage={};b.OverlayControlStateType={};b.overlayControls={comboBox:null,datePicker:null,exist:function(){for(var i in this){if((typeof this[i]!=="function")&&(this[i]!==null)){return true;}}return false;}};b.processOverlayControlCommand=function(i){switch(i.Param1){case b.OverlayControlMessage.Create:c(i.Data);break;case b.OverlayControlMessage.Remove:f(i.Data);break;case b.OverlayControlMessage.Focus:d(i.Data);break;case b.OverlayControlMessage.State:h(i.Data);break;default:throw new Error("processOverlayControlCommand(): Unknown overlay control command "+i.Param1);}};function c(j){var i=document.getElementById("txTemplateDesignerContainer"),m=e();switch(j.controlType){case b.OverlayControlType.ComboBox:k();break;case b.OverlayControlType.DatePicker:if(b.BrowserDetect.browser==="Explorer"){break;}l();break;default:throw new Error("createOverlayControl(): Unknown overlay control type "+j.controlType);}function k(){var p,n;n=document.createElement("select");n.classList.add("txOverlayControl");n.id=j.name;n.style.top=j.location.y+m.y+"px";n.style.left=j.location.x+m.x+"px";if(j.size){n.style.height=j.size.height+"px";n.style.width=j.size.width+"px";}n.style.fontFamily=j.fontName;n.style.fontSize=j.fontSize+"pt";n.style.fontWeight=j.bold?"700":"400";n.style.fontStyle=j.italic?"italic":"";j.items.forEach(function(v){p=document.createElement("option");p.textContent=v.Text;p.value=v.Value;n.appendChild(p);});if(j.text){p=[].find.call(n.options,function(v){return v.text==j.text;});if(!p){p=document.createElement("option");p.text=p.value=j.text;p.style.display="none";if(n.firstChild){n.insertBefore(p,n.firstChild);}else{n.appendChild(p);}}p.selected=true;}i.appendChild(n);b.textViewer.blur();b.overlayControls.comboBox=n;n.addEventListener("change",o);if(j.isEditable){n.addEventListener("mousedown",r);}n.addEventListener("mouseup",s);n.addEventListener("keydown",q);function o(w){var v={name:j.name,value:(w.target.value==="null")?null:w.target.value};b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Event,b.OverlayControlType.ComboBox,b.InputControlEventType.Change,v);}function r(v){var y=n.getBoundingClientRect();var x={x:v.clientX-y.left,y:v.clientY-y.top,isInside:function(z){return(this.x>=z.left)&&(this.x<=z.left+z.width)&&(this.y>=z.top)&&(this.y<=z.top+z.height);}};if(x.isInside(w())){t();u({x:v.clientX,y:v.clientY});}function w(){var A=j.topLeftPadding,z=j.dropDownArrowWidth;return{left:A.width,top:A.height,width:y.width-A.width-z,height:y.height-2*A.height};}}function s(v){b.sendCommand(b.Command.ComponentActivationState,b.ComponentType.TextView,b.ActivationState.Deactivated);}function q(v){switch(v.key){case"Esc":case"Escape":case"Enter":t();break;}}function t(){n.style.display="none";b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Remove,0,0,{name:j.name});b.textViewer.focus();}function u(w){var x=document.getElementById("mainCanvas").getBoundingClientRect();var v={mousePos:{X:Math.round(w.x-x.left),Y:Math.round(w.y-x.top)},modifierKeys:0,buttons:b.MouseButtons.Left};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDown,b.ComponentType.TextView,0,v);b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseUp,b.ComponentType.TextView,0,v);}}function l(){var o;o=document.createElement("input");o.type="date";o.classList.add("txOverlayControl");o.id=j.name;o.value=j.value;o.style.top=j.location.y+m.y+"px";o.style.left=j.location.x+m.x+"px";if(j.size){o.style.height=j.size.height+"px";o.style.width=j.size.width+"px";}o.style.fontFamily=j.fontName;o.style.fontSize=j.fontSize+"pt";i.appendChild(o);b.textViewer.blur();b.overlayControls.datePicker=o;o.addEventListener("change",n);o.addEventListener("keydown",p);function n(s){var r={name:j.name,value:(s.target.value==="null")?null:s.target.value};b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Event,b.OverlayControlType.DatePicker,b.InputControlEventType.Change,r);}function p(r){switch(r.key){case"Esc":case"Escape":case"Enter":q();break;}}function q(){o.style.display="none";b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Remove,0,0,{name:j.name});b.textViewer.focus();}}}function f(j){var i=document.getElementById(j.name);if(!i){console.error("removeOverlayControl(): Element with id "+j.name+" not found.");return;}i.parentNode.removeChild(i);b.textViewer.focus();switch(i.tagName){case"SELECT":b.overlayControls.comboBox=null;break;case"INPUT":b.overlayControls.datePicker=null;break;}}function d(j){var i=document.getElementById(j.name);if(!i){console.error("focusOverlayControl(): Element with id "+j.name+" not found.");return;}i.focus();}function h(j){var i=document.getElementById(j.name);if(!i){throw new Error("updateOverlayControlState(): element with id "+j.name+" not found.");}var o=j.value;switch(j.stateType){case b.OverlayControlStateType.Items:k();break;case b.OverlayControlStateType.Size:n();break;case b.OverlayControlStateType.Location:l();break;case b.OverlayControlStateType.SelectedItem:m();break;default:throw new Error("updateOverlayControlState(): Unknown control state type "+j.stateType);}function k(){var q,p;if(i.tagName!=="SELECT"){console.error("updateOverlayControlState(): Can only update the items of SELECT elements.");return;}p=[].find.call(i.options,function(r){return r.style.display==="none";});if(p){q={text:p.text,value:p.value};}i.innerHTML="";o.forEach(function(r){p=document.createElement("option");p.textContent=r.Text;p.value=r.Value;i.appendChild(p);});if(q){p=[].find.call(i.options,function(r){return r.text===q.text;});if(!p){p=document.createElement("option");p.text=q.text;p.value=q.value;if(i.firstChild){i.insertBefore(p,i.firstChild);}else{i.appendChild(p);}}p.selected=true;}}function n(){if(o){i.style.width=o.width+"px";i.style.height=o.height+"px";}else{i.style.width="";i.style.height="";}}function l(){var p=e();i.style.left=o.x+p.x+"px";i.style.top=o.y+p.y+"px";}function m(){if(o==null){var p=[].find.call(i.options,function(q){return q.style.display==="none";});if(p){i.removeChild(p);}i.selectedIndex=-1;}else{console.error("updateOverlayControlSelectedItem(): Non-null case not implemented yet.");}}}function e(){var j=document.getElementById("mainCanvas"),i=document.getElementById("txTemplateDesignerContainer"),k=j.getBoundingClientRect(),l=i.getBoundingClientRect();return{x:k.left-l.left,y:k.top-l.top};}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(t,a){"use strict";var e=t._private=t._private||{};e.ScrollbarWidth=15;e.StatusBarHeight=22;e.VertRulerWidth=25;e.HorRulerHeight=25;e.MinScrollbarHandleLength=30;e.DEFAULT_RIBBONBAR_HEIGHT=114;e.ribbonBarHeight=e.DEFAULT_RIBBONBAR_HEIGHT;e.DefRes=96;e.ScrollStep=1000;var c=false;var h=false;var b=true;var g=true;var f=true;e.ViewersInvisible=true;e.ScrollPadding=567;var d=false;e.clientSize={Width:0,Height:0};e.textViewSizeInTwips={Width:0,Height:0};e.documentSize={Width:0,Height:0};e.viewLocation={X:-e.ScrollPadding,Y:0};e.SideBarType=Object.freeze({TrackChanges:1});e.SpecialZoomFactor={PageWidth:-1,WholePage:-2,TextWidth:-3};e.zoom=100;var n;e.createTrackChangesSidebar=function(){var C,D;e.trackChangesSidebar=new e.TXSidebar(document.getElementById("trackChangesSidebar"),210);e.trackChangesSidebar.header=e.TXTextControlResources.ID_TRACKEDCHANGES_CAPTION;var B=document.querySelector("#trackChangesSidebar .refreshbtn");B.addEventListener("click",function(){e.sendCommand(e.Command.TrackedChangesViewerRefresh);});e.trackChangesSidebar.addEventListener("hidden",function(){i();e.sendCommand(e.Command.TrackChangesViewerDispose);});e.trackChangesSidebar.addEventListener("visible",function(){if(!!e.TXTextControlResources.ID_TRACKEDCHANGES_COUNT){e.trackChangesSidebar.subTitle=e.TXTextControlResources.ID_TRACKEDCHANGES_COUNT+e.trackedChangesCount;}if(!!e.TXTextControlResources.TOOLTIP_RefreshTrackedChanges){B.title=e.TXTextControlResources.TOOLTIP_RefreshTrackedChanges;}e.sendCommand(e.Command.TrackChangesViewerInitiate);i();});e.trackChangesViewer=new e.TextComponentViewer(trackChangesCanvas,e.ComponentType.TrackChangesView);e.txTrackChangesVerticalScrollbar=new e.Scrollbar(a("#txTrackChangesScrollbar"),e.trackChangesViewer,e.SliderOrientation.Vertical);e.txTrackChangesHorizontalScrollbar=new e.Scrollbar(a("#txTrackChangesHorScrollbar"),e.trackChangesViewer,e.SliderOrientation.Horizontal);i();};e.createScrollbars=function(){var B=a("#slider-horizontal");var C=a("#slider-vertical");C.on("mousedown",z);C.on("touchstart",z);B.on("mousedown",m);B.on("touchstart",m);B.slider({orientation:e.SliderOrientation.Horizontal,min:-e.ScrollPadding,max:100,value:-e.ScrollPadding,slide:function(D,E){o(E.value);},start:function(){d=true;},stop:function(){d=false;}});C.slider({orientation:e.SliderOrientation.Vertical,min:0,max:100,value:100,slide:function(D,E){var F=C.slider("option","max")-E.value;p(F);},start:function(){d=true;},stop:function(){d=false;}});a("#slider-horizontal .txui-slider-handle").unbind("keydown");a("#slider-vertical .txui-slider-handle").unbind("keydown");a("#vertical-scrollbar-wrapper").click(y);a("#horizontal-scrollbar-wrapper").click(l);a("div.scroll-button").click(q);};function o(B){e.sendCommand(e.Command.HScroll,B);}function p(B){e.sendCommand(e.Command.VScroll,B);}e.scrollDelta=function(C,B){e.sendCommand(e.Command.ScrollDelta,C.X,C.Y,B);};e.onContainerResize=function(){e.adaptViewToContainerSize();};e.documentSizeChangedHandler=function(B){var C=B.detail;e.documentSize.Width=C.Width;e.documentSize.Height=C.Height;i();};function ZoomFactorChangedEventArgs(zoomFactor){this.zoomFactor=zoomFactor;}e.txZoomedHandler=function(C){var D=C.detail;var B=new ZoomFactorChangedEventArgs(D.zoomFactor);e.fireEvent(e.EventName.zoomFactorChanged,B);if(!e.isPinchZooming){e.zoom=D.zoomFactor;}i();};function w(){if(d){return;}if(!e.documentSize.Width||!e.documentSize.Height){return;}var E={Width:e.textViewer.width,Height:e.textViewer.height};E=s(E,e.zoom);var B=e.documentSize.Width-E.Width;var F=e.documentSize.Height-E.Height;var C=(e.viewLocation.X+e.ScrollPadding)/B;var D=e.viewLocation.Y/F;if(c){a("#slider-horizontal").slider("option","value",(C*e.documentSize.Width)-e.ScrollPadding);}if(h){a("#slider-vertical").slider("option","value",(1-D)*e.documentSize.Height);}}function v(){var B=b?e.HorRulerHeight:0;var C=g?e.VertRulerWidth:0;u(C,B);x(C,B);}function u(L,F){var I=a("#slider-horizontal");var J=a("#horizontal-scrollbar-wrapper");var B={left:a("#scroll-button-left"),right:a("#scroll-button-right")};var D=a("#slider-horizontal a.txui-slider-handle");var E=J.parent();if(c){E.css("left",e.textViewer.left);E.show();J.show();B.left.show();B.right.show();var C=B.left[0].clientWidth;var H=e.textViewer.width-(2*C);var G=Math.max(e.MinScrollbarHandleLength,(e.textViewSizeInTwips.Width/e.documentSize.Width)*H);D.css({width:G,height:e.ScrollbarWidth,top:0,marginLeft:-(G/2)});I.slider("option","min",-e.ScrollPadding);I.slider("option","max",e.documentSize.Width-e.ScrollPadding);I.css({width:e.textViewer.width-G-(2*C),marginLeft:G/2});var K=e.textViewer.height+e.ribbonBarHeight+F;J.css({width:H,height:e.ScrollbarWidth,left:C,top:K});B.left.css({top:K});B.right.css({left:C+H,top:K});}else{E.hide();J.hide();B.left.hide();B.right.hide();}}function x(K,E){var I=a("#slider-vertical");var J=a("#vertical-scrollbar-wrapper");var C={up:a("#scroll-button-up"),down:a("#scroll-button-down")};var D=a("#slider-vertical a.txui-slider-handle");var H=J.parent();if(h){H.css("left",e.textViewer.left+e.textViewer.width);H.show();J.show();C.up.show();C.down.show();var B=C.up[0].clientHeight;var G=e.textViewer.height-(2*B);var F=Math.max(e.MinScrollbarHandleLength,(e.textViewSizeInTwips.Height/e.documentSize.Height)*G);D.css({width:e.ScrollbarWidth,height:F,left:0,marginBottom:-(F/2)});I.slider("option","min",0);I.slider("option","max",e.documentSize.Height);I.css({height:e.textViewer.height-F-(2*B),marginTop:F/2});J.css({height:G,width:e.ScrollbarWidth,top:e.ribbonBarHeight+B+E});C.up.css({top:e.ribbonBarHeight+E});C.down.css({top:e.ribbonBarHeight+B+G+E});}else{H.hide();}}function y(B){var D=a("#vertical-scrollbar-wrapper")[0];var E=(B.pageY-D.offsetTop)/D.clientHeight;var C=1-(a("#slider-vertical").slider("option","value")/e.documentSize.Height);if(!e.isTouchDevice){e.textViewer.focus();}if(E>C){e.sendCommand(e.Command.ComponentEvent,e.UserInputEventType.KeyDown,e.ComponentType.TextView,0,{key:e.KeyCode.PageDown});}else{e.sendCommand(e.Command.ComponentEvent,e.UserInputEventType.KeyDown,e.ComponentType.TextView,0,{key:e.KeyCode.PageUp});}}function l(B){var D=a("#horizontal-scrollbar-wrapper")[0];var E=(B.pageX-D.offsetLeft)/D.clientWidth;var C=(a("#slider-horizontal").slider("option","value")+e.ScrollPadding)/e.documentSize.Width;if(!e.isTouchDevice){e.textViewer.focus();}if(E>C){e.scrollDelta({X:e.ScrollStep,Y:0},e.ComponentType.TextView);}else{e.scrollDelta({X:-e.ScrollStep,Y:0},e.ComponentType.TextView);}}function z(B){var D=a("#slider-vertical");var C=D.find(".txui-slider-handle");if(B.target!=C[0]){B.stopImmediatePropagation();}}function m(B){var D=a("#slider-horizontal");var C=D.find(".txui-slider-handle");if(B.target!=C[0]){B.stopImmediatePropagation();}}function q(B){switch(B.currentTarget.id){case"scroll-button-up":e.scrollDelta({X:0,Y:-e.ScrollStep},e.ComponentType.TextView);break;case"scroll-button-down":e.scrollDelta({X:0,Y:e.ScrollStep},e.ComponentType.TextView);break;case"scroll-button-left":e.scrollDelta({X:-e.ScrollStep,Y:0},e.ComponentType.TextView);break;case"scroll-button-right":e.scrollDelta({X:e.ScrollStep,Y:0},e.ComponentType.TextView);break;}}e.fadeInViewers=function(){if(e.ViewersInvisible){var E=document.querySelectorAll("#txTemplateDesignerContainer canvas");for(var B=0;B<E.length;++B){E[B].style.opacity="";}var C=document.getElementById("txLoaderGif");C.style.opacity="";setTimeout(function(){var F=document.getElementById("txTemplateDesignerContainer");F.removeChild(C);},500);var D=document.querySelectorAll("#txTemplateDesignerContainer div.txScrollbarContainer");[].forEach.call(D,function(F){F.style.opacity="";});e.ViewersInvisible=false;}};e.imageReceivedHandler=function(B){var D=B.detail;switch(D.Param1){case e.ComponentType.TextView:e.textViewer.setImage(D.Data);break;case e.ComponentType.HorRuler:e.horRulerViewer.setImage(D.Data);break;case e.ComponentType.VertRuler:e.vertRulerViewer.setImage(D.Data);break;case e.ComponentType.StatusBar:e.statusBarViewer.setImage(D.Data);break;case e.ComponentType.TxDialog:var C=new CustomEvent("txDialogImageReceived",{detail:D});document.dispatchEvent(C);break;case e.ComponentType.TrackChangesView:e.trackChangesViewer.setImage(D.Data);break;}};e.imageRegionsUpdatedHandler=function(B){var D=B.detail;switch(D.Param1){case e.ComponentType.TextView:e.textViewer.requestUpdateImageRegions(D.Data.tiles);break;case e.ComponentType.HorRuler:e.horRulerViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.VertRuler:e.vertRulerViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.StatusBar:e.statusBarViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.TxDialog:var C=new CustomEvent("txDialogImageRegionsUpdated",{detail:D});document.dispatchEvent(C);break;case e.ComponentType.TrackChangesView:if(!!e.trackChangesViewer){e.trackChangesViewer.requestUpdateImageRegions(D.Data.tiles);}break;}};e.viewContentScrolledHandler=function(B){var C=B.detail;switch(C.Param1){case e.ComponentType.TextView:e.textViewer.requestScroll(C.Data.delta,C.Data.images);break;case e.ComponentType.TrackChangesView:e.trackChangesViewer.requestScroll(C.Data.delta,C.Data.images);break;}};e.textViewLocationChangedHandler=function(B){e.viewLocation=B.detail;w();};e.textViewCaretStateChangedHandler=function(B){var C=B.detail;e.textViewer.setCaretState(C.Data);};e.arrangeControls=i;function i(){var C=document.getElementById("trackChangesSidebar");var D=!!e.trackChangesSidebar&&e.trackChangesSidebar.isVisible;var E=D?C.getBoundingClientRect().width:0;var H=(g?e.VertRulerWidth:0)+(D?E:0);var I=b?e.ribbonBarHeight+e.HorRulerHeight:e.ribbonBarHeight;var G=e.clientSize.Width-H;var B=e.clientSize.Height-(f?e.StatusBarHeight:0)-I;var F=s({Width:G,Height:B});c=e.isSocketConnected()&&(e.documentSize.Width>F.Width);if(c){B-=e.ScrollbarWidth;F=s({Width:G,Height:B});}h=e.isSocketConnected()&&(e.documentSize.Height>F.Height);if(h){G-=e.ScrollbarWidth;if(!c){c=e.isSocketConnected()&&(e.documentSize.Width>F.Width);if(c){B-=e.ScrollbarWidth;F=s({Width:G,Height:B});}}}e.textViewSizeInTwips=s({Width:G,Height:B});if((e.textViewer.left!=H)||(e.textViewer.top!=I)||(e.textViewer.width!=G)||(e.textViewer.height!=B)){e.textViewer.bufferContent();e.textViewer.left=H;e.textViewer.top=I;if(e.isSocketConnected()){e.textViewer.width=G;e.textViewer.height=B;}e.textViewer.drawBufferedContent();if(b){e.horRulerViewer.bufferContent();e.horRulerViewer.top=e.ribbonBarHeight;e.horRulerViewer.left=(D?E:0);if(e.isSocketConnected()){e.horRulerViewer.width=G+(g?e.VertRulerWidth:0)+(h?e.ScrollbarWidth:0);e.horRulerViewer.height=e.HorRulerHeight;}e.horRulerViewer.drawBufferedContent();}if(g){e.vertRulerViewer.bufferContent();e.vertRulerViewer.top=I;e.vertRulerViewer.left=(D?E:0);if(e.isSocketConnected()){e.vertRulerViewer.width=e.VertRulerWidth;e.vertRulerViewer.height=B+(c?e.ScrollbarWidth:0);}e.vertRulerViewer.drawBufferedContent();}if(f){e.statusBarViewer.bufferContent();e.statusBarViewer.top=e.ribbonBarHeight+B+(b?e.HorRulerHeight:0)+(c?e.ScrollbarWidth:0);if(e.isSocketConnected()){e.statusBarViewer.width=e.clientSize.Width;e.statusBarViewer.height=e.StatusBarHeight;}e.statusBarViewer.drawBufferedContent();}}if(e.trackChangesSidebar&&e.trackChangesSidebar.isVisible){j();}e.textViewSizeInTwips=s({Width:e.textViewer.width,Height:e.textViewer.height});A();v();w();}function j(){var F=document.getElementById("trackChangesSidebar");F.style.top=e.ribbonBarHeight+"px";F.style.bottom=e.statusBarViewer.height+"px";if(e.trackChangesViewer){e.trackChangesViewer.bufferContent();var B=document.getElementById("trackChangesCanvas");var D=e.ScrollbarWidth;var I=B.parentElement;var C=window.getComputedStyle(I,null);var J=2*parseFloat(C.borderBottomWidth);var L=parseFloat(C.marginBottom);var H=window.getComputedStyle(F);var G=parseFloat(H.paddingBottom);var E=F.getBoundingClientRect().height-G-L-I.offsetTop-J-D;e.trackChangesViewer.height=E;var K=parseFloat(C.borderLeftWidth)+parseFloat(C.borderRightWidth);e.trackChangesViewer.width=I.offsetWidth-e.ScrollbarWidth-K;e.trackChangesViewer.drawBufferedContent();}r();}function r(){if(e.trackChangesViewer){var C={visible:true,location:{X:e.trackChangesViewer.left,Y:e.trackChangesViewer.top},size:{Width:e.trackChangesViewer.width,Height:e.trackChangesViewer.height}};var B={trackChangesViewerInfo:C};e.sendCommand(e.Command.WindowResized,1,0,0,B);}}function A(){var E={location:{X:e.textViewer.left,Y:e.textViewer.top-e.ribbonBarHeight},size:{Width:e.textViewer.width,Height:e.textViewer.height}};var C={visible:b,location:{X:e.horRulerViewer.left,Y:e.horRulerViewer.top-e.ribbonBarHeight},size:{Width:e.horRulerViewer.width,Height:e.horRulerViewer.height}};var G={visible:g,location:{X:e.vertRulerViewer.left,Y:e.vertRulerViewer.top-e.ribbonBarHeight},size:{Width:e.vertRulerViewer.width,Height:e.vertRulerViewer.height}};var D={visible:f,location:{X:e.statusBarViewer.left,Y:e.statusBarViewer.top-e.ribbonBarHeight},size:{Width:e.statusBarViewer.width,Height:e.statusBarViewer.height}};if(!!e.trackChangesViewer){var F={visible:true,location:{X:e.trackChangesViewer.left,Y:e.trackChangesViewer.top},size:{Width:e.trackChangesViewer.width,Height:e.trackChangesViewer.height}};}var B={textViewerInfo:E,horRulerInfo:C,vertRulerInfo:G,statusBarInfo:D,};e.sendCommand(e.Command.WindowResized,0,0,0,B);}e.showHorizontalRuler=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(b==show){return;}b=show;if(show){e.horRulerViewer.show();}else{e.horRulerViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=document.getElementById("chkRulerHor");if(B){B.checked=show;}};e.showVerticalRuler=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(g==show){return;}g=show;if(show){e.vertRulerViewer.show();}else{e.vertRulerViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=document.getElementById("chkRulerVert");if(B){B.checked=show;}};e.showStatusBar=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(f==show){return;}f=show;if(show){e.statusBarViewer.show();}else{e.statusBarViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=document.getElementById("chkStatusBar");if(B){B.checked=show;}};function k(){e.textViewer.blur();e.horRulerViewer.blur();e.vertRulerViewer.blur();e.statusBarViewer.blur();e.trackChangesViewer.blur();if(e.txDialog){e.txDialog.blur();}}e.adaptViewToContainerSize=function(){var B=document.getElementById("txTemplateDesignerContainer").parentElement;var D,C;if(B.tagName=="BODY"){D=window.innerWidth;C=window.innerHeight;}else{D=B.offsetWidth;C=B.offsetHeight;}if((e.isTouchDevice)&&((C-e.clientSize.Height)>20)){k();}e.clientSize={Width:D,Height:C};i();e.updateRibbonTabContentOffset();e.updateRibbonScrollArrows();e.updateRibbonHideButtonPos();e.adaptRibbonTabWidths();};e.showSideBar=function(sideBarType,show){if(typeof sideBarType==="undefined"){throw new Error(e.Error.TooFewParameters);}if(typeof sideBarType!=="number"){throw new Error(\'Parameter "sideBarType" must be numeric.\');}if(typeof show==="undefined"){show=true;}show=!!show;e.sendCommand(e.Command.ShowSideBar,Math.round(sideBarType),show?1:0);};e.twips2mm=function(B){return B/1440*25.4;};e.mm2twips=function(B){return B/25.4*1440;};e.twips2px=function(C,D,B){D=D||100;B=B||96;return(C*B*D/144000);};e.px2twips=function(C,D,B){D=D||100;B=B||96;return Math.round(C*144000/(B*D));};function s(C,B){return{Width:e.px2twips(C.Width,B||e.zoom,e.DefRes),Height:e.px2twips(C.Height,B||e.zoom,e.DefRes)};}e.pointPixelToTwips=function(C,B){return{X:e.px2twips(C.X,B||e.zoom,e.DefRes),Y:e.px2twips(C.Y,B||e.zoom,e.DefRes)};};return t;}(TXTextControl||{},j$1_10_2));this.__extends=this.__extends||function(c,d){for(var b in d){if(d.hasOwnProperty(b)){c[b]=d[b];}}function a(){this.constructor=c;}a.prototype=d.prototype;c.prototype=new a();};var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FieldType={MergeField:0,IfField:1,IncludeTextField:2,DateField:3,NextField:4,NextIfField:5,};b.FieldDisplayMode={ShowFieldText:0,ShowFieldCodes:1,};b.RelationalOperator=Object.freeze({Equals:0,NotEqual:1,LessThan:2,GreaterThan:3,GreaterThanOrEqualTo:4,LessThanOrEqualTo:5});b.FieldAdapter=(function(){function FieldAdapter(preserveFormatting){this.preserveFormatting=!!preserveFormatting;}return FieldAdapter;})();b.IfField=(function(d){__extends(IfField,d);function IfField(){d.call(this,true);this.expression1="";this.expression2="";this.trueText="";this.falseText="";this.operator=b.RelationalOperator.Equals;}IfField.prototype.toPascalCase=function(){return{Expression1:this.expression1,Expression2:this.expression2,TrueText:this.trueText,FalseText:this.falseText,Operator:this.operator,PreserveFormatting:this.preserveFormatting};};return IfField;})(b.FieldAdapter);b.NextIfField=(function(d){__extends(NextIfField,d);function NextIfField(){d.call(this,true);this.expression1="";this.expression2="";this.operator=b.RelationalOperator.Equals;}NextIfField.prototype.toPascalCase=function(){return{Expression1:this.expression1,Expression2:this.expression2,Operator:this.operator,PreserveFormatting:this.preserveFormatting};};return NextIfField;})(b.FieldAdapter);b.NextField=(function(d){__extends(NextField,d);function NextField(){d.call(this,true);}NextField.prototype.toPascalCase=function(){return{};};return NextField;})(b.FieldAdapter);b.DateField=(function(d){__extends(DateField,d);function DateField(format){d.call(this,true);this.format=format||"";}DateField.prototype.toPascalCase=function(){return{Format:this.format,PreserveFormatting:this.preserveFormatting};};return DateField;})(b.FieldAdapter);b.showFieldPropsDialogHandler=function(){if(b.currentFieldData){b.showFieldDialog(b.currentFieldData.fieldAdapter,b.currentFieldData.mergeFieldType);}};b.showFieldDialog=function(e,f,g){var d;switch(f){case b.FieldType.MergeField:d=new b.MergeFieldDialog(e,g);break;case b.FieldType.IfField:d=new b.IfFieldDialog(e,g);break;case b.FieldType.DateField:d=new b.DateFieldDialog(e,g);break;case b.FieldType.IncludeTextField:d=new b.IncludeTextFieldDialog(e,g);break;case b.FieldType.NextIfField:d=new b.NextIfFieldDialog(e,g);break;}if(d){d.showModal();}};b.selectMasterTable=function(d){b.sendCommand(b.Command.SelectMasterTable,0,0,0,d);};return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(l,a){var b=l._private=l._private||{};var c;b.lastMouseUpEvent=null;var f={TextSelection:1,TextInputPosition:2,Header:4,NoHeader:8,Footer:16,NoFooter:32,PageMargin:64,PageNumberField:128,SelectedFrame:256,Table:512,TextField:1024,MisspelledWord:2048};var d="txMenu_";b.initContextMenus=function(){c=a("#txContextMenu").menu().hide();c.on("menuselect",i);};function h(n){var p=[];var o=1;for(var m=0;m<32;++m){switch(n&o){case f.Footer:p.push("Footer");break;case f.Header:p.push("Header");break;case f.MisspelledWord:p.push("MisspelledWord");break;case f.NoFooter:p.push("NoFooter");break;case f.NoHeader:p.push("NoHeader");break;case f.PageMargin:p.push("PageMargin");break;case f.PageNumberField:p.push("PageNumberField");break;case f.SelectedFrame:p.push("SelectedFrame");break;case f.Table:p.push("Table");break;case f.TextField:p.push("TextField");break;case f.TextInputPosition:p.push("TextInputPosition");break;case f.TextSelection:p.push("TextSelection");break;}o<<=1;}return p;}function j(n,q){var p=d.length;for(var o=0;o<n.classList.length;++o){var m=n.classList[o];if(m.substring(0,p)===d){n.classList.remove(m);}}q.forEach(function(r){n.classList.add(d+r);});}b.contextMenuDataReceivedHandler=function(m){var r=m.detail;var q=r.menuItems;var p=h(r.location);var n=document.getElementById("txContextMenu");e(q,n);var o=a("#txContextMenu");o.menu("refresh");b.calcMenuWidths(n);j(n,p);k(b.lastMouseUpEvent);};function e(o,m){var n;var p=false;m.innerHTML="";o.forEach(function(v){if(!v.Text){p=true;return;}var s=document.createElement("li");s.dataset.itemId=v.ID;if(!v.Enabled){s.classList.add("txui-state-disabled");}m.appendChild(s);var q=document.createElement("a");if(p){q.style.borderTop="1px solid lightgray";p=false;}s.appendChild(q);var r=document.createElement("div");r.classList.add("small-menu-item-image-wrapper");if(v.ImageDataURL){n=document.createElement("img");n.src=v.ImageDataURL;r.appendChild(n);}else{if(v.Checked){n=document.createElement("img");n.src=b.imageResources.small.checkmark;r.appendChild(n);r.classList.add("ribbon-button");r.classList.add("ribbon-button-selected");}}if(n){n.style.width=n.style.height="16px";}q.appendChild(r);r=document.createElement("div");r.classList.add("small-menu-item-caption-container");q.appendChild(r);var t=document.createElement("p");t.textContent=v.Text;r.appendChild(t);if(v.Items.length){var u=document.createElement("ul");u.classList.add("dropDownMenu");u.classList.add("contextMenu");s.appendChild(u);e(v.Items,u);}});}function i(o,q){var n=q.item.context;var m=n.dataset.itemId;if(m){var p=parseInt(m,10);b.sendCommand(b.Command.ContextMenuItemClicked,p);}}b.isInsideElementWithID=function(m,n){if(!m){return false;}else{if(m.parentElement&&(m.parentElement.id===n)){return true;}else{return b.isInsideElementWithID(m.parentElement,n);}}};function g(m,n){if(!m){return null;}else{if(m.parentElement&&(m.parentElement.tagName===n)){return m.parentElement;}else{return g(m.parentElement,n);}}}b.isPartOfMenuItemWithSubMenu=function(m){var n=g(m,"LI");if(n&&n.classList.contains("txui-menu-item")){return(n.querySelectorAll("ul").length>0);}return false;};function k(m){b.fileMenu.hide();c.show().position({my:"left top",at:"left bottom",of:m,});a(document).on("click",function(n){if(!(b.isInsideElementWithID(n.target,"txContextMenu")&&b.isPartOfMenuItemWithSubMenu(n.target))){c.hide();a(document).off(n);}});}return l;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(i,a){var c=i._private=i._private||{};var d={RTF:"text/rtf",HTML:"text/html",Plain:"text/plain"};c.ClipboardDataType=Object.freeze({None:0,RTF:1,HTML:2,Plain:3,File:4,fromValue:function(j){switch(j){case this.RTF:return d.RTF;case this.HTML:return d.HTML;case this.Plain:return d.Plain;}return"";},toValue:function(j){switch(j){case d.RTF:return this.RTF;case d.HTML:return this.HTML;case d.Plain:return this.Plain;}return this.None;}});c.ClipboardMode=Object.freeze({Client:1,Server:2});c.clipboardMode=c.ClipboardMode.Server;var h={Start:0,Data:1,End:2};var b={id:"",data:"",chunksExpected:0,chunksReceived:0,isEmptySelection:false,start:function(j){this.id=j.id;this.data="";this.chunksReceived=0;this.isEmptySelection=j.isEmptySelection;},progress:function(j){this.chunksExpected=j.chunks;},reset:function(){this.id="";this.data="";this.chunksExpected=0;this.chunksReceived=0;}};function g(m,l,j){var p="";var o=false;var q=m.types;j=j||false;var k=[].some.call(q,function(r){return r==="Files";});if(m.types){if(!o&&[].some.call(q,function(r){return r===d.RTF;})){p=m.getData(d.RTF);if(p.length>0){c.pasteText(p,c.ClipboardDataType.RTF,j);o=true;}}if(!o&&[].some.call(q,function(r){return r===d.HTML;})){p=m.getData(d.HTML);if(p.length>0){c.pasteText(p,c.ClipboardDataType.HTML,j);o=true;}}if(!o&&[].some.call(q,function(r){return r===d.Plain;})){p=m.getData(d.Plain);if(p.length>0){c.pasteText(p,c.ClipboardDataType.Plain,j);o=true;}}if(l&&!o){p=m.getData("Text");if(p&&(p.length>0)){c.pasteText(p,c.ClipboardDataType.Plain,j);o=true;}}}if(!o&&m.files&&m.files.length){f(m.files[0],j);o=true;}if(!o&&m.items&&k){var n=[].find.call(m.items,function(r){return r.kind==="file";});if(n){e(n,j);o=true;}}return o;}c.handleClientPaste=function(k,j){if(typeof j=="undefined"){j=true;}if(k&&k.clipboardData){if(g(k.clipboardData,j)){k.stopPropagation();k.preventDefault();return false;}}return true;};c.handleDrop=function(j){j.stopPropagation();j.preventDefault();if(j&&j.dataTransfer){g(j.dataTransfer,true,true);}};function e(l,j){var k=l.getAsFile();f(k,j);}c.FileDroppedEventArgs=(function(){function j(fileBlob,k){this.fileName=fileBlob.name;this.fileType=fileBlob.type;this.cancel=!!k;}return j;})();function f(l,k){if(!c.txProperties.canEdit){return;}var j=new c.FileDroppedEventArgs(l,false);c.fireEvent(c.EventName.fileDropped,j);if(j.cancel){return;}var m=l.name;var o=l.type;var n=new FileReader();n.onload=function(q){var r={dataB64:q.target.result,fileName:m};var p=function(){c.sendCommand(c.Command.ClientPaste,c.ClipboardDataType.File,0,0,r);};if(c.documentDirty&&(o.substring(0,5)!=="image")){c.fileSaveQuestion(p);}else{p();}};n.readAsDataURL(l);}c.TextDroppedEventArgs=(function(){function j(cancel,text,textType){this.cancel=cancel;this.text=text;this.textType=textType;}return j;})();c.TextPastedEventArgs=(function(){function j(cancel,text,textType){this.cancel=cancel;this.text=text;this.textType=textType;}return j;})();c.pasteText=function(m,n,k){var j,l=c.ClipboardDataType.fromValue(n);if(k){j=new c.TextDroppedEventArgs(false,m,l);c.fireEvent(c.EventName.textDropped,j);}else{j=new c.TextPastedEventArgs(false,m,l);c.fireEvent(c.EventName.textPasted,j);}m=""+j.text;n=c.ClipboardDataType.toValue(j.textType);if(!j.cancel){c.sendCommand(c.Command.ClientPaste,n,0,0,m);}};c.ClipboardModeChangedEventArgs=(function(){function j(clipboardMode){this.clipboardMode=clipboardMode;}return j;})();c.setClipboardMode=function(k){c.clipboardMode=k;var j=new c.ClipboardModeChangedEventArgs(k);c.fireEvent(c.EventName.clipboardModeChanged,j);};c.ClipboardTransferStartEventArgs=(function(){function ClipboardTransferStartEventArgs(id){this.id=id;}return ClipboardTransferStartEventArgs;})();c.ClipboardTransferProgressEventArgs=(function(){function ClipboardTransferProgressEventArgs(id,progress){this.id=id;this.progress=progress;}return ClipboardTransferProgressEventArgs;})();c.ClipboardTransferCompleteEventArgs=(function(){function ClipboardTransferCompleteEventArgs(id){this.id=id;}return ClipboardTransferCompleteEventArgs;})();c.ClipboardTransferAbortedEventArgs=(function(){function ClipboardTransferAbortedEventArgs(id){this.id=id;}return ClipboardTransferAbortedEventArgs;})();c.processSelectionHTMLContentMessage=function(k){var j;k=k.Data;if(!c.textViewer){return;}if(c.overlayControls.exist()){return;}switch(k.msgType){case h.Start:if(b.id){j=new c.ClipboardTransferAbortedEventArgs(b.id);c.fireEvent(c.EventName.clipboardDataTransferAborted,j);}b.start(k);if(!k.isEmptySelection){j=new c.ClipboardTransferStartEventArgs(k.id);c.fireEvent(c.EventName.clipboardDataTransferStart,j);}break;case h.Data:if(k.id!==b.id){break;}b.data+=k.data;b.progress(k);++b.chunksReceived;if(!b.isEmptySelection){j=new c.ClipboardTransferProgressEventArgs(k.id,(k.number/k.chunks)*100);c.fireEvent(c.EventName.clipboardDataTransferProgress,j);}break;case h.End:var l=b.isEmptySelection;if((k.id!==b.id)||(b.chunksReceived!=b.chunksExpected)){break;}c.textViewer.setHiddenTextFieldText(b.data);b.reset();c.textViewer.selectHiddenTextfieldContent();if(!l){j=new c.ClipboardTransferCompleteEventArgs(k.id);c.fireEvent(c.EventName.clipboardDataTransferComplete,j);}break;}};return i;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventName={ribbonTabsLoaded:"ribbonTabsLoaded",textDropped:"textDropped",fileDropped:"fileDropped",textPasted:"textPasted",documentLoaded:"documentLoaded",webSocketClosed:"webSocketClosed",textControlLoaded:"textControlLoaded",ribbonTabIndexChanged:"ribbonTabIndexChanged",hyperlinkClicked:"hyperlinkClicked",textControlChanged:"textControlChanged",inputPositionChanged:"inputPositionChanged",clipboardDataTransferStart:"clipboardDataTransferStart",clipboardDataTransferProgress:"clipboardDataTransferProgress",clipboardDataTransferComplete:"clipboardDataTransferComplete",clipboardDataTransferAborted:"clipboardDataTransferAborted",textViewLocationChanged:"textViewLocationChanged",zoomFactorChanged:"zoomFactorChanged",clipboardModeChanged:"clipboardModeChanged",unhandledError:"unhandledError"};b.SubTextPartEventType={Entered:0,Left:1,Clicked:2,DoubleClicked:3};b.eventListeners={};c.addEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}b.eventListeners[eventName]=b.eventListeners[eventName]||[];var e=b.eventListeners[eventName];var d=e.indexOf(callback);if(d==-1){e.push(callback);}if(b.TextViewGeneratorEvents.indexOf(eventName)>=0){b.subscribeToEvent(eventName,b.EventCategory.TextViewGenerator);}};c.removeEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}if(!b.eventListeners.hasOwnProperty(eventName)){return;}var g=b.eventListeners[eventName];try{var f=g.indexOf(callback);if(f>-1){g.splice(f,1);if(g.length==0){delete b.eventListeners[eventName];}}}catch(d){}if(b.TextViewGeneratorEvents.indexOf(eventName)>=0){if(g.length==0){b.unsubscribeFromEvent(eventName,b.EventCategory.TextViewGenerator);}}};b.fireEvent=function(h,g){if(!b.eventListeners.hasOwnProperty(h)){return;}var k=b.eventListeners[h];for(var j=0;j<k.length;++j){var d=k[j];try{d(g);}catch(f){}}};return c;}(TXTextControl||{},j$1_10_2));(function(a){if(a.MutationObserver){return;}function c(d){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(d)||d;}function b(d){this._callback=d;}b.prototype={observe:function(e,d){e=c(e);if(!d.childList&&!d.attributes&&!d.characterData||d.attributeOldValue&&!d.attributes||d.attributeFilter&&d.attributeFilter.length&&!d.attributes||d.characterDataOldValue&&!d.characterData){throw new SyntaxError();}}};a.MutationObserver=b;})(this);var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.enableButton=function(e,d){if(typeof d==="undefined"){d=true;}e.disabled=!d;if(d){e.classList.remove("txui-state-disabled");}else{e.classList.add("txui-state-disabled");}};b.HTMLDialog=(function(){function d(){this.dialogData={dialogResult:false};this.resourcesReceivedHandlerBound=this.resourcesReceivedHandler.bind(this);this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);this.isDialogReady=false;this.closeRequested=false;}d.prototype.OKHandler=function(e){this.dialogData.dialogResult=true;this.close(e);};d.prototype.close=function(e){if(!this.isDialogReady){this.closeRequested=true;return;}this.closing();b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,this.dialogData);a(e).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};d.prototype.resourcesReceivedHandler=function(f){if(f.detail.dialogType==this.DialogInfo.DialogType){document.removeEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);this.dialogize(f.detail.resources);}};d.prototype.dialogize=function(f){var g=this;this.caption=f.strings[this.DialogInfo.TitleResourceName];var e=document.getElementById(this.dialogContainerID);e.innerHTML=f.html;a("#"+this.DialogInfo.ElementID).dialog({modal:true,resizable:this.DialogInfo.Resizable||false,width:this.DialogInfo.Width||"auto",height:this.DialogInfo.Height||"auto",dialogClass:this.DialogInfo.DialogClass||"",title:g.caption,buttons:this.DialogInfo.Buttons||{OK:{text:"OK",click:function(){g.OKHandler(this);},id:"btnOK_"+this.dialogContainerID},Cancel:{text:"Cancel",click:function(){g.close(this);},id:"btnCancel_"+this.dialogContainerID}},close:function(){g.close(this);},}).keypress(function(i){if(i.keyCode==a.ui.keyCode.ENTER){var h=document.getElementById("btnOK_"+g.dialogContainerID);if(!h||!h.disabled){g.OKHandler(this);}return false;}});this.applyStringResources(f.strings);this.dialogReady(this);this.isDialogReady=true;if(this.closeRequested){this.close(a("#"+this.DialogInfo.ElementID));}};d.prototype.setDefaultBtnTexts=function(j){var i;var g=document.getElementById("btnOK_"+this.dialogContainerID);if(g&&j.hasOwnProperty("BTN_OK")){i=g.querySelector("span.txui-button-text");i.textContent=j.BTN_OK;}var e=document.getElementById("btnCancel_"+this.dialogContainerID);if(e&&j.hasOwnProperty("BTN_CANCEL")){i=e.querySelector("span.txui-button-text");i.textContent=j.BTN_CANCEL;}var h=document.getElementById("btnYes_"+this.dialogContainerID);if(h&&j.hasOwnProperty("BTN_YES")){i=h.querySelector("span.txui-button-text");i.textContent=j.BTN_YES;}var f=document.getElementById("btnNo_"+this.dialogContainerID);if(f&&j.hasOwnProperty("BTN_NO")){i=f.querySelector("span.txui-button-text");i.textContent=j.BTN_NO;}};d.prototype.showModal=function(g){var e=document.getElementById("txTemplateDesignerContainer"),f=document.createElement("div");f.id=this.dialogContainerID;e.appendChild(f);if(!g){document.addEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);b.sendCommand(b.Command.GetDialogResources,this.DialogInfo.DialogType);}else{this.dialogize(g);}};d.prototype.applyStringResources=function(e){};d.prototype.dialogReady=function(e){};d.prototype.closing=function(){};return d;})();return c;}(TXTextControl||{},j$1_10_2));this.__extends=this.__extends||function(c,d){for(var b in d){if(d.hasOwnProperty(b)){c[b]=d[b];}}function a(){this.constructor=c;}a.prototype=d.prototype;c.prototype=new a();};var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HyperlinkDialog=(function(d){__extends(e,d);function e(){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.HyperlinkDialog,ElementID:"hyperlinkDialog",TitleResourceName:"HYPLNK_DIALOG_CAPTION",};}e.prototype.docTargetsReceivedHandler=function(f){var h=f.detail.targets,g=a("#selTarget");g.empty();h.forEach(function(j){var i=document.createElement("option");i.text=j.TargetName;g.append(i);});};e.prototype.txItemReceivedHandler=function(f){var h=f.detail.itemType,g=f.detail.item;if(g===null){return;}switch(h){case b.ItemType.HypertextLink:a("#txtLinkedText").val(g.Text);a("#txtLinkTarget").val(g.Target);break;case b.ItemType.DocumentLink:a("#txtLinkedText").val(g.Text);a("#txtLinkTarget").val("#"+g.TargetName);break;}};e.prototype.OKHandler=function(f){var g=a("#txtLinkedText").val(),h=a("#txtLinkTarget").val();if((g.length>0)&&(h.length>0)){b.sendCommand(b.Command.InsertItem,b.ItemType.HypertextLink,0,0,{linkedText:g,linkTarget:h});}this.close(f);};e.prototype.closing=function(f){document.removeEventListener("documentTargetsReceived",this.docTargetsReceivedHandler);document.removeEventListener("txItemReceived",this.txItemReceivedHandler);};e.prototype.dialogReady=function(){document.addEventListener("documentTargetsReceived",this.docTargetsReceivedHandler);document.addEventListener("txItemReceived",this.txItemReceivedHandler);b.sendCommand(b.Command.GetDocumentTargets);b.sendCommand(b.Command.GetItem,b.ItemType.Link);a("#selTarget").change(function(){var f=a(this).val();a("#txtLinkTarget").val("#"+f);});};e.prototype.applyStringResources=function(f){a("#HYPLNK_DIALOG_LBL_LINKED_TEXT").text(f.HYPLNK_DIALOG_LBL_LINKED_TEXT);a("#HYPLNK_DIALOG_GROUP_BOX > legend").text(f.HYPLNK_DIALOG_GROUP_BOX);a("#HYPLNK_DIALOG_LBL_LINK_TGT").text(f.HYPLNK_DIALOG_LBL_LINK_TGT);a("#HYPLNK_DIALOG_LBL_SEL_TGT").text(f.HYPLNK_DIALOG_LBL_SEL_TGT);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InputBoxDialog=(function(d){__extends(e,d);function e(g,j,i,h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InputBoxDialog};this.caption=g;this.text=j||"";this.label=i||null;this.isPasswordBox=h||false;this.callback=null;this.dialogResult=false;this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);}e.prototype.OKHandler=function(g){var h=document.getElementById("inputBoxDialog_txtInputBox");this.text=h.value;this.dialogResult=true;this.close(g);};e.prototype.close=function(h){if(this.callback){if(this.dialogResult){this.callback(this.text);}}else{var g={text:this.text,dialogResult:this.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.InputBoxDialog,0,0,g);}a(h).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};e.prototype.init=function(h){var j=document.getElementById("inputBoxDialog_txtInputBox");j.value=this.text;if(this.isPasswordBox){j.type="password";}if(this.label){var i=document.getElementById("inputBoxDialog_lblInputoxDialog");var g=document.getElementById("inputBoxDialog");i.style.display="";i.innerHTML=this.label;g.style.height=(g.clientHeight+i.clientHeight+5)+"px";}};function f(j){var h=document.getElementById("btnOK_"+j.dialogContainerID);var i=h.querySelector("span.txui-button-text");i.textContent=b.variousStringResources.BTN_OK;var g=document.getElementById("btnCancel_"+j.dialogContainerID);i=g.querySelector("span.txui-button-text");i.textContent=b.variousStringResources.BTN_CANCEL;}e.prototype.dialogize=function(h){var i=this;var g=document.getElementById(this.dialogContainerID);g.innerHTML=h.html;a("#inputBoxDialog").dialog({modal:true,resizable:false,width:"auto",height:110,title:this.caption||"Input Box",buttons:{OK:{text:"OK",click:function(){i.OKHandler(this);},id:"btnOK_"+this.dialogContainerID},Cancel:{text:"Cancel",click:function(){i.close(this);},id:"btnCancel_"+this.dialogContainerID}},close:function(){i.close(this);},open:function(){i.init(this);},}).keypress(function(j){if(j.keyCode==a.ui.keyCode.ENTER){i.OKHandler(this);return false;}});f(this);this.isDialogReady=true;};e.prototype.showModal_base=e.prototype.showModal;e.prototype.showModal=function(g){this.callback=g;this.showModal_base();};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadDictionaryDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.LoadDictionaryDialog,ElementID:"loadDictionaryDialog",TitleResourceName:"LOAD_DICT_DIALOG_TITLE"};this.availableDicts=h.AvailableDicts;this.loadedDicts=h.LoadedDicts;}function f(n){var m=[];var j=document.querySelectorAll("#loadDictionaryDialog input[type=checkbox]");for(var l=0;l<j.length;++l){var h=j[l];if(!h.disabled&&h.checked){var k=h.dataset.dictName;m.push(k);}}return m;}g.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.selected=f(this);}};function e(h,q){var m=document.getElementById("dictNameCheckBoxContanier");m.innerHTML="";for(var p=0;p<h.length;++p){var l=h[p];var k="chkDictName"+p;var n=document.createElement("input");n.id=k;n.setAttribute("type","checkbox");n.dataset.dictName=l;n.title=l;n.style.cssFloat="left";n.style.clear="left";var j=q.some(function(i){return(l===i);});if(j){n.checked=true;n.disabled=true;}m.appendChild(n);var o=document.createElement("label");o.setAttribute("for",k);o.textContent=l;o.title=l;o.style.cssFloat="left";m.appendChild(o);}}g.prototype.dialogReady=function(h){e(h.availableDicts,h.loadedDicts);};g.prototype.applyStringResources=function(h){this.setDefaultBtnTexts(h);};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadThesaurusDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.LoadThesaurusDialog,ElementID:"loadThesaurusDialog",TitleResourceName:"LOAD_THESAURUS_DIALOG_TITLE"};this.availableThesauri=h.availableThesauri;this.loadedThesauri=h.loadedThesauri;}function f(m){var l=[];var j=document.querySelectorAll("#loadThesaurusDialog input[type=checkbox]");for(var k=0;k<j.length;++k){var h=j[k];if(!h.disabled&&h.checked){var n=h.dataset.thesaurusName;l.push(n);}}return l;}g.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.selected=f(this);}};function e(h,o){var q=document.getElementById("thesaurusNameCheckBoxContanier");q.innerHTML="";for(var n=0;n<h.length;++n){var p=h[n];var k="chkThesaurusName"+n;var l=document.createElement("input");l.id=k;l.setAttribute("type","checkbox");l.dataset.thesaurusName=p;l.title=p;l.style.cssFloat="left";l.style.clear="left";var j=o.some(function(i){return(p===i);});if(j){l.checked=true;l.disabled=true;}q.appendChild(l);var m=document.createElement("label");m.setAttribute("for",k);m.textContent=p;m.title=p;m.style.cssFloat="left";q.appendChild(m);}}g.prototype.dialogReady=function(h){e(h.availableThesauri,h.loadedThesauri);};g.prototype.applyStringResources=function(h){this.setDefaultBtnTexts(h);};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TXStreamType=Object.freeze({HTMLFormat:4,RichTextFormat:8,PlainText:16,InternalUnicodeFormat:32,MSWord:64,AdobePDF:512,WordprocessingML:1024,SpreadsheetML:4096});var d={BMP:1,PNG:2,GIF:3,JPG:4,WMF:5,EMF:6,TIF:7};b.DataBaseType=Object.freeze({XML:1,JSON:2});b.OpenFileDialog=(function(e){__extends(q,e);function q(u,v){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.OpenFileDialog,ElementID:"openFileDialog",TitleResourceName:"OPEN_FILE_DIALOG_TITLE"};this.command=u||b.Command.OpenFile;this.fileType=v||b.FileType.Document;this.subFileType=-1;this.imageDataURLs={dir:"",file:""};this.altTexts={fileName:"",dirName:""};this.dirNames=[];this.fileNames=[];this.fileFilters=[];this.fileFilterAll="";this.fileListReceivedHandlerBound=this.fileListReceivedHandler.bind(this);this.fileTypeChangeHandlerBound=this.fileTypeChangeHandler.bind(this);this.fileNameChangeHandlerBound=this.fileNameChangeHandler.bind(this);}q.prototype.closing=function(){var w=this;document.removeEventListener("fileListReceived",this.fileListReceivedHandlerBound);if(this.dialogData.dialogResult){var x=document.getElementById("txOFDTxtFileName");var v=x.value;if(v&&(v!=="")){b.sendCommand(this.command,this.fileType,u(),0,v);}}function u(){return(w.fileType==b.FileType.DataBase)?w.subFileType:0;}};function i(u){while(u&&u.tagName!=="TR"){u=u.parentElement;}return u;}function p(v,u){v.dialogData.dialogResult=true;v.close(a("#"+v.DialogInfo.ElementID));}function o(u){var v=document.getElementById("txOFDTxtFileName");v.value="";b.sendCommand(b.Command.OpenDirectory,0,0,0,u);}function k(u){switch(u){case d.BMP:return["bmp"];case d.EMF:return["emf"];case d.GIF:return["gif"];case d.JPG:return["jpg","jpeg"];case d.PNG:return["png"];case d.TIF:return["tif"];case d.WMF:return["wmf"];}return[];}function f(u){switch(u){case b.DataBaseType.XML:return["xml"];case b.DataBaseType.JSON:return["json"];}return[];}function t(u){switch(u){case b.TXStreamType.MSWord:return["doc"];case b.TXStreamType.WordprocessingML:return["docx"];case b.TXStreamType.SpreadsheetML:return["xlsx"];case b.TXStreamType.HTMLFormat:return["htm","html"];case b.TXStreamType.AdobePDF:return["pdf"];case b.TXStreamType.RichTextFormat:return["rtf"];case b.TXStreamType.InternalUnicodeFormat:return["tx"];case b.TXStreamType.PlainText:return["txt"];}return[];}function g(v,u){if(!v||!v.length){return u;}var w=[];u.forEach(function(y){var x=y.split(".").pop().toLowerCase();if(v.some(function(z){return z===x;})){w.push(y);}});return w;}function h(u,v){if(v==0){return[];}switch(u){case b.FileType.Document:return t(v);case b.FileType.Image:return k(v);case b.FileType.DataBase:return f(v);}}function l(u){if(!u){return false;}return u.classList.contains("txOFDItemTypeDir");}function n(u){if(!u){return false;}return u.classList.contains("txOFDItemTypeFile");}function s(y){var z=document.getElementById("txOFDTblFilesAndFolders");var C=document.getElementById("txOFDSelFileType");for(var x=z.children.length-1;x>=0;--x){var u=z.children[x];if(u.tagName==="TR"){z.removeChild(u);}}y.subFileType=parseInt(C.value,10);var w=h(y.fileType,y.subFileType);var v=g(w,y.fileNames);y.dirNames.forEach(function(D){var H=document.createElement("TR");var F=document.createElement("TD");var G=document.createElement("TD");var E=document.createElement("IMG");H.classList.add("txOFDItemTypeDir");E.alt=y.altTexts.dirName;E.src=y.imageDataURLs.dir;G.textContent=D;F.appendChild(E);H.appendChild(F);H.appendChild(G);z.appendChild(H);});v.forEach(function(H){var G=document.createElement("TR");var E=document.createElement("TD");var F=document.createElement("TD");var D=document.createElement("IMG");G.classList.add("txOFDItemTypeFile");D.alt=y.altTexts.fileName;D.src=y.imageDataURLs.file;F.textContent=H;E.appendChild(D);G.appendChild(E);G.appendChild(F);z.appendChild(G);});function A(E){var D=document.getElementById("btnOK_"+y.dialogContainerID);var G=i(E.target);if(G){a("#txOFDTblFilesAndFolders tr.selected").removeClass("selected");G.classList.add("selected");var H=document.getElementById("txOFDTxtFileName");var F=G.children[1];if(n(G)){b.enableButton(D,true);H.value=F.textContent;}else{if(l(G)){b.enableButton(D,true);H.value="";}}}}function B(E){var D=document.getElementById("btnOK_"+y.dialogContainerID);var G=i(E.target);if(G){var F=G.children[1];if(l(G)){b.enableButton(D,false);o(F.textContent);}else{if(n(G)){p(y,F.textContent);}}}}a("#txOFDTblFilesAndFolders tr").click(A);a("#txOFDTblFilesAndFolders tr").dblclick(B);}function r(x){var y=document.getElementById("txOFDSelFileType");var u=document.createElement("OPTION");u.value="0";u.textContent=x.fileFilterAll;u.selected=true;y.appendChild(u);for(var w=0;w<x.fileFilters.length;++w){var v=x.fileFilters[w];u=document.createElement("OPTION");u.value=v.FileType;u.textContent=v.Text;y.appendChild(u);}}q.prototype.fileTypeChangeHandler=function(v){var u=document.getElementById("btnOK_"+this.dialogContainerID);var w=document.getElementById("txOFDTxtFileName");b.enableButton(u,false);w.value="";s(this);};function j(){return document.querySelector("#txOFDTblFilesAndFolders tr.selected");}function m(){var u=j();return(u&&l(u));}q.prototype.fileNameChangeHandler=function(v){a("#txOFDTblFilesAndFolders tr.selected").removeClass("selected");var u=document.getElementById("btnOK_"+this.dialogContainerID);var w=document.getElementById("txOFDTxtFileName");if(w.value.length||m()){b.enableButton(u,true);}else{b.enableButton(u,false);}};q.prototype.fileListReceivedHandler=function(u){this.fileNames=u.detail.fileNames;this.dirNames=u.detail.dirNames;s(this);};q.prototype.OKHandler=function(v){if(m()){var w=document.querySelector("#txOFDTblFilesAndFolders tr.selected").children[1];var u=document.getElementById("btnOK_"+this.dialogContainerID);b.enableButton(u,false);o(w.textContent);}else{this.dialogData.dialogResult=true;this.close(v);}};q.prototype.dialogReady=function(v){document.addEventListener("fileListReceived",this.fileListReceivedHandlerBound);b.sendCommand(b.Command.GetFileList,this.fileType);var x=document.getElementById("txOFDTxtFileName");x.value="";var u=document.getElementById("btnOK_"+this.dialogContainerID);b.enableButton(u,false);var w=document.getElementById("txOFDSelFileType");w.addEventListener("change",this.fileTypeChangeHandlerBound);x.addEventListener("change",this.fileNameChangeHandlerBound);x.addEventListener("input",this.fileNameChangeHandlerBound);};q.prototype.applyStringResources=function(u){a("#OPEN_FILE_DIALOG_LBL_FILENAME").text(u.OPEN_FILE_DIALOG_LBL_FILENAME);a("#OPEN_FILE_DIALOG_LBL_FILETYPE").text(u.OPEN_FILE_DIALOG_LBL_FILETYPE);this.imageDataURLs.dir=u.ImageDataURLs.Dir;this.altTexts.fileName=u.OPEN_FILE_DIALOG_ALT_TXT_FILE_NAME;this.altTexts.dirName=u.OPEN_FILE_DIALOG_ALT_TXT_DIR_NAME;this.setDefaultBtnTexts(u);this.fileFilterAll=u.FileTypes.All;switch(this.fileType){case b.FileType.Document:this.fileFilters=u.FileTypes.Document;this.imageDataURLs.file=u.ImageDataURLs.Document;break;case b.FileType.Image:this.fileFilters=u.FileTypes.Image;this.imageDataURLs.file=u.ImageDataURLs.Image;break;case b.FileType.DataBase:this.fileFilters=u.FileTypes.DataBase;this.imageDataURLs.file=u.ImageDataURLs.DataBase;break;}r(this);};return q;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.WaitDialog=(function(d){__extends(e,d);function e(){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.WaitDialog,ElementID:"waitDialog",Width:"auto",Height:100,TitleResourceName:"WAIT_DLG_TITLE",DialogClass:"no-close",Buttons:{},};}e.prototype.applyStringResources=function(f){a("#WAIT_DLG_LABEL_MESSAGE").text(f.WAIT_DLG_LABEL_MESSAGE);};e.prototype.dialogReady=function(){var g=a("#waitDialog"),h=g.css("margin-left"),f={width:g.css("border-left-width"),color:g.css("border-left-color"),style:g.css("border-left-style")};g.css("border-bottom-width",f.width);g.css("border-bottom-color",f.color);g.css("border-bottom-style",f.style);g.css("margin-bottom",h);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{},g={None:0,CreateFile:8192,OverwriteFile:16384,Inline:32768},c={AllowAuthoring:1,AllowAuthoringFields:2,AllowContentAccessibility:4,AllowDocumentAssembly:8,AllowExtractContents:16,AllowGeneralEditing:32,AllowHighLevelPrinting:64,AllowLowLevelPrinting:128,AllowAll:255,},e={Disabled:-1,All:0,OnlyCorrect:1},d={Disabled:-1,All:0,OnlyAtBegin:1,OnlyWhenBeginIsUpper:2};b.OptionsDialog=(function(h){__extends(k,h);function k(o){h.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.OptionsDialog,ElementID:"optionsDialog",Width:540,Height:350,TitleResourceName:"OPTIONS_DIALOG_TITLE"};this.options=o;this.errorMessages={permPwdEmpty:"",samePwd:"",docPwdEmpty:""};}b.arrayBufferToB64=function(p){var o=[],q=new Uint8Array(p),t=q.byteLength;for(var r=0;r<t;r++){o.push(String.fromCharCode(q[r]));}var s=o.join("");return window.btoa(s);};k.prototype.OKHandler=function(p){var o=document.getElementById("chkUserPassword"),q=document.getElementById("txtUserPassword");if(o.checked&&(q.value.length==0)){b.jQueryAlert(this.caption,this.errorMessages.docPwdEmpty);return;}this.dialogData.dialogResult=true;this.close(p);};function j(){var r=document.getElementById("chkIgnoreUpper"),v=document.getElementById("selIgnoreUpper"),p=document.getElementById("chkIgnoreCntNums"),t=document.getElementById("chkIgnoreURLs"),q=document.getElementById("chkIgnoreEmails"),o=document.getElementById("chkFlagRepeatedWords"),s=document.getElementById("chkIgnoreUpperAndLower"),w=document.getElementById("selIgnoreUpperLower");var u={ignoreUpperCaseWords:e.All,ignoreContNums:true,ignoreURLs:true,ignoreEmails:true,flagRepeated:true,ignoreAll:d.OnlyWhenBeginIsUpper};if(!r.checked){u.ignoreUpperCaseWords=e.Disabled;}else{u.ignoreUpperCaseWords=v.selectedIndex;}u.ignoreContNums=p.checked;u.ignoreURLs=t.checked;u.ignoreEmails=q.checked;u.flagRepeated=o.checked;if(!s.checked){u.ignoreAll=d.Disabled;}else{u.ignoreAll=w.selectedIndex;}return u;}k.prototype.close=function(p){var o={dialogResult:this.dialogData.dialogResult};if(this.dialogData.dialogResult){o.cssSaveMode=i();o.reqPDFDocPwd=document.getElementById("chkUserPassword").checked;o.pdfDocPwd=document.getElementById("txtUserPassword").value;o.pdfa=document.getElementById("chkEnPDFAExp").checked;o.hyphEnabled=document.getElementById("chkEnableHyphenation").checked;o.langDetectEnabled=document.getElementById("chkEnableLangDetect").checked;o.spellCheckEnabled=document.getElementById("chkEnableSpellCheck").checked;o.pfxFilePassword=document.getElementById("txtPDFCertPwd").value;if(this.options.IsTXSpellAssemblyPresent){o.spellChecking=j();}var r=document.getElementById("txtPDFCertFile"),q=r.files;if(q.length){var t=this,s=new FileReader();s.onloadend=function(){var u=b.arrayBufferToB64(s.result);o.pfxFile=u;b.sendCommand(b.Command.DialogResult,t.DialogInfo.DialogType,0,0,o);};s.readAsArrayBuffer(q[0]);}else{b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,o);}}else{b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,o);}a(p).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};function i(){if(document.getElementById("rbCSSOptsNoStSh").checked){return g.None;}else{if(document.getElementById("rbCSSOptsInlStSh").checked){return g.Inline;}}}function l(o){switch(o.CssSaveMode){case g.None:document.getElementById("rbCSSOptsNoStSh").checked=true;break;case g.Inline:document.getElementById("rbCSSOptsInlStSh").checked=true;break;}}function m(w){var r=document.getElementById("chkIgnoreUpper"),u=document.getElementById("selIgnoreUpper"),p=document.getElementById("chkIgnoreCntNums"),t=document.getElementById("chkIgnoreURLs"),q=document.getElementById("chkIgnoreEmails"),o=document.getElementById("chkFlagRepeatedWords"),s=document.getElementById("chkIgnoreUpperAndLower"),v=document.getElementById("selIgnoreUpperLower");r.checked=true;switch(w.IgnoreUpperCaseWords){case e.Disabled:r.checked=false;u.disabled=true;break;default:u.selectedIndex=w.IgnoreUpperCaseWords;break;}p.checked=w.IgnoreContainingNumbers;t.checked=w.IgnoreURLs;q.checked=w.IgnoreEmailAddresses;o.checked=w.FlagRepeatedWords;s.checked=true;switch(w.IgnoreAll){case d.Disabled:s.checked=false;v.disabled=true;break;default:v.selectedIndex=w.IgnoreAll;break;}}function n(t){var u=document.getElementById("txtPDFCertPwd"),s=document.getElementById("chkUserPassword"),v=document.getElementById("txtUserPassword"),r=document.getElementById("chkEnPDFAExp"),o=document.getElementById("chkEnableHyphenation"),p=document.getElementById("chkEnableLangDetect"),q=document.getElementById("chkEnableSpellCheck");l(t);u.value=t.PDFCertFilePwd;s.checked=t.RequireUserPwd;v.disabled=!t.RequireUserPwd;v.value=t.PDFUserPwd;r.checked=t.PDFA;if(t.IsTXSpellAssemblyPresent){o.checked=t.IsHyphenationEnabled;p.checked=t.IsLanguageDetectionEnabled;q.checked=t.IsSpellCheckingEnabled;if(t.IsSpellCheckingEnabled){m(t.SpellCheckSettings);}else{a("#optionsDialogTabs").tabs("option","disabled",[4]);}}else{a("#optionsDialogTabs").tabs("option","disabled",[3,4]);}}k.prototype.dialogReady=function(u){a("#optionsDialogTabs").tabs();n(u.options);function s(v){var w=document.getElementById("txtUserPassword");w.disabled=!this.checked;}var t=document.getElementById("chkUserPassword");t.addEventListener("click",s);function r(v){var w=document.getElementById("selIgnoreUpper");w.disabled=!this.checked;}var o=document.getElementById("chkIgnoreUpper");o.addEventListener("click",r);function q(v){var w=document.getElementById("selIgnoreUpperLower");w.disabled=!this.checked;}var p=document.getElementById("chkIgnoreUpperAndLower");p.addEventListener("click",q);};k.prototype.applyStringResources=function(o){a("#OPTIONS_DIALOG_TAB_HTML").text(o.OPTIONS_DIALOG_TAB_HTML);a("#OPTIONS_DIALOG_TAB_PDF_SEC").text(o.OPTIONS_DIALOG_TAB_PDF_SEC);a("#OPTIONS_DIALOG_TAB_PDF_EXP").text(o.OPTIONS_DIALOG_TAB_PDF_EXP);a("#OPTIONS_DIALOG_GRP_STYLESH_SAV_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_STYLESH_SAV_OPTS);a("#OPTIONS_DIALOG_LBL_CSS_OPTS_NO_STSH").text(o.OPTIONS_DIALOG_LBL_CSS_OPTS_NO_STSH);a("#OPTIONS_DIALOG_LBL_CSS_OPTS_INL_STSH").text(o.OPTIONS_DIALOG_LBL_CSS_OPTS_INL_STSH);a("#OPTIONS_DIALOG_GRP_PDF_DIG_SIG > legend").text(o.OPTIONS_DIALOG_GRP_PDF_DIG_SIG);a("#OPTIONS_DIALOG_GRP_PDF_PWD > legend").text(o.OPTIONS_DIALOG_GRP_PDF_PWD);a("#OPTIONS_DIALOG_LBL_PDF_CERT_FILE").text(o.OPTIONS_DIALOG_LBL_PDF_CERT_FILE);a("#OPTIONS_DIALOG_LBL_PDF_CERT_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_CERT_PWD);a("#OPTIONS_DIALOG_LBL_PDF_REQ_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_REQ_PWD);a("#OPTIONS_DIALOG_LBL_PDF_DOC_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_DOC_PWD);a("#OPTIONS_DIALOG_GRP_PDF_EXP_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_PDF_EXP_OPTS);a("#OPTIONS_DIALOG_CHK_EN_PDFA").text(o.OPTIONS_DIALOG_CHK_EN_PDFA);a("#OPTIONS_DIALOG_TAB_PROOFING").text(o.OPTIONS_DIALOG_TAB_PROOFING);a("#OPTIONS_DIALOG_GRP_PROOF_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_PROOF_OPTS);a("#OPTIONS_DIALOG_LBL_PROOF_SPELL_CHECK").text(o.OPTIONS_DIALOG_LBL_PROOF_SPELL_CHECK);a("#OPTIONS_DIALOG_LBL_PROOF_HYPHEN").text(o.OPTIONS_DIALOG_LBL_PROOF_HYPHEN);a("#OPTIONS_DIALOG_LBL_PROOF_LANGDETECT").text(o.OPTIONS_DIALOG_LBL_PROOF_LANGDETECT);a("#OPTIONS_DIALOG_TAB_SPELL_CHECK").text(o.OPTIONS_DIALOG_TAB_SPELL_CHECK);this.setDefaultBtnTexts(o);if(o.TXSpell){a("#LBL_IGNORE_UPPERCASE").text(o.TXSpell.LBL_IGNORE_UPPERCASE);a("#ITM_UPPERCASE_ALL").text(o.TXSpell.ITM_UPPERCASE_ALL);a("#ITM_UPPERCASE_ONLY_CORRECT").text(o.TXSpell.ITM_UPPERCASE_ONLY_CORRECT);a("#LBL_IGNORE_WORD_WITH_NUMBERS").text(o.TXSpell.LBL_IGNORE_WORD_WITH_NUMBERS);a("#LBL_IGNORE_INTERNET_ADDRESSES").text(o.TXSpell.LBL_IGNORE_INTERNET_ADDRESSES);a("#LBL_IGNORE_EMAIL_ADDRESSES").text(o.TXSpell.LBL_IGNORE_EMAIL_ADDRESSES);a("#LBL_FLAG_REPEATED_WORDS").text(o.TXSpell.LBL_FLAG_REPEATED_WORDS);a("#LBL_IGNORE_CASE").text(o.TXSpell.LBL_IGNORE_CASE);a("#ITM_CASE_ALL").text(o.TXSpell.ITM_CASE_ALL);a("#ITM_CASE_WORD_BEGIN_ALWAYS").text(o.TXSpell.ITM_CASE_WORD_BEGIN_ALWAYS);a("#ITM_CASE_WORD_BEGIN_IS_UPPER").text(o.TXSpell.ITM_CASE_WORD_BEGIN_IS_UPPER);}this.errorMessages.docPwdEmpty=o.OPTIONS_DIALOG_DOC_PWD_EMPTY_ERROR;this.errorMessages.permPwdEmpty=o.OPTIONS_DIALOG_PERM_PWD_EMPTY_ERROR;this.errorMessages.samePwd=o.OPTIONS_DIALOG_SAME_PWD_ERROR;};return k;})(b.HTMLDialog);return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SaveDocumentAsDialog=(function(d){__extends(f,d);function f(g,h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SaveDocumentAsDialog,ElementID:"saveDocumentAsDialog",Width:280,TitleResourceName:"SAVEDOCAS_DIALOG_TITLE"};this.fileName=g;this.streamType=h;this.errorMessages={fileNameEmpty:""};}f.prototype.OKHandler=function(g){var h=document.getElementById("txtSaveDocAsFilename").value;if(a.trim(h)==""){b.jQueryAlert(this.caption,this.errorMessages.fileNameEmpty);return;}this.dialogData.dialogResult=true;this.close(g);};function e(){var g=document.getElementById("selSaveAsDocType");var h=g.options[g.selectedIndex].value;return parseInt(h,10);}f.prototype.closing=function(g){if(this.dialogData.dialogResult){this.dialogData.fileName=document.getElementById("txtSaveDocAsFilename").value;this.dialogData.streamType=e();}};f.prototype.dialogReady=function(g){var h=document.getElementById("txtSaveDocAsFilename");h.value=g.fileName;a("#selSaveAsDocType").val(""+g.streamType);};f.prototype.applyStringResources=function(g){a("#SAVEDOCAS_DIALOG_LBL_FILENAME").text(g.SAVEDOCAS_DIALOG_LBL_FILENAME);a("#SAVEDOCAS_DIALOG_LBL_DOC_TYPE").text(g.SAVEDOCAS_DIALOG_LBL_DOC_TYPE);this.errorMessages.fileNameEmpty=g.SAVEDOCAS_DIALOG_FILE_NAME_EMPTY_ERROR;this.setDefaultBtnTexts(g);};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FontStyle=Object.freeze({Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8});b.FontDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.FontDialog,ElementID:"txFontDialog",TitleResourceName:"FONT_DLG_TITLE",};this.state=f;}e.prototype.OKHandler=function(f){this.dialogData.dialogResult=true;this.close(f);};e.prototype.close=function(g){var f={state:{fontName:this.state.fontName,fontSize:this.state.fontSize,fontStyle:this.state.fontStyle},dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.FontDialog,0,0,f);a(g).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};e.prototype.dialogReady=function(){var s=this,q,l;var t=document.getElementById("selTxFntDlgNames");this.state.fontNames.forEach(f);var y=this.state.fontSizes;if(y.indexOf(this.state.fontSize)===-1){y.push(this.state.fontSize);y.sort(function(z,A){return z-A;});}var v=document.getElementById("selTxFntDlgSizes");y.forEach(g);var p=document.getElementById("FONT_DLG_STYLE_REGULAR");p.value=b.FontStyle.Regular;var o=document.getElementById("FONT_DLG_STYLE_ITALIC");o.value=b.FontStyle.Italic;var m=document.getElementById("FONT_DLG_STYLE_BOLD");m.value=b.FontStyle.Bold;var n=document.getElementById("FONT_DLG_STYLE_BOLD_ITALIC");n.value=(b.FontStyle.Bold|b.FontStyle.Italic);r(this.state.fontStyle);var h=document.getElementById("chkTxFntDlgStrikeThrough");var j=document.getElementById("chkTxFntDlgUnderline");h.checked=!!(this.state.fontStyle&b.FontStyle.Strikeout);j.checked=!!(this.state.fontStyle&b.FontStyle.Underline);t.addEventListener("change",u);v.addEventListener("change",w);document.getElementById("selTxFntDlgStyles").addEventListener("change",x);h.addEventListener("change",i);j.addEventListener("change",k);function f(z){l=document.createElement("option");t.appendChild(l);l.value=l.text=z;if(z===s.state.fontName){l.selected=true;}}function g(z){l=document.createElement("option");v.appendChild(l);l.value=l.text=z;if(z===s.state.fontSize){l.selected=true;}}function r(z){switch(z&3){case b.FontStyle.Italic:o.selected=true;break;case b.FontStyle.Bold:m.selected=true;break;case (b.FontStyle.Italic|b.FontStyle.Bold):n.selected=true;break;case b.FontStyle.Regular:default:p.selected=true;break;}}function u(z){s.state.fontName=t.value;}function w(z){s.state.fontSize=parseInt(v.value,10);}function x(z){var A=z.target;s.state.fontStyle&=~3;s.state.fontStyle|=parseInt(A.value,10);}function i(z){if(h.checked){s.state.fontStyle|=b.FontStyle.Strikeout;}else{s.state.fontStyle&=~b.FontStyle.Strikeout;}}function k(z){if(j.checked){s.state.fontStyle|=b.FontStyle.Underline;}else{s.state.fontStyle&=~b.FontStyle.Underline;}}};e.prototype.applyStringResources=function(f){a("#FONT_DLG_LBL_FONT").text(f.FONT_DLG_LBL_FONT);a("#FONT_DLG_LBL_SIZE").text(f.FONT_DLG_LBL_SIZE);a("#FONT_DLG_LBL_STYLE").text(f.FONT_DLG_LBL_STYLE);a("#FONT_DLG_GRP_EFFECTS > legend").text(f.FONT_DLG_GRP_EFFECTS);a("#FONT_DLG_STRIKEOUT").text(f.FONT_DLG_STRIKEOUT);a("#FONT_DLG_STYLE_BOLD").text(f.FONT_DLG_STYLE_BOLD);a("#FONT_DLG_STYLE_ITALIC").text(f.FONT_DLG_STYLE_ITALIC);a("#FONT_DLG_STYLE_BOLD_ITALIC").text(f.FONT_DLG_STYLE_BOLD_ITALIC);a("#FONT_DLG_STYLE_REGULAR").text(f.FONT_DLG_STYLE_REGULAR);a("#FONT_DLG_UNDERLINE").text(f.FONT_DLG_UNDERLINE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c="http://www.w3.org/2000/svg";b.ThesaurusDialogCommand={};b.ThesaurusDialog=(function(e){__extends(o,e);function o(p){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ThesaurusDialog,ElementID:"thesaurusDialog",TitleResourceName:"THESAURUS_DLG_TITLE"};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.state=p;this.noAltText="";this.lastSelectedSynonym=null;}o.prototype.applyDialogState=function(L){var y,G,I,J,N,D,B,E,C,A,x,z,H;var v=document.getElementById("thesaurusDialog_cbLanguage");var Q=document.getElementById("thesaurusDialog_txtFindSynonymsFor");var r=document.getElementById("thesaurusDialog_btnBack");var P=document.getElementById("thesaurusDialog_tvSynonyms");var u=document.querySelector("#btnOK_"+this.dialogContainerID+" span.txui-button-text");var t=document.getElementById("btnOK_"+this.dialogContainerID);if(L.languages){L.languages.forEach(q);}if(L.findSynonymsFor){Q.value=L.findSynonymsFor;}if(L.backButton){r.disabled=!L.backButton.Enabled;}if(L.insertButton){R(L.insertButton);}if(L.synonyms){S(L.synonyms);}if(L.selectedLanguage){K(L.selectedLanguage);}function q(s){y=document.createElement("option");v.appendChild(y);y.value=y.text=s.text;}function R(s){if(s.Text){u.textContent=s.Text;}F(s.Enabled);}function F(s){t.disabled=!s;if(s){t.classList.remove("txui-state-disabled");}else{t.classList.add("txui-state-disabled");}}function K(s){v.value=s;}function S(T){var s=(document.activeElement==P);self.lastSelectedSynonym=null;P.innerHTML="";if(T.length==0){D=document.createElement("tr");P.appendChild(D);B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.classList.add("noAltText");z.textContent=self.noAltText;F(false);return;}for(G=0;G<T.length;++G){J=T[G];N=""+(G+1)+". "+J.text;D=document.createElement("tr");D.dataset.collapsed="false";H=J.items[0];D.dataset.word=H.word;D.dataset.text=H.text;P.appendChild(D);D.classList.add("treeNode");D.addEventListener("dblclick",function(U){O(U.currentTarget);});D.addEventListener("click",function(U){m();U.currentTarget.classList.add("selected");});B=document.createElement("td");D.appendChild(B);B.appendChild(i());B.addEventListener("click",w);B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.textContent=N;E=document.createElement("tr");P.appendChild(E);E.classList.add("treeNodeItemContainer");C=document.createElement("td");E.appendChild(C);C.colSpan=2;x=document.createElement("div");C.appendChild(x);x.classList.add("thesaurusDialog_itemsWrapper");A=document.createElement("table");x.appendChild(A);A.classList.add("thesaurusDialog_tblItems");A.classList.add("unselectable");p(A,J.items,T.length);x.style.height=x.clientHeight+"px";x.dataset.height=x.clientHeight;}F(true);if(s){P.blur();P.focus();}}function M(s){var T=s.currentTarget;b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.SelectedNodeChanged,0,0,{word:T.dataset.word,text:T.dataset.text});}function p(s,T,U){for(I=0;I<T.length;++I){H=T[I];D=document.createElement("tr");s.appendChild(D);D.classList.add("treeNodeItem");D.dataset.word=H.word;D.dataset.text=H.text;D.addEventListener("dblclick",M);D.addEventListener("click",function(V){m();V.currentTarget.classList.add("selected");});B=document.createElement("td");D.appendChild(B);if(G<(U-1)){B.appendChild(l());}else{B.appendChild(g());}B=document.createElement("td");D.appendChild(B);if(I<(T.length-1)){B.appendChild(k());}else{B.appendChild(h());}B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.textContent=H.text;}}function O(s){if(s.dataset.collapsed==="true"){n(s);}else{f(s);}}function w(s){var T=s.currentTarget.parentElement;O(T);}};function f(s){if(!s.classList.contains("treeNode")){throw new Error("Only tree nodes can be collapsed.");}var q=s.cells[0];var t=s.nextSibling;var r=t.cells[0];var p=r.children[0];p.style.height="0px";s.dataset.collapsed="true";q.innerHTML="";q.appendChild(j());}function n(s){if(!s.classList.contains("treeNode")){throw new Error("Only tree nodes can be expanded.");}var q=s.cells[0];var t=s.nextSibling;var r=t.cells[0];var p=r.children[0];p.style.height=p.dataset.height+"px";s.dataset.collapsed="false";q.innerHTML="";q.appendChild(i());}o.prototype.dialogStateUpdatedHandler=function(p){this.applyDialogState(p.detail);};function m(){var p=document.querySelectorAll("#thesaurusDialog_tvSynonyms tr");[].forEach.call(p,function(q){q.classList.remove("selected");});}function i(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","16");var r=document.createElementNS(c,"rect");r.setAttributeNS(null,"x","4");r.setAttributeNS(null,"y","4");r.setAttributeNS(null,"height","8");r.setAttributeNS(null,"width","8");r.setAttributeNS(null,"fill","none");r.setAttributeNS(null,"stroke","gray");p.appendChild(r);var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","6");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","10");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");p.appendChild(q);return p;}function j(){var p=i();var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","6");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","10");q.setAttributeNS(null,"stroke","gray");p.appendChild(q);return p;}function l(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","18");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}function k(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","18");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","16");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}function g(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");return p;}function h(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","16");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}o.prototype.OKHandler=function(p){this.dialogData.dialogResult=true;this.close(p);};o.prototype.getSelectedSynonym=function(){var p=document.getElementById("thesaurusDialog_tvSynonyms");var q=p.querySelector("tr.selected");if(!q&&this.lastSelectedSynonym){return this.lastSelectedSynonym;}if(!q&&p.rows.length){q=p.rows[0];}if(!q){return null;}return{word:q.dataset.word,text:q.dataset.text};};o.prototype.close=function(q){var p={state:{selectedElement:this.getSelectedSynonym()},dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.ThesaurusDialog,0,0,p);document.removeEventListener("thesaurusDialogStateUpdated",this.dialogStateUpdatedHandlerBound);a(q).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};o.prototype.dialogReady=function(){var v=this;this.applyDialogState(this.state);var q=document.getElementById("thesaurusDialog_btnBack");q.addEventListener("click",r);var z=document.getElementById("thesaurusDialog_txtFindSynonymsFor");z.addEventListener("input",A);z.addEventListener("change",A);var s=document.getElementById("thesaurusDialog_cbLanguage");s.addEventListener("change",t);var w=document.getElementById("thesaurusDialog_tvSynonyms");w.addEventListener("keydown",y);w.addEventListener("focus",x);w.addEventListener("blur",function(){v.lastSelectedSynonym=v.getSelectedSynonym();m();});var B=document.getElementById("thesaurusDialog_treeViewWrapper");document.addEventListener("thesaurusDialogStateUpdated",this.dialogStateUpdatedHandlerBound);z.focus();function p(){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.Back);}function r(C){p();}function A(C){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.FindSynonymTextChanged,0,0,{text:z.value});}function t(C){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.LanguageChanged,0,0,{languageName:s.value});}function x(C){var D=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(!D&&(w.rows.length>1)){w.rows[0].classList.add("selected");}}function y(D){var F=D.keyCode||D.which||0;switch(F){case b.KeyCode.DownArrow:H();D.preventDefault();break;case b.KeyCode.UpArrow:H(true);D.preventDefault();break;case b.KeyCode.LeftArrow:C();D.preventDefault();break;case b.KeyCode.RightArrow:E();D.preventDefault();break;case b.KeyCode.Space:G();D.preventDefault();break;case b.KeyCode.Backspace:if(document.activeElement==w){p();D.preventDefault();}break;case b.KeyCode.Enter:v.OKHandler(document.getElementById("thesaurusDialog"));D.preventDefault();break;}function C(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I.classList.contains("treeNode")){f(I);u(I);}else{if(I.classList.contains("treeNodeItem")){I.classList.remove("selected");I=I.parentElement.parentElement.parentElement.parentElement.previousSibling;I.classList.add("selected");u(I);}}}function E(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I.classList.contains("treeNode")){if(I.dataset.collapsed=="true"){n(I);}else{I.classList.remove("selected");I=I.nextSibling.cells[0].children[0].children[0].rows[0];I.classList.add("selected");}u(I);}}function G(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I&&I.classList.contains("treeNodeItem")){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.SelectedNodeChanged,0,0,{word:I.dataset.word,text:I.dataset.text});}}function H(L){var K,J,I;L=!!L;K=document.getElementById("thesaurusDialog_tvSynonyms");J=K.querySelectorAll("tr.treeNode, tr:not([data-collapsed=\'true\']) + tr.treeNodeItemContainer tr.treeNodeItem");for(I=0;I<J.length;++I){if(J[I].classList.contains("selected")){J[I].classList.remove("selected");break;}}if(I==J.length){return;}I=L?(I-1).mod(J.length):(I+1).mod(J.length);J[I].classList.add("selected");u(J[I]);}}function u(E){var C=B.clientHeight;var D=E.clientHeight;var F=E.getBoundingClientRect().top-w.getBoundingClientRect().top;if(F<B.scrollTop){B.scrollTop=F-C+D;}else{if((F+D)>(B.scrollTop+C)){B.scrollTop=F;}}}};o.prototype.applyStringResources=function(p){document.getElementById("THESAURUS_DLG_LBL_FIND_SYN_FOR").textContent=p.THESAURUS_DLG_LBL_FIND_SYN_FOR;document.getElementById("THESAURUS_DLG_LBL_LANGUAGE").textContent=p.THESAURUS_DLG_LBL_LANGUAGE;document.getElementById("THESAURUS_DLG_LBL_SYNONYMS").textContent=p.THESAURUS_DLG_LBL_SYNONYMS;this.noAltText=p.THESAURUS_DLG_NO_ALTERNATIVES;this.setDefaultBtnTexts(p);document.querySelector("#btnOK_"+this.dialogContainerID+" span.txui-button-text").textContent=p.THESAURUS_DLG_BTN_INSERT;};return o;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ClientPasteDialog=(function(d){__extends(f,d);function f(l){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ClientPasteDialog,ElementID:"clientPasteDialog",Width:300,Height:255,TitleResourceName:"CLIENTPASTE_DIALOG_TITLE",Buttons:{},DialogElement:h()};}function h(){var p=document.createElement("div");p.classList.add("txDialog");var m=document.createElement("form");var o=document.createElement("div");o.style.margin="5px 10px 10px 10px";o.style.cssFloat="left";o.style.clear="left";o.style.border="1px solid #ABABAB";o.style.backgroundColor="white";o.style.overflow="hidden";o.style.padding="10px";var n=document.createElement("div");n.contentEditable=true;n.style.width="200px";n.style.height="150px";n.style.border="3px dashed #c2c2c2";n.style.borderRadius="15px";n.style.textAlign="center";n.style.backgroundColor="white";n.style.overflow="hidden";n.style.fontFamily="Verdana, Arial, sans-serfic !important";n.style.color="#c2c2c2";n.style.fontSize="16px";n.style.padding="10px";n.style.backgroundImage=" url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRjMwM0VCQjYzODAxMUU0OTUyQ0VGNjhDMEE3MTY0NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRjMwM0VCQzYzODAxMUU0OTUyQ0VGNjhDMEE3MTY0NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFGMzAzRUI5NjM4MDExRTQ5NTJDRUY2OEMwQTcxNjQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFGMzAzRUJBNjM4MDExRTQ5NTJDRUY2OEMwQTcxNjQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Dn8RgwAAAkdJREFUeNrsms0rhEEcx8d6KwflsFFK/geR6BFuXuOgRA4OiiKKiwMRBydFeyAuktcVR0TUrhRyUIRcECcvByGt1+/Yn4tkPc/OzD6r+dWnPezzzDyf2d35/WZmIzweDwsiYkANKAcZwGny/iuwDRbAOPCZfQDDMD5fHUFI8Ac/BqOgyIIEo3uKqI1jatNSWBUpBBsglYmLVGqzUJVIIpgC0Ux8RFPbiSpEOkA8kxfx1IdUkUhQxeRHFfUlTSQJJCgQSaC+pIk4mbpwyv6N2DK0iBbRIlpEi2gRLaJFtIgW0SJaRIsEGVEgBWTROjk2wPXJCp+tGuQGuMbn9Xpv8LrJRQ5BnA0Huc3Etff8qzXyD75ZbgeZz4axxDpo5CIvzL8hNhaGEoug2DCMx69Z6xXUgv4wkpgAZVzi+/T7DlpBexhIDDL/uYzvtzzSB+rAm00lOkEzDXzAhMgPXiqYhRMkicEHtgH0mM3s86AA3NlA4hlUgiGrJcoayAfXIZR4YP7jOXewtdYulTDnIZC4poFcEVU0noBscKBQ4hLkMP+pr9Dq94Ia3lIgcQQyqQ6UUsbf0ke9LFFihwbsQvZ6hGfSUjAjQWKVBupK1cLKR/WZS6DEHM1O96pXiDxBNYFuARLDlCcsJ2ARS90uErJa0vSCeipcQ75md9HS9NnkfS3Mwp8DZG8+TIMSmgz+UnJw8QG77qLwaTkvQEnzQLPepMiOZWwH8UycDvZ/eO+MKoQl0Z3K2tc6pczcT9XzEy0N0sCejA4/BBgA0lps8gSRfDEAAAAASUVORK5CYII=)";n.style.backgroundRepeat="no-repeat";n.style.backgroundPosition="center bottom 30px";var l=document.createElement("span");p.id="clientPasteDialog";o.id="pasteAreaWrapper";n.id="pasteArea";l.id="CLIENTPASTE_DIALOG_PLACEHLD_TXT";p.appendChild(m);m.appendChild(o);o.appendChild(n);n.appendChild(l);return p;}function i(){var l=document.getElementById("pasteArea");return l.innerHTML;}function k(){var l=i();b.pasteText(l,b.ClipboardDataType.HTML);}f.prototype.closing=function(){b.modifierKeys=0;};function e(l){k();l.close(a("#"+l.DialogInfo.ElementID));}function j(n,l){if(!b.handleClientPaste(l,false)){n.close(a("#"+n.DialogInfo.ElementID));return;}var m=document.getElementById("pasteArea");m.innerHTML="";setTimeout(function(){e(n);},10);return false;}function g(m,l){b.handleDrop(l);m.close(a("#"+m.DialogInfo.ElementID));return false;}f.prototype.dialogReady=function(m){var q=this;var n=a("#clientPasteDialog"),o=n.css("margin-left"),l={width:n.css("border-left-width"),color:n.css("border-left-color"),style:n.css("border-left-style")};n.css("border-bottom-width",l.width);n.css("border-bottom-color",l.color);n.css("border-bottom-style",l.style);n.css("margin-bottom",o);var p=document.getElementById("pasteArea");if(!b.isTouchDevice){p.focus();}p.addEventListener("paste",function(r){j(q,r);});p.addEventListener("drop",function(r){g(q,r);r.stopPropagation();});p.addEventListener("dragenter",function(r){r.preventDefault();r.stopPropagation();});p.addEventListener("dragover",function(r){r.preventDefault();r.stopPropagation();r.dataTransfer.dropEffect="copy";});};f.prototype.applyStringResources=function(l){a("#CLIENTPASTE_DIALOG_PLACEHLD_TXT").text(l.CLIENTPASTE_DIALOG_PLACEHLD_TXT);};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.SpellCheckDialogCommand={IgnoreOnce:1,IgnoreAll:2,AddToDict:3,Change:4,ChangeAll:5,SuggestionSelected:6,SuggestionDictSelected:7,PreviewTextChanged:8};var c=false;b.SpellCheckDialog=(function(f){__extends(k,f);function k(l){f.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SpellCheckDialog,ElementID:"spellCheckDialog",TitleResourceName:"SPELLCHECK_DIALOG_TITLE",Buttons:{}};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.initialState=l;}k.prototype.btnIgnoreOnceClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.IgnoreOnce);};k.prototype.btnIgnoreAllClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.IgnoreAll);};k.prototype.btnAddToDictClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.AddToDict);};k.prototype.btnChangeClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.Change);};k.prototype.btnChangeAllClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.ChangeAll);};var e={spanBefore:null,spanEmph:null,spanAfter:null,textContent:""};function g(l){var m;if(l.target.children.length!=3){l.target.innerHTML="";l.target.appendChild(e.spanBefore);l.target.appendChild(e.spanEmph);l.target.appendChild(e.spanAfter);return;}var r=l.target.children[1],s=r.textContent,t=e.spanEmph.textContent;if(s!==t){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.PreviewTextChanged,0,0,s);}else{var p=l.target.children[0],n=l.target.children[2],q=e.spanBefore,o=e.spanAfter;if(p.textContent!==q.textContent){p.textContent=q.textContent;}else{if(n.textContent!==o.textContent){n.textContent=o.textContent;}else{if(l.target.textContent!==e.textContent){l.target.innerHTML="";l.target.appendChild(e.spanBefore);l.target.appendChild(e.spanEmph);l.target.appendChild(e.spanAfter);}}}}e.spanBefore=l.target.children[0].cloneNode(true);e.spanEmph=r.cloneNode(true);e.spanAfter=l.target.children[2].cloneNode(true);e.textContent=l.target.textContent;}function j(p,l){l.innerHTML="";var t=p.Text;var n=document.createElement("SPAN");var m=document.createElement("SPAN");var o=document.createElement("SPAN");o.style.fontWeight="bold";o.style.color="red";o.id="txSpellDlgPrevAreaEmphWord";n.contentEditable=false;m.contentEditable=false;if(p.EmphasizedAreaStart!==null){var s=t.substring(p.EmphasizedAreaStart,p.EmphasizedAreaEnd);o.textContent=s;var r=t.substring(0,p.EmphasizedAreaStart);var q=t.substring(p.EmphasizedAreaEnd);n.textContent=r;m.textContent=q;}else{m.textContent=t;}l.appendChild(n);l.appendChild(o);l.appendChild(m);e.spanBefore=n.cloneNode(true);e.spanEmph=o.cloneNode(true);e.spanAfter=m.cloneNode(true);e.textContent=l.textContent;}k.prototype.applyPrevAreaState=function(m){var l=document.getElementById("txSpellCheckPreviewArea");if(m.AreaEnabled){l.contentEditable=true;}else{l.removeAttribute("contenteditable");}if(m.Text!==null){j(m,l);}};k.prototype.setSugDicts=function(p){var m=document.getElementById("txSpellCheckSelSuggDict");m.innerHTML="";for(var n=0;n<p.Names.length;++n){var o=p.Names[n];var l=document.createElement("OPTION");l.textContent=o;l.value=o;m.appendChild(l);}if(p.SelectedDict!==null){m.value=p.SelectedDict;}};function h(l){if(c){return;}b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.SuggestionDictSelected,0,0,l.target.value);}k.prototype.setSuggestions=function(n){var o=n.Suggestions;var l=n.NoSuggestionsCreated;var m=document.getElementById("txSpellCheckSelSuggestions");m.innerHTML="";if(l){m.setAttribute("disabled","disabled");}else{m.removeAttribute("disabled");}o.forEach(function(q){var p=document.createElement("OPTION");p.textContent=q;m.appendChild(p);});if(!l){m.selectedIndex=0;}};function i(l){if(c){return;}b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.SuggestionSelected,0,0,l.target.value);}k.prototype.setButtonStates=function(q){var o=document.getElementById("ID_SPELL_BTN_IGNORE_ONCE");if(q.BtnIgnore.Text!==null){o.textContent=q.BtnIgnore.Text;}if(q.BtnIgnore.Enabled!==null){b.enableButton(o,q.BtnIgnore.Enabled);}var p=document.getElementById("ID_SPELL_BTN_IGNORE_ALL");if(q.BtnIgnoreAll.Enabled!==null){b.enableButton(p,q.BtnIgnoreAll.Enabled);}var l=document.getElementById("ID_SPELL_BTN_ADD_TO_DICTIONARY");if(q.BtnAddToDict.Enabled!==null){b.enableButton(l,q.BtnAddToDict.Enabled);}var m=document.getElementById("ID_SPELL_BTN_CHANGE");if(q.BtnChange.Text!==null){m.textContent=q.BtnChange.Text;}if(q.BtnChange.Enabled!==null){b.enableButton(m,q.BtnChange.Enabled);}var n=document.getElementById("ID_SPELL_BTN_CHANGE_ALL");if(q.BtnChangeAll.Text!==null){n.textContent=q.BtnChangeAll.Text;}if(q.BtnChangeAll.Enabled!==null){b.enableButton(n,q.BtnChangeAll.Enabled);}};k.prototype.updateSugArea=function(m){var l=document.getElementById("txSpellCheckSelSuggDict");if(m.CbSugDictsEnabled){l.removeAttribute("disabled");}else{l.setAttribute("disabled","disabled");}};k.prototype.setDialogState=function(m){var l=document.getElementById("txSpellCheckLblLang");if(m.LblLangText!==null){l.textContent=m.LblLangText;}if(m.MessageBoxText!==null){b.jQueryAlert("TXSpell",m.MessageBoxText);}if(m.CloseDialog){this.close(a("#"+this.DialogInfo.ElementID));}};k.prototype.applyDialogState=function(l){c=true;if(l.Preview!==null){this.applyPrevAreaState(l.Preview);}if(l.SugDicts!==null){this.setSugDicts(l.SugDicts);}if(l.Suggestions!==null){this.setSuggestions(l.Suggestions);}if(l.ButtonStates!==null){this.setButtonStates(l.ButtonStates);}if(l.SuggestionsArea!==null){this.updateSugArea(l.SuggestionsArea);}if(l.DialogState!==null){this.setDialogState(l.DialogState);}c=false;};k.prototype.dialogStateUpdatedHandler=function(l){var m=l.detail;this.applyDialogState(m);};k.prototype.applyStringResources=function(l){a("#ID_SPELL_LBL_NOT_IN_DICTIONARIES").text(l.ID_SPELL_LBL_NOT_IN_DICTIONARIES);a("#LBL_LANGUAGE").text(l.LBL_LANGUAGE);a("#ID_SPELL_BTN_IGNORE_ONCE").text(l.ID_SPELL_BTN_IGNORE_ONCE);a("#ID_SPELL_BTN_IGNORE_ALL").text(l.ID_SPELL_BTN_IGNORE_ALL);a("#ID_SPELL_BTN_ADD_TO_DICTIONARY").text(l.ID_SPELL_BTN_ADD_TO_DICTIONARY);a("#ID_SPELL_LBL_SUGGESTIONS").text(l.ID_SPELL_LBL_SUGGESTIONS);a("#ID_SPELL_BTN_CHANGE").text(l.ID_SPELL_BTN_CHANGE);a("#ID_SPELL_BTN_CHANGE_ALL").text(l.ID_SPELL_BTN_CHANGE_ALL);a("#ID_SPELL_LBL_SUGGESTIONS_DICTIONARY").text(l.ID_SPELL_LBL_SUGGESTIONS_DICTIONARY);a("#ID_SPELL_BTN_CANCEL").text(l.ID_SPELL_BTN_CANCEL);};k.prototype.closing=function(){document.removeEventListener("spellCheckDialogStateUpdated",this.dialogStateUpdatedHandlerBound);};k.prototype.dialogReady=function(){var r=this;var m=a("#spellCheckDialog"),q=m.css("margin-left"),l={width:m.css("border-left-width"),color:m.css("border-left-color"),style:m.css("border-left-style")};m.css("border-bottom-width",l.width);m.css("border-bottom-color",l.color);m.css("border-bottom-style",l.style);m.css("margin-bottom",q);a("#ID_SPELL_BTN_IGNORE_ONCE").click(r.btnIgnoreOnceClick);a("#ID_SPELL_BTN_IGNORE_ALL").click(r.btnIgnoreAllClick);a("#ID_SPELL_BTN_ADD_TO_DICTIONARY").click(r.btnAddToDictClick);a("#ID_SPELL_BTN_CHANGE").click(r.btnChangeClick);a("#ID_SPELL_BTN_CHANGE_ALL").click(r.btnChangeAllClick);a("#ID_SPELL_BTN_CANCEL").click(function(){r.close(a("#"+r.DialogInfo.ElementID));});this.applyDialogState(this.initialState);document.addEventListener("spellCheckDialogStateUpdated",this.dialogStateUpdatedHandlerBound);var p=document.getElementById("txSpellCheckSelSuggestions");p.addEventListener("change",i);var o=document.getElementById("txSpellCheckSelSuggDict");o.addEventListener("change",h);var n=document.getElementById("txSpellCheckPreviewArea");n.addEventListener("keyup",g);};return k;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EdgePrintDialog=(function(d){__extends(e,d);function e(f){d.call(this);var g=this;this.DialogInfo={DialogType:b.HTMLDialogType.EdgePrintDialog,ElementID:"edgePrintDialog",Width:400,TitleResourceName:"EDGE_PRINT_DIALOG_TITLE",Buttons:{Cancel:{text:"Cancel",click:function(){g.close(this);},id:"btnCancel_"+this.dialogContainerID}}};this.printHandlerUrl=f;}e.prototype.dialogReady=function(f){var g=document.getElementById("edgePrintDialog_downloadLink");g.download="print_result.pdf";g.href=this.printHandlerUrl;};e.prototype.applyStringResources=function(h){var f=document.getElementById("EDGE_PRINT_DIALOG_TEXT");f.innerHTML=h.EDGE_PRINT_DIALOG_TEXT;var g=document.getElementById("EDGE_PRINT_DIALOG_DOWNLOAD_LINK_TEXT");g.innerHTML=h.EDGE_PRINT_DIALOG_DOWNLOAD_LINK_TEXT;this.setDefaultBtnTexts(h);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PermissionsAddUserDialogCommand={};b.PermissionsAddUserDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.PermissionsAddUserDialog,ElementID:"permissionsAddUserDialog",TitleResourceName:"PERMISSIONSADDUSER_DLG_TITLE"};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.state=h;this.registeredUserNameHintText="";}g.prototype.applyDialogState=function(x){var v=this,o,n;var y=document.getElementById("permissionsAddUserDialog_txtNewUser");var k=document.getElementById("permissionsAddUserDialog_btnDelete");var j=document.getElementById("permissionsAddUserDialog_btnAdd");var q=document.getElementById("permissionsAddUserDialog_lbUsers");var l=document.getElementById("btnOK_"+v.dialogContainerID);var m=document.getElementById("permissionsAddUserDialog_cbRegUsers");var r=document.getElementById("permissionsAddUserDialog_rowLblNewUser");var t=document.getElementById("permissionsAddUserDialog_rowNewUser");var s=document.getElementById("permissionsAddUserDialog_rowLblRegUsers");var u=document.getElementById("permissionsAddUserDialog_rowRegUsers");if(x.userName!==null){y.value=x.userName;}if(x.userNames){i(x.userNames);}if(x.registeredUserNames){if(x.registeredUserNames.length){h(x.registeredUserNames);}else{s.style.display=u.style.display="none";}}if(x.deleteButton){b.enableButton(k,x.deleteButton.Enabled);}if(x.addButton){b.enableButton(j,x.addButton.Enabled);}if(x.okButton){b.enableButton(l,x.okButton.Enabled);}if(x.selectedIndex!==null){w(x.selectedIndex);}if((x.allowAdditional!==null)&&!x.allowAdditional){r.style.display=t.style.display="none";}function i(B){var z,A;q.innerHTML="";for(z=0;z<B.length;++z){A=B[z];o=document.createElement("div");q.appendChild(o);o.dataset.index=z;o.addEventListener("click",p);n=document.createElement("p");o.appendChild(n);n.textContent=A;}}function w(z){f();if(z>-1){var A=document.querySelectorAll("#permissionsAddUserDialog_lbUsers div");if(z<A.length){A[z].classList.add("selected");}}}function p(z){f();z.currentTarget.classList.add("selected");b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.SelectedIndexChanged,0,0,{index:parseInt(z.currentTarget.dataset.index,10)});}function h(A){var z;if(!A.length){return;}z=document.createElement("option");m.appendChild(z);z.disabled=true;z.selected=true;z.style.display="none";z.style.color="#AAA";z.textContent=v.registeredUserNameHintText;A.forEach(function(B){z=document.createElement("option");m.appendChild(z);z.textContent=B;});m.selectedIndex=0;}};g.prototype.close=function(i){var h={dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.PermissionsAddUserDialog,0,0,h);document.removeEventListener("permissionsAddUserDialogUpdated",this.dialogStateUpdatedHandlerBound);a(i).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};function e(h){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.DeleteButtonClicked);}function f(){var h=document.querySelectorAll("#permissionsAddUserDialog_lbUsers div");[].forEach.call(h,function(i){i.classList.remove("selected");});}g.prototype.dialogReady=function(){var o=this;h();var p=document.getElementById("permissionsAddUserDialog_txtNewUser");var m=document.getElementById("permissionsAddUserDialog_cbRegUsers");m.addEventListener("change",n);var i=document.getElementById("permissionsAddUserDialog_btnAdd");i.addEventListener("keydown",k);var l=document.getElementById("permissionsAddUserDialog_btnDelete");p.addEventListener("input",q);p.addEventListener("change",q);p.addEventListener("keydown",s);p.addEventListener("focus",r);i.addEventListener("click",j);this.applyDialogState(this.state);document.addEventListener("permissionsAddUserDialogUpdated",this.dialogStateUpdatedHandlerBound);function q(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.UserNameChanged,0,0,{userName:p.value});}function s(t){var u=t.keyCode||t.which||0;switch(u){case b.KeyCode.Enter:if(!i.disabled){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.AddButtonClicked);t.preventDefault();}break;}}function k(t){s(t);}function r(){f();b.enableButton(l,false);}function j(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.AddButtonClicked);p.focus();}function h(){var v=document.getElementById("permissionsAddUserDialog").parentElement;var u=v.querySelector("div.txui-dialog-buttonpane > .txui-dialog-buttonset");var t=document.createElement("button");u.appendChild(t);t.type="button";t.id="permissionsAddUserDialog_btnDelete";t.classList.add("txui-button");t.classList.add("txui-button-text-only");t.classList.add("txui-state-default");var w=document.createElement("span");t.appendChild(w);w.classList.add("txui-button-text");w.textContent=o.stringResources.PERMISSIONSADDUSER_DLG_BTN_DELETE;t.addEventListener("click",e);}function n(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.RegisteredUserSelected,0,0,{userName:m.value});m.selectedIndex=0;}};g.prototype.dialogStateUpdatedHandler=function(h){this.applyDialogState(h.detail);};g.prototype.applyStringResources=function(h){document.getElementById("PERMISSIONSADDUSER_DLG_LBL_NEW_USER").textContent=h.PERMISSIONSADDUSER_DLG_LBL_NEW_USER;document.getElementById("PERMISSIONSADDUSER_DLG_LBL_USERS").textContent=h.PERMISSIONSADDUSER_DLG_LBL_USERS;document.getElementById("permissionsAddUserDialog_btnAdd").textContent=h.PERMISSIONSADDUSER_DLG_BTN_ADD;document.getElementById("PERMISSIONSADDUSER_DLG_LBL_REG_USERS").textContent=h.PERMISSIONSADDUSER_DLG_LBL_REG_USERS;this.registeredUserNameHintText=h.PERMISSIONSADDUSER_DLG_REG_USERS_HINT;this.setDefaultBtnTexts(h);this.stringResources=h;};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ManageConditionalInstructionsDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ManageConditionalInstructionsDialog,ElementID:"manageConditionalInstructionsDialog",Width:"auto",TitleResourceName:"ID_MANAGECONDITIONALINSTRUCTIONS_CAPTION"};this.formFields=f.formFields;this.instructions=f.conditionalInstructions;this.deleted=[];this.dialogData.deleted=[];this.dialogData.instructions=null;}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.instructions=this.instructions;this.dialogData.deleted=this.deleted;}};e.prototype.populateSelect=function(){var h=document.getElementById("manageConditionalInstructionsDialog_selInstructions");h.innerHTML="";this.instructions.forEach(function(j){var i=document.createElement("option");i.value=i.text=i.title=j.name;h.appendChild(i);});h.selectedIndex=0;var g=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_EDIT");var f=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_DELETE");b.enableButton(g,(this.instructions.length>0));b.enableButton(f,(this.instructions.length>0));};e.prototype.dialogReady=function(){var m=this;var l=document.getElementById("manageConditionalInstructionsDialog_selInstructions");this.populateSelect();var j=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_NEW");var h=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_EDIT");var f=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_DELETE");h.addEventListener("click",i);j.addEventListener("click",k);f.addEventListener("click",g);b.enableButton(j,(this.formFields.length>0));function k(o){var p=m.instructions.map(function(r){return r.name;});var n=new b.ConditionalInstructionDialog(m.formFields,p,q);n.showModal();function q(r){m.instructions.push(r);m.populateSelect();}}function i(o){var p=m.instructions.map(function(t){return t.name;});if(!l.value){return;}var r=m.instructions.find(function(t){return t.name===l.value;});var q=cloneObject(r);var n=new b.ConditionalInstructionDialog(m.formFields,p,s,q);n.showModal();function s(u){for(var t=0;t<m.instructions.length;++t){if(m.instructions[t].name===u.nameOld){m.deleted.push(u.nameOld);m.instructions.splice(t,1,u);m.populateSelect();break;}}}}function g(n){var o;if(!l.value){return;}for(o=0;o<m.instructions.length;++o){var p=m.instructions[o];if(p.name===l.value){m.deleted.push(p.name);m.instructions.splice(o,1);m.populateSelect();break;}}}};e.prototype.applyStringResources=function(f){a("#ID_MANAGECONDITIONALINSTRUCTIONS_ITEMS").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_ITEMS);a("#ID_MANAGECONDITIONALINSTRUCTIONS_NEW").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_NEW);a("#ID_MANAGECONDITIONALINSTRUCTIONS_EDIT").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_EDIT);a("#ID_MANAGECONDITIONALINSTRUCTIONS_DELETE").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_DELETE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InsertBookmarkDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InsertBookmarkDialog,ElementID:"insertBookmarkDialog",Width:"auto",TitleResourceName:f.captionResID};this.existing=f.existing;this.edit=f.edit;this.target=(f.edit&&(f.atInputPos||f.existing))?f.atInputPos||f.existing[0]:{targetName:"",hashCode:0,deleteable:true};}e.prototype.closing=function(){if(this.dialogData.dialogResult){var f=document.getElementById("insertBookmarkDialog_cbDeleteable");var g=document.getElementById("insertBookmarkDialog_txtTargetName");this.dialogData.targetName=g.value.trim();this.dialogData.targetHashCode=this.target.hashCode;this.dialogData.deleteable=f.checked;}};e.prototype.dialogReady=function(){var i=this,h;var l=document.getElementById("insertBookmarkDialog_txtTargetName");var j=document.getElementById("insertBookmarkDialog_selTargetName");var g=document.getElementById("insertBookmarkDialog_cbDeleteable");var f=document.getElementById("btnOK_"+this.dialogContainerID);l.value=this.target.targetName.trim();b.enableButton(f,!!l.value);l.addEventListener("input",m);l.addEventListener("change",m);g.checked=this.target.deleteable;this.existing.forEach(function(n){h=document.createElement("option");h.text=n.targetName;h.value=n.hashCode;j.add(h);});if(this.target.hashCode){j.value=this.target.hashCode;}j.addEventListener("change",k);function m(){b.enableButton(f,!!l.value.trim());}function k(){var n=i.existing.find(function(o){return o.hashCode==j.value;});l.value=n.targetName;b.enableButton(f);if(i.edit){i.target=n;g.checked=n.deleteable;}}};e.prototype.applyStringResources=function(i){var h=document.getElementById("insertBookmarkDialog_lblTargetName");var g=document.getElementById("insertBookmarkDialog_lblSelTargetName");var f=document.getElementById("insertBookmarkDialog_lblDeleteable");h.innerText=i.ID_INSERTBOOKMARK_NAME;g.innerText=i.ID_INSERTBOOKMARK_NAMES_INSERT;f.innerText=i.ID_INSERTBOOKMARK_DELETABLE;this.setDefaultBtnTexts(i);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DeleteBookmarksDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.DeleteBookmarksDialog,ElementID:"deleteBookmarksDialog",TitleResourceName:"ID_DELETEBOOKMARKS_CAPTION"};this.bookmarks=f.bookmarks;this.atInputPos=f.atInputPos;this.deletedHashCodes=[];}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.deletedHashCodes=this.deletedHashCodes;}};e.prototype.populateSelect=function(f){f.innerHTML="";this.bookmarks.forEach(function(h){var g=document.createElement("option");g.text=g.title=h.targetName;g.value=h.targetHashCode;f.add(g);});if(this.atInputPos){f.value=this.atInputPos.targetHashCode;}else{f.selectedIndex=0;}};e.prototype.dialogReady=function(){var l=this;var j=document.getElementById("deleteBookmarksDialog_selBookmarks");this.populateSelect(j);var h=document.getElementById("deleteBookmarksDialog_btnGoto");var f=document.getElementById("deleteBookmarksDialog_btnDelete");h.addEventListener("click",i);f.addEventListener("click",g);j.addEventListener("change",k);function i(){if(j.value){b.sendCommand(b.Command.GoToItem,b.ItemType.DocumentTarget,0,0,{hashcode:parseInt(j.value,10)});}}function g(){var m=parseInt(j.value,10);j.remove(j.selectedIndex);b.enableButton(f,false);b.enableButton(h,false);if(!l.deletedHashCodes.find(function(n){return n==m;})){l.deletedHashCodes.push(m);}}function k(){var m=j.selectedIndex>-1;b.enableButton(f,m);b.enableButton(h,m);}};e.prototype.applyStringResources=function(i){var h=document.getElementById("deleteBookmarksDialog_lblBookmarks");var g=document.getElementById("deleteBookmarksDialog_btnGoto");var f=document.getElementById("deleteBookmarksDialog_btnDelete");h.innerText=i.ID_DELETEBOOKMARKS_LABEL;g.innerText=i.ID_DELETEBOOKMARKS_GOTO;f.innerText=i.ID_DELETEBOOKMARKS_DELETE;this.setDefaultBtnTexts(i);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d;b.AdvancedInstructionSettingsDialog=(function(f){__extends(g,f);function g(j,i,h){f.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.AdvancedInstructionSettingsDialog,ElementID:"advancedInstructionSettingsDialog",Width:"auto",TitleResourceName:"ID_INSTRUCTION_ADVANCED_SETTINGS_CAPTION"};this.instruction=i;this.fieldType=h;this._={};this._.successHandler=j;}g.prototype.close=function(h){try{if(this.dialogData.dialogResult){if(this._.successHandler){this._.successHandler(this.instruction);}}}finally{a(h).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();}};g.prototype.dialogReady=function(){var q=this;var o=document.getElementById("conditionalInstructionDialog_lblEnableElsePath");var l=document.getElementById("conditionalInstructionDialog_cbIsInitial");var m=document.getElementById("conditionalInstructionDialog_cbReactsToFormFieldChange");var j=document.getElementById("conditionalInstructionDialog_cbEnableElsePath");var p=document.getElementById("advancedInstructionSettingsDialog_selElseValue");var h=document.getElementById("advancedInstructionSettingsDialog_btnItems");var s=document.getElementById("advancedInstructionSettingsDialog_txtElseValue");var n=document.querySelectorAll("#advancedInstructionSettingsDialog img.aboutIcon");[].forEach.call(n,function(u){u.src=b.imageResources.small.about;});switch(this.instruction.type){case b.InstructionType.SetItems:o.innerText=d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETITEMS;h.style.display="";b.enableButton(h,this.instruction.hasElsePath);h.addEventListener("click",i);break;case b.InstructionType.SetValue:switch(this.fieldType){case b.FormFieldType.CheckFormField:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_CHECKED,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_UNCHECKED,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;default:s.value=this.instruction.elseValue;s.disabled=!this.instruction.hasElsePath;s.addEventListener("input",t);s.addEventListener("change",t);s.style.display="";break;}break;case b.InstructionType.IsEnabled:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_ALLOWFILLIN,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_DENYFILLIN,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;case b.InstructionType.IsValueValid:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETVALUEASVALID,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETVALUEASINVALID,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;}l.checked=this.instruction.isInitial;j.checked=this.instruction.hasElsePath;m.checked=this.instruction.reactsToFormFieldChange;l.addEventListener("change",function(u){q.instruction.isInitial=l.checked;});m.addEventListener("change",function(u){q.instruction.reactsToFormFieldChange=m.checked;});j.addEventListener("change",k);p.addEventListener("change",r);function k(u){q.instruction.hasElsePath=j.checked;switch(q.instruction.type){case b.InstructionType.SetItems:b.enableButton(h,q.instruction.hasElsePath);break;case b.InstructionType.SetValue:switch(q.fieldType){case b.FormFieldType.CheckFormField:p.disabled=!q.instruction.hasElsePath;break;default:s.disabled=!q.instruction.hasElsePath;break;}break;case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:p.disabled=!q.instruction.hasElsePath;break;}}function r(u){q.instruction.elseValue=p.value;}function t(u){q.instruction.elseValue=s.value.trim();}function i(v){var w=q.instruction.elseValue||[];var x=w.join(";");var u=new b.InputBoxDialog(d.USR_INP_FORM_FIELD_ITEMS_TITLE,x,d.USR_INP_FORM_FIELD_ITEMS_LABEL);u.showModal(function(y){w=y.split(";").map(function(z){return z.trim();}).filter(function(z){return !!z;});q.instruction.elseValue=w;});}};g.prototype.applyStringResources=function(o){d=o;var m=document.getElementById("conditionalInstructionDialog_lblInitialInstr");var l=document.getElementById("conditionalInstructionDialog_lblEnableElsePath");var i=document.getElementById("conditionalInstructionDialog_icoAboutInitialInstr");var n=document.getElementById("conditionalInstructionDialog_lblReactsToFormFieldChange");var j=document.getElementById("conditionalInstructionDialog_icoAboutReactsToFormFieldChange");var k=document.getElementById("advancedInstructionSettingsDialog_icoAboutValue");var p=document.getElementById("advancedInstructionSettingsDialog_txtElseValue");var h=document.getElementById("advancedInstructionSettingsDialog_btnItems");this.setDefaultBtnTexts(o);m.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_IS_INITIAL_INSTRUCTION;l.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION;i.title=o.TOOLTIP_IS_INITIAL_INSTRUCTION.replace(/\\r/g,"");n.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_HANDLE_FORM_FIELD_CHANGED;j.title=o.TOOLTIP_IS_FORM_FIELD_CHANGE_INSTRUCTION.replace(/\\r/g,"");k.title=o.TOOLTIP_IS_ELSE_INSTRUCTION.replace(/\\r/g,"");p.placeholder=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_EMPTYVALUE;h.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_BUTTON;};return g;})(b.HTMLDialog);function c(f,h){var g;h.forEach(function(i){g=document.createElement("option");g.text=i.text;g.value=i.value;f.add(g);});}return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(n,a){var b=n._private=n._private||{};var m;var g;var k;var j;var p;var c;var o=Object.freeze({CheckState:"CheckState",NoValue:"NoValue",CustomText:"CustomText",Regex:"Regex",SpecificItem:"SpecificItem",AnyItem:"AnyItem",Date:"Date",Year:"Year",Month:"Month",DayOfMonth:"DayOfMonth",Weekday:"Weekday"});b.InstructionType=Object.freeze({IsEnabled:"IsEnabled",IsValueValid:"IsValueValid",SetValue:"SetValue",SetItems:"SetItems",});var d={CheckFormField:[],TextFormField:[],SelectionFormField:[],DateFormField:[]};var i={CheckFormField:[],TextFormField:[],SelectionFormField:[],DateFormField:[]};var e=Object.freeze({Is:"Is",IsAListItem:"IsAListItem",IsNot:"IsNot",IsNotAListItem:"IsNotAListItem",MatchesRegex:"MatchesRegex",DoesNotMatchRegex:"DoesNotMatchRegex",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",DoesNotContain:"DoesNotContain",DoesNotStartWith:"DoesNotStartWith",DoesNotEndWith:"DoesNotEndWith",IsGreaterThan:"IsGreaterThan",IsGreaterThanOrEqual:"IsGreaterThanOrEqual",IsLessThan:"IsLessThan",IsLessThanOrEqual:"IsLessThanOrEqual"});b.FormFieldType=Object.freeze({TextFormField:"TextFormField",CheckFormField:"CheckFormField",SelectionFormField:"SelectionFormField",DateFormField:"DateFormField"});b.ConditionalInstructionDialog=(function(q){__extends(r,q);function r(t,s,v,u){q.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ConditionalInstructionDialog,ElementID:"conditionalInstructionDialog",Width:"auto",TitleResourceName:"ID_CONDITIONALINSTRUCTION_CAPTION"};this.instruction=u=u||{name:"",nameOld:"",conditions:[null],instructions:[null]};this.formFields=t=t||[];this.existingNames=s;this.conditionRows=[];this.instructionRows=[];this._={};this._.successHandler=v;}r.prototype.updateInstruction=function(){var s=this;var t=document.getElementById("conditionalInstructionDialog_txtName");this.instruction.name=t.value.trim();if(!this.instruction.nameOld){this.instruction.nameOld=this.instruction.name;}this.instruction.conditions=[];this.conditionRows.forEach(function(u){s.instruction.conditions.push(u.getInfo());});this.instruction.instructions=[];this.instructionRows.forEach(function(u){s.instruction.instructions.push(u.getInfo());});};r.prototype.close=function(s){try{if(this.dialogData.dialogResult){this.updateInstruction();if(this._.successHandler){this._.successHandler(this.instruction);}}}finally{a(s).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();}};r.prototype.dialogReady=function(){var u=this;this.txtName=document.getElementById("conditionalInstructionDialog_txtName");this.btnOK=document.getElementById("btnOK_"+this.dialogContainerID);this.txtName.value=this.instruction.name;b.enableButton(u.btnOK,!!this.instruction.name);this.txtName.addEventListener("change",v);this.txtName.addEventListener("input",v);var s=document.querySelector("#conditionalInstructionDialog_divConditions > table");var t=document.querySelector("#conditionalInstructionDialog_divActions > table");this.populateTable(s,f,this.instruction.conditions,this.conditionRows);this.populateTable(t,h,this.instruction.instructions,this.instructionRows);function v(){var x=u.txtName.value.trim();var w=(x===u.instruction.nameOld)||!u.existingNames.find(function(y){return y===x;});if(!w){u.txtName.classList.add("invalidText");u.txtName.title=m.ERR_CONDITIONALINSTRUCTION_NAME_UNIQUENESS;}else{u.txtName.classList.remove("invalidText");u.txtName.title="";}if(w){w=!!x;}b.enableButton(u.btnOK,w);}};r.prototype.populateTable=function(u,D,x,C){var E=this,v,y;for(v=0;v<x.length;++v){var w=x[v];var t=document.createElement("tr");var s=cloneObject(w);y=new D(s,this.formFields,t,v===0);y.addEventListener("isValidChanged",A);y.addEventListener("addButtonClicked",z);y.addEventListener("removeButtonClicked",B);C.push(y);u.appendChild(t);}if(x.length===1){C[0].isRemoveButtonEnabled=false;}function z(F){var G=document.createElement("tr");var H=new D(null,E.formFields,G);H.addEventListener("isValidChanged",A);H.addEventListener("addButtonClicked",z);H.addEventListener("removeButtonClicked",B);if(C.length===1){C[0].isRemoveButtonEnabled=true;}if(F.nextSibling){for(v=0;v<C.length;++v){if(C[v].tr===F.nextSibling){C.splice(v,0,H);break;}}u.insertBefore(G,F.nextSibling);}else{u.appendChild(G);C.push(H);}}function B(F){for(v=0;v<C.length;++v){var G=C[v].tr;if(G===F){C.splice(v,1);u.removeChild(G);break;}}if(C.length===1){C[0].isRemoveButtonEnabled=false;}if(D===f){C[0].removeLogOp();}}function A(F){b.enableButton(E.btnOK,F);}};r.prototype.applyStringResources=function(s){m=s;a("#ID_CONDITIONALINSTRUCTION_NAME").text(s.ID_CONDITIONALINSTRUCTION_NAME);a("#ID_CONDITIONALINSTRUCTION_CONDITIONS").text(s.ID_CONDITIONALINSTRUCTION_CONDITIONS);a("#ID_CONDITIONALINSTRUCTION_INSTRUCTIONS").text(s.ID_CONDITIONALINSTRUCTION_INSTRUCTIONS);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_FORMFIELDVALUE").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_FORMFIELDVALUE);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARISON").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARISON);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARETO").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARETO);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONFORMFIELD").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONFORMFIELD);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE);this.setDefaultBtnTexts(s);j=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_AND,value:"And"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_OR,value:"Or"},];d.CheckFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot}];d.DateFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTODATE,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTODATE,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANDATE,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUALDATE,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANDATE,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUALDATE,value:e.IsLessThanOrEqual}];d.SelectionFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO+" "+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"")[0].toLowerCase()+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"").substring(1),value:e.IsAListItem},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO+" "+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"")[0].toLowerCase()+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"").substring(1),value:e.IsNotAListItem},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MATCHESREGEX,value:e.MatchesRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTMATCHREGEX,value:e.DoesNotMatchRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_CONTAINS,value:e.Contains},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_STARTSWITH,value:e.StartsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ENDSWITH,value:e.EndsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTCONTAIN,value:e.DoesNotContain},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTSTARTWITH,value:e.DoesNotStartWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTENDWITH,value:e.DoesNotEndWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHAN,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUAL,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHAN,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUAL,value:e.IsLessThanOrEqual}];d.TextFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MATCHESREGEX,value:e.MatchesRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTMATCHREGEX,value:e.DoesNotMatchRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_CONTAINS,value:e.Contains},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_STARTSWITH,value:e.StartsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ENDSWITH,value:e.EndsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTCONTAIN,value:e.DoesNotContain},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTSTARTWITH,value:e.DoesNotStartWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTENDWITH,value:e.DoesNotEndWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHAN,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUAL,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHAN,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUAL,value:e.IsLessThanOrEqual}];g=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DATE,value:o.Date},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_YEAR,value:o.Year},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH,value:o.Month},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFMONTH,value:o.DayOfMonth},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK,value:o.Weekday}];k=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_0,value:"January"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_1,value:"February"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_2,value:"March"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_3,value:"April"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_4,value:"May"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_5,value:"June"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_6,value:"July"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_7,value:"August"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_8,value:"September"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_9,value:"October"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_10,value:"November"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_11,value:"December"}];p=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_0,value:"Sunday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_1,value:"Monday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_2,value:"Tuesday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_3,value:"Wednesday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_4,value:"Thursday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_5,value:"Friday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_6,value:"Saturday"}];c=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_INSTRUCTION_CHECKED,value:"True"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_INSTRUCTION_UNCHECKED,value:"False"}];i.TextFormField=[{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_ALLOWFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_DENYFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"False"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWVALUE,value:{instr:b.InstructionType.SetValue}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASVALID,value:{instr:b.InstructionType.IsValueValid,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASINVALID,value:{instr:b.InstructionType.IsValueValid,val:"False"}}];i.SelectionFormField=[{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_ALLOWFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_DENYFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"False"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWVALUE,value:{instr:b.InstructionType.SetValue}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWITEMS,value:{instr:b.InstructionType.SetItems}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASVALID,value:{instr:b.InstructionType.IsValueValid,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASINVALID,value:{instr:b.InstructionType.IsValueValid,val:"False"}}];i.CheckFormField=i.DateFormField=i.TextFormField;};return r;})(b.HTMLDialog);var l=(function(){function q(r,t,s){this.formFields=r;this.isFirstRow=s||false;this.tr=t;this.field=null;this._={eventListeners:{},isValid:true};}Object.defineProperty(q.prototype,"isValid",{get:function(){return this._.isValid;},set:function(r){if(r!==this._.isValid){this._.isValid=r;this.fireIsValidChangedEvent();}},enumerable:true,configurable:true});q.prototype.addEventListener=function(s,r){if(!this._.eventListeners[s]){this._.eventListeners[s]=[];}this._.eventListeners[s].push(r);};q.prototype.fireEvent=function(s,r){var t=this._.eventListeners[s];if(t){t.forEach(function(u){u(r);});}};q.prototype.fireIsValidChangedEvent=function(){this.fireEvent("isValidChanged",this._.isValid);};Object.defineProperty(q.prototype,"isAddButtonEnabled",{get:function(){var r=this.tr.querySelector("button.conditionalInstructionDialog_btnAdd");return !r.disabled;},set:function(s){var r=this.tr.querySelector("button.conditionalInstructionDialog_btnAdd");b.enableButton(r,s);},enumerable:true,configurable:true});Object.defineProperty(q.prototype,"isRemoveButtonEnabled",{get:function(){var r=this.tr.querySelector("button.conditionalInstructionDialog_btnRem");return !r.disabled;},set:function(s){var r=this.tr.querySelector("button.conditionalInstructionDialog_btnRem");b.enableButton(r,s);},enumerable:true,configurable:true});q.prototype.addFieldNameSelect=function(r,s){var u,v=document.createElement("select"),x=this;this.formFields.forEach(function(y){u=document.createElement("option");u.text=y.name;u.value=y.hashCode;v.add(u);});this.field=t(s);v.value=s;v.addEventListener("change",w);this.tr.cells[r].appendChild(v);function w(y){var A=parseInt(v.value,10);var z=t(A);x.field=z;x.reset();x.addFieldDetails();}function t(z){var y=x.formFields.find(function(A){return A.hashCode===z;});if(!y){throw new Error("Field with hash code \'"+z+"\' not found.");}return y;}};q.prototype.reset=function(){console.error("NOT IMPLEMENTED");};q.prototype.addFieldDetails=function(){console.error("NOT IMPLEMENTED");};q.prototype.validate=function(){console.error("NOT IMPLEMENTED");};q.prototype.getInfo=function(){console.error("NOT IMPLEMENTED");};return q;})();var f=(function(q){__extends(s,q);function s(z,A,D,B){q.call(this,A,D,B);var C=this;this.condition=z=z||{fieldHashCode:A[0].hashCode,value:"",compOp:d.TextFormField[0].value,compOpInternal:d.TextFormField[0].value,logOp:j[0].value,valueType:o.NoValue};D.innerHTML="<td></td><td></td><td></td><td></td><td></td><td></td><td></td>";D.cells[5].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnAdd">\\uFE0E</button>\';D.cells[6].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnRem">\\uFE0E</button>\';var v=D.querySelector("button.conditionalInstructionDialog_btnAdd");v.addEventListener("click",w);var x=D.querySelector("button.conditionalInstructionDialog_btnRem");x.addEventListener("click",y);if(!B){r(D.cells[0],z.logOp);}this.addFieldNameSelect(1,z.fieldHashCode);this.addFieldDetails();function w(){C.fireEvent("addButtonClicked",C.tr);}function y(){C.fireEvent("removeButtonClicked",C.tr);}}Object.defineProperty(s.prototype,"logicalOperator",{get:function(){var v=this.tr.cells[0].querySelector("select");return v?v.value:j[0].value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonOperator",{get:function(){var v=this.tr.cells[2].querySelector("select").value;switch(v){case e.MatchesRegex:case e.IsAListItem:return e.Is;case e.DoesNotMatchRegex:case e.IsNotAListItem:return e.IsNot;default:return v;}},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonOperatorInternal",{get:function(){return this.tr.cells[2].querySelector("select").value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonValue",{get:function(){var v,w;switch(this.field.fieldType){case b.FormFieldType.DateFormField:v=(this.comparisonValueType!==o.NoValue)?4:null;break;case b.FormFieldType.CheckFormField:switch(this.comparisonOperator){case e.Is:return"True";case e.IsNot:return"False";default:throw new Error("Invalid check form field comparison operator \'"+this.comparisonOperator+"\'. A check form field only allows the operators \'Is\' and \'IsNot\'.");}default:v=3;break;}if(!v){return null;}w=this.tr.cells[v].querySelector("input");if(!w){w=this.tr.cells[v].querySelector("select");}return w.value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonValueType",{get:function(){switch(this.field.fieldType){case b.FormFieldType.DateFormField:return this.tr.cells[3].querySelector("select").value;case b.FormFieldType.CheckFormField:return o.CheckState;default:switch(this.comparisonOperatorInternal){case e.MatchesRegex:case e.DoesNotMatchRegex:return o.Regex;case e.IsAListItem:case e.IsNotAListItem:return o.AnyItem;default:return this.comparisonValue===""?o.NoValue:o.CustomText;}break;}},enumerable:true,configurable:true});s.prototype.addFieldDetails=function(){this.tr.cells[2].innerHTML="";this.tr.cells[3].innerHTML="";this.tr.cells[4].innerHTML="";switch(this.condition.valueType){case o.CheckState:this.checkState();break;case o.NoValue:this.noValue();break;case o.SpecificItem:this.condition.valueType=o.CustomText;case o.CustomText:case o.AnyItem:this.customText();break;case o.Regex:this.customText();break;case o.Date:this.date();break;case o.Year:this.year();break;case o.Month:this.month();break;case o.DayOfMonth:this.dayOfMonth();break;case o.Weekday:this.weekday();break;default:throw new Error("Unknown condition value type \'"+this.condition.valueType+"\'.");}};function r(x,v){var w=document.createElement("select");j.forEach(function(y){var z=document.createElement("option");z.text=y.text;z.value=y.value;w.add(z);});w.value=v;x.appendChild(w);}s.prototype.reset=function(){var y=this;this.condition.fieldHashCode=this.field.hashCode;switch(this.field.fieldType){case b.FormFieldType.TextFormField:z();break;case b.FormFieldType.CheckFormField:v();break;case b.FormFieldType.SelectionFormField:x();break;case b.FormFieldType.DateFormField:w();break;}function z(){y.condition.value="";y.condition.compOp=y.condition.compOpInternal=d.TextFormField[0].value;y.condition.valueType=o.NoValue;}function v(){y.condition.value=c[0].value;y.condition.compOp=y.condition.compOpInternal=d.CheckFormField[0].value;y.condition.valueType=o.CheckState;}function x(){y.condition.value="";y.condition.compOp=y.condition.compOpInternal=d.SelectionFormField[0].value;y.condition.valueType=o.NoValue;}function w(){var A=new Date();y.condition.value=A.toLocaleDateString(b.getCultures().culture);y.condition.compOp=y.condition.compOpInternal=d.DateFormField[0].value;y.condition.valueType=o.Date;}this.isValid=true;};s.prototype.removeLogOp=function(){this.tr.cells[0].innerHTML="";this.condition.logOp=j[0].value;};s.prototype.addCompOps=function(v){var z=this,w,x=document.createElement("select");v.forEach(function(A){w=document.createElement("option");w.text=A.text;w.value=A.value;x.add(w);});x.value=this.condition.compOpInternal;x.addEventListener("change",y);this.tr.cells[2].appendChild(x);function y(B){var A=x.value,D=o.CustomText;z.condition.compOpInternal=A;var C=z.tr.cells[3].querySelector("input[type=text]");if(!C){throw new Error("\'Comparison value\' textbox not found.");}switch(A){case e.MatchesRegex:A=e.Is;D=o.Regex;break;case e.DoesNotMatchRegex:A=e.IsNot;D=o.Regex;break;case e.IsAListItem:A=e.Is;D=o.AnyItem;break;case e.IsNotAListItem:A=e.IsNot;D=o.AnyItem;break;default:if((z.condition.valueType===o.Regex)||(z.condition.valueType===o.AnyItem)){D=o.CustomText;}break;}if(D===o.AnyItem){C.value="";C.disabled=true;}else{C.disabled=false;}z.condition.compOp=A;z.condition.valueType=D;z.validate();}};s.prototype.validate=function(){switch(this.field.fieldType){case b.FormFieldType.TextFormField:case b.FormFieldType.SelectionFormField:this.validateCustomText();break;case b.FormFieldType.CheckFormField:this.validateCheckState();break;case b.FormFieldType.DateFormField:this.validateDate();break;}};s.prototype.validateCustomText=function(){var v=this.tr.cells[3].querySelector("input[type=text]");if(!v){throw new Error("Textbox not found. Cannot validate row.");}this.isValid=u(v,this.condition.valueType,this.condition.compOp);};s.prototype.validateCheckState=function(){this.isValid=true;};s.prototype.validateDate=function(){};s.prototype.checkState=function(){this.addCompOps(d.CheckFormField);var v=document.createElement("input");v.type="text";v.disabled=true;v.value=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_CHECKED;this.tr.cells[3].appendChild(v);};s.prototype.noValue=function(){switch(this.field.fieldType){case b.FormFieldType.TextFormField:case b.FormFieldType.SelectionFormField:this.customText();break;case b.FormFieldType.CheckFormField:this.checkState();break;case b.FormFieldType.DateFormField:this.date();break;}};s.prototype.addDatePickerCompValTypes=function(){var y=this,v,w=document.createElement("select");v=document.createElement("option");v.text=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;v.value=o.NoValue;w.add(v);g.forEach(function(z){v=document.createElement("option");v.text=z.text;v.value=z.value;w.add(v);});w.value=this.condition.valueType;w.addEventListener("change",x);this.tr.cells[3].appendChild(w);function x(z){var A=new Date();y.tr.cells[4].innerHTML="";switch(w.value){case o.NoValue:y.condition.value=null;break;case o.Date:y.condition.value=A.toLocaleDateString(b.getCultures().culture);y.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);break;case o.Year:y.condition.value=A.getFullYear().toString();y.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);break;case o.Month:y.condition.value=k[0].value;y.addMonths();break;case o.DayOfMonth:y.condition.value="1";y.addDaysOfMonth();break;case o.Weekday:y.condition.value=p[0].value;y.addWeekdays();break;}}};s.prototype.addDateValue=function(v){if(this.condition.value===null){return;}var w=document.createElement("input");w.type="text";w.placeholder=v;w.value=this.condition.value?this.condition.value.trim():"";this.tr.cells[4].appendChild(w);};s.prototype.date=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);};s.prototype.year=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);};s.prototype.addMonths=function(){var v,w=document.createElement("select");k.forEach(function(x){v=document.createElement("option");v.text=x.text;v.value=x.value;w.add(v);});w.value=this.condition.value;this.tr.cells[4].appendChild(w);};s.prototype.month=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addMonths();};s.prototype.addDaysOfMonth=function(){var w,x=document.createElement("select");for(var v=1;v<32;++v){w=document.createElement("option");w.text=w.value=v;x.add(w);}x.value=this.condition.value;this.tr.cells[4].appendChild(x);};s.prototype.dayOfMonth=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDaysOfMonth();};s.prototype.addWeekdays=function(){var v,w=document.createElement("select");p.forEach(function(x){v=document.createElement("option");v.text=x.text;v.value=x.value;w.add(v);});w.value=this.condition.value;this.tr.cells[4].appendChild(w);};s.prototype.weekday=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addWeekdays();};function t(w){if(!w){return false;}try{var x=new RegExp(w);return true;}catch(v){return false;}}function u(x,y,v){var w;switch(y){case o.Regex:w=t(x.value);break;default:switch(v){case e.Is:case e.IsNot:w=true;break;default:w=(x.value!=="");break;}break;}if(w){x.classList.remove("invalidText");}else{x.classList.add("invalidText");}return w;}s.prototype.addCustomTextValue=function(){var v=this;this.tr.cells[3].innerHTML="";var w=document.createElement("input");w.type="text";w.placeholder=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;w.addEventListener("input",x);w.addEventListener("change",x);w.value=this.condition.value?this.condition.value.trim():"";this.tr.cells[3].appendChild(w);if(this.condition.valueType===o.AnyItem){w.disabled=true;}function x(y){v.isValid=u(w,v.condition.valueType,v.condition.compOp);}};s.prototype.customText=function(){switch(this.field.fieldType){case b.FormFieldType.SelectionFormField:this.addCompOps(d.SelectionFormField);break;default:this.addCompOps(d.TextFormField);break;}this.addCustomTextValue();};s.prototype.getInfo=function(){return{fieldHashCode:this.field.hashCode,logOp:this.logicalOperator,compOp:this.comparisonOperator,compOpInternal:this.comparisonOperatorInternal,value:this.comparisonValue,valueType:this.comparisonValueType};};return s;}(l));var h=(function(q){__extends(r,q);function r(z,y,B){q.call(this,y,B);var A=this;this.instruction=z=z||{fieldHashCode:y[0].hashCode,type:b.InstructionType.IsEnabled,value:"True",elseValue:"False",isInitial:true,hasElsePath:true,reactsToFormFieldChange:true};B.innerHTML="<td></td><td></td><td></td><td></td><td></td><td></td>";B.cells[3].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnSettings">&nbsp;</button>\';B.cells[4].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnAdd">\\uFE0E</button>\';B.cells[5].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnRem">\\uFE0E</button>\';var w=B.querySelector("button.conditionalInstructionDialog_btnSettings");w.addEventListener("click",x);var s=B.querySelector("button.conditionalInstructionDialog_btnAdd");s.addEventListener("click",t);var u=B.querySelector("button.conditionalInstructionDialog_btnRem");u.addEventListener("click",v);w.style.backgroundImage="url("+b.imageResources.small.advancedSettings+")";this.addFieldNameSelect(0,z.fieldHashCode);this.addFieldDetails();function x(){var D=cloneObject(z);var C=new b.AdvancedInstructionSettingsDialog(E,D,A.field.fieldType);C.showModal();function E(F){A.instruction.isInitial=F.isInitial;A.instruction.elseValue=F.elseValue;A.instruction.hasElsePath=F.hasElsePath;A.instruction.reactsToFormFieldChange=F.reactsToFormFieldChange;}}function t(){A.fireEvent("addButtonClicked",A.tr);}function v(){A.fireEvent("removeButtonClicked",A.tr);}}Object.defineProperty(r.prototype,"instructionType",{get:function(){var t=this.tr.cells[1].querySelector("select").value;var s=JSON.parse(t);return s.instr;},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"instructionValue",{get:function(){var v=this.tr.cells[1].querySelector("select").value;var s=JSON.parse(v);if(s.val){return s.val;}switch(this.instructionType){case b.InstructionType.SetItems:return this.instruction.value;case b.InstructionType.SetValue:switch(this.field.fieldType){case b.FormFieldType.CheckFormField:var t=this.tr.cells[2].querySelector("select");if(!t){throw new Error("Value drop down element not found.");}return t.value;default:var u=this.tr.cells[2].querySelector("input[type=text]");if(!u){throw new Error("Value textbox not found.");}return u.value;}}throw new Error("Invalid instruction type \'"+this.instructionType+"\'.");},enumerable:true,configurable:true});r.prototype.reset=function(){this.instruction.fieldHashCode=this.field.hashCode;this.resetInstruction();};r.prototype.resetInstruction=function(){this.instruction.type=b.InstructionType.IsEnabled;this.instruction.value="True";this.resetAdditionalSettings();};r.prototype.resetAdditionalSettings=function(){switch(this.instruction.type){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:this.instruction.elseValue=(this.instruction.value==="True")?"False":"True";this.instruction.isInitial=true;this.instruction.hasElsePath=true;this.instruction.reactsToFormFieldChange=true;break;case b.InstructionType.SetItems:case b.InstructionType.SetValue:switch(this.field.fieldType){case b.FormFieldType.CheckFormField:this.instruction.elseValue=(this.instruction.value==="True")?"False":"True";break;default:this.instruction.elseValue=null;break;}this.instruction.isInitial=true;this.instruction.hasElsePath=false;this.instruction.reactsToFormFieldChange=true;break;}};r.prototype.addFieldDetails=function(){this.tr.cells[1].innerHTML="";this.tr.cells[2].innerHTML="";this.addInstructions();switch(this.instruction.type){case b.InstructionType.SetItems:this.addFieldDetails_setItems();break;case b.InstructionType.SetValue:this.addFieldDetails_setValue();break;}};r.prototype.addInstructions=function(){var y=this,v,w=document.createElement("select"),t,s=false;var u=i[this.field.fieldType];u.forEach(function(A){v=document.createElement("option");v.text=A.text;v.value=JSON.stringify(A.value);w.add(v);});for(t=0;t<u.length;++t){v=w.options[t];var z=JSON.parse(v.value);if(z.instr===this.instruction.type){switch(this.instruction.type){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:if(this.instruction.value===z.val){w.selectedIndex=t;s=true;}break;default:w.selectedIndex=t;s=true;break;}}if(s){break;}}w.addEventListener("change",x);this.tr.cells[1].appendChild(w);function x(A){var B=JSON.parse(w.value);y.tr.cells[2].innerHTML="";y.instruction.type=B.instr;switch(B.instr){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:y.instruction.value=B.val;break;case b.InstructionType.SetItems:y.instruction.value=[];y.addFieldDetails_setItems();break;case b.InstructionType.SetValue:switch(y.field.fieldType){case b.FormFieldType.CheckFormField:y.instruction.value=c[0].value;break;default:y.instruction.value="";break;}y.addFieldDetails_setValue();break;}y.resetAdditionalSettings();}};r.prototype.addFieldDetails_setItems=function(){var u=this;var s=document.createElement("button");s.type="button";s.textContent=m.ID_CONDITIONALINSTRUCTION_BTN_ROW_INSTRUCTION_SPECIFYITEMS;s.addEventListener("click",t);this.tr.cells[2].appendChild(s);function t(){var w=u.instruction.value.join(";");var v=new b.InputBoxDialog(m.USR_INP_FORM_FIELD_ITEMS_TITLE,w,m.USR_INP_FORM_FIELD_ITEMS_LABEL);v.showModal(function(y){var x=y.split(";").map(function(z){return z.trim();}).filter(function(z){return !!z;});u.instruction.value=x;});}};r.prototype.addFieldDetails_setValue=function(){var u,w,s,t=this;switch(this.field.fieldType){case b.FormFieldType.CheckFormField:u=document.createElement("select");c.forEach(function(y){s=document.createElement("option");s.text=y.text;s.value=y.value;u.add(s);});u.classList.add("selInstructionValue");u.value=this.instruction.value;u.addEventListener("change",v);this.tr.cells[2].appendChild(u);break;default:w=document.createElement("input");w.type="text";w.value=this.instruction.value;w.placeholder=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;w.classList.add("txtInstructionValue");w.addEventListener("input",x);w.addEventListener("change",x);this.tr.cells[2].appendChild(w);break;}function x(y){t.instruction.value=w.value.trim();}function v(y){t.instruction.value=u.value;t.instruction.elseValue=(u.value==="True")?"False":"True";}};r.prototype.getInfo=function(){return{fieldHashCode:this.field.hashCode,type:this.instructionType,value:this.instructionValue,elseValue:this.instruction.elseValue,isInitial:this.instruction.isInitial,hasElsePath:this.instruction.hasElsePath,reactsToFormFieldChange:this.instruction.reactsToFormFieldChange};};return r;}(l));return n;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this);this.fieldAdapter=f;this.textField=g||null;this.fieldDataReceivedHandlerBound=this.fieldDataReceivedHandler.bind(this);}e.prototype.fieldDataReceivedHandler=function(f){var h=f.detail.fieldType,g=f.detail.field;if(!g||(h!=this.DialogInfo.FieldType)){return;}this.setValues(g);};e.prototype.OKHandler=function(g){if(this.textField){var f={updatedValues:this.getValues(),textField:this.textField};b.sendCommand(b.Command.UpdateField,this.DialogInfo.FieldType,0,0,f);}else{b.sendCommand(b.Command.InsertItem,b.ItemType.FieldAdapter,this.DialogInfo.FieldType,0,this.getValues());}this.close(g);};e.prototype.closing=function(f){if(!this.fieldAdapter){document.removeEventListener("fieldDataReceived",this.fieldDataReceivedHandlerBound);}};e.prototype.dialogize_base=e.prototype.dialogize;e.prototype.dialogize=function(f){this.dialogize_base(f);if(!this.fieldAdapter){document.addEventListener("fieldDataReceived",this.fieldDataReceivedHandlerBound);b.sendCommand(b.Command.GetItem,b.ItemType.FieldAdapter);}else{this.setValues(this.fieldAdapter);}};e.prototype.setValues=function(f){};e.prototype.getValues=function(){return{};};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.IfFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.IfFieldDialog,FieldType:b.FieldType.IfField,ElementID:"ifFieldDialog",Width:385,TitleResourceName:"IF_FIELD_DIALOG_TITLE"};}e.prototype.setValues=function(f){a("#txtFieldName").val(f.Expression1);a("#txtCompareTo").val(f.Expression2);a("#txtInsertThis").val(f.TrueText);a("#txtOtherwise").val(f.FalseText);document.getElementById("selIfFldOperators").selectedIndex=f.Operator;};e.prototype.getValues=function(){var f={Expression1:a("#txtFieldName").val(),Expression2:a("#txtCompareTo").val(),TrueText:a("#txtInsertThis").val(),FalseText:a("#txtOtherwise").val(),Operator:document.getElementById("selIfFldOperators").selectedIndex};return f;};e.prototype.applyStringResources=function(f){a("#IF_FIELD_GROUP_BOX > legend").text(f.IF_FIELD_GROUP_BOX);a("#IF_FIELD_LABEL_NAME").text(f.IF_FIELD_LABEL_NAME);a("#IF_FIELD_LABEL_COMPARISON").text(f.IF_FIELD_LABEL_COMPARISON);a("#IF_FIELD_COMBO_BOX_COMPARISON_EQUALS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_EQUALS);a("#IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL);a("#IF_FIELD_LABEL_COMPARE_TO").text(f.IF_FIELD_LABEL_COMPARE_TO);a("#IF_FIELD_LABEL_INSERT_THIS").text(f.IF_FIELD_LABEL_INSERT_THIS);a("#IF_FIELD_LABEL_OTHERWISE").text(f.IF_FIELD_LABEL_OTHERWISE);this.setDefaultBtnTexts(f);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.MergeFieldDialog,FieldType:b.FieldType.MergeField,ElementID:"mergeFieldDialog",TitleResourceName:"MERGEFIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){document.getElementById("txtFieldName").value=f.Name;document.getElementById("selMergeFieldFormat").selectedIndex=f.TextFormat;document.getElementById("txtTextBefore").value=f.TextBefore;document.getElementById("txtTextBefore").disabled=(f.TextBefore.length==0);document.getElementById("chkTextBefore").checked=(f.TextBefore.length>0);document.getElementById("txtTextAfter").value=f.TextAfter;document.getElementById("txtTextAfter").disabled=(f.TextAfter.length==0);document.getElementById("chkTextAfter").checked=(f.TextAfter.length>0);document.getElementById("txtDateTimeFormat").value=f.DateTimeFormat;document.getElementById("txtDateTimeFormat").disabled=(f.DateTimeFormat.length==0);document.getElementById("chkDateTimeFormat").checked=(f.DateTimeFormat.length>0);document.getElementById("txtNumericFormat").value=f.NumericFormat;document.getElementById("txtNumericFormat").disabled=(f.NumericFormat.length==0);document.getElementById("chkNumericFormat").checked=(f.NumericFormat.length>0);document.getElementById("chkPreserveFormat").checked=(f.PreserveFormatting);};e.prototype.getValues=function(){var f={Name:a("#txtFieldName").val(),TextFormat:document.getElementById("selMergeFieldFormat").selectedIndex,TextBefore:document.getElementById("chkTextBefore").checked?document.getElementById("txtTextBefore").value:"",TextAfter:document.getElementById("chkTextAfter").checked?document.getElementById("txtTextAfter").value:"",DateTimeFormat:document.getElementById("chkDateTimeFormat").checked?document.getElementById("txtDateTimeFormat").value:"",NumericFormat:document.getElementById("chkNumericFormat").checked?document.getElementById("txtNumericFormat").value:"",PreserveFormatting:document.getElementById("chkPreserveFormat").checked,};return f;};e.prototype.applyStringResources=function(f){a("#MERGEFIELD_GROUP_FIELD_PROPERTIES > legend").text(f.MERGEFIELD_GROUP_FIELD_PROPERTIES);a("#MERGEFIELD_LABEL_NAME").text(f.MERGEFIELD_LABEL_NAME);a("#MERGEFIELD_LABEL_TEXT").text(f.MERGEFIELD_LABEL_TEXT);a("#MERGEFIELD_LABEL_FORMAT").text(f.MERGEFIELD_LABEL_FORMAT);a("#MERGEFIELD_FORMAT_NONE").text(f.MERGEFIELD_FORMAT_NONE);a("#MERGEFIELD_FORMAT_UPPER").text(f.MERGEFIELD_FORMAT_UPPER);a("#MERGEFIELD_FORMAT_LOWER").text(f.MERGEFIELD_FORMAT_LOWER);a("#MERGEFIELD_FORMAT_FIRST_CAP").text(f.MERGEFIELD_FORMAT_FIRST_CAP);a("#MERGEFIELD_FORMAT_TITLE_CASE").text(f.MERGEFIELD_FORMAT_TITLE_CASE);a("#MERGEFIELD_GROUP_FIELD_OPTIONS > legend").text(f.MERGEFIELD_GROUP_FIELD_OPTIONS);a("#MERGEFIELD_LABEL_TEXT_BEFORE").text(f.MERGEFIELD_LABEL_TEXT_BEFORE);a("#MERGEFIELD_LABEL_TEXT_AFTER").text(f.MERGEFIELD_LABEL_TEXT_AFTER);a("#MERGEFIELD_LABEL_DATE_TIME_FORMAT").text(f.MERGEFIELD_LABEL_DATE_TIME_FORMAT);a("#MERGEFIELD_LABEL_NUMERIC_FORMAT").text(f.MERGEFIELD_LABEL_NUMERIC_FORMAT);a("#MERGEFIELD_CHECK_BOX_PRESERVE_FORMAT").text(f.MERGEFIELD_CHECK_BOX_PRESERVE_FORMAT);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){function i(j){a("#txtTextBefore").prop("disabled",!j.target.checked);}function h(j){a("#txtTextAfter").prop("disabled",!j.target.checked);}function f(j){a("#txtDateTimeFormat").prop("disabled",!j.target.checked);}function g(j){a("#txtNumericFormat").prop("disabled",!j.target.checked);}a("#chkTextBefore").click(i);a("#chkTextAfter").click(h);a("#chkDateTimeFormat").click(f);a("#chkNumericFormat").click(g);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeFieldTextFormat=Object.freeze({None:0,Uppercase:1,Lowercase:2,FirstCapital:3,TitleCase:4,});b.IncludeTextField=(function(d){__extends(IncludeTextField,d);function IncludeTextField(fileName){d.call(this,true);this.fileName=fileName||"";this.textFormat=0;this.bookmark="";}IncludeTextField.prototype.toPascalCase=function(){return{Filename:this.fileName,TextFormat:this.textFormat,Bookmark:this.bookmark,PreserveFormatting:this.preserveFormatting};};return IncludeTextField;})(b.FieldAdapter);b.IncludeTextFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.IncludeTextFieldDialog,FieldType:b.FieldType.IncludeTextField,ElementID:"includeTextFieldDialog",Width:300,TitleResourceName:"INCLUDETEXT_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtFilename").val(f.Filename);a("#txtBookmark").val(f.Bookmark);document.getElementById("selectTextFormat").selectedIndex=f.TextFormat;document.getElementById("chkPresFmt").checked=f.PreserveFormatting;};e.prototype.getValues=function(){var f={Filename:a("#txtFilename").val(),Bookmark:a("#txtBookmark").val(),TextFormat:document.getElementById("selectTextFormat").selectedIndex,PreserveFormatting:document.getElementById("chkPresFmt").checked};return f;};e.prototype.applyStringResources=function(f){a("#INCLUDETEXT_GROUP_FIELD_OPTIONS > legend").text(f.INCLUDETEXT_GROUP_FIELD_OPTIONS);a("#INCLUDETEXT_LABEL_FILENAME").text(f.INCLUDETEXT_LABEL_FILENAME);a("#INCLUDETEXT_LABEL_BOOKMARK").text(f.INCLUDETEXT_LABEL_BOOKMARK);a("#INCLUDETEXT_LABEL_TEXT_FORMAT").text(f.INCLUDETEXT_LABEL_TEXT_FORMAT);a("#INCLUDETEXT_LIST_FORMAT_NONE").text(f.INCLUDETEXT_LIST_FORMAT_NONE);a("#INCLUDETEXT_LIST_FORMAT_UPPER").text(f.INCLUDETEXT_LIST_FORMAT_UPPER);a("#INCLUDETEXT_LIST_FORMAT_LOWER").text(f.INCLUDETEXT_LIST_FORMAT_LOWER);a("#INCLUDETEXT_LIST_FORMAT_FIRST_CAP").text(f.INCLUDETEXT_LIST_FORMAT_FIRST_CAP);a("#INCLUDETEXT_LIST_FORMAT_TITLE_CASE").text(f.INCLUDETEXT_LIST_FORMAT_TITLE_CASE);a("#INCLUDETEXT_CHECK_BOX_PRESERVE_FORMAT").text(f.INCLUDETEXT_CHECK_BOX_PRESERVE_FORMAT);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){var f=document.getElementById("selectTextFormat");if(f.selectedIndex<0){f.selectedIndex=0;}};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DateFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.DateFieldDialog,FieldType:b.FieldType.DateField,ElementID:"dateFieldDialog",Width:280,TitleResourceName:"DATEFIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtDateFormat").val(f.Format);a("#chkPresFmt").prop("checked",f.PreserveFormatting);};e.prototype.getValues=function(){var f={Format:a("#txtDateFormat").val(),PreserveFormatting:document.getElementById("chkPresFmt").checked,};return f;};e.prototype.applyStringResources=function(h){var f=["dd.MM.yyyy","dddd, d. MMMM yyyy","d. MMMM yyyy","dd.MM.yy","yyyy-MM-dd","yy-MM-dd","dd. MMM. yyyy","dd/MM/yy","MMMM yy","MMM-yy","dd.MM.yyyy HH:mm","dd.MM.yyyy HH:mm:ss","h:mm tt","h:mm:ss tt","HH:mm","HH:mm:ss",];a("#DATEFIELD_LABEL_DATE_FORMATS").text(h.DATEFIELD_LABEL_DATE_FORMATS);a("#DATEFIELD_CHECK_BOX_PRESERVE_FORMAT").text(h.DATEFIELD_CHECK_BOX_PRESERVE_FORMAT);var g=document.getElementById("selDateFormats");f.forEach(function(k){var i=h[k];if(i){var j=document.createElement("option");g.appendChild(j);j.value=k;j.text=i;}});this.setDefaultBtnTexts(h);};e.prototype.dialogReady=function(){var f=document.getElementById("selDateFormats");var g=document.getElementById("txtDateFormat");if(f.selectedIndex<0){f.selectedIndex=0;}f.addEventListener("change",function(){var h=f.options[f.selectedIndex];g.value=h.value;});};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.NextIfFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.NextIfFieldDialog,FieldType:b.FieldType.NextIfField,ElementID:"ifFieldDialog",Width:385,TitleResourceName:"NEXTIF_FIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtFieldName").val(f.Expression1);a("#txtCompareTo").val(f.Expression2);document.getElementById("selIfFldOperators").selectedIndex=f.Operator;};e.prototype.getValues=function(){var f={Expression1:a("#txtFieldName").val(),Expression2:a("#txtCompareTo").val(),Operator:document.getElementById("selIfFldOperators").selectedIndex,};return f;};e.prototype.applyStringResources=function(f){a("#IF_FIELD_GROUP_BOX > legend").text(f.IF_FIELD_GROUP_BOX);a("#IF_FIELD_LABEL_NAME").text(f.IF_FIELD_LABEL_NAME);a("#IF_FIELD_LABEL_COMPARISON").text(f.IF_FIELD_LABEL_COMPARISON);a("#IF_FIELD_COMBO_BOX_COMPARISON_EQUALS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_EQUALS);a("#IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL);a("#IF_FIELD_LABEL_COMPARE_TO").text(f.IF_FIELD_LABEL_COMPARE_TO);a("#IF_FIELD_LABEL_INSERT_THIS").remove();a("#txtInsertThis").remove();a("#IF_FIELD_LABEL_OTHERWISE").remove();a("#txtOtherwise").remove();this.setDefaultBtnTexts(f);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MaxPreviewRowsDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.MaxPreviewRowsDialog,ElementID:"maxPreviewRowsDialog",Width:"auto",Height:120,TitleResourceName:"MAXPREVROWS_DIALOG_TITLE",};this.value=f;}e.prototype.closing=function(f){if(this.dialogData.dialogResult){this.value=parseInt(a("#spinNum").val(),10);this.dialogData.value=this.value;}};e.prototype.applyStringResources=function(f){a("#MAXPREVROWS_LABEL_NUM_RESULTS").text(f.MAXPREVROWS_LABEL_NUM_RESULTS);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){a("#spinNum").spinner({max:100,min:1});a("#spinNum").val(this.value);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{},c={Table:0,Paragraph:1,};b.InsertMergeBlockDialog=(function(e){__extends(h,e);function h(m,l){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InsertMergeBlockDialog,ElementID:"insertMergeBlockDialog",Width:"auto",TitleResourceName:"INSERT_MERGE_BLOCK_DIALOG_TITLE"};this.blockName=m;this.dbScheme=l;}function g(){var m=[];var l=document.querySelectorAll("div#tblColContainer input[type=checkbox]");[].forEach.call(l,function(n){if(n.checked){m.push(n.dataset.columnName);}});return m;}h.prototype.getValues=function(){var l={type:document.getElementById("radioTableRow").checked?c.Table:c.Paragraph,name:this.blockName,headerRow:document.getElementById("chkAddHeaderRow").checked,columnNames:g()};return l;};function f(n){var m=document.getElementById("btnMoveUp");var l=document.getElementById("btnMoveDown");m.disabled=(n.previousElementSibling===null);l.disabled=(n.nextElementSibling===null);}function i(m){var o=m.currentTarget;var n=o.parentElement;for(var p=0;p<n.children.length;++p){var l=n.children[p];l.classList.remove("selected");}o.classList.add("selected");f(o);var q=g().length?"enable":"disable";a("#btnOK_"+this.dialogContainerID).button(q);}h.prototype.createColumnCheckBoxes=function(l){var n=0,o=this,m=document.getElementById("tblColContainer");l.forEach(function(q){var s=document.createElement("div");s.style.cssFloat="left";s.style.clear="left";s.style.width="100%";s.addEventListener("click",i.bind(o));m.appendChild(s);var p="chkColName"+n++,r=document.createElement("input");r.id=p;r.setAttribute("type","checkbox");r.dataset.columnName=q.ColumnName;r.title=q.ColumnName;r.style.cssFloat="left";r.style.clear="left";s.appendChild(r);var t=document.createElement("label");t.setAttribute("for",p);t.textContent=q.ColumnName;t.title=q.ColumnName;t.style.cssFloat="left";s.appendChild(t);});};h.prototype.OKHandler=function(m){var l=this.getValues();if(l.columnNames.length>0){b.sendCommand(b.Command.InsertItem,b.ItemType.MergeBlock,0,0,l);}this.close(m);};h.prototype.btnMoveUpClick=function(l){var n=document.querySelector("#tblColContainer > div.selected");if(n===null){return;}var o=n.previousElementSibling;var m=document.getElementById("tblColContainer");m.removeChild(n);m.insertBefore(n,o);f(n);};h.prototype.btnMoveDownClick=function(l){var n=document.querySelector("#tblColContainer > div.selected");if(n===null){return;}var o=n.nextElementSibling;var m=document.getElementById("tblColContainer");m.removeChild(n);m.insertBefore(n,o.nextElementSibling);f(n);};function k(m){var l=document.getElementById("chkAddHeaderRow");l.disabled=!m.currentTarget.checked;}function j(m){var l=document.getElementById("chkAddHeaderRow");l.disabled=m.currentTarget.checked;}h.prototype.dialogReady=function(){var l=this,m=this.dbScheme.Tables.find(function(n){return(n.TableName.toLowerCase()===l.blockName.toLowerCase());});this.createColumnCheckBoxes(m.Columns);a("#btnOK_"+this.dialogContainerID).button("disable");a("#btnMoveUp").click(l.btnMoveUpClick.bind(l));a("#btnMoveDown").click(l.btnMoveDownClick.bind(l));document.getElementById("radioTableRow").addEventListener("click",k);document.getElementById("radioPlainPar").addEventListener("click",j);};h.prototype.applyStringResources=function(l){a("#INSERT_MERGE_BLOCK_DIALOG_LBL_SEL_TBL_COL").text(l.INSERT_MERGE_BLOCK_DIALOG_LBL_SEL_TBL_COL);a("#INSERT_MERGE_BLOCK_DIALOG_LBL_PLAIN_PAR").text(l.INSERT_MERGE_BLOCK_DIALOG_LBL_PLAIN_PAR);a("#INSERT_MERGE_BLOCK_DIALOG_LBL_TBL_ROW").text(l.INSERT_MERGE_BLOCK_DIALOG_LBL_TBL_ROW);a("#INSERT_MERGE_BLOCK_DIALOG_LBL_HDR_ROW").text(l.INSERT_MERGE_BLOCK_DIALOG_LBL_HDR_ROW);this.setDefaultBtnTexts(l);};return h;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EditDataRelationsDialog=(function(d){__extends(e,d);function e(g,f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.EditDataRelationsDialog,ElementID:"editDataRelationsDialog",Width:"auto",TitleResourceName:"EDIT_DATA_RELS_DIALOG_TITLE"};this.relations=g;this.deletedRelations=[];this.dbScheme=f;}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.relations=this.relations;this.dialogData.deletedRelations=this.deletedRelations;}};e.prototype.addDataRelation=function(){var g=this,f=new b.CreateDataRelationDialog(g.dbScheme);f.showModal(function(h){if(!h){return;}g.relations.push(h);g.populateSelect();});};e.prototype.deleteSelectedRelation=function(){var f=document.getElementById("selDataRelations"),l=f.options[f.selectedIndex],j=this.relations;for(var g=0;g<j.length;++g){var h=j[g],k=h.RelationName||b.getRelDesc(h);if(k===l.value){this.deletedRelations.push(l.value);j.splice(g,1);this.populateSelect();return;}}};e.prototype.populateSelect=function(){var g=this,f=document.getElementById("selDataRelations");f.innerHTML="";this.relations.forEach(function(i){var h=document.createElement("option"),j=b.getRelDesc(i);h.value=h.text=i.RelationName||j;h.title=j;f.appendChild(h);});f.selectedIndex=0;};e.prototype.dialogReady=function(){var h=this;this.populateSelect();function f(i){h.addDataRelation();}function g(i){h.deleteSelectedRelation();}a("#EDIT_DATA_RELS_DIALOG_BTN_ADD").click(f);a("#EDIT_DATA_RELS_DIALOG_BTN_DELETE").click(g);};e.prototype.applyStringResources=function(f){a("#EDIT_DATA_RELS_DIALOG_LBL_SEL_DATA_REL").text(f.EDIT_DATA_RELS_DIALOG_LBL_SEL_DATA_REL);a("#EDIT_DATA_RELS_DIALOG_BTN_ADD").text(f.EDIT_DATA_RELS_DIALOG_BTN_ADD);a("#EDIT_DATA_RELS_DIALOG_BTN_DELETE").text(f.EDIT_DATA_RELS_DIALOG_BTN_DELETE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CreateDataRelationDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.CreateDataRelationDialog,ElementID:"createDataRelationDialog",Width:"auto",TitleResourceName:"CREATE_DATA_REL_DIALOG_TITLE",};this.dbScheme=f;this.callback=null;this.newRelation={RelationName:"",ParentTableName:"",ChildTableName:"",ParentColumnName:"",ChildColumnName:""};}e.prototype.dialogReady=function(){var h=this,g=document.getElementById("selMainTable"),f=document.getElementById("selChildTable");g.onchange=function(){h.newRelation.ParentTableName=this.value;h.populateColumnNameContainer(document.getElementById("mainTblColContainer"),this.value,"parent");};f.onchange=function(){h.newRelation.ChildTableName=this.value;h.populateColumnNameContainer(document.getElementById("childTblColContainer"),this.value,"child");};this.dbScheme.Tables.forEach(function(j){var i=document.createElement("option");i.value=i.text=i.title=j.TableName;g.appendChild(i);f.appendChild(i.cloneNode(true));});this.populateColumnNameContainers(this.dbScheme.Tables[0].TableName);this.newRelation.ParentTableName=this.newRelation.ChildTableName=this.dbScheme.Tables[0].TableName;this.newRelation.ParentColumnName=this.newRelation.ChildColumnName=this.dbScheme.Tables[0].Columns[0].ColumnName;};e.prototype.populateColumnNameContainers=function(f){this.populateColumnNameContainer(document.getElementById("mainTblColContainer"),f,"parent");this.populateColumnNameContainer(document.getElementById("childTblColContainer"),f,"child");};e.prototype.populateColumnNameContainer=function(f,j,k){var h=this,g=0;f.innerHTML="";var i=this.dbScheme.Tables.find(function(l){return l.TableName.toLowerCase()===j.toLowerCase();});if(!i){console.assert(i);return;}i.Columns.forEach(function(l){var o=f.id+"_opt_"+g++,n=document.createElement("input");n.id=o;n.setAttribute("type","radio");n.setAttribute("name","group_"+k);n.dataset.columnName=l.ColumnName;n.dataset.tableRole=k;n.title=l.ColumnName;n.style.cssFloat="left";n.style.clear="left";f.appendChild(n);n.addEventListener("click",function(p){h.columnSelected(this.dataset.columnName,this.dataset.tableRole);});if(g==1){n.checked=true;h.columnSelected(l.ColumnName,k);}var m=document.createElement("label");m.setAttribute("for",o);m.textContent=l.ColumnName;m.title=l.ColumnName;m.style.cssFloat="left";f.appendChild(m);});};e.prototype.columnSelected=function(f,g){switch(g){case"parent":this.newRelation.ParentColumnName=f;break;case"child":this.newRelation.ChildColumnName=f;break;}};b.getRelDesc=function(f){if(!f){return"NO RELATION GIVEN";}return f.ParentTableName+\'["\'+f.ParentColumnName+\'"] -> \'+f.ChildTableName+\'["\'+f.ChildColumnName+\'"]\';};e.prototype.OKHandler=function(f){if(this.callback&&this.relationIsValid(this.newRelation)){var g=document.getElementById("txtRelName");if(g.value){this.newRelation.RelationName=g.value;}else{this.newRelation.RelationName=b.getRelDesc(this.newRelation);}this.callback(this.newRelation);}this.close(f);};e.prototype.close=function(f){a(f).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();};e.prototype.showModal_base=e.prototype.showModal;e.prototype.showModal=function(f){this.callback=f;this.showModal_base();};e.prototype.applyStringResources=function(f){a("#CREATE_DATA_REL_DIALOG_LBL_MAIN_TBL").text(f.CREATE_DATA_REL_DIALOG_LBL_MAIN_TBL);a("#CREATE_DATA_REL_DIALOG_LBL_MAIN_COL").text(f.CREATE_DATA_REL_DIALOG_LBL_MAIN_COL);a("#CREATE_DATA_REL_DIALOG_LBL_CHILD_TBL").text(f.CREATE_DATA_REL_DIALOG_LBL_CHILD_TBL);a("#CREATE_DATA_REL_DIALOG_LBL_CHILD_COL").text(f.CREATE_DATA_REL_DIALOG_LBL_CHILD_COL);a("#CREATE_DATA_REL_DIALOG_LBL_REL_NAME").text(f.CREATE_DATA_REL_DIALOG_LBL_REL_NAME);a("#txtRelName").attr("placeholder",f.CREATE_DATA_REL_DIALOG_INP_REL_NAME_PLACEHLD);this.setDefaultBtnTexts(f);};e.prototype.relationIsValid=function(f){return(f.ParentTableName!=="")&&(f.ChildTableName!=="")&&(f.ParentColumnName!=="")&&(f.ChildColumnName!=="");};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EditMergeBlocksDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.EditMergeBlocksDialog,ElementID:"editMergeBlocksDialog",Width:"auto",TitleResourceName:"EDIT_MERGE_BLOCKS_DIALOG_TITLE"};this.blocks=f;this.deletedBlocks=[];this.renamedBlocks=[];}e.prototype.closing=function(){this.dialogData.deletedBlocks=this.deletedBlocks;this.dialogData.renamedBlocks=this.renamedBlocks;};e.prototype.populateSelect=function(){var f=document.getElementById("selMergeBlocks");f.innerHTML="";this.blocks.forEach(function(g){var h=(g.NewName!=="")?g.NewName:g.Name;var i=document.createElement("option");i.value=i.text=i.title=h;f.appendChild(i);});f.selectedIndex=0;};e.prototype.goToSelectedBlock=function(){var g=document.getElementById("selMergeBlocks"),h=g.options[g.selectedIndex],f=this.blocks.find(function(i){return i.Name===h.value;});if(!f){return;}b.sendCommand(b.Command.GoToItem,b.ItemType.MergeBlock,0,0,{name:f.Name});};e.prototype.renameSelectedBlock=function(){var n=this,k=document.getElementById("selMergeBlocks"),m=k.options[k.selectedIndex],g=this.blocks.find(function(i){if(i.NewName!==""){return i.NewName===m.value;}else{return i.Name===m.value;}});if(!g){return;}if(g.NewName!==""){for(var l=0;l<this.renamedBlocks.length;++l){var f=this.renamedBlocks[l];if(f.NewName===g.NewName){this.renamedBlocks.splice(l,1);break;}}}var h=(g.NewName!=="")?g.NewName:g.Name,j=new b.InputBoxDialog(b.variousStringResources.INPUT_BOX_DLG_TITLE_RENAME_MERGE_BLOCK,h);j.showModal(function(i){if(i!==""){g.NewName=i;n.renamedBlocks.push(cloneObject(g));n.populateSelect();}});};e.prototype.deleteSelectedBlock=function(){var j=document.getElementById("selMergeBlocks"),l=j.options[j.selectedIndex],h=this.blocks;for(var k=0;k<h.length;++k){var f=h[k],g=(f.NewName!=="")?f.NewName:f.Name;if(g===l.value){this.deletedBlocks.push(f.Name);h.splice(k,1);this.populateSelect();return;}}};e.prototype.dialogReady=function(){var i=this;this.populateSelect();function g(j){i.goToSelectedBlock();}function h(j){i.renameSelectedBlock();}function f(j){i.deleteSelectedBlock();}a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_GOTO").click(g);a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_RENAME").click(h);a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_DELETE").click(f);};e.prototype.applyStringResources=function(f){a("#EDIT_MERGE_BLOCKS_DIALOG_LBL_SEL_BLOCKS").text(f.EDIT_MERGE_BLOCKS_DIALOG_LBL_SEL_BLOCKS);a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_GOTO").text(f.EDIT_MERGE_BLOCKS_DIALOG_BTN_GOTO);a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_RENAME").text(f.EDIT_MERGE_BLOCKS_DIALOG_BTN_RENAME);a("#EDIT_MERGE_BLOCKS_DIALOG_BTN_DELETE").text(f.EDIT_MERGE_BLOCKS_DIALOG_BTN_DELETE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SetChartDataRelationDialog=(function(d){__extends(h,d);function h(i){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SetChartDataRelationDialog,ElementID:"setChartDataRelationDialog",Width:"auto",TitleResourceName:"SET_CHART_DATA_REL_DLG_TITLE"};this.dataSource=i.DataSource;this.currentChartRelation=i.CurrentChartRelation;this.mainTable=null;}function f(j){var i=j.target;var k=i.options[i.selectedIndex].value;this.mainTable=this.dataSource.Tables.find(function(l){return l.TableName===k;});this.updateChildTableDropDown(k);}function e(l){var i=l.target;var k=i.options[i.selectedIndex].value;var j=this.mainTable.ChildTables.find(function(m){return m.TableName===k;});g(j);}function g(k){var i=document.getElementById("txDialog_cbAxisLabels");var j=document.getElementById("txDialog_cbValues");i.innerHTML="";j.innerHTML="";k.Columns.forEach(function(l){var m=document.createElement("option");var n=document.createElement("option");m.innerHTML=n.innerHTML=l.ColumnName;m.value=n.value=l.ColumnName;i.appendChild(m);j.appendChild(n);});}h.prototype.updateChildTableDropDown=function(k){var i=document.getElementById("txDialog_cbChildTable");var l=this.dataSource.Tables.find(function(m){return m.TableName===k;});if(!l){return;}i.innerHTML="";var j=document.createDocumentFragment();l.ChildTables.forEach(function(n){var m=document.createElement("option");m.innerHTML=n.TableName;m.value=n.TableName;j.appendChild(m);});i.appendChild(j);g(l.ChildTables[0]);};h.prototype.populateComboboxes=function(){var l=document.getElementById("txDialog_cbMainTable");var k=document.getElementById("txDialog_cbChildTable");var m=document.createDocumentFragment();this.dataSource.Tables.forEach(function(q){var i=document.createElement("option");i.innerHTML=q.TableName;i.value=q.TableName;m.appendChild(i);});l.appendChild(m);var j=false;var o=this.dataSource.MasterTable.TableName;for(var n=0;n<l.options.length;++n){var p=l.options[n].value;if(o===p){l.selectedIndex=n;j=true;break;}}if(!j){o=this.dataSource.Tables[0].TableName;}o=l.options[l.selectedIndex].value;this.mainTable=this.dataSource.Tables.find(function(i){return i.TableName===o;});this.updateChildTableDropDown(o);l.addEventListener("change",f.bind(this));k.addEventListener("change",e.bind(this));};h.prototype.closing=function(){if(this.dialogData.dialogResult){var j=document.getElementById("txDialog_cbChildTable");var i=document.getElementById("txDialog_cbAxisLabels");var k=document.getElementById("txDialog_cbValues");this.dialogData.chartName=j.options[j.selectedIndex].value;this.dialogData.chartAreaName=i.options[i.selectedIndex].value;this.dialogData.seriesName=k.options[k.selectedIndex].value;}};h.prototype.dialogReady=function(){this.populateComboboxes();};h.prototype.applyStringResources=function(i){a("#txDialog_lblMainTbl").text(i.SET_CHART_DATA_REL_DLG_LBL_MAIN_TBL);a("#txDialog_lblChildTbl").text(i.SET_CHART_DATA_REL_DLG_LBL_CHILD_TBL);a("#txDialog_lblAxisLbls").text(i.SET_CHART_DATA_REL_DLG_LBL_AXIS_LBLS);a("#txDialog_lblValues").text(i.SET_CHART_DATA_REL_DLG_LBL_VALUES);this.setDefaultBtnTexts(i);};return h;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.txDialog=null;b.SectionFormatDialogTab={MarginsAndPaper:0,HeadersAndFooters:1,Columns:2,Borders:3};b.TableFormatDialogTab={FrameAndColor:0,SizeAndFormatting:1};b.TxDialog=(function(){function d(g,i,e,f,h){this.dialogType=f;this.initialImage=g;this.size=i;this.caption=e;this.dialogContainer=null;this.depth=h?h.depth+1:0;this.dialogContainerID="txDlgContainer_"+this.depth;this.parentDialog=h||null;this.childDialog=null;this.viewer=null;this.caretStateBuffer=null;this.caretStateChangedBound=this.caretStateChanged.bind(this);this.imageReceivedBound=this.imageReceived.bind(this);this.imageRegionsUpdatedBound=this.imageRegionsUpdated.bind(this);this.dialogClosedBound=this.dialogClosed.bind(this);this.resourcesReceivedHandlerBound=this.resourcesReceivedHandler.bind(this);if(!this.parentDialog){document.addEventListener("dialogCaretStateChanged",this.caretStateChangedBound);}}d.prototype.close=function(e,f){f=f||false;if(!this.parentDialog){document.removeEventListener("dialogCaretStateChanged",this.caretStateChangedBound);document.removeEventListener("txDialogImageReceived",this.imageReceivedBound);document.removeEventListener("txDialogImageRegionsUpdated",this.imageRegionsUpdatedBound);document.removeEventListener("txDialogClosed",this.dialogClosedBound);}if(!f){b.sendCommand(b.Command.CloseDialog,this.depth);}a(e).dialog("destroy").remove();if(this.dialogContainer){this.dialogContainer.parentElement.removeChild(this.dialogContainer);}b.mouseOwner=null;if(!this.parentDialog){b.txDialog=null;if(!b.isTouchDevice){b.textViewer.focus();}}else{this.parentDialog.childDialog=null;if(!b.isTouchDevice){this.parentDialog.focus();}}};d.prototype.dialogReady=function(){var g=document.getElementById("txDialogContent");g.id=g.id+"_"+this.depth;g.width=this.size.Width;g.height=this.size.Height;this.viewer=new b.ComponentViewer(g,b.ComponentType.TxDialog,this.dialogType,this.depth,true);this.viewer.setImage(this.initialImage);delete this.initialImage;if(this.caretStateBuffer){this.viewer.setCaretState(this.caretStateBuffer);this.caretStateBuffer=null;}var f=a("#txDialog"),i=f.css("margin-left"),e={width:f.css("border-left-width"),color:f.css("border-left-color"),style:f.css("border-left-style")};f.css("border-bottom-width",e.width);f.css("border-bottom-style",e.style);f.css("border-bottom-color",e.color);f.css("margin-bottom",i);var h=document.getElementById("txDialog");h.id=h.id+"_"+this.depth;a("div.txui-dialog button.txui-dialog-titlebar-close").blur();if(!b.isTouchDevice){this.viewer.focus();}};d.prototype.dialogize=function(e){var f=this;this.dialogContainer=document.getElementById(this.dialogContainerID);this.dialogContainer.innerHTML=e.html;a("#txDialog").dialog({modal:true,resizable:false,width:"auto",height:"auto",title:this.caption,buttons:{},close:function(){f.close(this);},});if(!this.parentDialog){document.addEventListener("txDialogImageReceived",this.imageReceivedBound);document.addEventListener("txDialogImageRegionsUpdated",this.imageRegionsUpdatedBound);document.addEventListener("txDialogClosed",this.dialogClosedBound);}this.dialogReady();};d.prototype.showChildDialog=function(f,g,e){if(this.childDialog){this.childDialog.showChildDialog(f,g,e);}else{this.childDialog=new d(f,g,e,b.TXDialogType.ChildDialog,this);this.childDialog.showModal();}};d.prototype.caretStateChanged=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.caretStateChanged(f);}else{if(g.Param2==this.dialogType){if(this.viewer){this.viewer.setCaretState(g.Data);}else{this.caretStateBuffer=g.Data;}}}};d.prototype.dialogClosed=function(f){var g=f.detail;if(this.depth<g.nestingDepth){if(this.childDialog){this.childDialog.dialogClosed(f);}}else{if(g.dialogType==this.dialogType){this.close(a("#txDialog_"+this.depth),true);}}};d.prototype.imageReceived=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.imageReceived(f);}else{if(g.Param2==this.dialogType){if(this.viewer){this.viewer.setImage(g.Data);}}}};d.prototype.imageRegionsUpdated=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.imageRegionsUpdated(f);}else{if(g.Param2==this.dialogType){this.viewer.updateImageRegions(g.Data.tiles);}}};d.prototype.resourcesReceivedHandler=function(f){if(f.detail.dialogType==b.HTMLDialogType.TxDialogFrame){this.dialogize(f.detail.resources);document.removeEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);}};d.prototype.getActiveViewer=function(){if(!this.childDialog){return this.viewer;}else{return this.childDialog.getActiveViewer();}};d.prototype.focus=function(){if(!this.childDialog){this.viewer.focus();}else{this.childDialog.focus();}};d.prototype.blur=function(){if(!this.childDialog){this.viewer.blur();}else{this.childDialog.blur();}};d.prototype.showModal=function(){var e=document.getElementById("txTemplateDesignerContainer");var f=document.createElement("div");f.id=this.dialogContainerID;e.appendChild(f);document.addEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);b.sendCommand(b.Command.GetDialogResources,b.HTMLDialogType.TxDialogFrame);};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.ColorPalette=[4278190080,4288230144,4281545472,4278203136,4278203238,4278190208,4281545625,4281545523,4286578688,4294927872,4286611456,4278222848,4278222976,4278190335,4284901017,4286611584,4294901760,4294940928,4288269312,4281571686,4281584844,4281558783,4286578816,4288256409,4294902015,4294953984,4294967040,4278255360,4278255615,4278242559,4288230246,4290822336,4294941132,4294954137,4294967193,4291624908,4291624959,4288269567,4291598847,4294967295];function c(f,e){var i=document.createElement("li");var h=document.createElement("div");i.style.position="relative";i.style.width="16px";i.style.height="16px";i.style.cssFloat="left";i.style.clear=e?"left":"none";i.style.padding="2px";i.style.marginLeft=e?"3px":"2px";i.style.display="block";i.style.overflow="hidden";var g=document.createElement("a");h.style.position="relative";h.style.width="14px";h.style.height="14px";h.style.border="1px solid lightgray";h.style.overflow="hidden";h.style.background=h.style.color=b.toCSSColor(f);h.textContent=".";g.appendChild(h);i.appendChild(g);var j=b.toColorObject(f);i.txColor=j;i.dataset.tag=JSON.stringify(j);return i;}b.makeSmallColorButtons=function(){var g,h,e=[];for(h=0;h<5;++h){for(g=0;g<8;++g){var k=(8*h)+g;var f=b.ColorPalette[k];e.push(c(f,(g==0)));}}return e;};b.MinColorPickerMenuWidth=180;b.generateColorPalette=function(h,j){var g,e;j=j||0;if(!h){return;}h.style.minWidth=b.MinColorPickerMenuWidth+"px";j=Math.min(h.children.length-1,j);e=b.makeSmallColorButtons();for(g=(e.length-1);g>=0;--g){var f=e[g];h.insertBefore(f,h.children[j]);}};b.toCSSColor=function(g){var e=b.toColorObject(g),f="rgba("+e.r+", "+e.g+", "+e.b+", "+(e.a/255)+")";return f;};b.toColorObject=function(f){var e={a:(f>>>24),r:(f>>>16)&255,g:(f>>>8)&255,b:f&255};return e;};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=d.ribbonPermissionsTab=d.ribbonPermissionsTab||{};b.ribbonPermissionsTab={allowAdditionalUserNames:true,registeredUserNames:[]};b.RibbonTabType={};Object.defineProperty(c,"allowAdditionalUserNames",{get:function(){return b.ribbonPermissionsTab.allowAdditionalUserNames;},set:function(allowAdditionalUserNames){if(typeof allowAdditionalUserNames!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetRibbonTabProperty,b.RibbonTabType.RibbonPermissionsTab,0,0,{propertyName:"allowAdditionalUserNames",value:allowAdditionalUserNames});b.ribbonPermissionsTab.allowAdditionalUserNames=allowAdditionalUserNames;},enumerable:true});Object.defineProperty(c,"registeredUserNames",{get:function(){return b.ribbonPermissionsTab.registeredUserNames;},set:function(registeredUserNames){if((registeredUserNames===null)||(registeredUserNames.constructor!==Array)){throw new TypeError(\'"registeredUserNames" must be an array.\');}registeredUserNames.forEach(function(e){if((typeof e!=="string")&&!(e instanceof String)){throw new TypeError(\'"registeredUserNames" must be an array of strings.\');}});b.sendCommand(b.Command.SetRibbonTabProperty,b.RibbonTabType.RibbonPermissionsTab,0,0,{propertyName:"registeredUserNames",value:registeredUserNames});b.ribbonPermissionsTab.registeredUserNames=registeredUserNames;},enumerable:true});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.ribbonStringResources={};b.setRibbonStrings=function(){var g=b.ribbonStringResources;for(var f in g){if(g.hasOwnProperty(f)){if(typeof g[f]==="string"){g[f]=g[f].replace(/\\r?\\n/g,"<br>");}}}b.adaptRibbonTabWidths();var e=document.getElementById("tabFile");if(e){e.textContent=e.dataset.text=g.RIBBON_MNU_FILE_TITLE;}c("fileMnuItemNew",g.RIBBON_MNU_FILE_NEW);c("fileMnuItemOpen",g.RIBBON_MNU_FILE_OPEN);c("fileMnuItemSave",g.RIBBON_MNU_FILE_SAVE);c("fileMnuItemSaveAs",g.RIBBON_MNU_FILE_SAVE_AS);c("fileMnuItemPrintToPDF",g.RIBBON_MNU_FILE_PRINT);c("fileMnuItemOptions",g.RIBBON_MNU_FILE_OPTIONS);};function c(h,i){var f=document.getElementById(h);if(!f){return;}var e=f.getElementsByClassName("large-menu-item-caption-container");if(!e.length){console.error("Menu item caption container div not found.");return;}var g=document.createElement("P");g.textContent=i;e[0].appendChild(g);}return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(al,a){var d=al._private=al._private||{};var b=null;d.ApplicationMode=Object.freeze({Normal:0,MailMergePreview:1,});d.EditMode=Object.freeze({Edit:1,ReadAndSelect:2,ReadOnly:3,UsePassword:2048});d.MenuType=Object.freeze({InsertShapes:1,InsertChart:2});d.RibbonMenuItemType=Object.freeze({Default:0,Category:1,Symbol:2,ColorPicker:3,TableWizard:4,CheckMark:5,ImageUploader:6,ListType_Bullet:7,ListType_Number:8});d.RibbonGroupElementType={};d.RibbonControlType={};d.RibbonMenuItemSize={};d.RibbonButtonSize={};d.RibbonMenuEventType={};d.RibbonButtonSize={};d.RibbonButtonEventType={};d.RibbonControlStateType={};d.RibbonButtonStateType={};d.RibbonMenuItemBorder={};d.RibbonMenuItemStateType={};d.RibbonTextBoxEventType={};d.RibbonTextBoxStateType={};d.ListBoxEventType={};d.ListItemStateType={};d.ListBoxStateType={};d.InputControlEventType={};d.ComboBoxStateType={};d.ComboBoxCommand={};d.ImageKind={};d.jQueryMenus={};var c=[];var f="";d.appMode=d.ApplicationMode.Normal;var g=0;var e=null;d.isRibbonVisible=true;d.isRibbonBarRemoved=false;d.editModeCur=d.EditMode.Edit;var h="";d.PlaceholderImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";function T(){var an=function(){d.sendCommand(d.Command.NewFile);d.switchTabs(a("#tabDefault"));a("#fileMnuItemSave").addClass("txui-state-disabled");};if(d.documentDirty){d.fileSaveQuestion(an);}else{an();}}d.initRibbon=function(){d.fileMenu=a("#fileMenu").menu().hide();a("#fileMenu").on("menuselect",U);d.sendCommand(d.Command.RequestRibbonTabs);};function U(an,ao){switch(ao.item.context.id){case"fileMnuItemOpen":d.openFile();break;case"fileMnuItemSave":ac();break;case"fileMnuItemSaveAs":ad();break;case"fileMnuItemNew":T();break;case"fileMnuItemPrintToPDF":d.print();break;case"fileMnuItemOptions":ak();break;}}d.openFile=function(ap,an){ap=ap||d.FileType.Document;an=an||d.Command.OpenFile;var ao=function(){var aq=new d.OpenFileDialog(d.Command.OpenFile,ap);aq.showModal();};if((ap==d.FileType.Document)&&d.documentDirty){d.fileSaveQuestion(ao);}else{ao();}};function ac(){d.sendCommand(d.Command.Save);}function ad(){d.sendCommand(d.Command.ShowDialog,d.DialogCategory.HTMLDialog,d.HTMLDialogType.SaveDocumentAsDialog);}function V(an){if(an.attr("id")=="tabFile"){aj(an);return false;}else{d.switchTabs(an);}}function aj(ao){d.hideAllOtherMenus();var an=document.getElementById("fileMenu");if(!an){return;}d.calcMenuWidths(an);d.fileMenu.show().position({my:"left top",at:"left bottom",of:ao});a(document).one("click",function(){d.fileMenu.hide();});}function ak(){d.sendCommand(d.Command.ShowDialog,d.DialogCategory.HTMLDialog,d.HTMLDialogType.OptionsDialog);}function M(ao){var an=document.getElementById("txRibbonTabContentContainer");if(an.clientWidth>32){return an.clientWidth;}return 0;}d.updateRibbonTabContentOffset=function(){var ao=M(f);if((g<0)&&(ao+g)<d.clientSize.Width){var an=document.getElementById("txRibbonTabContentContainer");var ap=Math.min(0,(d.clientSize.Width-ao));an.style.transform="translate("+ap+"px, 0px)";g=ap;}};d.updateRibbonScrollArrows=function(){var au=M(f);var ap=document.getElementById("txRibbonScrollButtonRight");var an=document.getElementById("txRibbonScrollButtonLeft");var at=ap.clientWidth;var ao=d.clientSize.Width-at;ap.style.left=ao+"px";var aq=(g<0);var ar=(d.clientSize.Width<(au+g));an.style.opacity=aq?"":0;ap.style.opacity=ar?"":0;};d.updateRibbonHideButtonPos=function(){var an=document.getElementById("txBtnRibbonHide");var ap=an.clientWidth;var ao=d.clientSize.Width-ap-5;an.style.left=ao+"px";};d.adaptRibbonTabWidths=function(){var at,ay,az=document.querySelectorAll("div#ribbonbar > ul.tabs > li > a"),ar=22,an,au,av,ao,aw,ap=document.getElementById("txTemplateDesignerContainer"),aq=ap.getBoundingClientRect(),az=[].filter.call(az,function(aB){return aB.style.display!=="none";});if(!az||az.length===0){return;}az.sort(function(aB,aC){return aB.offsetLeft-aC.offsetLeft;});ao=d.clientSize.Width-ar;aw=az[az.length-1];aA();if(av>ao){for(at=az.length-1;at>=0;--at){ay=az[at];aA();if(av>ao){ax();}else{break;}}}else{for(at=0;at<az.length;++at){ay=az[at];if(!ay.dataset.wasShrunk){continue;}aA();if(av<ao){ay.textContent=ay.dataset.text;aA();if(av>ao){ax();break;}delete (ay.dataset.wasShrunk);ay.title="";}}}function ax(){if(!ay.dataset.text){return;}ay.textContent=ay.dataset.text.substring(0,1)+"";ay.title=ay.dataset.text;ay.dataset.wasShrunk=true;}function aA(){an=aw.getBoundingClientRect();au=an.left-aq.left;av=au+an.width;}};d.resetRibbonTabContentPos=function(){g=0;var an=document.getElementById("txRibbonTabContentContainer");an.style.transform=null;d.updateRibbonScrollArrows();};function ah(ap){var ao,an=null;ao=document.querySelector("#ribbonbar > ul.tabs > li > a[rel=\'"+ap+"\']");if(ao){an=window.getComputedStyle(ao,null).getPropertyValue("border-top-color");}ao=document.querySelector("#txRibbonContentArea");ao.style.borderTop=(an!==null)?"1px solid "+an:"";}d.RibbonTabIndexChangedEventArgs=(function(){function an(name){this.name=name;}return an;})();d.switchTabs=function(ap){d.showRibbonBar(true);a("#txRibbonTabContentContainer div.tab-content").css("display","none");a("#ribbonbar ul.tabs a").removeClass("selected");var ao=ap.attr("rel");a("#"+ao).css("display","inline-block");ap.addClass("selected");ah(ao);f=ao;d.resetRibbonTabContentPos();d.setDlgLauncherPos();var aq=ap.attr("id");if(aq!==h){var an=new d.RibbonTabIndexChangedEventArgs(aq);d.fireEvent(d.EventName.ribbonTabIndexChanged,an);d.sendCommand(d.Command.RibbonTabChanged,0,0,0,{tabID:aq});h=aq;}};function N(an){return(an.offsetParent===null);}d.setDlgLauncherPos=function(){var ao=document.querySelectorAll("div.ribbon-group img.txDialogLauncher");var at=d.isTouchDevice?(-1):1;if(d.BrowserDetect.browser==="Firefox"){at+=3;}for(var aq=0;aq<ao.length;++aq){var an=ao[aq];var ap=an.previousElementSibling;if(!N(an)&&!an.style.marginLeft){var ar=parseInt(getComputedStyle(an.parentElement).paddingLeft,10);var au=an.parentElement.clientWidth;an.style.marginLeft=au-an.clientWidth-ar-1+"px";an.style.marginTop=-(d.ribbonBarHeight-ap.offsetTop)+at+"px";an.style.opacity="";}}};d.ribbonTabsLoaded=function(){setTimeout(d.setDlgLauncherPos,1000);ag();d.setRibbonStrings();d.updateRibbonScrollArrows();d.fireEvent(d.EventName.ribbonTabsLoaded);};function ag(){var an;an=document.querySelector("#fileMnuItemNew div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.newpage;}an=document.querySelector("#fileMnuItemOpen div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.open;}an=document.querySelector("#fileMnuItemSave div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.save;}an=document.querySelector("#fileMnuItemSaveAs div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.saveas;}an=document.querySelector("#fileMnuItemPrintToPDF div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.print;}an=document.querySelector("#fileMnuItemOptions div.large-menu-item-image-container img");if(an){an.src=d.imageResources.large.options;}var ao=document.querySelectorAll("#txTemplateDesignerContainer div.sidebar img.closebtn");[].forEach.call(ao,function(ap){ap.src=d.imageResources.small.close;});ao=document.querySelectorAll("#txTemplateDesignerContainer div.sidebar img.refreshbtn");[].forEach.call(ao,function(ap){ap.src=d.imageResources.small.refresh;});an=document.getElementById("txArrowRibbonHideWrapper");if(an){an.src=d.imageResources.small.chevron_up;}}d.setEditMode=function(an){d.editModeCur=an;};function am(an){var ao=an.detail;if(ao.show&&!b){b=new d.WaitDialog();b.showModal(ao.resources);}else{if(!ao.show&&b){b.close(a("#waitDialog"));b=null;}}}function aa(ar,at){if(ar&&(ar.style.opacity!=="")){return;}var an=document.getElementById("txRibbonTabContentContainer");var ao=an.clientWidth;var aq=(ao+g)-d.clientSize.Width;var ap=-Math.min(aq,d.clientSize.Width);if(at){an.style.transition="transform 0s";}an.style.transform="translate("+(g+ap)+"px, 0px)";g+=ap;d.updateRibbonScrollArrows();if(at){an.style.transition="";}}function Z(aq,ar){if(aq&&(aq.style.opacity!=="")){return;}var an=document.getElementById("txRibbonTabContentContainer");var ap=-g;var ao=Math.min(ap,d.clientSize.Width);if(ar){an.style.transition="transform 0s";}an.style.transform="translate("+(g+ao)+"px, 0px)";g+=ao;d.updateRibbonScrollArrows();if(ar){an.style.transition="";}}function Y(an){switch(an.target.id){case"txRibbonScrollButtonRight":aa(an.target);break;case"txBlackTriangleR":if(an.target.parentElement.id=="txRibbonScrollButtonRight"){aa(an.target.parentElement);}break;case"txRibbonScrollButtonLeft":Z(an.target);break;case"txBlackTriangleL":if(an.target.parentElement.id=="txRibbonScrollButtonLeft"){Z(an.target.parentElement);}break;}}function ab(an){if(d.isRibbonVisible){d.showRibbonBar(false);}else{d.showRibbonBar(true);}}d.fadeInRibbon=function(){var an=document.getElementById("txRibbonCover");if(!an){return;}an.style.opacity="0";setTimeout(function(){an.parentElement.removeChild(an);},1000);};d.showRibbonBar=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if((d.isRibbonVisible==show)||d.isRibbonBarRemoved){return;}var aq=document.getElementById("ribbonbar");var ap=document.querySelector("#ribbonbar ul.tabs");var an=document.querySelectorAll("div.ribbon-group img.txDialogLauncher");var ao;if(!show){e={menuBackground:ap.style.background,ribbonBarOverflow:aq.style.overflow,};ap.style.backgroundColor="white";aq.style.overflow="hidden";aq.style.height=ap.clientHeight+"px";d.ribbonBarHeight=ap.clientHeight;for(ao=0;ao<an.length;++ao){an[ao].style.display="none";}a("#txArrowRibbonHideWrapper").addClass("down");d.isRibbonVisible=false;}else{if(e!==null){ap.style.backgroundColor=e.menuBackground;aq.style.overflow=e.ribbonBarOverflow;aq.style.height="";d.ribbonBarHeight=d.DEFAULT_RIBBONBAR_HEIGHT;a("#txArrowRibbonHideWrapper").removeClass("down");for(ao=0;ao<an.length;++ao){an[ao].style.display="";}d.isRibbonVisible=true;}}d.resetRibbonTabContentPos();d.adaptViewToContainerSize();};d.addRibbonTabs=function(an){an.forEach(function(ao){y(ao);});a("ul.tabs a").click(function(){return V(a(this));});d.switchTabs(a("#tabDefault"));d.adaptRibbonTabWidths();document.addEventListener("waitDialogMessageReceived",am);a("#txTemplateDesignerContainer .txRibbonScrollArrow").click(Y);a("#txTemplateDesignerContainer .txTriangle").click(Y);a("#txBtnRibbonHide").click(ab);};function y(aq){var an=document.getElementById(aq.name);var at=document.querySelector("div#txTemplateDesignerContainer ul.tabs");if(!at){throw new Error("Mssing ribbon tab header container. Cannot create ribbon tabs.");}var ap=document.getElementById("txRibbonTabContentContainer");if(!ap){throw new Error("Mssing ribbon tab content container. Cannot create ribbon tabs.");}var ao=document.createElement("li");var ar=document.createElement("a");ar.id=aq.tabHeaderName;ar.rel=aq.name;ar.tabIndex=-1;ar.textContent=ar.dataset.text=aq.title;ao.appendChild(ar);at.appendChild(ao);an=document.createElement("div");an.classList.add("tab-content");an.id=aq.name;ap.appendChild(an);aq.groups.forEach(function(au){d.addRibbonGroup(an,au);});if(!aq.visible){a("#"+ar.id).hide();}d.adaptRibbonTabWidths();}d.addRibbonGroup=function(ao,ap){var an=document.getElementById(ap.name);if(!an){an=document.createElement("div");an.id=ap.name;an.classList.add("ribbon-group");an.dataset.applicationmodes="0";ao.appendChild(an);}d.populateRibbonGroup(an,ap);};d.populateRibbonGroup=function(ao,ar){ao.innerHTML="";var an=document.createElement("div");an.classList.add("ribbon-group-content");ao.appendChild(an);var ap=document.createElement("div");ap.classList.add("ribbon-group-label-container");ao.appendChild(ap);var aq=document.createElement("p");aq.classList.add("ribbon-group-label");aq.innerText=ar.title;ap.appendChild(aq);ar.children.forEach(function(at){d.addRibbonGroupElement(an,at);});if(ar.dialogLauncher){m(ao,ar.dialogLauncher);}if(!ar.visible){ao.style.display="none";}};function m(ao,an){var ap=document.createElement("img");ap.classList.add("txDialogLauncher");ap.src=an.imageDataURL;if(an.name){ap.id=an.name;}ap.style.width=ap.style.height="16px";ap.style.opacity=0;ap.title=an.tooltip;ap.addEventListener("click",function(aq){if(typeof an.dialogTab!=="undefined"){d.sendCommand(d.Command.ShowDialog,an.dialogCategory,an.dialogID,an.dialogTab);}else{d.sendCommand(d.Command.ShowDialog,an.dialogCategory,an.dialogID);}});ao.appendChild(ap);}d.addRibbonGroupElement=function(an,ao){switch(ao.controlType){case d.RibbonControlType.StackedButtonWrapper:d.addStackedRibbonButtonWrapper(an,ao);break;case d.RibbonControlType.LayoutTable:d.addRibbonLayoutTable(an,ao);break;case d.RibbonControlType.Button:t(an,ao);break;case d.RibbonControlType.ListBox:p(an,ao);break;case d.RibbonControlType.ComboBox:k(an,ao);break;case d.RibbonControlType.CheckBox:u(an,ao);break;case d.RibbonControlType.SmallControlGroup:A(an,ao);break;}};function E(an,ao){if(!an){return;}for(var ap in an){ao.style[ap]=an[ap];}}d.addStackedRibbonButtonWrapper=function(an,ap){var ao=document.createElement("div");an.appendChild(ao);ao.classList.add("ribbon-button-wrapper-small-stacked-buttons");E(ap.customCSS,ao);ap.buttons.forEach(function(aq){t(ao,aq);});};d.addRibbonLayoutTable=function(an,ap){var ao=document.createElement("table");if(ap.rows.length<=2){ao.style.borderCollapse="separate";ao.style.borderSpacing="0px 5px";}ao.classList.add("ribbon-group-layout-table");E(ap.customCSS,ao);an.appendChild(ao);ap.rows.forEach(function(aq){o(ao,aq);});};function o(ao,ap){var an=document.createElement("tr");ao.appendChild(an);ap.forEach(function(aq){var ar=document.createElement("td");ar.style.padding="0px";if(aq.colSpan>1){ar.colSpan=aq.colSpan;}if(aq.rowSpan>1){ar.rowSpan=aq.rowSpan;}if(aq.cellWidth!=null){ar.style.width=aq.cellWidth+"px";}an.appendChild(ar);if(aq===null){ar.innerText="\\u00A0";}else{v(ar,aq);}});}function v(ao,an){switch(an.controlType){case d.RibbonControlType.Image:w(ao,an);break;case d.RibbonControlType.Label:x(ao,an);break;case d.RibbonControlType.TextBox:z(ao,an);break;case d.RibbonControlType.Button:t(ao,an);break;case d.RibbonControlType.LayoutTable:d.addRibbonLayoutTable(ao,an);break;case d.RibbonControlType.ListBox:p(ao,an);break;case d.RibbonControlType.ComboBox:k(ao,an);break;case d.RibbonControlType.SmallControlGroup:A(ao,an);break;}}function A(ao,an){var ap=document.createElement("div");ao.appendChild(ap);ap.classList.add("ribbon-group-control-group");if(an.customCSS){E(an.customCSS,ap);}if(!an.enabled){ap.classList.add("txui-state-disabled");}an.children.forEach(function(aq){d.addRibbonGroupElement(ap,aq);});}function w(an,ap){var ao=document.createElement("img");if(ap.name){ao.id=ap.tabName+"_"+ap.name;}if(!ap.enabled){ao.classList.add("txui-state-disabled");}ao.src=ap.imageDataURL;ao.style.padding="3px 3px 0px 3px";ao.style.width=ao.style.height="16px";an.appendChild(ao);}function x(an,ap){var ao=document.createElement("label");ao.style.marginLeft=ao.style.marginRight="2px";ao.textContent=ap.text;ao.id=ap.tabName+"_"+ap.name;ao.dataset.name=ap.name;if(ap.for_){ao.setAttribute("for",ap.tabName+"_"+ap.for_);}if(!ap.enabled){ao.classList.add("txui-state-disabled");}an.appendChild(ao);}function z(ao,av){var ap=document.createElement("input");ap.type=av.isNumeric?"number":"text";ap.setAttribute("form","txNovalidateForm");if(av.isNumeric){ap.setAttribute("step",av.step||"0.1");if(typeof av.min!=="undefined"){ap.setAttribute("min",av.min);}if(typeof av.max!=="undefined"){ap.setAttribute("max",av.max);}}ap.id=av.tabName+"_"+av.name;ap.dataset.name=av.name;if(av.isNumeric){ap.value=+av.number.toFixed(1);}else{if(av.text){ap.value=av.text;}}if(av.width){ap.style.width=av.width+"px";}ap.style.height="14px";ap.style.marginLeft=ap.style.marginRight="2px";if(av.textAlign){ap.style.textAlign=av.textAlign;}if(av.keyDownCausesChangeEvent){ap.addEventListener("keydown",function(){setTimeout(an,20);});}ap.addEventListener("change",an);ap.addEventListener("focus",aq);ap.addEventListener("blur",au);ap.addEventListener("keypress",at);if(!av.enabled){ap.disabled=true;}function ar(aw){var ax={tabName:av.tabName,textBoxName:av.name,};if(aw){if(av.isNumeric){ax.number=parseFloat(ap.value);}else{ax.text=ap.value;}if(ap.selectionStart){ax.selectionStart=ap.selectionStart;}if(ap.selectionStart){ax.selectionEnd=ap.selectionEnd;}}return ax;}function an(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Changed,0,0,ar(true));}function aq(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Entered,0,0,ar());}function au(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Left,0,0,ar());}function at(ax){var aw=ar();aw.key=""+ax.key;d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.KeyPress,0,0,aw);}ao.appendChild(ap);}function u(au,an){var ap=document.createElement("div");ap.classList.add("ribbon-checkbox");au.appendChild(ap);var ar=document.createElement("div");ar.classList.add("ribbon-checkbox-input-element-container");ap.appendChild(ar);var aq=document.createElement("input");aq.type="checkbox";aq.id=an.tabName+"_"+an.name;if(an.isChecked){aq.checked=an.isChecked;}ar.appendChild(aq);ap.addEventListener("change",ao);var at=document.createElement("div");at.classList.add("ribbon-button-small-label-container");ap.appendChild(at);var av=document.createElement("label");av.classList.add("ribbon-button-label");av.textContent=an.label;av.setAttribute("for",aq.id);if(!an.enabled){av.classList.add("txui-state-disabled");}at.appendChild(av);function ao(ax){var ay=ax.srcElement;var aw={tabName:an.tabName,ribbonControlName:an.name,propertyName:"checked",newValue:ay.checked,oldValue:!ay.checked};d.sendCommand(d.Command.RibbonCheckBoxEvent,0,0,0,aw);}}function t(ap,an){var ao;var aq=(d.settings&&d.settings.NoFileSystemAccess);if(aq&&an.needsFSAccess){return;}switch(an.buttonSize){case d.RibbonButtonSize.Small:ao=B(ap,an);break;case d.RibbonButtonSize.Large:ao=n(ap,an);break;}if(typeof an.clear!=="undefined"&&an.clear!=null){ao.style.clear=an.clear;}if(!an.visible){ao.style.display="none";}return ao;}function B(ar,an){var ap=document.createElement("div");ar.appendChild(ap);ap.id=an.tabName+"_"+an.name;ap.dataset.name=an.name;ap.classList.add("ribbon-button");if(an.text){ap.classList.add("ribbon-button-small");}else{ap.classList.add("ribbon-button-tiny");}if(an.tooltip){ap.title=an.tooltip;}if(an.isToggleButton&&an.text){ap.classList.add("ribbon-stacked-toggle-button");}if(!an.enabled){ap.classList.add("txui-state-disabled");}var au;if(!an.text){au=ap;if(an.isToggleButton&&an.isToggled){ap.classList.add("ribbon-button-selected");}}else{au=document.createElement("div");ap.appendChild(au);if(an.isToggleButton){au.classList.add("ribbon-button");au.classList.add("ribbon-button-tiny");if(an.isToggled){au.classList.add("ribbon-button-selected");}}else{au.classList.add("ribbon-button-small-image-container");}}if(!an.buttonText){var at=document.createElement("img");at.classList.add("ribbon-button-small-image");at.style.width=at.style.height="16px";if(an.imageDataURL){at.src=an.imageDataURL;}else{if(an.imageInfo){var ao=d.getCachedImageDataURL(an.imageInfo);if(ao){at.src=ao;}else{at.src=d.PlaceholderImage;at.dataset.txImageInfo=JSON.stringify(an.imageInfo);d.requiredImages.push(an.imageInfo);}}}au.appendChild(at);}else{var aq=document.createElement("div");aq.style.height=aq.style.width="16px";aq.style.marginTop="-3pt";aq.style.padding="0pt";aq.style.fontSize="12pt";aq.textContent=an.buttonText;au.appendChild(aq);}var aw=null;if(an.text){var av=document.createElement("div");ap.appendChild(av);av.classList.add("ribbon-button-small-label-container");aw=document.createElement("p");av.appendChild(aw);aw.classList.add("ribbon-button-label");var ax=document.createElement("span");ax.classList.add("ribbon-button-label-text");ax.textContent=an.text;aw.appendChild(ax);}r(ap,aw,an);return ap;}function n(ar,an){if(an.border){var ap=document.createElement("div");ar.appendChild(ap);ap.classList.add("large-ribbon-button-container");ar=ap;}var aq=document.createElement("div");ar.appendChild(aq);aq.id=an.tabName+"_"+an.name;aq.dataset.name=an.name;if(an.tooltip){aq.title=an.tooltip;}aq.classList.add("ribbon-button");aq.classList.add("ribbon-button-big");if(an.isToggleButton&&an.isToggled){aq.classList.add("ribbon-button-selected");}if(!an.enabled){aq.classList.add("txui-state-disabled");}if(an.border){ai(ar,an.border);}var au=document.createElement("div");au.classList.add("ribbon-button-big-image-container");var at=document.createElement("img");at.classList.add("ribbon-button-big-image");at.style.width=at.style.height="32px";if(an.imageDataURL){at.src=an.imageDataURL;}else{if(an.imageInfo){var ao=d.getCachedImageDataURL(an.imageInfo);if(ao){at.src=ao;}else{at.src=d.PlaceholderImage;at.dataset.txImageInfo=JSON.stringify(an.imageInfo);d.requiredImages.push(an.imageInfo);}}}au.appendChild(at);aq.appendChild(au);var av=document.createElement("div");aq.appendChild(av);av.classList.add("ribbon-button-big-label-container");var aw=document.createElement("p");av.appendChild(aw);aw.classList.add("ribbon-button-label");var ax=document.createElement("span");ax.classList.add("ribbon-button-label-text");ax.innerHTML=an.text.replace(/\\r?\\n/g,"<br>");aw.appendChild(ax);r(aq,aw,an);return aq;}function ai(ao,an){if(an.Left){ap(ao,"Left",an.Left);}if(an.Top){ap(ao,"Top",an.Top);}if(an.Right){ap(ao,"Right",an.Right);}if(an.Bottom){ap(ao,"Bottom",an.Bottom);}function ap(ar,at,aq){if(aq.Color){ar.style["border"+at+"Color"]=aq.Color;}if(aq.Width){ar.style["border"+at+"Width"]=aq.Width;}if(aq.Style){ar.style["border"+at+"Style"]=aq.Style;}if(at==="Left"||at==="Right"){ar.style["margin"+at]="5px";}}}function r(ap,aq,an){if(an.menu){if(aq){var ar=document.createElement("span");ar.classList.add("drop-down-arrow-large");ar.textContent="";if(an.buttonSize==d.RibbonButtonSize.Small){ar.style.marginLeft="3px";}aq.appendChild(ar);}else{if(ap.classList.contains("ribbon-button-tiny")){ap.classList.remove("ribbon-button-tiny");ap.classList.add("ribbon-dropdown-button-tiny");aq=document.createElement("p");aq.textContent="";ap.appendChild(aq);}}var at=J(ap);d.addDropDownMenu(an.menu,at);a("#"+ap.id).click(au);}else{ap.addEventListener("click",ao);}function ao(aw){var av={buttonName:an.name,tabName:an.tabName};d.sendCommand(d.Command.RibbonButtonEvent,d.RibbonButtonEventType.Click,0,0,av);}function au(aw){var ay=an.tabName+"_"+an.menu.name;var av=document.getElementById(ay);d.fileMenu.hide();d.hideAllOtherMenus();if(typeof av.dataset.transformStateId!=="undefined"){X(av);}K(an.tabName,an.menu.name);if(!an.menu.autoSize){d.calcMenuWidths(av);}var ax=d.jQueryMenus[an.menu.name];ax.show().position({my:"left top",at:"left bottom",of:aw.currentTarget});if(an.menu.limitHeight){d.limitMenuHeight(ay);}else{if(typeof av.dataset.transformStateId!=="undefined"){F(av);}}a(document).on("click",function(az){if(!(d.isInsideElementWithID(az.target,ay)&&d.isPartOfMenuItemWithSubMenu(az.target))){ax.hide();a(document).off(az);}});return false;}}function K(ap,ao){var an={menuName:ao,tabName:ap};d.sendCommand(d.Command.RibbonMenuEvent,d.RibbonMenuEventType.Opening,0,0,an);}function p(an,ap){var ao=document.createElement("div");an.appendChild(ao);ao.id=ap.tabName+"_"+ap.name;ao.dataset.name=ap.name;ao.classList.add("list-box");if(ap.itemsAreCheckable){ao.classList.add("items-are-checkable");}if(ap.itemsAreSelectable){ao.classList.add("items-are-selectable");}ao.dataset.itemsAreCheckable=ap.itemsAreCheckable;ao.dataset.itemsAreSelectable=ap.itemsAreSelectable;ao.style.width=ap.width+"px";ao.style.height=ap.height+"px";W(ao,ap.items,ap.tabName,ap.name);}function W(ao,aw,az,ay){var aq,ax=ao.dataset.itemsAreSelectable;ao.innerHTML="";var ap=document.createElement("table");ao.appendChild(ap);ap.classList.add("list-box-item-container");for(var at=0;at<aw.length;++at){an(at,aw[at]);}function an(aD,aE){var aC=document.createElement("tr");ap.appendChild(aC);aC.classList.add("list-box-item");aC.dataset.index=aD;aC.dataset.itemUid=aE.uid;if(ax){aC.addEventListener("click",av);}var aF=ao.id+"_checkbox_"+aD;if(aE.isCheckable){aq=document.createElement("td");aC.appendChild(aq);var aA=document.createElement("input");aq.appendChild(aA);aq.dataset.itemUid=aE.uid;aq.style.minHeight="14px";aA.id=aF;aA.type="checkbox";aA.dataset.index=aD;aA.dataset.text=aE.text;aA.checked=aE.isChecked;aA.addEventListener("change",au);aA.dataset.itemUid=aE.uid;}aq=document.createElement("td");aC.appendChild(aq);var aB=aE.isCheckable?document.createElement("label"):document.createElement("div");aq.appendChild(aB);if(aE.isCheckable){aB.htmlFor=aF;}aB.dataset.itemUid=aE.uid;aB.textContent=aE.text;}function au(aC){var aA=aC.currentTarget;var aB={tabName:az,itemIndex:aA.dataset.index,listBoxName:ay,isChecked:aA.checked};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemCheckChanged,0,0,aB);}function av(aB){ar();var aC=aB.currentTarget;var aA={tabName:az,itemIndex:aC.dataset.index,listBoxName:ay};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemClicked,0,0,aA);}function ar(){var aA={tabName:az,listBoxName:ay};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.Focused,0,0,aA);}}function k(aq,ao){var ap=document.createElement("select");aq.appendChild(ap);ap.id=ao.tabName+"_"+ao.name;ap.dataset.name=ao.name;if(ao.width){if(ao.width===-1){ap.style.width="90%";}else{ap.style.width=ao.width+"px";}}if(ao.height){ap.style.height=ao.height+"px";}ap.style.marginLeft=ap.style.marginRight="2px";E(ao.customCSS,ap);ap.addEventListener("change",an);l(ap,ao.items,ao.tabName,ao.name);function an(at){var ar={tabName:ao.tabName,comboBoxName:ao.name,value:(at.target.value==="null")?null:at.target.value};d.sendCommand(d.Command.InputControlEvent,d.InputControlEventType.Change,0,0,ar);}}function l(an,ap,ar,aq){an.innerHTML="";var ao=document.createElement("option");ao.style.display="none";ao.disabled=true;an.appendChild(ao);ap.forEach(function(at){ao=document.createElement("option");an.appendChild(ao);ao.value=at.value;ao.text=at.text;});}function af(an,ao){var ap=an.querySelectorAll("tr");[].forEach.call(ap,function(aq){aq.classList.remove("selected");});if(ao==-1){return;}if(ao>=ap.length){console.error(\'List box "\'+an.id+": selected item index out of range.");return;}ap[ao].classList.add("selected");}function J(an){var ao=an.parentElement;while(ao){if(ao.classList.contains("tab-content")){return ao;}ao=ao.parentElement;}return null;}d.addDropDownMenu=function(ar,ao){if(typeof ar.tabName==="undefined"||ar.tabName==null){throw new TypeError();}var an=document.createElement("ul");an.classList.add("dropDownMenu");if(ar.maxHeight){an.style.maxHeight=ar.maxHeight+"px";an.style.overflowY="auto";}var at=ar.tabName+"_"+ar.name;an.id=at;if(ar.hasAlternativeScrollMethod){I(an);}q(an,ar.items,ar.itemSize,ar.name,true);ao.appendChild(an);var ap=a("#"+at).menu().hide();d.jQueryMenus[ar.name]=ap;ap.on("menuselect",aq);function aq(av,ax){var aw=ax.item.context;var au={menuName:aw.dataset.menuName,menuItemName:aw.dataset.menuItemName,tabName:ar.tabName,tag:null};if(aw.dataset.tag){au.tag=JSON.parse(aw.dataset.tag);}if(aw.dataset.menuItemParameter){au.parameter=aw.dataset.menuItemParameter;}d.sendCommand(d.Command.RibbonMenuEvent,d.RibbonMenuEventType.ItemSelect,0,0,au);}};function q(an,ap,aq,ar,ao){var at=(d.settings&&d.settings.NoFileSystemAccess);ap.forEach(function(au){if(au.needsFSAccess&&at){return;}switch(au.itemType){case d.RibbonMenuItemType.Category:i(an,au,ar);break;case d.RibbonMenuItemType.Symbol:C(an,au,ar);break;case d.RibbonMenuItemType.ColorPicker:j(an,au,aq,ar);break;case d.RibbonMenuItemType.TableWizard:D(an,au,aq,ar);break;default:s(an,au,aq,ar);break;}if(typeof au.itemType==="undefined"){console.warn(\'Menu item "\'+au.name+\'" has no item type.\');}});}function C(ap,aq,at){if(!at){throw new TypeError();}var ao=document.createElement("li"),ar;ao.classList.add("menu-item-symbol");if(!aq.enabled){ao.classList.add("txui-state-disabled");}if(aq.clear){ao.style.clear=aq.clear;}if(aq.border&d.RibbonMenuItemBorder.Top){ao.style.borderTop=S;}if(aq.border&d.RibbonMenuItemBorder.Bottom){ao.style.borderBottom=S;}if(aq.name){ar=aq.tabName+"_"+aq.name;ao.id=ar;ao.dataset.menuItemName=aq.name;}if(aq.parameter){ao.dataset.menuItemParameter=aq.parameter;}ao.dataset.menuName=at;var an=document.createElement("a");an.textContent=aq.text;ao.appendChild(an);ap.appendChild(ao);ap.style.width="auto";}function i(ap,aq,at){if(!at){throw new TypeError();}var ao=document.createElement("li"),ar;if(!aq.enabled){ao.classList.add("txui-state-disabled");}if(aq.border&d.RibbonMenuItemBorder.Top){ao.style.borderTop=S;}if(aq.border&d.RibbonMenuItemBorder.Bottom){ao.style.borderBottom=S;}if(aq.name){ar=aq.tabName+"_"+aq.name;ao.id=ar;ao.dataset.menuItemName=aq.name;}if(aq.parameter){ao.dataset.menuItemParameter=aq.parameter;}ao.dataset.menuName=at;var an=document.createElement("a");ao.appendChild(an);an.appendChild(H(aq.text));ap.appendChild(ao);}function H(ap){var an=document.createElement("div");an.classList.add("menu-item-category-header");var ao=document.createElement("h1");ao.textContent=ap;an.appendChild(ao);return an;}var S="1px solid lightgray";function s(av,az,aC,aE,aB){var au=document.createElement("li"),aA,aG="",aD=null;if(!az.enabled){au.classList.add("txui-state-disabled");}if(aC==d.RibbonMenuItemSize.Auto){if(az.imageInfo){switch(az.imageInfo.ImageKind){case d.ImageKind.Small_16x16:aC=d.RibbonMenuItemSize.Small;break;default:aC=d.RibbonMenuItemSize.Large;break;}}else{if(az.smallImageDataURL){aC=d.RibbonMenuItemSize.Small;}else{if(az.largeImageDataURL){aC=d.RibbonMenuItemSize.Large;}}}}switch(aC){case d.RibbonMenuItemSize.Large:au.classList.add("txui-menu-item-large");break;case d.RibbonMenuItemSize.Small:au.classList.add("txui-menu-item-small");break;}if(az.clear){au.style.clear=az.clear;}if(az.border&d.RibbonMenuItemBorder.Top){au.style.borderTop=S;}if(az.border&d.RibbonMenuItemBorder.Bottom){au.style.borderBottom=S;}if(az.tooltip){au.title=az.tooltip;}if(az.name){aA=az.tabName+"_"+az.name;au.id=aA;au.dataset.menuItemName=az.name;}if(az.parameter){au.dataset.menuItemParameter=az.parameter;}au.dataset.menuName=aE;var ao=document.createElement("a");au.appendChild(ao);var ar=document.createElement("div");var ap=document.createElement("div");switch(aC){case d.RibbonMenuItemSize.Large:ar.classList.add("large-menu-item-image-container");if(az.header){ap.classList.add("large-menu-item-long-caption-container");}else{ap.classList.add("large-menu-item-caption-container");}break;case d.RibbonMenuItemSize.Small:if(az.isCheckable){ar.classList.add("ribbon-button");ar.classList.add("ribbon-button-tiny");}else{ar.classList.add("small-menu-item-image-wrapper");}ap.classList.add("small-menu-item-caption-container");break;}if(az.itemType===d.RibbonMenuItemType.CheckMark){ar.classList.add("ribbon-button-checkmark");}if(az.isChecked){ar.classList.add("ribbon-button-selected");}if(az.smallImageDataURL||az.largeImageDataURL||az.imageInfo){var aF="",ay=false;var at=document.createElement("img");switch(aC){case d.RibbonMenuItemSize.Small:aF="16px";break;case d.RibbonMenuItemSize.Large:switch(az.itemType){case d.RibbonMenuItemType.ListType_Bullet:aF="42px";aD="18px";ay=true;break;case d.RibbonMenuItemType.ListType_Number:aF="76px";aD="36px";ay=true;break;default:aF="32px";break;}break;}if(az.smallImageDataURL||az.largeImageDataURL){switch(aC){case d.RibbonMenuItemSize.Small:aG=az.smallImageDataURL;break;case d.RibbonMenuItemSize.Large:aG=az.largeImageDataURL;break;}}else{if(az.imageInfo){var an=d.getCachedImageDataURL(az.imageInfo);if(an){aG=an;}else{aG=d.PlaceholderImage;at.dataset.txImageInfo=JSON.stringify(az.imageInfo);d.requiredImages.push(az.imageInfo);}}}at.src=aG;at.style.width=at.style.height=aF;if(ay){at.style.outline="1px solid #D3D3D3";}ar.appendChild(at);ao.appendChild(ar);}if(az.header){var aq=document.createElement("h1");aq.textContent=az.header;ap.appendChild(aq);}var aw=document.createElement("p");aw.style.whiteSpace="pre";if(aD){aw.style.marginTop=aD;}aw.textContent=az.text;ap.appendChild(aw);ao.appendChild(ap);if(az.menu&&az.menu.items.length){var ax=document.createElement("ul");ax.id=az.tabName+"_"+az.menu.name;if(az.menu.hasAlternativeScrollMethod){I(ax);}else{if(az.menu.maxHeight){ax.style.maxHeight=az.menu.maxHeight+"px";ax.style.overflowY="auto";}}q(ax,az.menu.items,az.menu.itemSize,az.menu.name,false);au.appendChild(ax);}if((aB!=null)&&(aB<av.childNodes.length&&aB>=0)){av.insertBefore(au,av.childNodes[aB]);}else{av.appendChild(au);}if(az.itemType===d.RibbonMenuItemType.ImageUploader){au.addEventListener("click",d.insertLocalImageFile);}}d.addNormalMenuItem=s;function I(an){an.style.overflowY="initial";an.style.maxHeight="initial";c[an.id]=new d.MenuTransformState();an.dataset.transformStateId=an.id;an.addEventListener("mousewheel",O);an.addEventListener("DOMMouseScroll",O);if(d.isTouchDevice){an.addEventListener("touchstart",R);an.addEventListener("touchend",P);an.addEventListener("touchcancel",P);an.addEventListener("touchmove",Q);}}function j(ap,ar,at,au){var aq,ao=d.makeSmallColorButtons();ap.style.minWidth=d.MinColorPickerMenuWidth+"px";for(aq=0;aq<ao.length;++aq){var an=ao[aq];an.dataset.menuName=au;an.dataset.menuItemName=ar.name;ap.appendChild(an);}}function D(at,az,aB,aC){var ar=document.createElement("li"),aA,aF,aD;var aG,aE;if(!az.enabled){ar.classList.add("txui-state-disabled");}if(az.border&d.RibbonMenuItemBorder.Top){ar.style.borderTop=S;}if(az.border&d.RibbonMenuItemBorder.Bottom){ar.style.borderBottom=S;}if(az.name){aA=az.tabName+"_"+az.name;ar.id=aA;ar.dataset.menuItemName=az.name;}if(az.parameter){ar.dataset.menuItemParameter=az.parameter;}ar.dataset.menuName=aC;var aq=document.createElement("a");ar.appendChild(aq);var aJ=document.createElement("div");aJ.classList.add("menu-item-category-header");aq.appendChild(aJ);var aw=document.createElement("h1");var ax=document.createElement("span");ax.classList.add("txTblWizHdrFirstPart");ax.textContent=d.ribbonStringResources.RIBBON_TAB_INSERT_GRP_TABLES_INS_MNU_HEADER+" ";var ay=document.createElement("span");ay.classList.add("txTblWizHdrSecondPart");aw.appendChild(ax);aw.appendChild(ay);var av=document.createElement("div");av.classList.add("txInsertTableWizard");var au=document.createElement("table");av.appendChild(au);au.addEventListener("click",function(){ap();});av.addEventListener("mouseleave",function(aK){aK.target.parentElement.querySelector(".txTblWizHdrSecondPart").textContent="";});au.addEventListener("mouseleave",function(aK){var aL=document.elementFromPoint(aK.clientX,aK.clientY);if(!aL||((aL.tagName!=="TD")&&(aL.tagName!=="TABLE")&&(aL.tagName!=="TR"))){ao();}});for(aF=1;aF<=8;++aF){var aH=document.createElement("tr");au.appendChild(aH);for(aD=1;aD<=10;++aD){var an=document.createElement("td");aH.appendChild(an);an.txCol=aD;an.txRow=aF;an.addEventListener("click",function(){ap();});an.addEventListener("mouseover",function(aK){aI(aK.target.txCol,aK.target.txRow);});}}aJ.appendChild(aw);aJ.appendChild(av);at.appendChild(ar);function ao(){var aK=av.querySelectorAll("td.glowing");[].forEach.call(aK,function(aL){aL.classList.remove("glowing");});aG=aE=0;ay.textContent="";}function aI(aP,aL){ao();for(var aN=0;aN<aL;++aN){var aO=au.rows[aN];for(var aM=0;aM<aP;++aM){var aK=aO.cells[aM];aK.classList.add("glowing");}}aG=aL;aE=aP;ay.textContent=aP+"x"+aL;}function ap(){d.sendCommand(d.Command.TableCommand,d.TableCommand.Create,aE,aG);ao();}}d.changeRibbonControlState=function(ap){var ao,aq,an;ao=ap.controlName;an=document.getElementById(ao);if(!an){if(ap.tabName!==null){ao=ap.tabName+"_"+ap.controlName;an=document.getElementById(ao);if(!an){return;}}else{return;}}switch(ap.stateType){case d.RibbonControlStateType.Enabled:switch(an.tagName){case"INPUT":an.disabled=!ap.value;break;default:if(ap.value){an.classList.remove("txui-state-disabled");}else{an.classList.add("txui-state-disabled");}break;}break;case d.RibbonControlStateType.Visible:aq=document.querySelector("a[rel="+ao+"]");if(aq){if(ap.value){a("#"+aq.id).show();}else{a("#"+aq.id).hide();if(a("#"+ao).is(":visible")){d.switchTabs(a("#tabDefault"));}}d.adaptRibbonTabWidths();}else{if(ap.value){an.style.display="";d.setDlgLauncherPos();}else{an.style.display="none";if(an.classList.contains("ribbon-group")){d.resetRibbonTabContentPos();}}}d.updateRibbonScrollArrows();break;}};d.changeRibbonButtonState=function(ar){var ao=ar.tabName+"_"+ar.buttonName;var an=document.getElementById(ao);if(!an){return;}switch(ar.stateType){case d.RibbonButtonStateType.Toggled:if(an.classList.contains("ribbon-button-big")){if(ar.value){an.classList.add("ribbon-button-selected");}else{an.classList.remove("ribbon-button-selected");}}else{var at=an.getElementsByTagName("div")[0];if(!at){at=an;}if(ar.value){at.classList.add("ribbon-button-selected");}else{at.classList.remove("ribbon-button-selected");}}break;case d.RibbonButtonStateType.ImageDataURL:var aq=an.querySelector("div > img");if(aq){aq.src=ar.value;}break;case d.RibbonButtonStateType.ButtonText:var ap=an.getElementsByTagName("div")[0];if(!ap){console.error("changeRibbonButtonState(): Text container div of small button "+ar.buttonName+" not found.");break;}ap.textContent=(ar.value.length==1)?ar.value+"\\uFE0E":ar.value;break;}};d.changeRibbonMenuItemState=function(ap){var ao=document.getElementById(ap.tabName+"_"+ap.menuItemName);if(!ao){return;}switch(ap.stateType){case d.RibbonMenuItemStateType.IsChecked:G(ao,ap.value);break;case d.RibbonMenuItemStateType.SmallImageDataURL:var an=ao.querySelector("a > div > img");if(an){an.src=ap.value;}break;}};function G(ao,an){var ap=ao.querySelector("a > div");if(an){ap.classList.add("ribbon-button-selected");}else{ap.classList.remove("ribbon-button-selected");}}d.changeRibbonTextBoxState=function(an){var ap=document.getElementById(an.tabName+"_"+an.textBoxName);if(!ap){return;}switch(an.stateType){case d.RibbonTextBoxStateType.Number:ap.value=+an.value.toFixed(1);break;case d.RibbonTextBoxStateType.Text:ap.value=an.value;break;case d.RibbonTextBoxStateType.Selection:if(an.value.text||(an.value.text==="")){ao();}else{if(an.value.selectionLength){ap.focus();ap.setSelectionRange(an.value.selectionStart,an.value.selectionStart+an.value.selectionLength);}}break;}function ao(){var ax=ap.selectionStart;var ar=ap.selectionEnd;var aq=ap.value;var at=aq.substring(0,ax)+an.value.text+aq.substring(ar,aq.length);ap.value=at;ap.focus();var aw=ax+an.value.selectionStart;var av=an.value.selectionLength;var au=aw+av;ap.setSelectionRange(aw,au);}};d.changeRibbonComboBoxState=function(ao){var an=document.getElementById(ao.tabName+"_"+ao.name);if(!an){return;}switch(ao.stateType){case d.ComboBoxStateType.SelectedItem:ap();break;case d.ComboBoxStateType.Items:aq();break;}function aq(){an.innerHTML="";l(an,ao.value.items,ao.tabName,ao.name);}function ap(){var au=ao.value.selectedItem;var at=-1;if(au===null){at=0;}else{for(var ar=0;ar<an.length;ar++){if(an[ar].value===au.Value){at=ar;break;}}}if(at!=-1){an.selectedIndex=at;}}};d.processRibbonComboBoxCommand=function(ap){var ao=document.getElementById(ap.tabName+"_"+ap.name);if(!ao){return;}switch(ap.command){case d.ComboBoxCommand.AddItem:an(ap.value);break;case d.ComboBoxCommand.AddItems:ap.value.forEach(function(aq){an(aq);});break;case d.ComboBoxCommand.Clear:ao.innerHTML="";break;default:console.error("Unknown combobox command in _private.processRibbonComboBoxCommand(): "+ap.command);break;}function an(ar){var aq=[].find.call(ao.options,function(at){return at.text===ar.text;});if(!aq){aq=document.createElement("option");aq.value=ar.value;aq.text=ar.text;ao.appendChild(aq);}if(ar.hidden){aq.style.display="none";aq.disabled=true;}else{aq.style.display="";aq.disabled=false;}}};d.changeListItemState=function(aq){var ao=aq.tabName+"_"+aq.listBoxName;switch(aq.stateType){case d.ListItemStateType.IsChecked:an();break;case d.ListItemStateType.Text:ar();break;case d.ListItemStateType.Editable:ap();break;}function an(){var au=document.querySelectorAll("#"+ao+" input[type=checkbox]");var at=[].find.call(au,function(av){return av.dataset.itemUid===aq.uid;});if(!at){console.error(\'checkItem(): Check box for item with uid "\'+aq.uid+\'" not found in list box "\'+aq.listBoxName+\'".\');return;}at.checked=aq.value;}function ar(){var au=document.querySelectorAll("#"+ao+" td label, #"+ao+" td div");var at=[].find.call(au,function(av){return av.dataset.itemUid===aq.uid;});if(!at){console.error(\'setItemText(): Item with uid "\'+aq.uid+\'" not found in list box "\'+aq.listBoxName+\'".\');return;}if(at.tagName==="LABEL"){at.text=aq.value;}else{if(at.tagName==="DIV"){at.textContent=aq.value;}else{console.error(\'changeListItemState(), setItemText(): Unexpected tag "\'+at.tagName+\'".\');}}}function ap(){if(!aq.value){console.error("changeListItemState(), makeListItemEditable(): Making items read only again is not implemented yet.");return;}var aw=document.getElementById(aq.tabName+"_"+aq.listBoxName);if(!aw){return;}aC();var aA=aw.querySelectorAll("tr");[].forEach.call(aA,function(aE){aE.classList.remove("selected");});var az=[].find.call(aA,function(aE){return aE.dataset.itemUid===aq.uid;});if(!az){console.error(\'changeListItemState(), makeListItemEditable(): list item with uid "\'+aq.uid+\'" not found.\');return;}var ax=az.children[0],ay=ax.children[0];if(ay.tagName==="INPUT"){return;}ay.parentNode.removeChild(ay);var at=document.createElement("input");at.type="text";at.setAttribute("form","txNovalidateForm");at.style.width="98%";at.value=ay.textContent;ax.appendChild(at);at.addEventListener("blur",au);at.addEventListener("keydown",av);setTimeout(function(){at.focus();},100);function au(){at.removeEventListener("keydown",av);aB();if(at.value){if(at.value!==ay.textContent){ay.textContent="";}aD();}}function av(aE){switch(aE.key){case"Esc":case"Escape":at.removeEventListener("blur",au);aB();break;case"Enter":at.removeEventListener("blur",au);aB();if(at.value!==ay.textContent){ay.textContent="";}aD();break;}}function aD(aF){var aE={tabName:aq.tabName,listBoxName:aq.listBoxName,text:at.value,itemUid:az.dataset.itemUid};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemTextChanged,0,0,aE);}function aB(){at.parentNode.removeChild(at);ax.appendChild(ay);}function aC(){var aF=aw.getBoundingClientRect();var aE=document.getElementById("mainCanvas");var aG=aE.getBoundingClientRect();if(aF.right>aG.right){aa(null,true);}else{if(aF.left<aG.left){Z(null,true);}}}}};d.changeListBoxState=function(ao){var an=document.getElementById(ao.tabName+"_"+ao.name);if(!an){return;}switch(ao.stateType){case d.ListBoxStateType.Items:W(an,ao.value,ao.tabName,ao.name,ao.itemsAreCheckable,ao.itemsAreSelectable);break;case d.ListBoxStateType.SelectedIndex:af(an,ao.value);break;}};d.calcMenuWidths=function(ap){if(!ap||!ap.children){return;}var av=[];for(var ar=0;ar<ap.children.length;++ar){var ao=ap.children[ar];if(ao.tagName==="LI"){for(var at=0;at<ao.children.length;++at){var an=ao.children[at];if(an.tagName==="UL"){av.push(an);}}}}for(ar=0;ar<av.length;++ar){var au=av[ar];d.calcMenuWidths(au);}ap.style.width=aq(ap)+"px";function aq(aA){var aJ=0,aM,aN,ax,az,aD,aB,aK,ay;var aw=aE(aA)?27:10;for(var aG=0;aG<aA.children.length;++aG){aD=aA.children[aG];if(!aD.children.length){continue;}aB=aD.children[0];if(aB.nodeName!=="A"){continue;}aK=document.createElement("TABLE");aK.style.position="fixed";aK.style.left="-9999px";aK.style.whiteSpace="nowrap";aK.style.borderCollapse="collapse";aN=document.createElement("TR");aK.appendChild(aN);for(var aH=0;aH<aB.childNodes.length;++aH){ax=aB.childNodes[aH];if(ax.nodeType===Node.ELEMENT_NODE){var aL=ax.querySelector("div.txInsertTableWizard > table");if(aL){ax=aL;aw=-1;}}az=(ax instanceof HTMLElement)?getComputedStyle(ax):getComputedStyle(aB);aM=document.createElement("TD");aM.style.fontFamily=az.fontFamily;aM.style.fontSize=az.fontSize;ay=ax.cloneNode(true);if(ay instanceof HTMLElement){ay.style.fontFamily=az.fontFamily;ay.style.fontSize=az.fontSize;if(ay.tagName==="TABLE"){ay.style.width=az.width;}}switch(ay.nodeType){case Node.ELEMENT_NODE:if((ay.tagName==="DIV")&&(ay.classList.contains("menu-item-category-header"))){break;}var aF=ay.querySelectorAll("h1");for(var aI=0;aI<aF.length;++aI){aF[aI].style.fontSize=az.fontSize;aF[aI].style.fontWeight="bold";}aM.appendChild(ay);aN.appendChild(aM);break;case Node.TEXT_NODE:aM.textContent=ay.data;aN.appendChild(aM);break;}}var aC=document.getElementById("txTemplateDesignerContainer");aC.appendChild(aK);var aO=aK.clientWidth+aw;aJ=Math.max(aJ,aO);aC.removeChild(aK);}return aJ;function aE(aP){return(aP.style.overflowY==="auto")||(aP.style.overflowY==="scroll");}}};d.hideAllOtherMenus=function(){for(var an in d.jQueryMenus){d.jQueryMenus[an].hide();}};d.limitMenuHeight=function(aq){var an=document.getElementById(aq);an.style.height="";var ao=an.clientHeight;var ap=d.clientSize.Height-d.ribbonBarHeight-d.StatusBarHeight-d.ScrollbarWidth;if(ap<ao){an.style.height=ap+"px";an.style.overflowY="auto";}};d.MenuTransformState=(function(){function an(){this.scrollEnabled=false;this.deltaY=0;this.maxDelta=0;this.touchInProgress=false;this.touchPrev=null;this.deltaFactor=1;this.direction=null;}an.prototype.reset=function(){this.scrollEnabled=false;this.deltaY=this.maxDelta=0;this.touchInProgress=false;this.touchPrev=null;this.direction=null;};return an;})();function L(an){if(!an){throw new Error(\'Argument "menu" is null.\');}var ao=an.dataset.transformStateId;if(!ao){throw new Error("Menu transform / scroll state id not found in element dataset.");}return c[ao];}function ae(aq,an,ar){var ao=null;if(!ar.scrollEnabled){return;}if(ar.direction===null){ap();}if(ar.direction===null){console.error("Sub menu scroll direction could not be determined for unknown reasons.");ar.direction=-1;}switch(ar.direction){case 1:ar.deltaY=Math.min(Math.max((ar.deltaY+an),0),ar.maxDelta);break;case -1:ar.deltaY=Math.min(Math.max((ar.deltaY+an),-ar.maxDelta),0);break;}aq.style.transform="translate(0px, "+ar.deltaY+"px)";function ap(){var ax=at(aq);if(ax==0){ar.direction=-1;}else{var aw=aq.getBoundingClientRect().bottom;if(ax==1){var av=aq.parentElement;if(av.tagName==="LI"){ao=(aw-av.getBoundingClientRect().bottom);}}else{ao=aw-au(aq).getBoundingClientRect().bottom;}if(ao!==null){ar.direction=(ao<=2)?1:-1;}}function at(aA){var az=0;var aB=au(aA);var ay=aB!=null;if(ay){az=at(aB)+1;}return az;}function au(az){var aA=az.parentElement.parentElement;var ay=aA&&aA.tagName==="UL";if(ay){return aA;}else{return null;}}}}function O(ao){var ap=L(ao.currentTarget);var an=((ao.wheelDelta||-(ao.detail*40))/4)*ap.deltaFactor;ae(ao.currentTarget,an,ap);if(ao.cancelable){ao.preventDefault();}ao.stopPropagation();}function R(an){var ao=L(an.currentTarget);ao.touchInProgress=(an.touches.length==1);if(ao.touchInProgress){ao.touchPrev=d.cloneTouch(an.touches[0]);}an.stopPropagation();}function P(an){var ao=L(an.currentTarget);ao.touchInProgress=false;ao.touchPrev=null;an.stopPropagation();}function Q(ao){var ap=L(ao.currentTarget);if(!ap.touchInProgress){return;}if(ao.touches.length!=1){ap.touchInProgress=false;return;}var an=ao.changedTouches[0].clientY-ap.touchPrev.clientY;ap.touchPrev=d.cloneTouch(ao.changedTouches[0]);ae(ao.currentTarget,an,ap);if(ao.cancelable){ao.preventDefault();}ao.stopPropagation();}function F(ar,ap){ap=!!ap;var ao=ar.clientHeight;var aq=d.clientSize.Height-d.ribbonBarHeight-d.StatusBarHeight;var at;try{at=L(ar);}catch(an){c[ar.id]=new d.MenuTransformState();at=c[ar.id];}if((ao>aq)||ap){at.scrollEnabled=true;at.maxDelta=ap?ao:(ao-aq);}else{at.reset();}if(!ap){var au=ar.querySelectorAll("ul");[].forEach.call(au,function(av){av.style.display="";});[].forEach.call(au,function(av){F(av,true);});[].forEach.call(au,function(av){av.style.display="none";});}}function X(ao){for(var an in c){if(c.hasOwnProperty(an)){c[an].reset();}}ao.style.transform="";var ap=ao.querySelectorAll("ul");[].forEach.call(ap,function(aq){aq.style.transform="";});}return al;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.SubTextPartCommand=Object.freeze({GetAll:1,SetProperty:2,GetItem:3,AddItem:4,RemoveItem:5,ScrollTo:6,});b.SubTextPartProperty=Object.freeze({Name:1,Start:2,Length:3,ID:4,HighlightColor:5,HighlightMode:6});b.HighlightMode=Object.freeze({Never:1,Activated:2,Always:3});b.AddResult=Object.freeze({Error:0,Successful:1,NoSelection:2,SelectionTooComplex:3,PositionInvalid:4,AlreadyExists:5,Overlapping:7,Combined:8,});b.Color=(function(){function Color(r,g,b,a){if(a===undefined){a=255;}if((r===undefined)||(g===undefined)||(b===undefined)||(r<0)||(r>255)||(g<0)||(g>255)||(b<0)||(b>255)||(a<0)||(a>255)){throw new TypeError("r, g, and b parameters must be integer values between 0 and 255.");}this.r=Math.round(r);this.g=Math.round(g);this.b=Math.round(b);this.a=Math.round(a);}return Color;})();b.LegacySubTextPart=(function(){function SubTextPart(serverSubTextPartObject){this._subTextPart=serverSubTextPartObject;var g=this;Object.defineProperties(this,{name:{get:function(){return g._subTextPart.name;},set:function(name){if(name===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(typeof name!=="string"){throw new TypeError(\'"name" must be a string.\');}g._subTextPart.name=name;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.Name,0,h);},enumerable:true},id:{get:function(){return g._subTextPart.id;},set:function(id){if(id===undefined){id=0;}if(!isInteger(id)){throw new TypeError(\'"id" must be an integer.\');}g._subTextPart.id=id;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.ID,0,h);},enumerable:true},highlightColor:{get:function(){return g._subTextPart.highlightColor;},set:function(highlightColor){if(highlightColor===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!highlightColor.hasOwnProperty("r")||!highlightColor.hasOwnProperty("g")||!highlightColor.hasOwnProperty("b")||!highlightColor.hasOwnProperty("a")){throw new TypeError("The color object must have the properties \'r\', \'g\', \'b\' and \'a\'.");}if(!isInteger(highlightColor.r)||!isInteger(highlightColor.g)||!isInteger(highlightColor.b)||!isInteger(highlightColor.a)){throw new TypeError("All color channel values must be integers between 0 and 255.");}g._subTextPart.highlightColor=highlightColor;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.HighlightColor,0,h);},enumerable:true},highlightMode:{get:function(){return g._subTextPart.highlightMode;},set:function(highlightMode){if(highlightMode===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!isInteger(highlightMode)){throw new TypeError(\'"highlightMode" must be one of the values defined in TXTextControl.HighlightMode.\');}g._subTextPart.highlightMode=highlightMode;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.HighlightMode,0,h);},enumerable:true},text:{get:function(){return g._subTextPart.text;},enumerable:true},number:{get:function(){return g._subTextPart.number;},enumerable:true},start:{get:function(){return g._subTextPart.start;},enumerable:true},length:{get:function(){return g._subTextPart.length;},enumerable:true},nestedLevel:{get:function(){return g._subTextPart.nestedLevel;},enumerable:true},});}SubTextPart.prototype.scrollTo=function(){var g={subTextPart:this._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.ScrollTo,0,0,g);};return SubTextPart;})();b.processSubTextPartDataMessage=function(i){var g=i.Data.Content;var h=i.Data.ExcMsg;switch(g.SubTextPartCommand){case b.SubTextPartCommand.GetAll:d(g,h);break;case b.SubTextPartCommand.AddItem:c(g,h);break;case b.SubTextPartCommand.RemoveItem:e(g,h);break;}};function d(i,k){var g=b.documentTaskCallbacks.getSubTextParts.shift();if(g===undefined){return;}if(k){throw new Error(k);}var h=[];i.SubTextParts.forEach(function(l){h.push(new b.LegacySubTextPart(l));});try{g(h);}catch(j){}}function c(h,j){var g=b.documentTaskCallbacks.addSubTextPart.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.AddResult);}catch(i){}}function e(h,j){var g=b.documentTaskCallbacks.removeSubTextPart.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.Removed);}catch(i){}}return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};var e=f.Proofing=f.Proofing||{};b.SpellCheckCommand=Object.freeze({LoadUserDictionary:1,AddWordToUserDict:2,RemoveWordFromUserDict:3,ClientSaveUserDictionary:4,RemoveUserDictionary:5,ClientGetUserDictInfo:6});b.proofingTaskCallbacks={saveUserDictionary:[],getUserDictionaryInfo:[]};b.UserDictionaryInfo=(function(){function UserDictionaryInfo(info){for(var g in info){this[g]=info[g];}}return UserDictionaryInfo;})();e.loadUserDictionary=function(name,words,language){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if((language===undefined)||(typeof language!=="string")){throw new TypeError(\'"language" must be a string.\');}if(words===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(words.constructor!==Array){throw new TypeError(\'"words" must be an array.\');}words.forEach(function(h){if((typeof h!=="string")&&!(h instanceof String)){throw new TypeError(\'"words" must be an array of strings.\');}});var g={words:words,name:name,lang:language};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.LoadUserDictionary,0,0,g);};e.addWordToUserDictionary=function(name,word){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(word===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!word||(typeof word!=="string")){throw new TypeError(\'"word" must be a non empty string.\');}var g={word:word,name:name};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.AddWordToUserDict,0,0,g);};e.removeWordFromUserDictionary=function(name,word){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(word===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!word||(typeof word!=="string")){throw new TypeError(\'"word" must be a non empty string.\');}var g={word:word,name:name};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.RemoveWordFromUserDict,0,0,g);};e.saveUserDictionary=function(name,callback){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.proofingTaskCallbacks.saveUserDictionary.push(callback);b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.ClientSaveUserDictionary,0,0,{name:name});};e.removeUserDictionary=function(name){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.RemoveUserDictionary,0,0,{name:name});};e.getUserDictionaryInfo=function(callback){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.proofingTaskCallbacks.getUserDictionaryInfo.push(callback);b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.ClientGetUserDictInfo);};b.processSpellCheckCommandResponse=function(j){var i=j.Data.ExcMsg;var g=j.Data.Content.command;var h=j.Data.Content.content;switch(g){case b.SpellCheckCommand.ClientSaveUserDictionary:d(h,i);break;case b.SpellCheckCommand.ClientGetUserDictInfo:c(h,i);break;}};function d(h,j){var g=b.proofingTaskCallbacks.saveUserDictionary.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.name,h.words);}catch(i){}}function c(h,j){var g=b.proofingTaskCallbacks.getUserDictionaryInfo.shift();if(g===undefined){return;}if(j){throw new Error(j);}var k=[];h.info.forEach(function(l){k.push(new b.UserDictionaryInfo(l));});try{g(k);}catch(i){}}return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};c.documentPermissions=c.documentPermissions||{};b.documentPermissions={readOnly:true,allowCopy:true,allowFormatting:true,allowFormattingStyles:true,allowPrinting:true,allowEditingFormFields:true};b.DocumentPermissionsProperty={};Object.defineProperty(c.documentPermissions,"readOnly",{get:function(){return b.documentPermissions.readOnly;},set:function(readOnly){if(typeof readOnly!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.ReadOnly,readOnly?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowCopy",{get:function(){return b.documentPermissions.allowCopy;},set:function(allowCopy){if(typeof allowCopy!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowCopy,allowCopy?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowFormatting",{get:function(){return b.documentPermissions.allowFormatting;},set:function(allowFormatting){if(typeof allowFormatting!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowFormatting,allowFormatting?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowFormattingStyles",{get:function(){return b.documentPermissions.allowFormattingStyles;},set:function(allowFormattingStyles){if(typeof allowFormattingStyles!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowFormattingStyles,allowFormattingStyles?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowPrinting",{get:function(){return b.documentPermissions.allowPrinting;},set:function(allowPrinting){if(typeof allowPrinting!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowPrinting,allowPrinting?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowEditingFormFields",{get:function(){return b.documentPermissions.allowEditingFormFields;},set:function(d){if(typeof d!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowEditingFormFields,d?1:0);},enumerable:true});b.setDocumentPermission=function(d){var e=d.Param1;var f=(d.Param2!==0);switch(e){case b.DocumentPermissionsProperty.ReadOnly:b.documentPermissions.readOnly=f;break;case b.DocumentPermissionsProperty.AllowCopy:b.documentPermissions.allowCopy=f;break;case b.DocumentPermissionsProperty.AllowFormatting:b.documentPermissions.allowFormatting=f;break;case b.DocumentPermissionsProperty.AllowFormattingStyles:b.documentPermissions.allowFormattingStyles=f;break;case b.DocumentPermissionsProperty.AllowPrinting:b.documentPermissions.allowPrinting=f;break;case b.DocumentPermissionsProperty.AllowEditingFormFields:b.documentPermissions.allowEditingFormFields=f;break;}};return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Ribbon=(function(){function Ribbon(){Object.defineProperties(this,{selectedTab:{get:function(){var d=document.querySelector("#ribbonbar ul.tabs a[rel].selected");if(d){return d.getAttribute("id");}else{return"";}},set:function(tabName){if(typeof tabName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var g=document.querySelectorAll("#ribbonbar ul.tabs a[rel]");var f=false;for(var d=0;d<g.length;++d){var e=g[d];if((e.id===tabName)&&(e.style.display!=="none")){f=true;break;}}if(!f){throw new Error(b.ErrorText.RibbonTabDoesNotExist);}b.switchTabs(a("#"+tabName));},enumerable:true}});}Ribbon.prototype.minimize=function(){b.showRibbonBar(false);};Ribbon.prototype.expand=function(){b.showRibbonBar(true);};return Ribbon;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventManager=(function(){function d(){this.callbacks={};}d.prototype.addEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}this.callbacks[eventName]=this.callbacks[eventName]||[];var e=this.callbacks[eventName];var f=e.indexOf(callback);if(f==-1){e.push(callback);}};d.prototype.removeEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}if(!this.callbacks.hasOwnProperty(eventName)){return;}var f=this.callbacks[eventName];try{var h=f.indexOf(callback);if(h>-1){f.splice(h,1);if(f.length==0){delete this.callbacks[eventName];}}}catch(g){}};d.prototype.fireEvent=function(k,j){if(!this.callbacks.hasOwnProperty(k)){return;}var g=this.callbacks[k];for(var l=0;l<g.length;++l){var f=g[l];try{f(j);}catch(h){}}};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventSubscriber=(function(){function d(){this._={eventManager:new b.EventManager()};}d.prototype.addEventListener=function(f,e){if(!e){throw new Error(b.ErrorText.TooFewParameters);}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this._.eventManager.addEventListener(f,e);};d.prototype.fireEvent=function(f,e){f=""+f;this._.eventManager.fireEvent(f,e);};d.prototype.removeEventListener=function(f,e){if(f!=b.TXEventNames.AccessTextControlMember){this._.eventManager.removeEventListener(f,e);}};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MemberType=Object.freeze({Property:1,Method:2});b.MemberInfo=(function(){function d(e,f){if(typeof e!=="string"){throw new TypeError("Method name must be a string.");}if(typeof f!=="number"){throw new TypeError("Type must be one of the _private.MemberType values.");}this.name=e;this.type=f;}d.createInstance=function(e,g,f){switch(g){case b.MemberType.Method:return b.MethodInfo.createInstance(e,f);case b.MemberType.Property:return new b.PropertyInfo(e,(f&&f.length)?f[0]:null);}throw new Error("MemberInfo.createInstance(): Unknown member type "+g+".");};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MethodInfo=(function(d){__extends(e,d);function e(f,g){d.call(this,f,b.MemberType.Method);this.parameters=(typeof g!=="undefined")?g:[];}e.createInstance=function(g,h){if(typeof g!=="string"){throw new TypeError(\'Parameter "methodName" has invalid type.\');}var j=[];if(typeof h!=="undefined"){for(var f=0;f<h.length;f++){if(typeof h[f]!=="undefined"){j.push(new b.ParameterInfo(h[f]));}}}return new b.MethodInfo(g,j);};return e;})(b.MemberInfo);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParameterInfo=(function(){function d(e){if(typeof e==="function"){throw new Error("A method parameter must not be a function.");}this.value=e;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PropertyInfo=(function(d){__extends(e,d);function e(f,g){d.call(this,f,b.MemberType.Property);this.value=(typeof g!=="undefined")?g:null;}return e;})(b.MemberInfo);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CallDirection=Object.freeze({None:0,Get:1,Set:2});b.TXEventNames=Object.freeze({AccessTextControlMember:"accessTextControlMember"});b.TextControlClassAdapter=(function(d){__extends(TextControlClassAdapter,d);function TextControlClassAdapter(e,f){d.call(this);if(typeof e!=="number"){e=0;}if(typeof f!=="number"){f=-1;}this._.hashcode=e;this._.index=f;}TextControlClassAdapter.prototype.callMethod=function(g,e,h,f){if(typeof g==="undefined"){throw new Error("Missing method name.");}if((e!==null)&&(typeof e!=="undefined")&&(typeof e!=="function")){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof h==="undefined"){h=[];}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Method,b.CallDirection.None,h,e,null,f);};TextControlClassAdapter.prototype.setPropertyValue=function(g,h,e,f){if(typeof g==="undefined"){throw new Error("Missing property name.");}if(typeof h==="undefined"){throw new TypeError(b.ErrorText.TooFewParameters);}if((e!==null)&&(typeof e!=="undefined")&&(typeof e!=="function")){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Set,[h],e,null,f);};TextControlClassAdapter.prototype.getPropertyValue=function(g,e,f){if(typeof g==="undefined"){throw new TypeError(b.ErrorText.TooFewParameters);}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Get,[],e,null,f);};TextControlClassAdapter.prototype.invokeTextControlMemberAccessEvent=function(e,f){if(!(e instanceof b.TextControlMemberAccessEventArgs)){throw new TypeError();}if(typeof f!=="undefined"&&f!=null){e.prepend(f);}this.fireEvent(b.TXEventNames.AccessTextControlMember,e);};TextControlClassAdapter.prototype.accessTextControlMember=function(j,k,g,l,f,e,h){var i=b.MemberInfo.createInstance(j,k,l);if((e===null)||(typeof e==="undefined")){this.invokeTextControlMemberAccessEvent(new b.TextControlMemberAccessEventArgs(i,f,g,h));}else{this.invokeTextControlMemberAccessEvent(e,i);}};TextControlClassAdapter.prototype.addPropertyAccessEventListener=function(f,g,e){if(!g){throw new TypeError("Missing property name.");}var h=this;f.addEventListener(b.TXEventNames.AccessTextControlMember,function(i){h.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Get,[],e,i);});};TextControlClassAdapter.prototype.addMethodCallEventListener=function(g,f,h,e){if(!f){throw new TypeError("Missing method name.");}var i=this;g.addEventListener(b.TXEventNames.AccessTextControlMember,function(j){i.accessTextControlMember(f,b.MemberType.Method,b.CallDirection.None,h,e,j);});};return TextControlClassAdapter;})(b.EventSubscriber);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextControlMemberAccessEventArgs=(function(){function d(h,e,f,g){if((e===null)||(typeof e==="undefined")){e=function(){};}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof f==="undefined"){f=b.CallDirection.None;}else{if(typeof f!=="number"){throw new TypeError(\'Parameter "dir" must be one of the _private.CallDirection values.\');}}this.m_sequence=[h];this.m_callback=e;this.m_dir=f;this.m_errorCallback=g;}d.prototype.prepend=function(e){if(typeof e==="undefined"){throw new TypeError("TextControlMemberAccessEventArgs.prepend(): memberInfo is undefined.");}this.m_sequence.unshift(e);};Object.defineProperty(d.prototype,"callback",{get:function(){return this.m_callback;},enumerable:true,});Object.defineProperty(d.prototype,"sequence",{get:function(){return this.m_sequence;},enumerable:true,});Object.defineProperty(d.prototype,"callDirection",{get:function(){return this.m_dir;},enumerable:true,});Object.defineProperty(d.prototype,"errorCallback",{get:function(){return this.m_errorCallback;},enumerable:true,});return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextControlMemberAccessMessage=(function(){function d(g,e,f){if((typeof g!=="string")||!g){throw new TypeError("Invalid message uid.");}if(!Array.isArray(e)){throw new TypeError("Sequence is not an array.");}if(typeof f==="undefined"){f=b.CallDirection.None;}else{if(typeof f!=="number"){throw new TypeError(\'Parameter "dir" must be one of the _private.CallDirection values.\');}}this.m_uid=g;this.m_callSequence=e;this.m_dir=f;Object.defineProperties(this,{commandID:{get:function(){return b.Command.AccessTextControlMember;},enumerable:true},param1:{get:function(){return this.m_dir;},enumerable:true},param2:{get:function(){return 0;},enumerable:true},param3:{get:function(){return 0;},enumerable:true},data:{get:function(){return{callSequence:this.m_callSequence,messageUID:this.m_uid};},enumerable:true}});}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ActiveFormFieldColor:"ActiveFormFieldColor",DarkShadowColor:"DarkShadowColor",DesktopColor:"DesktopColor",FormFieldColor:"FormFieldColor",HeaderFooterLabelColor:"HeaderFooterLabelColor",HeaderFooterLineColor:"HeaderFooterLineColor",LightShadowColor:"LightShadowColor"});var c=Object.freeze({ResetDarkShadowColor:"ResetDarkShadowColor",ResetDesktopColor:"ResetDesktopColor",ResetHeaderFooterLabelColor:"ResetHeaderFooterLabelColor",ResetHeaderFooterLineColor:"ResetHeaderFooterLineColor",ResetLightShadowColor:"ResetLightShadowColor"});b.DisplayColors=(function(f){__extends(DisplayColors,f);function DisplayColors(){f.call(this);}DisplayColors.prototype.setActiveFormFieldColor=function(color,callback,errorCallback){this.setPropertyValue(d.ActiveFormFieldColor,color,callback,errorCallback);};DisplayColors.prototype.getActiveFormFieldColor=function(callback,errorCallback){this.getPropertyValue(d.ActiveFormFieldColor,callback,errorCallback);};DisplayColors.prototype.setDarkShadowColor=function(color,callback,errorCallback){this.setPropertyValue(d.DarkShadowColor,color,callback,errorCallback);};DisplayColors.prototype.getDarkShadowColor=function(callback,errorCallback){this.getPropertyValue(d.DarkShadowColor,callback,errorCallback);};DisplayColors.prototype.setDesktopColor=function(color,callback,errorCallback){this.setPropertyValue(d.DesktopColor,color,callback,errorCallback);};DisplayColors.prototype.getDesktopColor=function(callback,errorCallback){this.getPropertyValue(d.DesktopColor,callback,errorCallback);};DisplayColors.prototype.setFormFieldColor=function(color,callback,errorCallback){this.setPropertyValue(d.FormFieldColor,color,callback,errorCallback);};DisplayColors.prototype.getFormFieldColor=function(callback,errorCallback){this.getPropertyValue(d.FormFieldColor,callback,errorCallback);};DisplayColors.prototype.setHeaderFooterLabelColor=function(color,callback,errorCallback){this.setPropertyValue(d.HeaderFooterLabelColor,color,callback,errorCallback);};DisplayColors.prototype.getHeaderFooterLabelColor=function(callback,errorCallback){this.getPropertyValue(d.HeaderFooterLabelColor,callback,errorCallback);};DisplayColors.prototype.setHeaderFooterLineColor=function(color,callback,errorCallback){this.setPropertyValue(d.HeaderFooterLineColor,color,callback,errorCallback);};DisplayColors.prototype.getHeaderFooterLineColor=function(callback,errorCallback){this.getPropertyValue(d.HeaderFooterLineColor,callback,errorCallback);};DisplayColors.prototype.setLightShadowColor=function(color,callback,errorCallback){this.setPropertyValue(d.LightShadowColor,color,callback,errorCallback);};DisplayColors.prototype.getLightShadowColor=function(callback,errorCallback){this.getPropertyValue(d.LightShadowColor,callback,errorCallback);};DisplayColors.prototype.resetDarkShadowColor=function(callback,errorCallback){this.callMethod(c.ResetDarkShadowColor,callback,[],errorCallback);};DisplayColors.prototype.resetDesktopColor=function(callback,errorCallback){this.callMethod(c.ResetDesktopColor,callback,[],errorCallback);};DisplayColors.prototype.resetHeaderFooterLabelColor=function(callback,errorCallback){this.callMethod(c.ResetHeaderFooterLabelColor,callback,[],errorCallback);};DisplayColors.prototype.resetHeaderFooterLineColor=function(callback,errorCallback){this.callMethod(c.ResetHeaderFooterLineColor,callback,[],errorCallback);};DisplayColors.prototype.resetLightShadowColor=function(callback,errorCallback){this.callMethod(c.ResetLightShadowColor,callback,[],errorCallback);};return DisplayColors;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CollectionPropertyName=Object.freeze({Current:"Current",CanAdd:"CanAdd",CanRemove:"CanRemove",Count:"Count"});b.CollectionMethodName=Object.freeze({Add:"Add",Clear:"Clear",GetItem:"GetItem",GetAdapterByHashcode:"GetAdapterByHashcode",Remove:"Remove",MoveNext:"MoveNext",Reset:"Reset",ElementAt:"ElementAt"});b.Collection=(function(d){__extends(Collection,d);function Collection(){d.call(this);}Collection.prototype.getCount=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.Count,callback,errorCallback);};Collection.prototype.elementAt=function(index,callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.ElementAt,function(g){var f=(g!==null)?e._adapt(g):null;callback(f);},[index],errorCallback);};Collection.prototype.forEach=function(callback,errorCallback){var f=this,e;this.getCount(function(g){for(e=0;e<g;++e){f.elementAt(e,(function(h){return function(i){callback(i,h,g);};})(e),errorCallback);}},errorCallback);};Collection.prototype._adapt=function(e){throw new Error("NOT IMPLEMENTED. Override this method in your derived class.");};return Collection;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AllFrameLines:"AllFrameLines",Bold:"Bold",BottomAligned:"BottomAligned",BottomDistance:"BottomDistance",BottomFrameLine:"BottomFrameLine",BoxFrame:"BoxFrame",BulletCharacter:"BulletCharacter",BulletedList:"BulletedList",Centered:"Centered",FontFamily:"FontFamily",FontSize:"FontSize",FrameFillColor:"FrameFillColor",FrameLineColor:"FrameLineColor",FrameLineWidth:"FrameLineWidth",HangingIndent:"HangingIndent",InnerHorizontalFrameLines:"InnerHorizontalFrameLines",InnerVerticalFrameLines:"InnerVerticalFrameLines",Italic:"Italic",Justified:"Justified",LeftAligned:"LeftAligned",LeftFrameLine:"LeftFrameLine",LeftIndent:"LeftIndent",LeftToRight:"LeftToRight",LineSpacing:"LineSpacing",NumberedList:"NumberedList",NumberedListFormat:"NumberedListFormat",NumberFormats:"NumberFormats",RightAligned:"RightAligned",RightFrameLine:"RightFrameLine",RightIndent:"RightIndent",RightToLeft:"RightToLeft",Strikeout:"Strikeout",StructuredList:"StructuredList",StructuredListFormat:"StructuredListFormat",StyleName:"StyleName",StyleNames:"StyleNames",Subscript:"Subscript",Superscript:"Superscript",TextBackColor:"TextBackColor",TextColor:"TextColor",TopAligned:"TopAligned",TopDistance:"TopDistance",TopFrameLine:"TopFrameLine",Underline:"Underline",UnderlineStyle:"UnderlineStyle",UnderlineStyles:"UnderlineStyles",VerticallyCentered:"VerticallyCentered"});var c=Object.freeze({GetFontFamilies:"GetFontFamilies",GetFontSizes:"GetFontSizes"});b.InputFormat=(function(f){__extends(InputFormat,f);function InputFormat(){f.call(this);}InputFormat.prototype.addEventListener=function(eventName,callback){if(b.TXEventNames.AccessTextControlMember==eventName){this._.eventManager.addEventListener(eventName,callback);return true;}else{if(b.subscribeToEvent(eventName,b.EventCategory.InputFormat)){this._.eventManager.addEventListener(eventName,callback);return true;}}return false;};InputFormat.prototype.removeEventListener=function(eventName,callback){this._.eventManager.removeEventListener(eventName,callback);if(!this._.eventManager.callbacks.hasOwnProperty(eventName)||this._.eventManager.callbacks[eventName].length==0){b.unsubscribeFromEvent(eventName,b.EventCategory.InputFormat);}};InputFormat.prototype.getAllFrameLines=function(callback,errorCallback){this.getPropertyValue(d.AllFrameLines,callback,errorCallback);};InputFormat.prototype.setAllFrameLines=function(allFrameLines,callback,errorCallback){if(typeof allFrameLines!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllFrameLines,allFrameLines,callback,errorCallback);};InputFormat.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(d.Bold,callback,errorCallback);};InputFormat.prototype.setBold=function(bold,callback,errorCallback){if(typeof bold!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Bold,bold,callback,errorCallback);};InputFormat.prototype.getBottomAligned=function(callback,errorCallback){this.getPropertyValue(d.BottomAligned,callback,errorCallback);};InputFormat.prototype.setBottomAligned=function(bottomAligned,callback,errorCallback){if(typeof bottomAligned!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BottomAligned,bottomAligned,callback,errorCallback);};InputFormat.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(d.BottomDistance,callback,errorCallback);};InputFormat.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.BottomDistance,bottomDistance,callback,errorCallback);};InputFormat.prototype.getBoxFrame=function(callback,errorCallback){this.getPropertyValue(d.BoxFrame,callback,errorCallback);};InputFormat.prototype.setBoxFrame=function(boxFrame,callback,errorCallback){if(typeof boxFrame!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BoxFrame,boxFrame,callback,errorCallback);};InputFormat.prototype.getBulletCharacter=function(callback,errorCallback){this.getPropertyValue(d.BulletCharacter,callback,errorCallback);};InputFormat.prototype.setBulletCharacter=function(bulletCharacter,g,h){if(typeof bulletCharacter!="string"&&bulletCharacter.length>0){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BulletCharacter,bulletCharacter[0],g,h);};InputFormat.prototype.getBulletedList=function(callback,errorCallback){this.getPropertyValue(d.BulletedList,callback,errorCallback);};InputFormat.prototype.setBulletedList=function(bulletedList,callback,errorCallback){if(typeof bulletedList!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BulletedList,bulletedList,callback,errorCallback);};InputFormat.prototype.getCentered=function(callback,errorCallback){this.getPropertyValue(d.Centered,callback,errorCallback);};InputFormat.prototype.setCentered=function(centered,callback,errorCallback){if(typeof centered!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Centered,centered,callback,errorCallback);};InputFormat.prototype.getFontFamily=function(callback,errorCallback){this.getPropertyValue(d.FontFamily,callback,errorCallback);};InputFormat.prototype.setFontFamily=function(fontFamily,callback,errorCallback){if(typeof fontFamily!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FontFamily,fontFamily,callback,errorCallback);};InputFormat.prototype.getFrameFillColor=function(callback,errorCallback){this.getPropertyValue(d.FrameFillColor,callback,errorCallback);};InputFormat.prototype.setFrameFillColor=function(frameFillColor,callback,errorCallback){if(typeof frameFillColor!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FrameFillColor,frameFillColor,callback,errorCallback);};InputFormat.prototype.getFrameLineColor=function(callback,errorCallback){this.getPropertyValue(d.FrameLineColor,callback,errorCallback);};InputFormat.prototype.setFrameLineColor=function(frameLineColor,callback,errorCallback){if(typeof frameLineColor!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FrameLineColor,frameLineColor,callback,errorCallback);};InputFormat.prototype.getFrameLineWidth=function(callback,errorCallback){this.getPropertyValue(d.FrameLineWidth,callback,errorCallback);};InputFormat.prototype.setFrameLineWidth=function(frameLineWidth,callback,errorCallback){if(typeof frameLineWidth!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.FrameLineWidth,frameLineWidth,callback,errorCallback);};InputFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(d.HangingIndent,callback,errorCallback);};InputFormat.prototype.setHangingIndent=function(hangingIndent,callback,errorCallback){if(typeof hangingIndent!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HangingIndent,hangingIndent,callback,errorCallback);};InputFormat.prototype.getInnerHorizontalFrameLines=function(callback,errorCallback){this.getPropertyValue(d.InnerHorizontalFrameLines,callback,errorCallback);};InputFormat.prototype.setInnerHorizontalFrameLines=function(innerHorizontalFrameLines,callback,errorCallback){if(typeof innerHorizontalFrameLines!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InnerHorizontalFrameLines,innerHorizontalFrameLines,callback,errorCallback);};InputFormat.prototype.getInnerVerticalFrameLines=function(callback,errorCallback){this.getPropertyValue(d.InnerVerticalFrameLines,callback,errorCallback);};InputFormat.prototype.setInnerVerticalFrameLines=function(innerVerticalFrameLines,callback,errorCallback){if(typeof innerVerticalFrameLines!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InnerVerticalFrameLines,innerVerticalFrameLines,callback,errorCallback);};InputFormat.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(d.Italic,callback,errorCallback);};InputFormat.prototype.setItalic=function(italic,callback,errorCallback){if(typeof italic!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Italic,italic,callback,errorCallback);};InputFormat.prototype.getJustified=function(callback,errorCallback){this.getPropertyValue(d.Justified,callback,errorCallback);};InputFormat.prototype.setJustified=function(justified,callback,errorCallback){if(typeof justified!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Justified,justified,callback,errorCallback);};InputFormat.prototype.getLeftAligned=function(callback,errorCallback){this.getPropertyValue(d.LeftAligned,callback,errorCallback);};InputFormat.prototype.setLeftAligned=function(leftAligned,callback,errorCallback){if(typeof leftAligned!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftAligned,leftAligned,callback,errorCallback);};InputFormat.prototype.getLeftFrameLine=function(callback,errorCallback){this.getPropertyValue(d.LeftFrameLine,callback,errorCallback);};InputFormat.prototype.setLeftFrameLine=function(leftFrameLine,callback,errorCallback){if(typeof leftFrameLine!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftFrameLine,leftFrameLine,callback,errorCallback);};InputFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(d.LeftIndent,callback,errorCallback);};InputFormat.prototype.setLeftIndent=function(leftIndent,callback,errorCallback){if(typeof leftIndent!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.LeftIndent,leftIndent,callback,errorCallback);};InputFormat.prototype.getLeftToRight=function(callback,errorCallback){this.getPropertyValue(d.LeftToRight,callback,errorCallback);};InputFormat.prototype.setLeftToRight=function(leftToRight,callback,errorCallback){if(typeof leftToRight!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftToRight,leftToRight,callback,errorCallback);};InputFormat.prototype.getLinespacing=function(callback,errorCallback){this.getPropertyValue(d.LineSpacing,callback,errorCallback);};InputFormat.prototype.setLinespacing=function(lineSpacing,callback,errorCallback){if(typeof lineSpacing!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.LineSpacing,lineSpacing,callback,errorCallback);};InputFormat.prototype.getNumberedList=function(callback,errorCallback){this.getPropertyValue(d.NumberedList,callback,errorCallback);};InputFormat.prototype.setNumberedList=function(isNumberedList,callback,errorCallback){if(typeof isNumberedList!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.NumberedList,isNumberedList,callback,errorCallback);};InputFormat.prototype.getNumberedListFormat=function(callback,errorCallback){this.getPropertyValue(d.NumberedListFormat,callback,errorCallback);};InputFormat.prototype.setNumberedListFormat=function(numberedListFormat,callback,errorCallback){if(typeof numberedListFormat!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.NumberedListFormat,numberedListFormat,callback,errorCallback);};InputFormat.prototype.getNumberFormats=function(callback,errorCallback){this.getPropertyValue(d.NumberFormats,callback,errorCallback);};InputFormat.prototype.getRightAligned=function(callback,errorCallback){this.getPropertyValue(d.RightAligned,callback,errorCallback);};InputFormat.prototype.setRightAligned=function(isRightAligned,callback,errorCallback){if(typeof isRightAligned!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightAligned,isRightAligned,callback,errorCallback);};InputFormat.prototype.getRightFrameLine=function(callback,errorCallback){this.getPropertyValue(d.RightFrameLine,callback,errorCallback);};InputFormat.prototype.setRightFrameLine=function(hasRightFrameLine,callback,errorCallback){if(typeof hasRightFrameLine!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightFrameLine,hasRightFrameLine,callback,errorCallback);};InputFormat.prototype.getRightIndent=function(callback,errorCallback){this.getPropertyValue(d.RightIndent,callback,errorCallback);};InputFormat.prototype.setRightIndent=function(rightIndent,callback,errorCallback){if(typeof rightIndent!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.RightIndent,rightIndent,callback,errorCallback);};InputFormat.prototype.getRightToLeft=function(callback,errorCallback){this.getPropertyValue(d.RightToLeft,callback,errorCallback);};InputFormat.prototype.setRightToLeft=function(rightToLeft,callback,errorCallback){if(typeof rightToLeft!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightToLeft,rightToLeft,callback,errorCallback);};InputFormat.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(d.Strikeout,callback,errorCallback);};InputFormat.prototype.setStrikeout=function(hasStrikeout,callback,errorCallback){if(typeof hasStrikeout!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Strikeout,hasStrikeout,callback,errorCallback);};InputFormat.prototype.getStructuredList=function(callback,errorCallback){this.getPropertyValue(d.StructuredList,callback,errorCallback);};InputFormat.prototype.setStructuredList=function(isStructuredList,callback,errorCallback){if(typeof isStructuredList!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.StructuredList,isStructuredList,callback,errorCallback);};InputFormat.prototype.getStructuredListFormat=function(callback,errorCallback){this.getPropertyValue(d.StructuredListFormat,callback,errorCallback);};InputFormat.prototype.setStructuredListFormat=function(structuredListFormat,callback,errorCallback){if(typeof structuredListFormat!="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.StructuredListFormat,structuredListFormat,callback,errorCallback);};InputFormat.prototype.getStyleName=function(callback,errorCallback){this.getPropertyValue(d.StyleName,callback,errorCallback);};InputFormat.prototype.setStyleName=function(styleName,callback,errorCallback){if(typeof styleName!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.StyleName,styleName,callback,errorCallback);};InputFormat.prototype.getStyleNames=function(callback,errorCallback){this.getPropertyValue(d.StyleNames,callback,errorCallback);};InputFormat.prototype.getSubscript=function(callback,errorCallback){this.getPropertyValue(d.Subscript,callback,errorCallback);};InputFormat.prototype.setSubscript=function(subscript,callback,errorCallback){if(typeof subscript!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Subscript,subscript,callback,errorCallback);};InputFormat.prototype.getSuperscript=function(callback,errorCallback){this.getPropertyValue(d.Superscript,callback,errorCallback);};InputFormat.prototype.setSuperscript=function(superscript,callback,errorCallback){if(typeof superscript!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Superscript,superscript,callback,errorCallback);};InputFormat.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};InputFormat.prototype.setTextBackColor=function(textBackColor,callback,errorCallback){if(typeof textBackColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextBackColor,textBackColor,callback,errorCallback);};InputFormat.prototype.getTextColor=function(callback,errorCallback){this.getPropertyValue(d.TextColor,callback,errorCallback);};InputFormat.prototype.setTextColor=function(textColor,callback,errorCallback){if(typeof textColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextColor,textColor,callback,errorCallback);};InputFormat.prototype.getTopAligned=function(callback,errorCallback){this.getPropertyValue(d.TopAligned,callback,errorCallback);};InputFormat.prototype.setTopAligned=function(isTopAligned,callback,errorCallback){if(!(typeof isTopAligned=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TopAligned,isTopAligned,callback,errorCallback);};InputFormat.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(d.TopDistance,callback,errorCallback);};InputFormat.prototype.setTopDistance=function(topDistance,callback,errorCallback){if(!(typeof topDistance=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.TopDistance,topDistance,callback,errorCallback);};InputFormat.prototype.getTopFrameLine=function(callback,errorCallback){this.getPropertyValue(d.TopFrameLine,callback,errorCallback);};InputFormat.prototype.setTopFrameLine=function(topFrameLine,callback,errorCallback){if(!(typeof topFrameLine=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TopFrameLine,topFrameLine,callback,errorCallback);};InputFormat.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(d.Underline,callback,errorCallback);};InputFormat.prototype.setUnderline=function(underline,callback,errorCallback){if(!(typeof underline=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Underline,underline,callback,errorCallback);};InputFormat.prototype.getUnderlineStyle=function(callback,errorCallback){this.getPropertyValue(d.UnderlineStyle,callback,errorCallback);};InputFormat.prototype.setUnderlineStyle=function(fontUnderlineStyle,callback,errorCallback){if(typeof fontUnderlineStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.UnderlineStyle,fontUnderlineStyle,callback,errorCallback);};InputFormat.prototype.getVerticallyCentered=function(callback,errorCallback){this.getPropertyValue(d.VerticallyCentered,callback,errorCallback);};InputFormat.prototype.setVerticallyCentered=function(verticallyCentered,callback,errorCallback){if(!(typeof verticallyCentered=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.VerticallyCentered,verticallyCentered,callback,errorCallback);};InputFormat.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(d.FontSize,callback,errorCallback);};InputFormat.prototype.setFontSize=function(fontSize,callback,errorCallback){if(typeof fontSize!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.FontSize,fontSize,callback,errorCallback);};InputFormat.prototype.getSupportedFontFamilies=function(callback,errorCallback){this.callMethod(c.GetFontFamilies,callback,[],errorCallback);};InputFormat.prototype.getSupportedUnderlineStyles=function(callback,errorCallback){this.callMethod(d.UnderlineStyles,callback,[],errorCallback);};InputFormat.prototype.getSupportedFontSizes=function(callback,fontFamily,g){if(typeof fontFamily!=="undefined"){if(typeof fontFamily!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.callMethod(c.GetFontSizes,callback,[fontFamily],g);}else{this.callMethod(c.GetFontSizes,callback,[],g);}};InputFormat.prototype.activateEvent=function(i,g,h){this.callMethod("ActivateEvent",g,[i],h);};InputFormat.prototype.deactivateEvent=function(i,g,h){this.callMethod("DeactivateEvent",g,[i],h);};return InputFormat;})(b.TextControlClassAdapter);b.isColor=function(g){var f=new Option().style;f.color=g.toLowerCase();return f.color==g.toLowerCase()||b.isValidHexColor(g);};return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({BulletCharacter:"BulletCharacter",BulletSize:"BulletSize",FirstNumber:"FirstNumber",FontName:"FontName",FormatCharacter:"FormatCharacter",HangingIndent:"HangingIndent",LeftIndent:"LeftIndent",Level:"Level",NumberFormat:"NumberFormat",RestartNumbering:"RestartNumbering",TextAfterNumber:"TextAfterNumber",TextBeforeNumber:"TextBeforeNumber",Type:"Type",});b.ListFormat=(function(e){__extends(ListFormat,e);function ListFormat(){e.call(this);}ListFormat.prototype.setBulletCharacter=function(bulletCharacter,callback,errorCallback){if(typeof bulletCharacter!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BulletCharacter,bulletCharacter,callback,errorCallback);};ListFormat.prototype.setBulletSize=function(size,callback,errorCallback){if(typeof size!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BulletSize,size,callback,errorCallback);};ListFormat.prototype.setFirstNumber=function(firstNumber,callback,errorCallback){if(typeof firstNumber!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FirstNumber,firstNumber,callback,errorCallback);};ListFormat.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FontName,fontName,callback,errorCallback);};ListFormat.prototype.setFormatCharacter=function(formatCharacter,callback,errorCallback){if(typeof formatCharacter!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FormatCharacter,formatCharacter,callback,errorCallback);};ListFormat.prototype.setHangingIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.HangingIndent,indent,callback,errorCallback);};ListFormat.prototype.setLeftIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftIndent,indent,callback,errorCallback);};ListFormat.prototype.setLevel=function(level,callback,errorCallback){if(typeof level!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Level,level,callback,errorCallback);};ListFormat.prototype.setNumberFormat=function(numberFormat,callback,errorCallback){if(typeof numberFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.NumberFormat,numberFormat,callback,errorCallback);};ListFormat.prototype.setRestartNumbering=function(restartNumbering,callback,errorCallback){if(typeof restartNumbering!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.RestartNumbering,restartNumbering,callback,errorCallback);};ListFormat.prototype.setTextAfterNumber=function(textAfterNumber,callback,errorCallback){if(typeof textAfterNumber!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TextAfterNumber,textAfterNumber,callback,errorCallback);};ListFormat.prototype.setTextBeforeNumber=function(textBeforeNumber,callback,errorCallback){if(typeof textBeforeNumber!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TextBeforeNumber,textBeforeNumber,callback,errorCallback);};ListFormat.prototype.setType=function(type,callback,errorCallback){if(typeof type!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Type,type,callback,errorCallback);};ListFormat.prototype.getBulletCharacter=function(callback,errorCallback){this.getPropertyValue(c.Type,callback,errorCallback);};ListFormat.prototype.getBulletSize=function(callback,errorCallback){this.getPropertyValue(c.BulletSize,callback,errorCallback);};ListFormat.prototype.getFirstNumber=function(callback,errorCallback){this.getPropertyValue(c.FirstNumber,callback,errorCallback);};ListFormat.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(c.FontName,callback,errorCallback);};ListFormat.prototype.getFormatCharacter=function(callback,errorCallback){this.getPropertyValue(c.FormatCharacter,callback,errorCallback);};ListFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(c.HangingIndent,callback,errorCallback);};ListFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(c.LeftIndent,callback,errorCallback);};ListFormat.prototype.getLevel=function(callback,errorCallback){this.getPropertyValue(c.Level,callback,errorCallback);};ListFormat.prototype.getNumberFormat=function(callback,errorCallback){this.getPropertyValue(c.NumberFormat,callback,errorCallback);};ListFormat.prototype.getRestartNumbering=function(callback,errorCallback){this.getPropertyValue(c.RestartNumbering,callback,errorCallback);};ListFormat.prototype.getTextAfterNumber=function(callback,errorCallback){this.getPropertyValue(c.TextAfterNumber,callback,errorCallback);};ListFormat.prototype.getTextBeforeNumber=function(callback,errorCallback){this.getPropertyValue(c.TextBeforeNumber,callback,errorCallback);};ListFormat.prototype.getType=function(callback,errorCallback){this.getPropertyValue(c.Type,callback,errorCallback);};return ListFormat;})(b.TextControlClassAdapter);b.ListFormat.Attribute={Level:1,LeftIndent:2,FormatCharacter:4,NumberFormat:8,FirstNumber:16,CharBeforeNumber:32,CharAfterNumber:64,RestartNumbering:128,BulletCharacter:256,BulletSize:512,HangingIndent:1024,Type:2048,TextBeforeNumber:4096,TextAfterNumber:8192,FontName:16384,All:32767,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeField=(function(d){__extends(e,d);function e(name){d.call(this,true);this.name=name||"MERGEFIELD";this.text=""+this.name+"";this.textFormat=0;this.textBefore="";this.textAfter="";this.dateTimeFormat="";this.numericFormat="";}e.prototype.toPascalCase=function(){return{Name:this.name,Text:this.text,TextFormat:this.textFormat,TextBefore:this.textBefore,TextAfter:this.textAfter,DateTimeFormat:this.dateTimeFormat,NumericFormat:this.numericFormat,PreserveFormatting:this.preserveFormatting};};return e;})(b.FieldAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({BottomDistance:"BottomDistance",BottomLineColor:"BottomLineColor",BottomLineWidth:"BottomLineWidth",FirstPageOnly:"FirstPageOnly",LeftDistance:"LeftDistance",LeftLineColor:"LeftLineColor",LeftLineWidth:"LeftLineWidth",MeasureFromText:"MeasureFromText",OmitFirstPage:"OmitFirstPage",RightDistance:"RightDistance",RightLineColor:"RightLineColor",RightLineWidth:"RightLineWidth",SurroundFooter:"SurroundFooter",SurroundHeader:"SurroundHeader",TopDistance:"TopDistance",TopLineColor:"TopLineColor",TopLineWidth:"TopLineWidth",});b.PageBorder=(function(e){__extends(PageBorder,e);function PageBorder(){e.call(this);}PageBorder.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(c.BottomDistance,callback,errorCallback);};PageBorder.prototype.getBottomLineColor=function(callback,errorCallback){this.getPropertyValue(c.BottomLineColor,callback,errorCallback);};PageBorder.prototype.getBottomLineWidth=function(callback,errorCallback){this.getPropertyValue(c.BottomLineWidth,callback,errorCallback);};PageBorder.prototype.getFirstPageOnly=function(callback,errorCallback){this.getPropertyValue(c.FirstPageOnly,callback,errorCallback);};PageBorder.prototype.getLeftDistance=function(callback,errorCallback){this.getPropertyValue(c.LeftDistance,callback,errorCallback);};PageBorder.prototype.getLeftLineColor=function(callback,errorCallback){this.getPropertyValue(c.LeftLineColor,callback,errorCallback);};PageBorder.prototype.getLeftLineWidth=function(callback,errorCallback){this.getPropertyValue(c.LeftLineWidth,callback,errorCallback);};PageBorder.prototype.getMeasureFromText=function(callback,errorCallback){this.getPropertyValue(c.MeasureFromText,callback,errorCallback);};PageBorder.prototype.getOmitFirstPage=function(callback,errorCallback){this.getPropertyValue(c.OmitFirstPage,callback,errorCallback);};PageBorder.prototype.getRightDistance=function(callback,errorCallback){this.getPropertyValue(c.RightDistance,callback,errorCallback);};PageBorder.prototype.getRightLineColor=function(callback,errorCallback){this.getPropertyValue(c.RightLineColor,callback,errorCallback);};PageBorder.prototype.getRightLineWidth=function(callback,errorCallback){this.getPropertyValue(c.RightLineWidth,callback,errorCallback);};PageBorder.prototype.getSurroundFooter=function(callback,errorCallback){this.getPropertyValue(c.SurroundFooter,callback,errorCallback);};PageBorder.prototype.getSurroundHeader=function(callback,errorCallback){this.getPropertyValue(c.SurroundHeader,callback,errorCallback);};PageBorder.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(c.TopDistance,callback,errorCallback);};PageBorder.prototype.getTopLineColor=function(callback,errorCallback){this.getPropertyValue(c.TopLineColor,callback,errorCallback);};PageBorder.prototype.getTopLineWidth=function(callback,errorCallback){this.getPropertyValue(c.TopLineWidth,callback,errorCallback);};PageBorder.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomDistance,bottomDistance,callback,errorCallback);};PageBorder.prototype.setBottomLineColor=function(bottomLineColor,callback,errorCallback){if(typeof bottomLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BottomLineColor,bottomLineColor,callback,errorCallback);};PageBorder.prototype.setBottomLineWidth=function(bottomLineWidth,callback,errorCallback){if(typeof bottomLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomLineWidth,bottomLineWidth,callback,errorCallback);};PageBorder.prototype.setFirstPageOnly=function(firstPageOnly,callback,errorCallback){if(typeof firstPageOnly!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.FirstPageOnly,firstPageOnly,callback,errorCallback);};PageBorder.prototype.setLeftDistance=function(leftDistance,callback,errorCallback){if(typeof leftDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftDistance,leftDistance,callback,errorCallback);};PageBorder.prototype.setLeftLineColor=function(leftLineColor,callback,errorCallback){if(typeof leftLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.LeftLineColor,leftLineColor,callback,errorCallback);};PageBorder.prototype.setLeftLineWidth=function(leftLineWidth,callback,errorCallback){if(typeof leftLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftLineWidth,leftLineWidth,callback,errorCallback);};PageBorder.prototype.setMeasureFromText=function(measureFromText,callback,errorCallback){if(typeof measureFromText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.MeasureFromText,measureFromText,callback,errorCallback);};PageBorder.prototype.setOmitFirstPage=function(omitFirstPage,callback,errorCallback){if(typeof omitFirstPage!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.OmitFirstPage,omitFirstPage,callback,errorCallback);};PageBorder.prototype.setRightDistance=function(rightDistance,callback,errorCallback){if(typeof rightDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightDistance,rightDistance,callback,errorCallback);};PageBorder.prototype.setRightLineColor=function(rightLineColor,callback,errorCallback){if(typeof rightLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.RightLineColor,rightLineColor,callback,errorCallback);};PageBorder.prototype.setRightLineWidth=function(rightLineWidth,callback,errorCallback){if(typeof rightLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightLineWidth,rightLineWidth,callback,errorCallback);};PageBorder.prototype.setSurroundFooter=function(surroundFooter,callback,errorCallback){if(typeof surroundFooter!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.SurroundFooter,surroundFooter,callback,errorCallback);};PageBorder.prototype.setSurroundHeader=function(surroundHeader,callback,errorCallback){if(typeof surroundHeader!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.SurroundHeader,surroundHeader,callback,errorCallback);};PageBorder.prototype.setTopDistance=function(topDistance,callback,errorCallback){if(typeof topDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopDistance,topDistance,callback,errorCallback);};PageBorder.prototype.setTopLineColor=function(topLineColor,callback,errorCallback){if(typeof topLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TopLineColor,topLineColor,callback,errorCallback);};PageBorder.prototype.setTopLineWidth=function(topLineWidth,callback,errorCallback){if(typeof topLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopLineWidth,topLineWidth,callback,errorCallback);};return PageBorder;})(b.TextControlClassAdapter);b.PageBorder.Attribute={LeftLineWidth:1,TopLineWidth:2,RightLineWidth:4,BottomLineWidth:8,LeftLineColor:16,TopLineColor:32,RightLineColor:64,BottomLineColor:128,LeftDistance:256,TopDistance:512,RightDistance:1024,BottomDistance:2048,MeasureFromText:4096,FirstPageOnly:8192,OmitFirstPage:16384,SurroundHeader:32768,SurroundFooter:65536,All:131071,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Bottom:"Bottom",Left:"Left",Right:"Right",Top:"Top",});b.PageMargins=(function(e){__extends(PageMargins,e);function PageMargins(){e.call(this);}PageMargins.prototype.getBottom=function(callback,errorCallback){this.getPropertyValue(c.Bottom,callback,errorCallback);};PageMargins.prototype.getTop=function(callback,errorCallback){this.getPropertyValue(c.Top,callback,errorCallback);};PageMargins.prototype.getRight=function(callback,errorCallback){this.getPropertyValue(c.Right,callback,errorCallback);};PageMargins.prototype.getLeft=function(callback,errorCallback){this.getPropertyValue(c.Left,callback,errorCallback);};PageMargins.prototype.setBottom=function(bottom,callback,errorCallback){if(typeof bottom!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Bottom,bottom,callback,errorCallback);};PageMargins.prototype.setTop=function(top,callback,errorCallback){if(typeof top!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Top,top,callback,errorCallback);};PageMargins.prototype.setRight=function(right,callback,errorCallback){if(typeof right!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Right,right,callback,errorCallback);};PageMargins.prototype.setLeft=function(left,callback,errorCallback){if(typeof left!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Left,left,callback,errorCallback);};return PageMargins;})(b.TextControlClassAdapter);b.PageMargins.Attribute={Left:1,Top:2,Right:4,Bottom:8,All:15,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Height:"Height",Width:"Width",});b.PageSize=(function(e){__extends(PageSize,e);function PageSize(){e.call(this);}PageSize.prototype.getHeight=function(callback,errorCallback){this.getPropertyValue(c.Height,callback,errorCallback);};PageSize.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(c.Width,callback,errorCallback);};PageSize.prototype.setHeight=function(height,callback,errorCallback){if(typeof height!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Height,height,callback,errorCallback);};PageSize.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Width,width,callback,errorCallback);};return PageSize;})(b.TextControlClassAdapter);b.PageSize.Attribute={Width:1,Height:2,All:3,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({AbsoluteLineSpacing:"AbsoluteLineSpacing",Alignment:"Alignment",BackColor:"BackColor",BottomDistance:"BottomDistance",Direction:"Direction",Frame:"Frame",FrameDistance:"FrameDistance",FrameLineColor:"FrameLineColor",FrameLineWidth:"FrameLineWidth",FrameStyle:"FrameStyle",HangingIndent:"HangingIndent",Justification:"Justification",KeepLinesTogether:"KeepLinesTogether",KeepWithNext:"KeepWithNext",LeftIndent:"LeftIndent",LineSpacing:"LineSpacing",PageBreakBefore:"PageBreakBefore",RightIndent:"RightIndent",TabPositions:"TabPositions",TabTypes:"TabTypes",TopDistance:"TopDistance",WidowOrphanLines:"WidowOrphanLines",});b.ParagraphFormat=(function(e){__extends(ParagraphFormat,e);function ParagraphFormat(){e.call(this);}ParagraphFormat.prototype.setAbsoluteLineSpacing=function(absoluteLineSpacing,callback,errorCallback){if(typeof absoluteLineSpacing!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.AbsoluteLineSpacing,absoluteLineSpacing,callback,errorCallback);};ParagraphFormat.prototype.setAlignment=function(alignment,callback,errorCallback){if(typeof alignment!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Alignment,alignment,callback,errorCallback);};ParagraphFormat.prototype.setBackColor=function(backColor,callback,errorCallback){if(typeof backColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BackColor,backColor,callback,errorCallback);};ParagraphFormat.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomDistance,bottomDistance,callback,errorCallback);};ParagraphFormat.prototype.setDirection=function(direction,callback,errorCallback){if(typeof direction!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Direction,direction,callback,errorCallback);};ParagraphFormat.prototype.setFrame=function(frame,callback,errorCallback){if(typeof frame!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Frame,frame,callback,errorCallback);};ParagraphFormat.prototype.setFrameDistance=function(distance,callback,errorCallback){if(typeof distance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Distance,distance,callback,errorCallback);};ParagraphFormat.prototype.setFrameLineColor=function(frameLineColor,callback,errorCallback){if(typeof frameLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FrameLineColor,frameLineColor,callback,errorCallback);};ParagraphFormat.prototype.setFrameLineWidth=function(frameLineWidth,callback,errorCallback){if(typeof frameLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FrameLineWidth,frameLineWidth,callback,errorCallback);};ParagraphFormat.prototype.setFrameStyle=function(frameStyle,callback,errorCallback){if(typeof frameStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FrameStyle,frameStyle,callback,errorCallback);};ParagraphFormat.prototype.setHangingIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.HangingIndent,indent,callback,errorCallback);};ParagraphFormat.prototype.setJustification=function(justification,callback,errorCallback){if(typeof justification!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Justification,justification,callback,errorCallback);};ParagraphFormat.prototype.setKeepLinesTosether=function(keepLinesTogether,callback,errorCallback){if(typeof keepLinesTogether!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.KeepLinesTogether,keepLinesTogether,callback,errorCallback);};ParagraphFormat.prototype.setKeepWithNext=function(keepWithNext,callback,errorCallback){if(typeof keepWithNext!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.KeepWithNext,keepWithNext,callback,errorCallback);};ParagraphFormat.prototype.setLeftIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftIndent,indent,callback,errorCallback);};ParagraphFormat.prototype.setLineSpacing=function(lineSpacing,callback,errorCallback){if(typeof lineSpacing!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LineSpacing,lineSpacing,callback,errorCallback);};ParagraphFormat.prototype.setPageBreakBefore=function(pageBreakBefore,callback,errorCallback){if(typeof pageBreakBefore!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.PageBreakBefore,pageBreakBefore,callback,errorCallback);};ParagraphFormat.prototype.setRightIndent=function(rightIndent,callback,errorCallback){if(typeof rightIndent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightIndent,rightIndent,callback,errorCallback);};ParagraphFormat.prototype.setTabPositions=function(tabPositions,callback,errorCallback){this.setPropertyValue(c.TabPositions,tabPositions,callback,errorCallback);};ParagraphFormat.prototype.setTabTypes=function(tabTypes,callback,errorCallback){this.setPropertyValue(c.TabTypes,tabTypes,callback,errorCallback);};ParagraphFormat.prototype.setTopDistance=function(distance,callback,errorCallback){if(typeof distance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopDistance,distance,callback,errorCallback);};ParagraphFormat.prototype.setWidowOrphanLines=function(lines,callback,errorCallback){if(typeof lines!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.WidowOrphanLines,lines,callback,errorCallback);};ParagraphFormat.prototype.getAbsoluteLineSpacing=function(callback,errorCallback){this.getPropertyValue(c.AbsoluteLineSpacing,callback,errorCallback);};ParagraphFormat.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(c.Alignment,callback,errorCallback);};ParagraphFormat.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(c.BackColor,callback,errorCallback);};ParagraphFormat.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(c.BottomDistance,callback,errorCallback);};ParagraphFormat.prototype.getDirection=function(callback,errorCallback){this.getPropertyValue(c.Direction,callback,errorCallback);};ParagraphFormat.prototype.getFrame=function(callback,errorCallback){this.getPropertyValue(c.Frame,callback,errorCallback);};ParagraphFormat.prototype.getFrameDistance=function(callback,errorCallback){this.getPropertyValue(c.FrameDistance,callback,errorCallback);};ParagraphFormat.prototype.getFrameLineColor=function(callback,errorCallback){this.getPropertyValue(c.FrameLineColor,callback,errorCallback);};ParagraphFormat.prototype.getFrameLineWidth=function(callback,errorCallback){this.getPropertyValue(c.FrameLineWidth,callback,errorCallback);};ParagraphFormat.prototype.getFrameStyle=function(callback,errorCallback){this.getPropertyValue(c.FrameStyle,callback,errorCallback);};ParagraphFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(c.HangingIndent,callback,errorCallback);};ParagraphFormat.prototype.getJustification=function(callback,errorCallback){this.getPropertyValue(c.Justification,callback,errorCallback);};ParagraphFormat.prototype.getKeepLinesTogether=function(callback,errorCallback){this.getPropertyValue(c.KeepLinesTogether,callback,errorCallback);};ParagraphFormat.prototype.getKeepWithNext=function(callback,errorCallback){this.getPropertyValue(c.KeepWithNext,callback,errorCallback);};ParagraphFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(c.LeftIndent,callback,errorCallback);};ParagraphFormat.prototype.getLineSpacing=function(callback,errorCallback){this.getPropertyValue(c.LineSpacing,callback,errorCallback);};ParagraphFormat.prototype.getPageBreakBefore=function(callback,errorCallback){this.getPropertyValue(c.PageBreakBefore,callback,errorCallback);};ParagraphFormat.prototype.getRightIndent=function(callback,errorCallback){this.getPropertyValue(c.RightIndent,callback,errorCallback);};ParagraphFormat.prototype.getTabPositions=function(callback,errorCallback){this.getPropertyValue(c.TabPositions,callback,errorCallback);};ParagraphFormat.prototype.getTabTypes=function(callback,errorCallback){this.getPropertyValue(c.TabTypes,callback,errorCallback);};ParagraphFormat.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(c.TopDistance,callback,errorCallback);};ParagraphFormat.prototype.getWidowOrphanLines=function(callback,errorCallback){this.getPropertyValue(c.WidowOrphanLines,callback,errorCallback);};return ParagraphFormat;})(b.TextControlClassAdapter);b.ParagraphFormat._adapt=function(g,e,h){var f=new b.ParagraphFormat();g.addPropertyAccessEventListener(f,h);return f;};b.ParagraphFormat.Attribute=Object.freeze({Alignment:1,LeftIndent:2,RightIndent:4,TopDistance:8,BottomDistance:16,LineSpacing:32,AbsoluteLineSpacing:64,TabPositions:128,TabTypes:256,Frame:512,FrameStyle:1024,FrameLineWidth:2048,FrameDistance:4096,HangingIndent:8192,KeepLinesTogether:16384,KeepWithNext:32768,PageBreakBefore:65536,WidowOrphanLines:131072,Direction:262144,Justification:524288,BackColor:1048576,FrameLineColor:2097152,All:4194303,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Format:"Format",Length:"Length",Number:"Number",Start:"Start"});var c=Object.freeze({Select:"Select",});b.Section=(function(f){__extends(Section,f);function Section(g,h){f.call(this,g,h);}Object.defineProperty(Section.prototype,"format",{get:function(){var g=new b.SectionFormat();this.addPropertyAccessEventListener(g,d.Format);return g;},enumerable:true,configurable:true});Section.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Section.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Section.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Section.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Section;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SectionCollection=(function(d){__extends(SectionCollection,d);function SectionCollection(){d.call(this);}SectionCollection.prototype.add=function(sectionBreakKind,callback){if(typeof sectionBreakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[sectionBreakKind],errorCallback);};SectionCollection.prototype.addAtTextPosition=function(sectionBreakKind,textPosition,callback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof sectionBreakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[sectionBreakKind,textPosition],errorCallback);};SectionCollection.prototype.getItem=function(callback,e,errorCallback){var g=this;if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((typeof e!=="undefined")&&(typeof e!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=(typeof e!=="undefined")?[e]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};SectionCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Section(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return SectionCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({BreakKind:"BreakKind",ColumnDistances:"ColumnDistances",ColumnLineColor:"ColumnLineColor",ColumnLineWidth:"ColumnLineWidth",Columns:"Columns",ColumnWidths:"ColumnWidths",EqualColumnWidth:"EqualColumnWidth",Landscape:"Landscape",PageBorder:"PageBorder",PageMargins:"PageMargins",PageSize:"PageSize",RestartPageNumbering:"RestartPageNumbering"});b.SectionFormat=(function(e){__extends(SectionFormat,e);function SectionFormat(){e.call(this);}Object.defineProperty(SectionFormat.prototype,"pageBorder",{get:function(){var f=new b.PageBorder();this.addPropertyAccessEventListener(f,c.PageBorder);return f;},enumerable:true,configurable:true});Object.defineProperty(SectionFormat.prototype,"pageMargins",{get:function(){var f=new b.PageMargins();this.addPropertyAccessEventListener(f,c.PageMargins);return f;},enumerable:true,configurable:true});Object.defineProperty(SectionFormat.prototype,"pageSize",{get:function(){var f=new b.PageSize();this.addPropertyAccessEventListener(f,c.PageSize);return f;},enumerable:true,configurable:true});SectionFormat.prototype.getBreakKind=function(callback,errorCallback){this.getPropertyValue(c.BreakKind,callback,errorCallback);};SectionFormat.prototype.getColumnDistances=function(callback,errorCallback){this.getPropertyValue(c.ColumnDistances,callback,errorCallback);};SectionFormat.prototype.getColumnLineColor=function(callback,errorCallback){this.getPropertyValue(c.ColumnLineColor,callback,errorCallback);};SectionFormat.prototype.getColumnLineWidth=function(callback,errorCallback){this.getPropertyValue(c.ColumnLineWidth,callback,errorCallback);};SectionFormat.prototype.getColumns=function(callback,errorCallback){this.getPropertyValue(c.Columns,callback,errorCallback);};SectionFormat.prototype.getColumnWidths=function(callback,errorCallback){this.getPropertyValue(c.ColumnWidths,callback,errorCallback);};SectionFormat.prototype.getEqualColumnWidth=function(callback,errorCallback){this.getPropertyValue(c.EqualColumnWidth,callback,errorCallback);};SectionFormat.prototype.getLandscape=function(callback,errorCallback){this.getPropertyValue(c.Landscape,callback,errorCallback);};SectionFormat.prototype.getRestartPageNumbering=function(callback,errorCallback){this.getPropertyValue(c.RestartPageNumbering,callback,errorCallback);};SectionFormat.prototype.setBreakKind=function(breakKind,callback,errorCallback){if(typeof breakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BreakKind,breakKind,callback,errorCallback);};SectionFormat.prototype.setColumnLineColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.ColumnLineColor,color,callback,errorCallback);};SectionFormat.prototype.setColumnLineWidth=function(columnLineWidth,errorCallback){if(typeof columnLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.ColumnLineWidth,columnLineWidth,callback,errorCallback);};SectionFormat.prototype.setColumns=function(columns,callback,errorCallback){if(typeof columns!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Columns,columns,callback,errorCallback);};SectionFormat.prototype.setColumnWidths=function(columnWidths,callback,errorCallback){this.setPropertyValue(c.ColumnWidths,columnWidths,callback,errorCallback);};SectionFormat.prototype.setEqualColumnWidth=function(equalColumnWidth,callback,errorCallback){if(typeof equalColumnWidth!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.EqualColumnWidth,equalColumnWidth,callback,errorCallback);};SectionFormat.prototype.setLandscape=function(landscape,callback,errorCallback){if(typeof landscape!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Landscape,landscape,callback,errorCallback);};SectionFormat.prototype.setRestartPageNumbering=function(restartPageNumbering,callback,errorCallback){if(typeof restartPageNumbering!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.RestartPageNumbering,restartPageNumbering,callback,errorCallback);};return SectionFormat;})(b.TextControlClassAdapter);b.SectionFormat.Attribute=Object.freeze({BreakKind:1,Landscape:4,Columns:8,ColumnWidths:16,ColumnDistances:32,ColumnLineWidth:64,ColumnLineColor:128,EqualColumnWidth:256,RestartPageNumbering:512,All:1023,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Baseline:"Baseline",Bold:"Bold",Culture:"Culture",FontName:"FontName",FontSize:"FontSize",ForeColor:"ForeColor",FormattingStyle:"FormattingStyle",Italic:"Italic",Length:"Length",ListFormat:"ListFormat",ParagraphFormat:"ParagraphFormat",SectionFormat:"SectionFormat",Start:"Start",Strikeout:"Strikeout",Text:"Text",TextBackColor:"TextBackColor",Underline:"Underline",Bounds:"Bounds"});var c=Object.freeze({Load:"Load",Save:"Save",IsCommonValueSelected_Selection:"IsCommonValueSelected_Selection",IsCommonValueSelected_ParagraphFormat:"IsCommonValueSelected_ParagraphFormat",IsCommonValueSelected_ListFormat:"IsCommonValueSelected_ListFormat",IsCommonValueSelected_SectionFormat:"IsCommonValueSelected_SectionFormat",IsCommonValueSelected_PageMargins:"IsCommonValueSelected_PageMargins",IsCommonValueSelected_PageSize:"IsCommonValueSelected_PageSize",IsCommonValueSelected_PageBorder:"IsCommonValueSelected_PageBorder"});b.Selection=(function(f){__extends(Selection,f);function Selection(){f.call(this);}Object.defineProperty(Selection.prototype,"listFormat",{get:function(){var g=new b.ListFormat();this.addPropertyAccessEventListener(g,d.ListFormat);return g;},enumerable:true,configurable:true});Object.defineProperty(Selection.prototype,"paragraphFormat",{get:function(){var g=new b.ParagraphFormat();this.addPropertyAccessEventListener(g,d.ParagraphFormat);return g;},enumerable:true,configurable:true});Object.defineProperty(Selection.prototype,"sectionFormat",{get:function(){var g=new b.SectionFormat();this.addPropertyAccessEventListener(g,d.SectionFormat);return g;},enumerable:true,configurable:true});Selection.prototype.setBounds=function(bounds,callback,errorCallback){if(!(bounds.hasOwnProperty("start")&&bounds.hasOwnProperty("length"))){throw new Error(b.ErrorText.SelectionObjectProps);}this.setPropertyValue(d.Bounds,bounds,callback,errorCallback);};Selection.prototype.getFormattingStyle=function(callback,errorCallback){this.getPropertyValue(d.FormattingStyle,callback,errorCallback);};Selection.prototype.setFormattingStyle=function(formattingStyle,callback,errorCallback){if(typeof formattingStyle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FormattingStyle,formattingStyle,callback,errorCallback);};Selection.prototype.getCulture=function(callback,errorCallback){this.getPropertyValue(d.Culture,callback,errorCallback);};Selection.prototype.setCulture=function(culture,callback,errorCallback){if(typeof culture!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Culture,culture,callback,errorCallback);};Selection.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(d.Bold,callback,errorCallback);};Selection.prototype.setBold=function(bold,callback,errorCallback){if(typeof bold!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Bold,bold,callback,errorCallback);};Selection.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(d.FontName,callback,errorCallback);};Selection.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FontName,fontName,callback,errorCallback);};Selection.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(d.Italic,callback,errorCallback);};Selection.prototype.setItalic=function(italic,callback,errorCallback){if(typeof italic!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Italic,italic,callback,errorCallback);};Selection.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Selection.prototype.setLength=function(length,callback,errorCallback){if(typeof length!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Length,length,callback,errorCallback);};Selection.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Selection.prototype.setStart=function(start,callback,errorCallback){if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Start,start,callback,errorCallback);};Selection.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(d.Strikeout,callback,errorCallback);};Selection.prototype.setStrikeout=function(strikeout,callback,errorCallback){if(typeof strikeout!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Strikeout,strikeout,callback,errorCallback);};Selection.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Selection.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,text,callback,errorCallback);};Selection.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(d.Underline,callback,errorCallback);};Selection.prototype.setUnderline=function(underline,callback,errorCallback){if(typeof underline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Underline,underline,callback,errorCallback);};Selection.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};Selection.prototype.setBaseline=function(baseline,callback,errorCallback){if(typeof baseline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Baseline,baseline,callback,errorCallback);};Selection.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(d.FontSize,callback,errorCallback);};Selection.prototype.setFontSize=function(fontSize,callback,errorCallback){if(typeof fontSize!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.FontSize,fontSize,callback,errorCallback);};Selection.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(d.ForeColor,callback,errorCallback);};Selection.prototype.setForeColor=function(foreColor,callback,errorCallback){if(typeof foreColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.ForeColor,foreColor,callback,errorCallback);};Selection.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};Selection.prototype.setTextBackColor=function(textBackColor,callback,errorCallback){if(typeof textBackColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextBackColor,textBackColor,callback,errorCallback);};Selection.prototype.isCommonSelectionValueSelected=function(selectionAttribute,callback,errorCallback){if(typeof selectionAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_Selection,callback,[selectionAttribute],errorCallback);};Selection.prototype.isCommonParagraphFormatValueSelected=function(paragraphFormatAttribute,callback,errorCallback){if(typeof paragraphFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_ParagraphFormat,callback,[paragraphFormatAttribute],errorCallback);};Selection.prototype.isCommonListFormatValueSelected=function(listFormatAttribute,callback,errorCallback){if(typeof listFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_ListFormat,callback,[listFormatAttribute],errorCallback);};Selection.prototype.isCommonSectionFormatValueSelected=function(sectionFormatAttribute,callback,errorCallback){if(typeof sectionFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_SectionFormat,callback,[sectionFormatAttribute],errorCallback);};Selection.prototype.isCommonPageMarginsValueSelected=function(pageMarginsAttribute,callback,errorCallback){if(typeof pageMarginsAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_PageMargins,callback,[pageMarginsAttribute],errorCallback);};Selection.prototype.isCommonPageSizeValueSelected=function(pageSizeAttribute,callback,errorCallback){if(typeof pageSizeAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_PageSize,callback,[pageSizeAttribute],errorCallback);};Selection.prototype.isCommonPageBorderValueSelected=function(pageBorderAttribute,callback,errorCallback){if(typeof pageBorderAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(c.IsCommonValueSelected_PageBorder,callback,[pageBorderAttribute],errorCallback);};Selection.prototype.load=function(streamType,base64Data,callback,loadSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!base64Data){throw new Error(b.ErrorText.NoDocumentData);}loadSettings=loadSettings||null;this.callMethod(c.Load,callback,[base64Data,streamType,loadSettings],errorCallback);};Selection.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};return Selection;})(b.TextControlClassAdapter);b.Selection.Attribute=Object.freeze({Baseline:1,Bold:2,Italic:4,FontName:8,FontSize:16,Strikeout:32,Underline:64,ForeColor:256,TextBackColor:512,Start:1024,Length:2048,Text:4096,FormattingStyle:8192,Culture:16384,All:32767,});return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CanMergeCells:"CanMergeCells",CanSplit:"CanSplit",CanSplitCells:"CanSplitCells",Cells:"Cells",Columns:"Columns",ID:"ID",NestedLevel:"NestedLevel",NestedTables:"NestedTables",OuterMostTable:"OuterMostTable",OuterTable:"OuterTable",Rows:"Rows"});var c=Object.freeze({MergeCells:"MergeCells",Select:"Select",Split:"Split",SplitCells:"SplitCells"});b.Table=(function(f){__extends(Table,f);function Table(g,h){f.call(this,g,h);}Object.defineProperty(Table.prototype,"cells",{get:function(){var g=new b.TableCellCollection();this.addPropertyAccessEventListener(g,d.Cells);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"columns",{get:function(){var g=new b.TableColumnCollection();this.addPropertyAccessEventListener(g,d.Columns);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"nestedTables",{get:function(){var g=new b.TableBaseCollection();this.addPropertyAccessEventListener(g,d.NestedTables);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"rows",{get:function(){var g=new b.TableRowCollection();this.addPropertyAccessEventListener(g,d.Rows);return g;},enumerable:true,configurable:true});Table.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};Table.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};Table.prototype.getCanMergeCells=function(callback,errorCallback){this.getPropertyValue(d.CanMergeCells,callback,errorCallback);};Table.prototype.getCanSplit=function(callback,errorCallback){this.getPropertyValue(d.CanSplit,callback,errorCallback);};Table.prototype.getCanSplitCells=function(callback,errorCallback){this.getPropertyValue(d.CanSplitCells,callback,errorCallback);};Table.prototype.getNestedLevel=function(callback,errorCallback){this.getPropertyValue(d.NestedLevel,callback,errorCallback);};Table.prototype.getOuterMostTable=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterMostTable,function(i){if(i){var h=new b.Table(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterMostTable);callback(h);}else{callback(null);}},errorCallback);};Table.prototype.getOuterTable=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterTable,function(i){if(i){var h=new b.Table(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterTable);callback(h);}else{callback(null);}},errorCallback);};Table.prototype.mergeCells=function(callback,errorCallback){this.callMethod(c.MergeCells,callback,[],errorCallback);};Table.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};Table.prototype.selectCells=function(startRow,startColumn,stopRow,stopColumn,callback,errorCallback){if(!(typeof startRow==="number"&&typeof startColumn==="number"&&typeof stopRow==="number"&&typeof startColumn==="number")){throw new TypeError(b.ErrorText.TooFewParameters);}var g=[startRow,startColumn,stopRow,stopColumn];this.callMethod(c.Select,callback,g,errorCallback);};Table.prototype.split=function(tableAddPosition,callback,errorCallback){if(tableAddPosition!=b.TableAddPosition.After&&tableAddPosition!=b.TableAddPosition.Before){throw new TypeError(b.ErrorText.ParamNotATableAddPosition);}this.callMethod(c.Split,callback,[tableAddPosition],errorCallback);};Table.prototype.splitCells=function(callback,errorCallback){this.callMethod(c.SplitCells,callback,[],errorCallback);};return Table;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableBaseCollection=(function(d){__extends(TableBaseCollection,d);function TableBaseCollection(){d.call(this);}TableBaseCollection.prototype.removeById=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Remove,callback,[id],errorCallback);};TableBaseCollection.prototype.removeAtInputPosition=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableBaseCollection.prototype.getItem=function(callback,errorCallback,id){var e=this;if((typeof id==="undefined")||(typeof id!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[id],errorCallback);};TableBaseCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Table(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableBaseCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellPropertyName=Object.freeze({CellFormat:"CellFormat",Column:"Column",Formula:"Formula",Length:"Length",Name:"Name",Position:"Position",Row:"Row",Start:"Start",Text:"Text",Width:"Width"});b.TableCellMethodName=Object.freeze({Select:"Select"});b.TableCell=(function(d){__extends(TableCell,d);function TableCell(e,f){d.call(this,e,f);}TableCell.prototype.select=function(callback,errorCallback){this.callMethod(b.TableCellMethodName.Select,callback,[],errorCallback);};TableCell.prototype.getCellFormat=function(callback,errorCallback){var e=new b.TableCellFormat();this.addPropertyAccessEventListener(e,b.TableCellPropertyName.CellFormat);callback(e);};TableCell.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Column,callback,errorCallback);};TableCell.prototype.getFormula=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Formula,callback,errorCallback);};TableCell.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Length,callback,errorCallback);};TableCell.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Name,callback,errorCallback);};TableCell.prototype.getPosition=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Position,callback,errorCallback);};TableCell.prototype.getRow=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Row,callback,errorCallback);};TableCell.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Start,callback,errorCallback);};TableCell.prototype.getText=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Text,callback,errorCallback);};TableCell.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Width,callback,errorCallback);};TableCell.prototype.setFormula=function(formula,callback,errorCallback){if(typeof formula!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Formula,formula,callback,errorCallback);};TableCell.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Name,name,callback,errorCallback);};TableCell.prototype.setPosition=function(position,callback,errorCallback){if(typeof position!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellPropertyName.Position,position,callback,errorCallback);};TableCell.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Text,text,callback,errorCallback);};TableCell.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellPropertyName.Width,width,callback,errorCallback);};return TableCell;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellBorderPosition=Object.freeze({Left:"Left",Right:"Right",Top:"Top",Bottom:"Bottom"});b.TableCellBorder=(function(){function TableCellBorder(g,h){this._.position=g;this._.tableCell=h;}TableCellBorder.prototype.getColor=function(callback,errorCallback){var g=d(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.getWidth=function(callback,errorCallback){var g=f(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.getTextDistance=function(callback,errorCallback){var g=e(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.setColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var g=d(this._.position);tableCell.setPropertyValue(g,color,callback,errorCallback);};TableCellBorder.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var g=f(this._.position);tableCell.setPropertyValue(g,width,callback,errorCallback);};TableCellBorder.prototype.setTextDistance=function(textDistance,callback,errorCallback){if(typeof textDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var g=e(this._.position);tableCell.setPropertyValue(g,textDistance,callback,errorCallback);};function d(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomBorderColor;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopBorderColor;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightBorderColor;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftBorderColor;default:throw new Error("Invalid table cell border position.");}}function f(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomBorderWidth;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopBorderWidth;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightBorderWidth;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftBorderWidth;default:throw new Error("Invalid table cell border position.");}}function e(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomTextDistance;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopTextDistance;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightTextDistance;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftTextDistance;default:throw new Error("Invalid table cell border position.");}}return TableCellBorder;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellCollection=(function(d){__extends(TableCellCollection,d);function TableCellCollection(){d.call(this);}TableCellCollection.prototype.getItemAtInputPosition=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};TableCellCollection.prototype.getItem=function(callback,errorCallback,row,column){if(typeof row!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof column!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[row,column],errorCallback);};TableCellCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableCellCollection.prototype.getCanRemove=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,[],errorCallback);};TableCellCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableCell(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableCellCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellFormatPropertyName=Object.freeze({BackColor:"BackColor",NumberFormat:"NumberFormat",TextType:"TextType",VerticalAlignment:"VerticalAlignment",BottomBorderColor:"BottomBorderColor",BottomBorderWidth:"BottomBorderWidth",BottomTextDistance:"BottomTextDistance",TopBorderColor:"TopBorderColor",TopBorderWidth:"TopBorderWidth",TopTextDistance:"TopTextDistance",LeftBorderColor:"LeftBorderColor",LeftBorderWidth:"LeftBorderWidth",LeftTextDistance:"LeftTextDistance",RightBorderColor:"RightBorderColor",RightBorderWidth:"RightBorderWidth",RightTextDistance:"RightTextDistance",});b.TableCellFormat=(function(d){__extends(TableCellFormat,d);function TableCellFormat(){d.call(this);}Object.defineProperty(TableCellFormat.prototype,"bottomBorder",{get:function(){var e=b.TableCellBorderPosition.Bottom;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"leftBorder",{get:function(){var e=b.TableCellBorderPosition.Left;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"rightBorder",{get:function(){var e=b.TableCellBorderPosition.Right;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"topBorder",{get:function(){var e=b.TableCellBorderPosition.Top;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});TableCellFormat.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.BackColor,callback,errorCallback);};TableCellFormat.prototype.getNumberFormat=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.NumberFormat,callback,errorCallback);};TableCellFormat.prototype.getTextType=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.TextType,callback,errorCallback);};TableCellFormat.prototype.getVerticalAlignment=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.VerticalAlignment,callback,errorCallback);};TableCellFormat.prototype.setBackColor=function(backColor,callback,errorCallback){if(typeof backColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellFormatPropertyName.BackColor,backColor,callback,errorCallback);};TableCellFormat.prototype.setNumberFormat=function(numberFormat,callback,errorCallback){if(typeof numberFormat!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellFormatPropertyName.NumberFormat,numberFormat,callback,errorCallback);};TableCellFormat.prototype.setTextType=function(textType,callback,errorCallback){if(typeof textType!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellFormatPropertyName.TextType,textType,callback,errorCallback);};TableCellFormat.prototype.setVerticalAlignment=function(verticalAlignment,callback,errorCallback){if(typeof verticalAlignment!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellFormatPropertyName.VerticalAlignment,verticalAlignment,callback,errorCallback);};return TableCellFormat;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GridLines:"GridLines"});b.TableCollection=(function(e){__extends(TableCollection,e);function TableCollection(){e.call(this);}TableCollection.prototype.add=function(rows,columns,id,callback,errorCallback){if(typeof id!=="undefined"&&typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof rows!=="number"||typeof columns!=="number"){throw new TypeError(b.ErrorText.TooFewParameters);}var f=(typeof id!=="undefined")?[rows,columns,id]:[rows,columns];this.callMethod(b.CollectionMethodName.Add,callback,f,errorCallback);};TableCollection.prototype.setGridLines=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.GridLines,value,callback,errorCallback);};TableCollection.prototype.getGridLines=function(callback,errorCallback){this.getPropertyValue(c.GridLines,callback,errorCallback);};TableCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};return TableCollection;})(b.TableBaseCollection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CellFormat:"CellFormat",Column:"Column",Position:"Position",Width:"Width"});var c=Object.freeze({Select:"Select"});b.TableColumn=(function(f){__extends(TableColumn,f);function TableColumn(g,h){f.call(this,g,h);}TableColumn.prototype.select=function(callback){this.callMethod(c.Select,callback);};TableColumn.prototype.getCellFormat=function(callback,errorCallback){var g=new b.format();this.addPropertyAccessEventListener(g,d.CellFormat);callback(g);};TableColumn.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(d.Column,callback,errorCallback);};TableColumn.prototype.getPosition=function(callback,errorCallback){this.getPropertyValue(d.Position,callback,errorCallback);};TableColumn.prototype.setPosition=function(position,callback,errorCallback){if(typeof position!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Position,position,callback,errorCallback);};TableColumn.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(d.Width,callback,errorCallback);};TableColumn.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Width,width,callback,errorCallback);};return TableColumn;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableColumnCollection=(function(d){__extends(TableColumnCollection,d);function TableColumnCollection(){d.call(this);}TableColumnCollection.prototype.add=function(tableAddPosition,callback,errorCallback){if(typeof tableAddPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[tableAddPosition],errorCallback);};TableColumnCollection.prototype.getItem=function(callback,errorCallback,column){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof column==="number")?[column]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TableColumnCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableColumnCollection.prototype.getCanRemove=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,errorCallback);};TableColumnCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableColumnCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableColumn(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableColumnCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AllowPageBreak:"AllowPageBreak",CellFormat:"CellFormat",IsHeader:"IsHeader",MinimumHeight:"MinimumHeight",Row:"Row"});var c=Object.freeze({Select:"Select"});b.TableRow=(function(f){__extends(TableRow,f);function TableRow(g,h){f.call(this,g,h);}TableRow.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};TableRow.prototype.getCellFormat=function(callback,errorCallback){var g=new b.TableCellFormat();this.addPropertyAccessEventListener(g,b.TableCellPropertyName.CellFormat,callback);callback(g);};TableRow.prototype.getRow=function(callback,errorCallback){this.getPropertyValue(d.Row,callback,errorCallback);};TableRow.prototype.getAllowPageBreak=function(callback,errorCallback){this.getPropertyValue(d.AllowPageBreak,callback,errorCallback);};TableRow.prototype.setAllowPageBreak=function(allowPageBreak,callback,errorCallback){if(typeof allowPageBreak!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllowPageBreak,allowPageBreak,callback,errorCallback);};TableRow.prototype.getIsHeader=function(callback,errorCallback){this.getPropertyValue(d.IsHeader,callback,errorCallback);};TableRow.prototype.setIsHeader=function(isHeader,callback,errorCallback){if(typeof isHeader!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsHeader,isHeader,callback,errorCallback);};TableRow.prototype.getMinimumHeight=function(callback,errorCallback){this.getPropertyValue(d.MinimumHeight,callback,errorCallback);};TableRow.prototype.setMinimumHeight=function(minimumHeight,callback,errorCallback){if(typeof minimumHeight!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.MinimumHeight,minimumHeight,callback,errorCallback);};return TableRow;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableRowCollection=(function(d){__extends(TableRowCollection,d);function TableRowCollection(){d.call(this);}TableRowCollection.prototype.add=function(tableAddPosition,count,callback,errorCallback){if(typeof tableAddPosition!=="number"||typeof count!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[tableAddPosition,count],errorCallback);};TableRowCollection.prototype.getItem=function(callback,errorCallback,row){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof row!=="undefined")?[row]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TableRowCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableRowCollection.prototype.getCanRemove=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,errorCallback);};TableRowCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableRowCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableRow(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableRowCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ApplicationFields:"ApplicationFields",DocumentLinks:"DocumentLinks",DocumentTargets:"DocumentTargets",Selection:"Selection",Tables:"Tables",TextFields:"TextFields",TrackedChanges:"TrackedChanges",EditableRegions:"EditableRegions",HypertextLinks:"HypertextLinks",Lines:"Lines",MisspelledWords:"MisspelledWords",Paragraphs:"Paragraphs",SubTextParts:"SubTextParts",TextChars:"TextChars",});var c=Object.freeze({Find:"Find"});b.FormattedText=(function(f){__extends(FormattedText,f);function FormattedText(g,h){f.call(this,g,h);Object.defineProperties(this,{applicationFields:{get:function(){var i=new b.ApplicationFieldCollection();this.addPropertyAccessEventListener(i,d.ApplicationFields);return i;},enumerable:true,configurable:true},documentTargets:{get:function(){var i=new b.DocumentTargetCollection();this.addPropertyAccessEventListener(i,d.DocumentTargets);return i;},enumerable:true,configurable:true},documentLinks:{get:function(){var i=new b.DocumentLinkCollection();this.addPropertyAccessEventListener(i,d.DocumentLinks);return i;},enumerable:true,configurable:true},editableRegions:{get:function(){var i=new b.EditableRegionCollection();this.addPropertyAccessEventListener(i,d.EditableRegions);return i;},enumerable:true,configurable:true},hypertextLinks:{get:function(){var i=new b.HypertextLinkCollection();this.addPropertyAccessEventListener(i,d.HypertextLinks);return i;},enumerable:true,configurable:true},lines:{get:function(){var i=new b.LineCollection();this.addPropertyAccessEventListener(i,d.Lines);return i;},enumerable:true,configurable:true},misspelledWords:{get:function(){var i=new b.MisspelledWordCollection();this.addPropertyAccessEventListener(i,d.MisspelledWords);return i;},enumerable:true,configurable:true},paragraphs:{get:function(){var i=new b.ParagraphCollection();this.addPropertyAccessEventListener(i,d.Paragraphs);return i;},enumerable:true,configurable:true},selection:{get:function(){var i=new b.Selection();this.addPropertyAccessEventListener(i,d.Selection);return i;},enumerable:true,configurable:true},subTextParts:{get:function(){var i=new b.SubTextPartCollection();this.addPropertyAccessEventListener(i,d.SubTextParts);return i;},enumerable:true,configurable:true},tables:{get:function(){var i=new b.TableCollection();this.addPropertyAccessEventListener(i,d.Tables);return i;},enumerable:true,configurable:true},textChars:{get:function(){var i=new b.TextCharCollection();this.addPropertyAccessEventListener(i,d.TextChars);return i;},enumerable:true,configurable:true},textFields:{get:function(){var i=new b.TextFieldCollection();this.addPropertyAccessEventListener(i,d.TextFields);return i;},enumerable:true,configurable:true},trackedChanges:{get:function(){var i=new b.TrackedChangeCollection();this.addPropertyAccessEventListener(i,d.TrackedChanges);return i;},enumerable:true,configurable:true}});}FormattedText.prototype.find=function(text,start,options,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof options!=="undefined"&&typeof options!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof options=="undefined"){options=0;}this.callMethod(c.Find,callback,[text,start,options],errorCallback);};return FormattedText;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ActivationState:"ActivationState",AllowUndo:"AllowUndo",BackColor:"BackColor",Barcodes:"Barcodes",Baseline:"Baseline",ControlChars:"ControlChars",DisplayColors:"DisplayColors",Drawings:"Drawings",CanCharacterFormat:"CanCharacterFormat",CanCopy:"CanCopy",CanDocumentFormat:"CanDocumentFormat",CanEdit:"CanEdit",CanParagraphFormat:"CanParaphFormat",CanPaste:"CanPaste",CanPrint:"CanPrint",CanRedo:"CanRedo",CanStyleFormat:"CanStyleFormat",CanTableFormat:"CanTableFormat",CanUndo:"CanUndo",DocumentTargetMarkers:"DocumentTargetMarkers",DrawingMarkerLines:"DrawingMarkerLines",EditMode:"EditMode",Frames:"Frames",Images:"Images",IsTrackChangesEnabled:"IsTrackChangesEnabled",PageUnit:"PageUnit",PermanentControlChars:"PermanentControlChars",SelectObjects:"SelectObjects",RedoActionName:"RedoActionName",Text:"Text",TextBackColor:"TextBackColor",TextFrameMarkerLines:"TextFrameMarkerLines",UndoActionName:"UndoActionName",UserNames:"UserNames",ViewMode:"ViewMode",FontUnderlineStyle:"FontUnderlineStyle",ForeColor:"ForeColor",FormulaReferenceStyle:"FormulaReferenceStyle",Landscape:"Landscape",ListFormat:"ListFormat",InputFormat:"InputFormat",InputPosition:"InputPosition",PageMargins:"PageMargins",PageSize:"PageSize",ParagraphFormat:"ParagraphFormat",Sections:"Sections",Selection:"Selection",TextFrames:"TextFrames",TextParts:"TextParts",FormFields:"FormFields",HeadersAndFooters:"HeadersAndFooters",InlineStyles:"InlineStyles",ParagraphStyles:"ParagraphStyles",IsFormulaCalculationEnabled:"IsFormulaCalculationEnabled",IsHyphenationEnabled:"IsHyphenationEnabled",IsLanguageDetectionEnabled:"IsLanguageDetectionEnabled",IsSpellCheckingEnabled:"IsSpellCheckingEnabled",});var c=Object.freeze({GetSupportedPaperSizes:"GetSupportedPaperSizes",GetSupportedFonts:"GetSupportedFonts",ResetContents:"ResetContents",Undo:"Undo",Redo:"Redo",Zoom:"Zoom",Clear:"Clear",Load:"Load",Save:"Save",Select:"Select",SelectAll:"SelectAll",SelectWord:"SelectWord",GetPages:"GetPages",});b.TextControlMemberAccessCallbacks={};b.TextControl=(function(f){__extends(TextControl,f);function TextControl(){f.call(this);this.addEventListener(b.TXEventNames.AccessTextControlMember,function(l){j(l.callback,l.sequence,l.callDirection,l.errorCallback);});var k=new b.InputFormat();this.addPropertyAccessEventListener(k,d.InputFormat);Object.defineProperties(this,{barcodes:{get:function(){var l=new b.BarcodeCollection();this.addPropertyAccessEventListener(l,d.Barcodes);return l;},enumerable:true,configurable:true},displayColors:{get:function(){var l=new b.DisplayColors();this.addPropertyAccessEventListener(l,d.DisplayColors);return l;},enumerable:true,configurable:true},formFields:{get:function(){var l=new b.FormFieldCollection();this.addPropertyAccessEventListener(l,d.FormFields);return l;},enumerable:true,configurable:true},frames:{get:function(){var l=new b.FrameCollection();this.addPropertyAccessEventListener(l,d.Frames);return l;},enumerable:true,configurable:true},headersAndFooters:{get:function(){var l=new b.HeaderFooterCollection();this.addPropertyAccessEventListener(l,d.HeadersAndFooters);return l;},enumerable:true,configurable:true},inlineStyles:{get:function(){var l=new b.InlineStyleCollection();this.addPropertyAccessEventListener(l,d.InlineStyles);return l;},enumerable:true,configurable:true},inputPosition:{get:function(){var l=new b.InputPosition();this.addPropertyAccessEventListener(l,d.InputPosition);return l;},enumerable:true,configurable:true},images:{get:function(){var l=new b.ImageCollection();this.addPropertyAccessEventListener(l,d.Images);return l;},enumerable:true,configurable:true},inputFormat:{get:function(){return k;},enumerable:true,configurable:true},listFormat:{get:function(){var l=new b.ListFormat();this.addPropertyAccessEventListener(l,d.ListFormat);return l;},enumerable:true,configurable:true},pages:{get:function(){var l=new b.PageCollection();this.addPropertyAccessEventListener(l,c.GetPages);return l;},enumerable:true,configurable:true},pageMargins:{get:function(){var l=new b.PageMargins();this.addPropertyAccessEventListener(l,d.PageMargins);return l;},enumerable:true,configurable:true},pageSize:{get:function(){var l=new b.PageSize();this.addPropertyAccessEventListener(l,d.PageSize);return l;},enumerable:true,configurable:true},paragraphFormat:{get:function(){var l=new b.ParagraphFormat();this.addPropertyAccessEventListener(l,d.ParagraphFormat);return l;},enumerable:true,configurable:true},paragraphStyles:{get:function(){var l=new b.ParagraphStyleCollection();this.addPropertyAccessEventListener(l,d.ParagraphStyles);return l;},enumerable:true,configurable:true},sections:{get:function(){var l=new b.SectionCollection();this.addPropertyAccessEventListener(l,d.Sections);return l;},enumerable:true,configurable:true},textFrames:{get:function(){var l=new b.TextFrameCollection();this.addPropertyAccessEventListener(l,d.TextFrames);return l;},enumerable:true,configurable:true},textParts:{get:function(){var l=new b.TextPartCollection();this.addPropertyAccessEventListener(l,d.TextParts);return l;},enumerable:true,configurable:true}});}function j(k,p,l,m){var n=i(p,k,m);var o=new b.TextControlMemberAccessMessage(n,p,l);b.sendCommand(o.commandID,o.param1,o.param2,o.param3,o.data);}b.getTextControlMemberAccessCallback=function(k){if(!b.TextControlMemberAccessCallbacks.hasOwnProperty(k)){throw new Error("_private.getTextControlMemberAccessCallback(): Callback queue "+k+" does not exist.");return null;}var l=b.TextControlMemberAccessCallbacks[k];delete b.TextControlMemberAccessCallbacks[k];return l;};function g(){return""+Math.floor(1000000000+(Math.random()*9000000000));}function i(n,k,l){var m=g();b.TextControlMemberAccessCallbacks[m]={callback:k,errorCallback:l};return m;}TextControl.prototype.setActivationState=function(activationState,callback,errorCallback){this.setPropertyValue(d.ActivationState,activationState,callback,errorCallback);};TextControl.prototype.getActivationState=function(callback,errorCallback){this.getPropertyValue(d.ActivationState,callback,errorCallback);};TextControl.prototype.setAllowUndo=function(allowUndo,callback,errorCallback){if(typeof allowUndo!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllowUndo,allowUndo,callback,errorCallback);};TextControl.prototype.getAllowUndo=function(callback,errorCallback){this.getPropertyValue(d.AllowUndo,callback,errorCallback);};TextControl.prototype.setBackColor=function(htmlColor,k,l){if(typeof htmlColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,htmlColor,k,l);};TextControl.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};TextControl.prototype.setBaseline=function(baseline,callback,errorCallback){if(typeof baseline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Baseline,baseline,callback,errorCallback);};TextControl.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};TextControl.prototype.setControlChars=function(controlChars,callback,errorCallback){if(typeof controlChars!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ControlChars,controlChars,callback,errorCallback);};TextControl.prototype.getControlChars=function(callback,errorCallback){this.getPropertyValue(d.ControlChars,callback,errorCallback);};TextControl.prototype.getCanCharacterFormat=function(callback,errorCallback){this.getPropertyValue(d.CanCharacterFormat,callback,errorCallback);};TextControl.prototype.getCanCopy=function(callback,errorCallback){this.getPropertyValue(d.CanCopy,callback,errorCallback);};TextControl.prototype.getCanDocumentFormat=function(callback,errorCallback){this.getPropertyValue(d.CanDocumentFormat,callback,errorCallback);};TextControl.prototype.getCanPaste=function(callback,errorCallback){this.getPropertyValue(d.CanPaste,callback,errorCallback);};TextControl.prototype.getCanPrint=function(callback,errorCallback){this.getPropertyValue(d.CanPrint,callback,errorCallback);};TextControl.prototype.getCanRedo=function(callback,errorCallback){this.getPropertyValue(d.CanRedo,callback,errorCallback);};TextControl.prototype.getCanStyleFormat=function(callback,errorCallback){this.getPropertyValue(d.CanStyleFormat,callback,errorCallback);};TextControl.prototype.getCanTableFormat=function(callback,errorCallback){this.getPropertyValue(d.CanTableFormat,callback,errorCallback);};TextControl.prototype.getCanUndo=function(callback,errorCallback){this.getPropertyValue(d.CanUndo,callback,errorCallback);};TextControl.prototype.getDocumentTargetMarkers=function(callback,errorCallback){this.getPropertyValue(d.DocumentTargetMarkers,callback,errorCallback);};TextControl.prototype.setDocumentTargetMarkers=function(documentMarkerLines,callback,errorCallback){if(typeof documentMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DocumentTargetMarkers,documentMarkerLines,callback,errorCallback);};TextControl.prototype.getIsFormulaCalculationEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsFormulaCalculationEnabled,callback,errorCallback);};TextControl.prototype.setIsFormulaCalculationEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsFormulaCalculationEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsHyphenationEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsHyphenationEnabled,callback,errorCallback);};TextControl.prototype.setIsHyphenationEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsHyphenationEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsLanguageDetectionEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsLanguageDetectionEnabled,callback,errorCallback);};TextControl.prototype.setIsLanguageDetectionEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsLanguageDetectionEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsSpellCheckingEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsSpellCheckingEnabled,callback,errorCallback);};TextControl.prototype.setIsSpellCheckingEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsSpellCheckingEnabled,enable,callback,errorCallback);};TextControl.prototype.getDrawingMarkerLines=function(callback,errorCallback){this.getPropertyValue(d.DrawingMarkerLines,callback,errorCallback);};TextControl.prototype.setDrawingMarkerLines=function(drawingMarkerLines,callback,errorCallback){if(typeof drawingMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DrawingMarkerLines,drawingMarkerLines,callback,errorCallback);};TextControl.prototype.getEditMode=function(callback,errorCallback){this.getPropertyValue(d.EditMode,callback,errorCallback);};TextControl.prototype.setEditMode=function(editMode,callback,errorCallback){if(typeof editMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.EditMode,editMode,callback,errorCallback);};TextControl.prototype.getFontUnderlineStyle=function(k,l){this.getPropertyValue(d.FontUnderlineStyle,k,l);};TextControl.prototype.setFontUnderlineStyle=function(style,k,l){this.setPropertyValue(d.FontUnderlineStyle,style,k,l);};TextControl.prototype.getForeColor=function(k,l){this.getPropertyValue(d.ForeColor,k,l);};TextControl.prototype.setForeColor=function(foreColor,k,l){this.setPropertyValue(d.ForeColor,foreColor,k,l);};TextControl.prototype.getFormulaReferenceStyle=function(k,l){this.getPropertyValue(d.FormulaReferenceStyle,k,l);};TextControl.prototype.setFormulaReferenceStyle=function(m,k,l){this.setPropertyValue(d.FormulaReferenceStyle,m,k,l);};TextControl.prototype.getLandscape=function(callback,errorCallback){this.getPropertyValue(d.Landscape,callback,errorCallback);};TextControl.prototype.setLandscape=function(isLandscape,callback,errorCallback){if(typeof isLandscape!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Landscape,isLandscape,callback,errorCallback);};TextControl.prototype.getIsTrackChangesEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsTrackChangesEnabled,callback,errorCallback);};TextControl.prototype.setIsTrackChangesEnabled=function(isTrackChangesEnabled,callback,errorCallback){if(typeof isTrackChangesEnabled!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsTrackChangesEnabled,isTrackChangesEnabled,callback,errorCallback);};TextControl.prototype.getPageCount=function(callback,errorCallback){this.getPropertyValue(d.Pages,callback,errorCallback);};TextControl.prototype.getPageUnit=function(callback,errorCallback){this.getPropertyValue(d.PageUnit,callback,errorCallback);};TextControl.prototype.setPageUnit=function(pageUnit,k,l){if(typeof pageUnit!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.PageUnit,pageUnit,k,l);};TextControl.prototype.getPermanentControlChars=function(callback,errorCallback){this.getPropertyValue(d.PermanentControlChars,callback,errorCallback);};TextControl.prototype.setPermanentControlChars=function(permanentControlChars,callback,errorCallback){if(typeof permanentControlChars!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.PermanentControlChars,permanentControlChars,callback,errorCallback);};TextControl.prototype.getRedoActionName=function(callback,errorCallback){this.getPropertyValue(d.RedoActionName,callback,errorCallback);};TextControl.prototype.getSelectObjects=function(callback,errorCallback){this.getPropertyValue(d.SelectObjects,callback,errorCallback);};TextControl.prototype.setSelectObjects=function(selectObjects,callback,errorCallback){if(typeof selectObjects!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.SelectObjects,selectObjects,callback,errorCallback);};TextControl.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TextControl.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,text,callback,errorCallback);};TextControl.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};TextControl.prototype.setTextBackColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextBackColor,color,callback,errorCallback);};TextControl.prototype.getTextFrameMarkerLines=function(callback,errorCallback){this.getPropertyValue(d.TextFrameMarkerLines,callback,errorCallback);};TextControl.prototype.setTextFrameMarkerLines=function(textFrameMarkerLines,callback,errorCallback){if(typeof textFrameMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TextFrameMarkerLines,textFrameMarkerLines,callback,errorCallback);};TextControl.prototype.getUndoActionName=function(callback,errorCallback){this.getPropertyValue(d.UndoActionName,callback,errorCallback);};TextControl.prototype.getUserNames=function(callback,errorCallback){this.getPropertyValue(d.UserNames,callback,errorCallback);};TextControl.prototype.getViewMode=function(callback,errorCallback){this.getPropertyValue(d.ViewMode,callback,errorCallback);};TextControl.prototype.setViewMode=function(viewMode,callback,errorCallback){this.setPropertyValue(d.ViewMode,viewMode,callback,errorCallback);};TextControl.prototype.redo=function(callback,errorCallback){this.callMethod(c.Redo,callback,[],errorCallback);};TextControl.prototype.undo=function(callback,errorCallback){this.callMethod(c.Undo,callback,[],errorCallback);};TextControl.prototype.zoom=function(zoomFactor,callback,errorCallback){this.callMethod(c.Zoom,callback,[zoomFactor],errorCallback);};TextControl.prototype.clear=function(callback,errorCallback){this.callMethod(c.Clear,callback,[],errorCallback);};TextControl.prototype.getSupportedFonts=function(callback,errorCallback){this.callMethod(c.GetSupportedFonts,callback,[],errorCallback);};TextControl.prototype.getSupportedPaperSizes=function(callback,errorCallback){this.callMethod(c.GetSupportedPaperSizes,callback,[],errorCallback);};TextControl.prototype.load=function(streamType,k,callback,loadSettings,errorCallback){loadSettings=loadSettings||null;this.callMethod(c.Load,callback,[k,streamType,loadSettings],errorCallback);};TextControl.prototype.save=function(streamType,callback,saveSettings,errorCallback){saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};TextControl.prototype.resetContents=function(callback,errorCallback){this.callMethod(c.ResetContents,callback,[],errorCallback);};TextControl.prototype.select=function(start,length,callback,errorCallback){if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof length!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(c.Select,callback,[start,length],errorCallback);};TextControl.prototype.selectAll=function(callback,errorCallback){this.callMethod(c.SelectAll,callback,[],errorCallback);};TextControl.prototype.selectWord=function(callback,errorCallback){this.callMethod(c.SelectWord,callback,[],errorCallback);};function h(l,k){if(l&&typeof l==="object"&&l.constructor===Array){l.forEach(function(m){if(typeof m!==k){return false;}});return true;}return false;}return TextControl;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Size=(function(){function Size(width,height){if((typeof width!=="number")||(typeof height!=="number")){throw new TypeError("Parameters have to be numerical values.");}this.width=width;this.height=height;}return Size;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Bounds:"Bounds",ContainsInputPosition:"ContainsInputPosition",Deleteable:"Deleteable",DoubledInputPosition:"DoubledInputPosition",Editable:"Editable",FormattingBounds:"FormattingBounds",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",IsSpellCheckingEnabled:"IsSpellCheckingEnabled",Length:"Length",Name:"Name",Start:"Start",Text:"Text"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.TextField=(function(f){__extends(TextField,f);function TextField(g,h){f.call(this,g,h);}TextField.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(d.Bounds,callback,errorCallback);};TextField.prototype.getContainsInputPosition=function(callback,errorCallback){this.getPropertyValue(d.ContainsInputPosition,callback,errorCallback);};TextField.prototype.getDeleteable=function(callback,errorCallback){this.getPropertyValue(d.Deleteable,callback,errorCallback);};TextField.prototype.setDeleteable=function(deleteable,callback,errorCallback){if(typeof deleteable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Deleteable,deleteable,callback,errorCallback);};TextField.prototype.getDoubledInputPosition=function(callback,errorCallback){this.getPropertyValue(d.DoubledInputPosition,callback);};TextField.prototype.setDoubledInputPosition=function(doubledInputPosition,callback,errorCallback){if(typeof doubledInputPosition!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DoubledInputPosition,doubledInputPosition,callback,errorCallback);};TextField.prototype.getEditable=function(callback,errorCallback){this.getPropertyValue(d.Editable,callback,errorCallback);};TextField.prototype.setEditable=function(editable,callback,errorCallback){if(typeof editable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Editable,editable,callback,errorCallback);};TextField.prototype.getFormattingBounds=function(callback,errorCallback){this.getPropertyValue(d.FormattingBounds,callback,errorCallback);};TextField.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};TextField.prototype.setHighlightMode=function(highlightMode,callback,errorCallback){if(typeof highlightMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,highlightMode,callback,errorCallback);};TextField.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};TextField.prototype.setHighlightColor=function(highlightColor,callback,errorCallback){if(typeof highlightColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,highlightColor,callback,errorCallback);};TextField.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};TextField.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};TextField.prototype.getIsSpellCheckingEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsSpellCheckingEnabled,callback,errorCallback);};TextField.prototype.setIsSpellCheckingEnabled=function(isSpellCheckingEnabled,callback,errorCallback){if(typeof isSpellCheckingEnabled!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsSpellCheckingEnabled,isSpellCheckingEnabled,callback,errorCallback);};TextField.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};TextField.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};TextField.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};TextField.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};TextField.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TextField.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,text,callback,errorCallback);};TextField.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return TextField;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFieldCollectionBase=(function(d){__extends(TextFieldCollectionBase,d);function TextFieldCollectionBase(){d.call(this);}TextFieldCollectionBase.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};return TextFieldCollectionBase;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFieldCollection=(function(d){__extends(TextFieldCollection,d);function TextFieldCollection(){d.call(this);}TextFieldCollection.prototype.add=function(callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:undefined,[],errorCallback);};TextFieldCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};TextFieldCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TextFieldCollection.prototype.remove=function(textField,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[textField._.hashcode,textField._.index],errorCallback);};TextFieldCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TextField(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TextFieldCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Format:"Format",Parameters:"Parameters",TypeName:"TypeName"});b.ApplicationFieldFormat=Object.freeze({None:0,MSWord:7,HighEdit:8,MSWordTXFormFields:12});b.ApplicationField=(function(e){__extends(ApplicationField,e);function ApplicationField(f,g){e.call(this,f,g);}ApplicationField.prototype.getFormat=function(callback,errorCallback){this.getPropertyValue(c.Format,callback,errorCallback);};ApplicationField.prototype.setFormat=function(format,callback,errorCallback){this.setPropertyValue(c.Format,format,callback,errorCallback);};ApplicationField.prototype.getParameters=function(callback,errorCallback){this.getPropertyValue(c.Parameters,callback,errorCallback);};ApplicationField.prototype.setParameters=function(parameters,callback,errorCallback){this.setPropertyValue(c.Parameters,parameters,callback,errorCallback);};ApplicationField.prototype.getTypeName=function(callback,errorCallback){this.getPropertyValue(c.TypeName,callback,errorCallback);};ApplicationField.prototype.setTypeName=function(typeName,callback,errorCallback){this.setPropertyValue(c.TypeName,typeName,callback,errorCallback);};ApplicationField.prototype.showDialog=function(){b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.ShowDialog,0,0,{textField:this._.field});};return ApplicationField;})(b.TextField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ApplicationFieldCollection=(function(d){__extends(ApplicationFieldCollection,d);function ApplicationFieldCollection(){d.call(this);}ApplicationFieldCollection.prototype.add=function(format,typeName,text,parameters,callback,errorCallback){if(!isInteger(format)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(typeof typeName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isArrayOfType(parameters,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:null,[format,typeName,text,parameters],errorCallback);};ApplicationFieldCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};ApplicationFieldCollection.prototype.remove=function(applicationField,keepText,callback,errorCallback){if(typeof keepText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var e=this;this.callMethod(b.CollectionMethodName.Remove,callback,[applicationField._.hashcode,applicationField._.index,keepText],errorCallback);};ApplicationFieldCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.ApplicationField(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ApplicationFieldCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.TextPartCommand=Object.freeze({GetCount:0,GetTextPart:1,Activate:2,GetAll:3,GetItem:4,AccessTextControlMember:5});b.TextPartType=Object.freeze({Undefined:-1,Auto:0,MainText:1,HeaderFooter:2,TextFrame:3,fromTypeName:function(h){switch(h){case b.TextPartTypeName.Auto:return this.Auto;case b.TextPartTypeName.MainText:return this.MainText;case b.TextPartTypeName.HeaderFooter:return this.HeaderFooter;case b.TextPartTypeName.TextFrame:return this.TextFrame;}return -1;}});b.TextPartTypeName=Object.freeze({Auto:"auto",MainText:"mainText",HeaderFooter:"headerFooter",TextFrame:"textFrame",fromType:function(h){switch(h){case b.TextPartType.Auto:return this.Auto;case b.TextPartType.MainText:return this.MainText;case b.TextPartType.HeaderFooter:return this.HeaderFooter;case b.TextPartType.TextFrame:return this.TextFrame;}return"";}});var f=Object.freeze({Tables:"Tables",Selection:"Selection",TextFields:"TextFields"});var c=[];b.LegacyTextPart=(function(h){__extends(TextPart,h);function TextPart(l,j,i){h.call(this,i);this.addEventListener(b.TXEventNames.AccessTextControlMember,function(n){var o=p(n.sequence,n.callback);var m=n.callDirection;b.sendCommand(b.Command.ClientTextPart,b.TextPartCommand.AccessTextControlMember,0,0,{TextPartIndex:j,TextPartType:b.TextPartType.fromTypeName(l),callSequence:n.sequence,messageUID:o,direction:m});function p(s,q){var r=""+Math.floor(1000000000+(Math.random()*9000000000));c[r]=q;return r;}});this.type=l||b.TextPartTypeName.Auto;this.index=j||0;var k=this;Object.defineProperties(this,{selection:{get:function(){var m=new b.Selection();k.addPropertyAccessEventListener(m,f.Selection);return m;},set:function(bounds){var m=new b.Selection();k.addPropertyAccessEventListener(m,f.Selection);m.setBounds(bounds);},enumerable:true}});}TextPart.prototype.getTextFields=function(callback,atInputPosition){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.getTextFields.push(callback);var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index};var i=atInputPosition?b.TextFieldCommand.GetItem:b.TextFieldCommand.GetAll;b.sendCommand(b.Command.ClientTextField,i,0,0,j);};TextPart.prototype.getSubTextParts=function(callback,atInputPosition){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.getSubTextParts.push(callback);var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index};var i=atInputPosition?b.SubTextPartCommand.GetItem:b.SubTextPartCommand.GetAll;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.addSubTextPart=function(callback,subTextPart){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.addSubTextPart.push(callback);var k={};if(!subTextPart.name){throw new TypeError(\'Passed SubTextPart object does not have a "name" property.\');}subTextPart.id=subTextPart.id||0;k[b.SubTextPartProperty.Name]=subTextPart.name;k[b.SubTextPartProperty.ID]=subTextPart.id;if(!!subTextPart.start&&!!subTextPart.length){k[b.SubTextPartProperty.Start]=subTextPart.start;k[b.SubTextPartProperty.Length]=subTextPart.length;}if(!!subTextPart.highlightColor){k[b.SubTextPartProperty.HighlightColor]=subTextPart.highlightColor;}if(!!subTextPart.highlightMode){k[b.SubTextPartProperty.HighlightMode]=subTextPart.highlightMode;}var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,SubTextPart:k,};var i=b.SubTextPartCommand.AddItem;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.removeSubTextPart=function(callback,keepText,keepNested,subTextPart){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}keepText=keepText||false;keepNested=keepNested||false;b.documentTaskCallbacks.removeSubTextPart.push(callback);var j=null;if(!!subTextPart){var k={};if(!subTextPart.name){throw new TypeError(\'Passed SubTextPart object does not have a "name" property.\');}subTextPart.id=subTextPart.id||0;k[b.SubTextPartProperty.Name]=subTextPart.name;k[b.SubTextPartProperty.ID]=subTextPart.id;j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,SubTextPart:k,KeepText:keepText,KeepNested:keepNested};}else{j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,KeepText:keepText,KeepNested:keepNested};}var i=b.SubTextPartCommand.RemoveItem;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.addTextField=function(textField){if(!textField||((textField.constructor!==b.LegacyApplicationField)&&(textField.constructor!==b.LegacyTextField))){throw new TypeError(\'Parameter "applicationField" cannot be omitted and must be of type TXTextControl.ApplicationField or TXTextControl.TextField.\');}textField._.field.textPart.type=b.TextPartType.fromTypeName(this.type);textField._.field.textPart.index=this.index;b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.Add,0,0,{textField:textField._.field});};return TextPart;})(b.TextControlClassAdapter);b.processTextPartDataMessage=function(j){if(!j.Data){throw new Error("processTextPartDataMessage(): Received message does not contain data.");}var h=j.Data.Content;var i=j.Data.ExcMsg;switch(h.textPartCommand){case b.TextPartCommand.GetAll:e(h,i);break;case b.TextPartCommand.AccessTextControlMember:d(h,i);break;default:console.error("processTextPartDataMessage(): Unknown TextPartCommand "+h.textPartCommand+".");break;}};function d(i,j){var k=i.messageUID;if(!c.hasOwnProperty(k)){throw new Error("processAccessTextControlMemberResponse(): Callback queue "+k+" does not exist.");return null;}var h=c[k];delete c[k];if(typeof h==="function"){h(i.result,j?new Error(j):undefined);}}function e(i,k){var h=b.documentTaskCallbacks.getTextParts.shift();if(k){throw new Error(k);}if(h===undefined){return;}var l=[];i.textParts.forEach(function(n){var m=new b.LegacyTextPart(b.TextPartTypeName.fromType(n.type),n.index,n.hashcode);l.push(m);});try{h(l);}catch(j){}}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Activate:"Activate"});b.TextPartCollection=(function(e){__extends(TextPartCollection,e);function TextPartCollection(){e.call(this);}TextPartCollection.prototype.activate=function(formattedText,callback,errorCallback){if(formattedText._&&formattedText._.hashcode){this.callMethod(c.Activate,callback,[formattedText._.hashcode,formattedText._.index],errorCallback);}else{throw new TypeError("The passed object is not a FormattedText.");}};TextPartCollection.prototype._adapt=function(g){var f;if(g===null){return null;}switch(g.type){case b.TextPartType.Undefined:return null;case b.TextPartType.HeaderFooter:f=new b.HeaderFooter(g.hashcode,g.index);break;case b.TextPartType.TextFrame:f=new b.TextFrame(g.hashcode,g.index);break;default:f=new b.FormattedText(g.hashcode,g.index);break;}this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return TextPartCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Active:"Active",ChangeKind:"ChangeKind",ChangeTime:"ChangeTime",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",Length:"Length",Number:"Number",Start:"Start",Text:"Text",UserName:"UserName",});var c=Object.freeze({Save:"Save"});b.ChangeKind=Object.freeze({InsertedText:4096,DeletedText:8192});b.TrackedChange=(function(f){__extends(TrackedChange,f);function TrackedChange(g,h){f.call(this,g,h);}TrackedChange.prototype.getActive=function(callback,errorCallback){this.getPropertyValue(d.Active,callback,errorCallback);};TrackedChange.prototype.setActive=function(active,callback,errorCallback){if(typeof active!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Active,active,callback,errorCallback);};TrackedChange.prototype.getChangeKind=function(callback,errorCallback){this.getPropertyValue(d.ChangeKind,callback,errorCallback);};TrackedChange.prototype.getChangeTime=function(callback,errorCallback){this.getPropertyValue(d.ChangeTime,callback,errorCallback);};TrackedChange.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};TrackedChange.prototype.setHighlightColor=function(g,callback,errorCallback){if(typeof g!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,g,callback,errorCallback);};TrackedChange.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};TrackedChange.prototype.setHighlightMode=function(g,callback,errorCallback){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,g,callback,errorCallback);};TrackedChange.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};TrackedChange.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};TrackedChange.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};TrackedChange.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TrackedChange.prototype.getUserName=function(callback,errorCallback){this.getPropertyValue(d.UserName,callback,errorCallback);};TrackedChange.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};return TrackedChange;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TrackedChangeCollection=(function(d){__extends(TrackedChangeCollection,d);function TrackedChangeCollection(){d.call(this);}TrackedChangeCollection.prototype.remove=function(trackedChange,accept,callback,errorCallback){if(!trackedChange||(!trackedChange.hasOwnProperty("_")&&!trackedChange._.hasOwnProperty("hashcode"))){throw new TypeError(b.ErrorText.TrackedChangeParamTypeError);}if(typeof accept!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.callMethod(b.CollectionMethodName.Remove,callback,[trackedChange._.hashcode,trackedChange._.index,accept],errorCallback);};TrackedChangeCollection.prototype.getItem=function(callback,next,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof next==="boolean")?[next]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TrackedChangeCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TrackedChange(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TrackedChangeCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Deleteable:"Deleteable",ID:"ID",Name:"Name",Number:"Number",Start:"Start",TargetName:"TargetName"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.DocumentTarget=(function(f){__extends(DocumentTarget,f);function DocumentTarget(g,h){f.call(this,g,h);}DocumentTarget.prototype.getDeleteable=function(callback,errorCallback){this.getPropertyValue(d.Deleteable,callback,errorCallback);};DocumentTarget.prototype.setDeleteable=function(deleteable,callback,errorCallback){if(typeof deleteable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Deleteable,deleteable,callback,errorCallback);};DocumentTarget.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};DocumentTarget.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};DocumentTarget.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};DocumentTarget.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};DocumentTarget.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};DocumentTarget.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};DocumentTarget.prototype.getTargetName=function(callback,errorCallback){this.getPropertyValue(d.TargetName,callback,errorCallback);};DocumentTarget.prototype.setTargetName=function(targetName,callback,errorCallback){if(typeof targetName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TargetName,targetName,callback,errorCallback);};DocumentTarget.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return DocumentTarget;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DocumentTargetCollection=(function(d){__extends(DocumentTargetCollection,d);function DocumentTargetCollection(){d.call(this);}DocumentTargetCollection.prototype.add=function(targetName,callback,errorCallback){if(typeof targetName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){if(callback){callback(e._adapt(f));}}:null,[targetName],errorCallback);};DocumentTargetCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};DocumentTargetCollection.prototype.getItem=function(callback,errorCallback,e){var g=this;var f=((typeof e==="number")||(typeof e==="string"))?[e]:[];this.callMethod(b.CollectionMethodName.GetItem,callback?function(h){callback(g._adapt(h));}:null,f,errorCallback);};DocumentTargetCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};DocumentTargetCollection.prototype.remove=function(documentTarget,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[documentTarget._.hashcode,documentTarget._.index],errorCallback);};DocumentTargetCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.DocumentTarget(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return DocumentTargetCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GetDocumentTarget:"GetDocumentTarget",SetDocumentTarget:"SetDocumentTarget"});b.DocumentLink=(function(e){__extends(DocumentLink,e);function DocumentLink(f,g){e.call(this,f,g);}DocumentLink.prototype.getDocumentTarget=function(callback,errorCallback){var g=this;if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetDocumentTarget,function(h){callback(f(h));},[],errorCallback);function f(i){if(i===null){return null;}var h=new b.DocumentTarget(i.hashcode,i.index);g.addMethodCallEventListener(h,c.GetDocumentTarget);return h;}};DocumentLink.prototype.setDocumentTarget=function(documentTarget,callback,errorCallback){if(typeof documentTarget==="undefined"){throw new TypeError(b.ErrorText.ParamUndefined);}this.callMethod(c.SetDocumentTarget,callback,documentTarget==null?[]:[documentTarget._.hashcode,documentTarget._.index],errorCallback);};return DocumentLink;})(b.TextField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DocumentLinkCollection=(function(d){__extends(DocumentLinkCollection,d);function DocumentLinkCollection(){d.call(this);}DocumentLinkCollection.prototype.add=function(text,documentTarget,callback,errorCallback){var i=this,g,h;try{g=documentTarget._.hashcode;h=documentTarget._.index;}catch(f){throw new TypeError("No valid DocumentTarget passed.");}this.callMethod(b.CollectionMethodName.Add,callback?function(j){callback(i._adapt(j));}:null,[text,g,h],errorCallback);};DocumentLinkCollection.prototype.clear=function(e,callback,errorCallback){if(typeof e!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.callMethod(b.CollectionMethodName.Clear,callback,[e],errorCallback);};DocumentLinkCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};DocumentLinkCollection.prototype.remove=function(documentLink,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[documentLink._.hashcode,documentLink._.index],errorCallback);};DocumentLinkCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.DocumentLink(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return DocumentLinkCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Target:"Target"});b.HypertextLink=(function(e){__extends(HypertextLink,e);function HypertextLink(f,g){e.call(this,f,g);}HypertextLink.prototype.getTarget=function(callback,errorCallback){this.getPropertyValue(c.Target,callback,errorCallback);};HypertextLink.prototype.setTarget=function(target,callback,errorCallback){this.setPropertyValue(c.Target,target,callback,errorCallback);};return HypertextLink;})(b.TextField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HypertextLinkCollection=(function(d){__extends(HypertextLinkCollection,d);function HypertextLinkCollection(){d.call(this);}HypertextLinkCollection.prototype.add=function(text,target,callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f,g){callback(e._adapt(f),g);}:null,[text,target],errorCallback);};HypertextLinkCollection.prototype.getItem=function(callback,errorCallback,id){var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[id],errorCallback);};HypertextLinkCollection.prototype.remove=function(HypertextLink,keepText,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[HypertextLink._.hashcode,HypertextLink._.index,keepText],errorCallback);};HypertextLinkCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.HypertextLink(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return HypertextLinkCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ZOrder={};b.Distances=(function(){function Distances(left,top,right,bottom){this.left=left;this.top=top;this.right=right;this.bottom=bottom;}return Distances;})();b.FramePropertyName=Object.freeze({Alignment:"Alignment",Bounds:"Bounds",ID:"ID",InsertionMode:"InsertionMode",Location:"Location",Moveable:"Moveable",Name:"Name",Size:"Size",Sizeable:"Sizeable",TextDistances:"TextDistances",TextPosition:"TextPosition"});b.FrameMethodName=Object.freeze({ChangeZOrder:"ChangeZOrder"});b.FrameBase=(function(d){__extends(FrameBase,d);function FrameBase(e,f){d.call(this,e,f);}FrameBase.prototype.setAlignment=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.Alignment,value,callback,errorCallback);};FrameBase.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Alignment,callback,errorCallback);};FrameBase.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Bounds,callback,errorCallback);};FrameBase.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.ID,value,callback,errorCallback);};FrameBase.prototype.getID=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.ID,callback,errorCallback);};FrameBase.prototype.setInsertionMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.InsertionMode,value,errorCallback);};FrameBase.prototype.getInsertionMode=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.InsertionMode,callback,errorCallback);};FrameBase.prototype.setLocation=function(value,callback,errorCallback){if(!value.hasOwnProperty("x")||!value.hasOwnProperty("y")){throw new TypeError(\'Parameter "value" must have properties "x" and "y".\');}if(!isInteger(value.x)||!isInteger(value.y)){throw new TypeError("Coordinates must be integers.");}this.setPropertyValue(b.FramePropertyName.Location,value,callback,errorCallback);};FrameBase.prototype.getLocation=function(callback){this.getPropertyValue(b.FramePropertyName.Location,function(f){var e=null;if(f){e=new b.Point(f.x,f.y);}callback(e);},errorCallback);};FrameBase.prototype.setMoveable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Moveable,value,callback,errorCallback);};FrameBase.prototype.getMoveable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Moveable,callback,errorCallback);};FrameBase.prototype.setName=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.FramePropertyName.Name,value,callback,errorCallback);};FrameBase.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Name,callback,errorCallback);};FrameBase.prototype.setSize=function(value,callback,errorCallback){if(!value.hasOwnProperty("width")||!value.hasOwnProperty("height")){throw new TypeError(\'Parameter "value" must have properties "width" and "height".\');}if(!isInteger(value.width)||!isInteger(value.height)){throw new TypeError("Dimensions must be integers.");}this.setPropertyValue(b.FramePropertyName.Size,value,callback,errorCallback);};FrameBase.prototype.getSize=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Size,function(f){var e=null;if(f){e=new b.Size(f.Width,f.Height);}callback(e);},errorCallback);};FrameBase.prototype.setSizeable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Sizeable,value,callback,errorCallback);};FrameBase.prototype.getSizeable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Sizeable,callback,errorCallback);};FrameBase.prototype.setTextDistances=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(b.FramePropertyName.TextDistances,value,callback,errorCallback);};FrameBase.prototype.getTextDistances=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextDistances,function(f){var e=null;if(f){e=new b.Distances(f.left,f.top,f.right,f.bottom);}callback(e);},errorCallback);};FrameBase.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextPosition,callback,errorCallback);};FrameBase.prototype.changeZOrder=function(zOrder,callback,errorCallback){if(typeof zOrder!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.FrameMethodName.ChangeZOrder,callback,[zOrder],errorCallback);};return FrameBase;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({HasCheckValue:"HasCheckValue",ShowCheckValue:"ShowCheckValue"});b.BarcodeTypeSettings=(function(e){__extends(BarcodeTypeSettings,e);function BarcodeTypeSettings(){e.call(this);}BarcodeTypeSettings.prototype.getHasCheckValue=function(callback,errorCallback){this.getPropertyValue(c.HasCheckValue,callback,errorCallback);};BarcodeTypeSettings.prototype.setHasCheckValue=function(value,callback,errorCallback){this.setPropertyValue(c.HasCheckValue,value,callback,errorCallback);};BarcodeTypeSettings.prototype.getShowCheckValue=function(callback,errorCallback){this.getPropertyValue(c.ShowCheckValue,callback,errorCallback);};BarcodeTypeSettings.prototype.setShowCheckValue=function(value,callback,errorCallback){this.setPropertyValue(c.ShowCheckValue,value,callback,errorCallback);};return BarcodeTypeSettings;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AdditionalText:"AdditionalText",Alignment:"Alignment",Angle:"Angle",BackColor:"BackColor",BarcodeType:"BarcodeType",BarcodeTypeSettings:"BarcodeTypeSettings",ForeColor:"ForeColor",ShowText:"ShowText",Text:"Text",TextAlignment:"TextAlignment",UpperTextLength:"UpperTextLength"});var c=Object.freeze({SaveImage:"SaveImage"});b.ImageFormat={Bmp:1,Emf:2,Gif:3,Jpeg:4,Png:5,Tiff:6,Wmf:7};b.BarcodeAlignment={TopLeft:1,TopCenter:2,TopRight:3,MiddleLeft:4,MiddleCenter:5,MiddleRight:6,BottomCenter:7,BottomLeft:8,BottomRight:9,};b.BarcodeTextAlignment={Bottom:1,Top:2,};b.Barcode=(function(f){__extends(Barcode,f);function Barcode(){f.call(this);Object.defineProperties(this,{barcodeTypeSettings:{get:function(){var g=new b.BarcodeTypeSettings();this.addPropertyAccessEventListener(g,d.BarcodeTypeSettings);return g;},enumerable:true}});}Barcode.prototype.getAdditionalText=function(callback,errorCallback){this.getPropertyValue(d.AdditionalText,callback,errorCallback);};Barcode.prototype.setAdditionalText=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.AdditionalText,value,callback,errorCallback);};Barcode.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(d.Alignment,callback,errorCallback);};Barcode.prototype.setAlignment=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Alignment,value,callback,errorCallback);};Barcode.prototype.getAngle=function(callback,errorCallback){this.getPropertyValue(d.Angle,callback,errorCallback);};Barcode.prototype.setAngle=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Angle,value,callback,errorCallback);};Barcode.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};Barcode.prototype.setBackColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,value,callback,errorCallback);};Barcode.prototype.getBarcodeType=function(callback,errorCallback){this.getPropertyValue(d.BarcodeType,callback,errorCallback);};Barcode.prototype.setBarcodeType=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.BarcodeType,value,callback,errorCallback);};Barcode.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(d.ForeColor,callback,errorCallback);};Barcode.prototype.setForeColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.ForeColor,value,callback,errorCallback);};Barcode.prototype.getShowText=function(callback,errorCallback){this.getPropertyValue(d.ShowText,callback,errorCallback);};Barcode.prototype.setShowText=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ShowText,value,callback,errorCallback);};Barcode.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Barcode.prototype.setText=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,value,callback,errorCallback);};Barcode.prototype.getTextAlignment=function(callback,errorCallback){this.getPropertyValue(d.TextAlignment,callback,errorCallback);};Barcode.prototype.setTextAlignment=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.TextAlignment,value,callback,errorCallback);};Barcode.prototype.getUpperTextLength=function(callback,errorCallback){this.getPropertyValue(d.UpperTextLength,callback,errorCallback);};Barcode.prototype.setUpperTextLength=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.UpperTextLength,value,callback,errorCallback);};Barcode.prototype.saveImage=function(imageFormat,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.SaveImage,callback,[imageFormat],errorCallback);};return Barcode;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({HorizontalScaling:"HorizontalScaling",VerticalScaling:"VerticalScaling"});b.Image=(function(e){__extends(Image,e);function Image(f,g){e.call(this,f,g);}Image.prototype.setHorizontalScaling=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.HorizontalScaling,value,callback,errorCallback);};Image.prototype.getHorizontalScaling=function(callback,errorCallback){this.getPropertyValue(c.HorizontalScaling,callback,errorCallback);};Image.prototype.setVerticalScaling=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.VerticalScaling,value,callback,errorCallback);};Image.prototype.getVerticalScaling=function(callback,errorCallback){this.getPropertyValue(c.VerticalScaling,callback,errorCallback);};return Image;})(b.FrameBase);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Barcode:"Barcode",ExportCompressionQuality:"ExportCompressionQuality",ExportResolution:"ExportResolution"});var c=Object.freeze({Refresh:"Refresh"});b.BarcodeFrame=(function(f){__extends(BarcodeFrame,f);function BarcodeFrame(g,h){f.call(this,g,h);Object.defineProperties(this,{barcode:{get:function(){var i=new b.Barcode();this.addPropertyAccessEventListener(i,d.Barcode);return i;},enumerable:true}});}BarcodeFrame.prototype.refresh=function(callback,errorCallback){this.callMethod(c.Refresh,callback,[],errorCallback);};return BarcodeFrame;})(b.FrameBase);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({BackColor:"BackColor",BorderWidth:"BorderWidth",InternalMargins:"InternalMargins",Transparency:"Transparency"});var c=Object.freeze({Activate:"Activate"});b.TextFrame=(function(f){__extends(TextFrame,f);function TextFrame(g,h){f.call(this,g,h);}TextFrame.prototype.setAlignment=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.Alignment,value,callback,errorCallback);};TextFrame.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Alignment,callback,errorCallback);};TextFrame.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};TextFrame.prototype.setBackColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,value,callback,errorCallback);};TextFrame.prototype.getBorderWidth=function(callback,errorCallback){this.getPropertyValue(d.BorderWidth,callback,errorCallback);};TextFrame.prototype.setBorderWidth=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.BorderWidth,value,callback,errorCallback);};TextFrame.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Bounds,callback,errorCallback);};TextFrame.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.ID,value,callback,errorCallback);};TextFrame.prototype.getID=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.ID,callback,errorCallback);};TextFrame.prototype.setInsertionMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.InsertionMode,value,errorCallback);};TextFrame.prototype.getInsertionMode=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.InsertionMode,callback,errorCallback);};TextFrame.prototype.setInternalMargins=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(d.InternalMargins,value,callback,errorCallback);};TextFrame.prototype.getInternalMargins=function(callback,errorCallback){this.getPropertyValue(d.InternalMargins,function(h){var g=null;if(h){g=new b.Distances(h.left,h.top,h.right,h.bottom);}callback(g);},errorCallback);};TextFrame.prototype.setLocation=function(value,callback,errorCallback){if(!value.hasOwnProperty("x")||!value.hasOwnProperty("y")){throw new TypeError(\'Parameter "value" must have properties "x" and "y".\');}if(!isInteger(value.x)||!isInteger(value.y)){throw new TypeError("Coordinates must be integers.");}this.setPropertyValue(b.FramePropertyName.Location,value,callback,errorCallback);};TextFrame.prototype.getLocation=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Location,function(i,g){var h=null;if(i){h=new b.Point(i.X,i.Y);}callback(h,g);},errorCallback);};TextFrame.prototype.setMoveable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Moveable,value,callback,errorCallback);};TextFrame.prototype.getMoveable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Moveable,callback,errorCallback);};TextFrame.prototype.setName=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.FramePropertyName.Name,value,callback,errorCallback);};TextFrame.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Name,callback,errorCallback);};TextFrame.prototype.setSize=function(value,callback,errorCallback){if(!value.hasOwnProperty("width")||!value.hasOwnProperty("height")){throw new TypeError(\'Parameter "value" must have properties "width" and "height".\');}if(!isInteger(value.width)||!isInteger(value.height)){throw new TypeError("Dimensions must be integers.");}this.setPropertyValue(b.FramePropertyName.Size,value,callback,errorCallback);};TextFrame.prototype.getSize=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Size,function(h){var g=null;if(h){g=new b.Size(h.Width,h.Height);}callback(g);},errorCallback);};TextFrame.prototype.setSizeable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Sizeable,value,callback,errorCallback);};TextFrame.prototype.getSizeable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Sizeable,callback,errorCallback);};TextFrame.prototype.setTextDistances=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(b.FramePropertyName.TextDistances,value,callback,errorCallback);};TextFrame.prototype.getTextDistances=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextDistances,function(h){var g=null;if(h){g=new b.Distances(h.left,h.top,h.right,h.bottom);}callback(g);},errorCallback);};TextFrame.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextPosition,callback,errorCallback);};TextFrame.prototype.setTransparency=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Transparency,value,callback,errorCallback);};TextFrame.prototype.getTransparency=function(callback,errorCallback){this.getPropertyValue(d.Transparency,callback,errorCallback);};TextFrame.prototype.activate=function(callback,errorCallback){this.callMethod(c.Activate,callback,[],errorCallback);};TextFrame.prototype.changeZOrder=function(zOrder,callback,errorCallback){if(typeof zOrder!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.FrameMethodName.ChangeZOrder,callback,[zOrder],errorCallback);};return TextFrame;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FrameCollectionMethodName=Object.freeze({AddInline:"AddInline",AddAnchored:"AddAnchored",AddAnchoredAtLocation:"AddAnchoredAtLocation",AddAtFixedPositionInDocument:"AddAtFixedPositionInDocument",AddAtFixedPositionOnPage:"AddAtFixedPositionOnPage",AddWithMouse:"AddWithMouse"});b.FrameBaseCollection=(function(d){__extends(FrameBaseCollection,d);function FrameBaseCollection(){d.call(this);}FrameBaseCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};return FrameBaseCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FrameCollection=(function(d){__extends(FrameCollection,d);function FrameCollection(){d.call(this);}FrameCollection.prototype.getItem=function(callback,errorCallback,id){var f=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}var e=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,callback?function(g,h){callback(f._adapt(g),h);}:undefined,e,errorCallback);};FrameCollection.prototype.getItemByName=function(callback,errorCallback,name){var e=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:undefined,[name],errorCallback);};FrameCollection.prototype.remove=function(frame,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[frame._.hashcode,frame._.index],errorCallback);};FrameCollection.prototype._adapt=function(f){var e=null;if(f===null){return null;}switch(f.frameType){case"BarcodeFrame":e=new b.BarcodeFrame(f.hashcode,f.index);break;case"Image":e=new b.Image(f.hashcode,f.index);break;case"TextFrame":e=new b.TextFrame(f.hashcode,f.index);break;default:e=new b.FrameBase(f.hashcode,f.index);break;}this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return FrameCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.BarcodeType={};b.FrameInsertionMode={};b.BarcodeCollection=(function(d){__extends(BarcodeCollection,d);function BarcodeCollection(){d.call(this);}function e(g,f){return function(i){if(!f){return;}var h=i!==null?g._adapt(i):null;f(h);};}BarcodeCollection.prototype.addInline=function(callback,errorCallback,barcodeType,text,textPosition){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof textPosition==="undefined"){textPosition=-1;}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[barcodeType,text,textPosition],errorCallback);};BarcodeCollection.prototype.addAnchored=function(callback,errorCallback,barcodeType,text,horizontalAlignment,textPosition,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[barcodeType,text,horizontalAlignment,textPosition,insertionMode],errorCallback);};BarcodeCollection.prototype.addAnchoredAtLocation=function(callback,errorCallback,barcodeType,text,location,textPosition,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[barcodeType,text,location,textPosition,insertionMode],errorCallback);};BarcodeCollection.prototype.addAtFixedPositionOnPage=function(callback,errorCallback,barcodeType,text,pageNumber,location,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[barcodeType,text,pageNumber,location,insertionMode],errorCallback);};BarcodeCollection.prototype.addAtFixedPositionInDocument=function(callback,errorCallback,barcodeType,text,location,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[barcodeType,text,location,insertionMode],errorCallback);};BarcodeCollection.prototype.addWithMouse=function(barcodeType,text,insertionMode,callback,errorCallback){if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddWithMouse,callback,[barcodeType,text,insertionMode],errorCallback);};BarcodeCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};BarcodeCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};BarcodeCollection.prototype.remove=function(barcode,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[barcode._.hashcode,barcode._.index],errorCallback);};BarcodeCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.BarcodeFrame(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return BarcodeCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ImageInsertionMode={};b.ImageCollection=(function(d){__extends(ImageCollection,d);function ImageCollection(){d.call(this);}function e(g,f){return function(h){if(!f){return;}var i=h!==null?g._adapt(h):null;f(i);};}ImageCollection.prototype.addInline=function(imageData,textPosition,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[imageData,textPosition],errorCallback);};ImageCollection.prototype.addAnchored=function(imageData,horizontalAlignment,textPosition,insertionMode,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[imageData,horizontalAlignment,textPosition,insertionMode],errorCallback);};ImageCollection.prototype.addAnchoredAtLocation=function(imageData,location,textPosition,insertionMode,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[imageData,location,textPosition,insertionMode],errorCallback);};ImageCollection.prototype.addAtFixedPositionOnPage=function(f,pageNumber,location,insertionMode,callback,errorCallback){if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[f,pageNumber,location,insertionMode],errorCallback);};ImageCollection.prototype.addAtFixedPosition=ImageCollection.prototype.addAtFixedPositionOnPage;ImageCollection.prototype.addAtFixedPositionInDocument=function(f,location,insertionMode,callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[f,location,insertionMode],errorCallback);};ImageCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};ImageCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};ImageCollection.prototype.remove=function(image,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[image._.hashcode,image._.index],errorCallback);};ImageCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.Image(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return ImageCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFrameInsertionMode={};b.TextFrameCollection=(function(d){__extends(TextFrameCollection,d);function TextFrameCollection(){d.call(this);}function e(g,f){return function(h){if(!f){return;}var i=h!==null?g._adapt(h):null;f(i);};}TextFrameCollection.prototype.addInline=function(size,textPosition,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[size,textPosition],errorCallback);};TextFrameCollection.prototype.addAnchored=function(size,horizontalAlignment,textPosition,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[size,horizontalAlignment,textPosition,insertionMode],errorCallback);};TextFrameCollection.prototype.addAnchoredAtLocation=function(size,location,textPosition,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[size,location,textPosition,insertionMode],errorCallback);};TextFrameCollection.prototype.addAtFixedPositionOnPage=function(size,pageNumber,location,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[size,pageNumber,location,insertionMode],errorCallback);};TextFrameCollection.prototype.addAtFixedPositionInDocument=function(size,location,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[size,location,insertionMode],errorCallback);};TextFrameCollection.prototype.addWithMouse=function(insertionMode,errorCallback){if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddWithMouse,null,[insertionMode],errorCallback);};TextFrameCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};TextFrameCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};TextFrameCollection.prototype.remove=function(textFrame,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[textFrame._.hashcode,textFrame._.index],errorCallback);};TextFrameCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.TextFrame(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return TextFrameCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",Length:"Length",Start:"Start",Text:"Text",UserName:"UserName"});var c=Object.freeze({ScrollTo:"ScrollTo",Save:"Save"});b.EditableRegion=(function(f){__extends(EditableRegion,f);function EditableRegion(g,h){f.call(this,g,h);}EditableRegion.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};EditableRegion.prototype.setHighlightColor=function(g,callback,errorCallback){if(typeof g!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,g,callback,errorCallback);};EditableRegion.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};EditableRegion.prototype.setHighlightMode=function(g,callback,errorCallback){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,g,callback,errorCallback);};EditableRegion.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};EditableRegion.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};EditableRegion.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};EditableRegion.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};EditableRegion.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};EditableRegion.prototype.getUserName=function(callback,errorCallback){this.getPropertyValue(d.UserName,callback,errorCallback);};EditableRegion.prototype.setUserName=function(username,callback,errorCallback){this.setPropertyValue(d.UserName,username,callback,errorCallback);};EditableRegion.prototype.save=function(streamType,callback,saveSettings,errorCallback){saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};EditableRegion.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return EditableRegion;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GetItems:"GetItems"});b.EditableRegionCollection=(function(e){__extends(EditableRegionCollection,e);function EditableRegionCollection(){e.call(this);}EditableRegionCollection.prototype.add=function(username,id,j,h,f,g){if(typeof username!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof j!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof h!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var i=this;this.callMethod(b.CollectionMethodName.Add,f?function(k){var l={editableRegion:i._adapt(k.editableRegion),addResult:k.addResult};f(l);}:null,[username,id,j,h],g);};EditableRegionCollection.prototype.getItems=function(callback,errorCallback){var g=this;this.callMethod(c.GetItems,callback?function(h){callback(f(h));}:null,[],errorCallback);function f(h){if(h===null){return null;}return h.map(function(i){return g._adapt(i);});}};EditableRegionCollection.prototype.remove=function(editableRegion,selectedPart,callback,errorCallback){var f=this;if((typeof selectedPart!=="undefined")&&(typeof selectedPart!=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}selectedPart=selectedPart||false;this.callMethod(b.CollectionMethodName.Remove,callback,[editableRegion._.hashcode,editableRegion._.index,selectedPart],errorCallback);};EditableRegionCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.EditableRegion(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return EditableRegionCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Baseline:"Baseline",Length:"Length",Number:"Number",Page:"Page",Start:"Start",Text:"Text",TextBounds:"TextBounds"});var c=Object.freeze({Save:"Save"});b.Line=(function(f){__extends(Line,f);function Line(g,h){f.call(this,g,h);}Line.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};Line.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Line.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Line.prototype.getPage=function(callback,errorCallback){this.getPropertyValue(d.Page,callback,errorCallback);};Line.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Line.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Line.prototype.getTextBounds=function(callback,errorCallback){this.getPropertyValue(d.TextBounds,callback,errorCallback);};Line.prototype.save=function(streamType,callback,saveSettings,g){saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],g);};return Line;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LineCollection=(function(d){__extends(LineCollection,d);function LineCollection(){d.call(this);}LineCollection.prototype.getItem=function(callback,textPosition,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};LineCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[x,y],errorCallback);};LineCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Line(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return LineCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({IsDuplicate:"IsDuplicate",IsIgnored:"IsIgnored",Length:"Length",Number:"Number",Start:"Start",Text:"Text"});var c=Object.freeze({Select:"Select"});b.MisspelledWord=(function(f){__extends(MisspelledWord,f);function MisspelledWord(g,h){f.call(this,g,h);}MisspelledWord.prototype.getIsDuplicate=function(callback,errorCallback){this.getPropertyValue(d.IsDuplicate,callback,errorCallback);};MisspelledWord.prototype.getIsIgnored=function(callback,errorCallback){this.getPropertyValue(d.IsIgnored,callback,errorCallback);};MisspelledWord.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};MisspelledWord.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};MisspelledWord.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};MisspelledWord.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};MisspelledWord.prototype.setIsDuplicate=function(isDuplicate,callback,errorCallback){this.setPropertyValue(d.IsDuplicate,isDuplicate,callback,errorCallback);};MisspelledWord.prototype.setIsIgnored=function(isIgnored,callback,errorCallback){this.setPropertyValue(d.IsIgnored,isIgnored,callback,errorCallback);};MisspelledWord.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return MisspelledWord;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GetCount:"GetCount",GetItemAtInputPosition:"GetItemAtInputPosition",GetItemAtLocation:"GetItemAtLocation",GetItemAtTextPosition:"GetItemAtTextPosition",Ignore:"Ignore"});b.MisspelledWordCollection=(function(e){__extends(MisspelledWordCollection,e);function MisspelledWordCollection(){e.call(this);}MisspelledWordCollection.prototype.getCountOf=function(kind,callback,errorCallback){if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetCount,callback,[kind],errorCallback);};MisspelledWordCollection.prototype.getItemAtInputPosition=function(kind,callback,errorCallback){if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtInputPosition,callback,[kind],errorCallback);};MisspelledWordCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtLocation,callback,[x,y],errorCallback);};MisspelledWordCollection.prototype.getItemAtTextPosition=function(textPosition,kind,callback,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtTextPosition,callback,[textPosition,kind],errorCallback);};MisspelledWordCollection.prototype.ignore=function(misspelledWord,changedText,callback,errorCallback){if(typeof changedText!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.Ignore,callback,[misspelledWord._.hashcode,misspelledWord._.index,changedText],errorCallback);};MisspelledWordCollection.prototype.remove=function(misspelledWord,f,callback,errorCallback){if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.Ignore,callback,[misspelledWord._.hashcode,misspelledWord._.index,f],errorCallback);};MisspelledWordCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.MisspelledWord(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return MisspelledWordCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var c=Object.freeze({Save:"Save",Select:"Select"});var d=Object.freeze({FormattingStyle:"FormattingStyle",Length:"Length",Lines:"Lines",ListNumber:"ListNumber",ListNumberText:"ListNumberText",Number:"Number",Start:"Start",StartLine:"StartLine",Text:"Text",Format:"Format",ListFormat:"ListFormat",});b.Paragraph=(function(f){__extends(Paragraph,f);function Paragraph(g,h){f.call(this,g,h);Object.defineProperty(Paragraph.prototype,"listFormat",{get:function(){var i=new b.ListFormat();this.addPropertyAccessEventListener(i,d.ListFormat);return i;},enumerable:true,configurable:true});Object.defineProperty(Paragraph.prototype,"format",{get:function(){var i=new b.ParagraphFormat();this.addPropertyAccessEventListener(i,d.Format);return i;},enumerable:true,configurable:true});}Paragraph.prototype.getFormattingStyle=function(callback,errorCallback){this.getPropertyValue(d.FormattingStyle,callback,errorCallback);};Paragraph.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Paragraph.prototype.getLines=function(callback,errorCallback){this.getPropertyValue(d.Lines,callback,errorCallback);};Paragraph.prototype.getListNumber=function(callback,errorCallback){this.getPropertyValue(d.ListNumber,callback,errorCallback);};Paragraph.prototype.getListNumberText=function(callback,errorCallback){this.getPropertyValue(d.ListNumberText,callback,errorCallback);};Paragraph.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Paragraph.prototype.getStartLine=function(callback,errorCallback){this.getPropertyValue(d.StartLine,callback,errorCallback);};Paragraph.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Paragraph.prototype.setFormattingStyle=function(formattingStyle,callback,errorCallback){if(typeof formattingStyle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FormattingStyle,formattingStyle,callback,errorCallback);};Paragraph.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};Paragraph.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Paragraph;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParagraphCollection=(function(d){__extends(ParagraphCollection,d);function ParagraphCollection(){d.call(this);}ParagraphCollection.prototype.getItemAtTextPosition=function(textPosition,callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};ParagraphCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[x,y],errorCallback);};ParagraphCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Paragraph(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ParagraphCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.TextFieldCommand=Object.freeze({GetAll:1,SetProperty:2,GetItem:3,Add:4,Remove:5,ShowDialog:6});b.TextFieldProperty=Object.freeze({Text:0,Parameters:1,Name:2,TypeName:3,ID:4,Deleteable:5,DoubledInputPosition:6,Editable:7,ShowActivated:8,IsSpellCheckingEnabled:9});b.PrivateTextField=(function(){function e(typeName,text,parameters,fieldType){typeName=typeName||"";text=text||"";parameters=parameters||[];if(typeof fieldType==="undefined"){fieldType="TEXTFIELD";}if(typeof typeName!=="string"){throw new Error(\'"typeName" must be a string.\');}if(typeof text!=="string"){throw new TypeError(\'"text" must be a string.\');}if(parameters.constructor!==Array){throw new TypeError(\'"parameters" must be an array.\');}parameters.forEach(function(f){if((typeof f!=="string")&&!(f instanceof String)){throw new TypeError(\'"parameters" must be an array of strings.\');}});this.typeName=typeName;this.fieldText=text;this.parameters=parameters;this.fieldType=fieldType;this.fieldName="";this.start=0;this.length=0;this.id=0;this.bounds={location:{x:0,y:0},size:{width:0,height:0}};this.containsInputPosition=false;this.deleteable=true;this.doubledInputPosition=false;this.editable=true;this.showActivated=false;this.isSpellCheckingEnabled=true;this.textPart={type:b.TextPartType.Auto,index:-1};}return e;})();b.LegacyTextField=(function(e){function TextField(text){var f;if(arguments.length===2){f=arguments[1];}else{f=new b.PrivateTextField("",text);}this._field=f;var g=this;Object.defineProperties(this,{text:{get:function(){return g._field.fieldText;},set:function(text){if(text===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(typeof text!=="string"){throw new TypeError(\'"text" must be a string.\');}g._field.fieldText=text;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Text,0,h);},enumerable:true},name:{get:function(){return g._field.fieldName;},set:function(name){if(name===undefined){throw new Error(b.Error.TooFewParameters);}if(typeof name!=="string"){throw new TypeError(\'"name" must be a string.\');}g._field.fieldName=name;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Name,0,h);},enumerable:true},start:{get:function(){return g._field.start;},enumerable:true},length:{get:function(){return g._field.length;},enumerable:true},id:{get:function(){return g._field.id;},set:function(id){if(id===undefined){id=0;}if(!isInteger(id)){throw new TypeError(\'"id" must be an integer.\');}g._field.id=id;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.ID,0,h);},enumerable:true},type:{get:function(){return g._field.fieldType;},enumerable:true},bounds:{get:function(){return g._.field.bounds;},enumerable:true},containsInputPosition:{get:function(){return g._.field.containsInputPosition;},enumerable:true},deleteable:{get:function(){return g._.field.deleteable;},set:function(deleteable){if(deleteable===undefined){deleteable=false;}if(typeof deleteable!=="boolean"){throw new TypeError(\'"deleteable" must be a boolean value.\');}g._.field.deleteable=deleteable;if(g._.field.constructor===b.PrivateTextField){return;}var h={textField:g._.field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Deleteable,0,h);},enumerable:true},doubledInputPosition:{get:function(){return g._.field.doubledInputPosition;},set:function(doubledInputPosition){if(doubledInputPosition===undefined){doubledInputPosition=false;}if(typeof doubledInputPosition!=="boolean"){throw new TypeError(\'"doubledInputPosition" must be a boolean value.\');}g._.field.doubledInputPosition=doubledInputPosition;if(g._.field.constructor===b.PrivateTextField){return;}var h={textField:g._.field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.DoubledInputPosition,0,h);},enumerable:true},editable:{get:function(){return g._.field.editable;},set:function(editable){if(editable===undefined){editable=false;}if(typeof editable!=="boolean"){throw new TypeError(\'"editable" must be a boolean value.\');}g._.field.editable=editable;if(g._.field.constructor===b.PrivateTextField){return;}var h={textField:g._.field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Editable,0,h);},enumerable:true},showActivated:{get:function(){return g._.field.showActivated;},set:function(showActivated){if(showActivated===undefined){showActivated=false;}if(typeof showActivated!=="boolean"){throw new TypeError(\'"showActivated" must be a boolean value.\');}g._.field.showActivated=showActivated;if(g._.field.constructor===b.PrivateTextField){return;}var h={textField:g._.field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.ShowActivated,0,h);},enumerable:true},isSpellCheckingEnabled:{get:function(){return g._.field.isSpellCheckingEnabled;},set:function(isSpellCheckingEnabled){if(isSpellCheckingEnabled===undefined){isSpellCheckingEnabled=false;}if(typeof isSpellCheckingEnabled!=="boolean"){throw new TypeError(\'"isSpellCheckingEnabled" must be a boolean value.\');}g._.field.isSpellCheckingEnabled=isSpellCheckingEnabled;if(g._.field.constructor===b.PrivateTextField){return;}var h={textField:g._.field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.IsSpellCheckingEnabled,0,h);},enumerable:true}});}return TextField;})();b.processTextFieldDataMessage=function(e){switch(e.Content.textFieldCommand){case b.TextFieldCommand.GetAll:c(e.Content,e.ExcMsg);break;default:console.error("_private.processTextFieldDataMessage(): Unknown text field command "+e.Content.textFieldCommand+".");break;}};function c(g,i){var f=b.documentTaskCallbacks.getTextFields.shift();if(i){throw new Error(i);}if(f===undefined){return;}var j=[];g.textFields.forEach(function(e){switch(e.fieldType){case"APPLICATIONFIELD":j.push(new b.LegacyApplicationField(null,null,null,e));break;case"TEXTFIELD":j.push(new b.LegacyTextField(null,e));break;default:console.error("Unknown text field type: "+e.fieldType);break;}});try{f(j);}catch(h){}}return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LegacyApplicationField=(function(d){__extends(ApplicationField,d);function ApplicationField(typeName,text,parameters){var e;if(arguments.length===4){e=arguments[3];}else{if(typeof typeName==="undefined"){typeName="MERGEFIELD";}if(typeof text==="undefined"){text="MERGEFIELD";}e=new b.PrivateTextField(typeName,text,parameters,"APPLICATIONFIELD");}d.call(this,null,e);var f=this;Object.defineProperties(this,{typeName:{get:function(){return f._field.typeName;},set:function(typeName){if(typeName===undefined){throw new Error(b.Error.TooFewParameters);}if(typeof typeName!=="string"){throw new TypeError(\'"typeName" must be a string.\');}f._field.typeName=typeName;if(f._field.constructor===b.PrivateTextField){return;}var g={textField:f._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.TypeName,0,g);},enumerable:true},parameters:{get:function(){return f._field.parameters;},set:function(parameters){if(parameters===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(parameters.constructor!==Array){throw new TypeError(\'"parameters" must be an array.\');}parameters.forEach(function(h){if((typeof h!=="string")&&!(h instanceof String)){throw new TypeError(\'"parameters" must be an array of strings.\');}});f._field.parameters=parameters;if(f._field.constructor===b.PrivateTextField){return;}var g={textField:f._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Parameters,0,g);},enumerable:true}});}ApplicationField.prototype.showDialog=function(){b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.ShowDialog,0,0,{textField:this._field});};return ApplicationField;})(b.LegacyTextField);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FormField=(function(d){__extends(FormField,d);function FormField(e,f){d.call(this,e,f);}return FormField;})(b.TextField);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({AddCheckFormField:"AddCheckFormField",AddSelectionFormField:"AddSelectionFormField",AddTextFormField:"AddTextFormField",AddDateFormField:"AddDateFormField"});b.FormFieldCollection=(function(e){__extends(FormFieldCollection,e);function FormFieldCollection(){e.call(this);}FormFieldCollection.prototype.addCheckFormField=function(isChecked,callback,errorCallback){if(typeof isChecked!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var f=this;this.callMethod(c.AddCheckFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[isChecked],errorCallback);};FormFieldCollection.prototype.addSelectionFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddSelectionFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.addTextFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddTextFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.addDateFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddDateFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var g=this;var f=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,(typeof callback==="function")?function(h){callback(g._adapt(h));}:null,f,errorCallback);};FormFieldCollection.prototype.remove=function(formField,callback,errorCallback){if(typeof formField==="undefined"){throw new TypeError(b.ErrorText.ParamUndefined);}this.callMethod(b.CollectionMethodName.Remove,callback,[formField._.hashcode,formField._.index],errorCallback);};FormFieldCollection.prototype._adapt=function(g){if(g===null){return null;}var f=null;switch(g.type){case"CheckFormField":f=new b.CheckFormField(g.hashcode,g.index);break;case"SelectionFormField":f=new b.SelectionFormField(g.hashcode,g.index);break;case"TextFormField":f=new b.TextFormField(g.hashcode,g.index);break;case"DateFormField":f=new b.DateFormField(g.hashcode,g.index);break;default:f=new b.FormField(g.hashcode,g.index);break;}this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return FormFieldCollection;})(b.TextFieldCollectionBase);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({UncheckedCharacter:"UncheckedCharacter",CheckedCharacter:"CheckedCharacter",Checked:"Checked"});b.CheckFormField=(function(e){__extends(CheckFormField,e);function CheckFormField(f,g){e.call(this,f,g);}CheckFormField.prototype.getUncheckedCharacter=function(callback,errorCallback){this.getPropertyValue(c.UncheckedCharacter,callback,errorCallback);};CheckFormField.prototype.setUncheckedCharacter=function(character,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}this.setPropertyValue(c.UncheckedCharacter,character,callback,errorCallback);};CheckFormField.prototype.getCheckedCharacter=function(callback,errorCallback){this.getPropertyValue(c.CheckedCharacter,callback,errorCallback);};CheckFormField.prototype.setCheckedCharacter=function(character,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}this.setPropertyValue(c.CheckedCharacter,character,callback,errorCallback);};CheckFormField.prototype.getChecked=function(callback,errorCallback){this.getPropertyValue(c.Checked,callback,errorCallback);};CheckFormField.prototype.setChecked=function(isChecked,callback,errorCallback){if(typeof isChecked!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Checked,isChecked,callback,errorCallback);};return CheckFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({EmptyWidth:"EmptyWidth"});b.TextFormField=(function(e){__extends(TextFormField,e);function TextFormField(f,g){e.call(this,f,g);}TextFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};TextFormField.prototype.setEmptyWidth=function(emptyWidth,callback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};return TextFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({EmptyWidth:"EmptyWidth",IsDropDownArrowVisible:"IsDropDownArrowVisible",SelectedIndex:"SelectedIndex",Items:"Items"});b.SelectionFormField=(function(e){__extends(SelectionFormField,e);function SelectionFormField(f,g){e.call(this,f,g);}SelectionFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};SelectionFormField.prototype.setEmptyWidth=function(emptyWidth,callback,errorCallback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};SelectionFormField.prototype.getIsDropDownArrowVisible=function(callback,errorCallback){this.getPropertyValue(c.IsDropDownArrowVisible,callback,errorCallback);};SelectionFormField.prototype.setIsDropDownArrowVisible=function(isDropDownArrowVisible,callback,errorCallback){if(typeof isDropDownArrowVisible!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.IsDropDownArrowVisible,isDropDownArrowVisible,callback,errorCallback);};SelectionFormField.prototype.getSelectedIndex=function(callback,errorCallback){this.getPropertyValue(c.SelectedIndex,callback,errorCallback);};SelectionFormField.prototype.setSelectedIndex=function(index,callback,errorCallback){if(!isInteger(index)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.SelectedIndex,index,callback,errorCallback);};SelectionFormField.prototype.getItems=function(callback,errorCallback){this.getPropertyValue(c.Items,callback,errorCallback);};SelectionFormField.prototype.setItems=function(f,callback,errorCallback){if(!isArrayOfType(f,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}this.setPropertyValue(c.Items,f,callback,errorCallback);};return SelectionFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Date:"Date",DateFormat:"DateFormat",EmptyWidth:"EmptyWidth",SupportedDateFormats:"SupportedDateFormats"});b.DateFormField=(function(e){__extends(DateFormField,e);function DateFormField(f,g){e.call(this,f,g);}DateFormField.prototype.getDate=function(callback,errorCallback){this.getPropertyValue(c.Date,callback,errorCallback);};DateFormField.prototype.setDate=function(unixTime,callback,errorCallback){if(typeof unixTime!=="number"&&unixTime!=null){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Date,unixTime,callback,errorCallback);};DateFormField.prototype.getDateFormat=function(callback,errorCallback){this.getPropertyValue(c.DateFormat,callback,errorCallback);};DateFormField.prototype.setDateFormat=function(dateFormat,callback,errorCallback){if(typeof dateFormat!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.DateFormat,dateFormat,callback,errorCallback);};DateFormField.prototype.getSupportedDateFormats=function(callback,errorCallback){this.getPropertyValue(c.SupportedDateFormats,callback,errorCallback);};DateFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};DateFormField.prototype.setEmptyWidth=function(emptyWidth,callback,errorCallback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};return DateFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Data:"Data",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",Length:"Length",Name:"Name",NestedLevel:"NestedLevel",Number:"Number",OuterMostSubTextPart:"OuterMostSubTextPart",OuterSubTextPart:"OuterSubTextPart",Start:"Start",Text:"Text"});var c=Object.freeze({Save:"Save",ScrollTo:"ScrollTo"});b.SubTextPart=(function(f){__extends(SubTextPart,f);function SubTextPart(g,h){f.call(this,g,h);}SubTextPart.prototype.getData=function(callback,errorCallback){this.getPropertyValue(d.Data,callback,errorCallback);};SubTextPart.prototype.setData=function(callback,errorCallback){this.getPropertyValue(d.Data,callback,errorCallback);};SubTextPart.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};SubTextPart.prototype.setHighlightMode=function(highlightMode,callback,errorCallback){if(typeof highlightMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,highlightMode,callback,errorCallback);};SubTextPart.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};SubTextPart.prototype.setHighlightColor=function(highlightColor,callback,errorCallback){if(typeof highlightColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,highlightColor,callback,errorCallback);};SubTextPart.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};SubTextPart.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};SubTextPart.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};SubTextPart.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};SubTextPart.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};SubTextPart.prototype.getNestedLevel=function(callback,errorCallback){this.getPropertyValue(d.NestedLevel,callback,errorCallback);};SubTextPart.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};SubTextPart.prototype.getOuterMostSubTextPart=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterMostSubTextPart,function(i){if(i){var h=new b.SubTextPart(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterMostSubTextPart);callback(h);}else{callback(null);}},errorCallback);};SubTextPart.prototype.getOuterSubTextPart=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterSubTextPart,function(i){if(i){var h=new b.SubTextPart(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterSubTextPart);callback(h);}else{callback(null);}},errorCallback);};SubTextPart.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};SubTextPart.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};SubTextPart.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};SubTextPart.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return SubTextPart;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SubTextPartCollection=(function(d){__extends(SubTextPartCollection,d);function SubTextPartCollection(){d.call(this);}SubTextPartCollection.prototype.add=function(name,id,f,length,callback,errorCallback){if(f<1){throw new TypeError("Parameter \'start\' is not one-based.");}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(g){g.subTextPart=e._adapt(g.subTextPart);callback(g);}:null,[name,id,f,length],errorCallback);};SubTextPartCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};SubTextPartCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};SubTextPartCollection.prototype.remove=function(subTextPart,keepText,keepNested,callback,errorCallback){if(typeof keepText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}if(typeof keepNested!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}if(!subTextPart||!subTextPart._||!subTextPart._.hashcode){throw new TypeError(b.ErrorText.ParamInvalid);}this.callMethod(b.CollectionMethodName.Remove,callback,[subTextPart._.hashcode,subTextPart._.index,keepText,keepNested],errorCallback);};SubTextPartCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.SubTextPart(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return SubTextPartCollection;})(b.Collection);b.SubTextPartCollection.AddResult=Object.freeze({Error:0,Successful:1,NoSelection:2,SelectionTooComplex:3,PositionInvalid:4,AlreadyExists:5,Overlapping:7,Combined:8,});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Bounds:"Bounds",Char:"Char",Number:"Number"});b.TextChar=(function(e){__extends(TextChar,e);function TextChar(f){e.call(this,f);}TextChar.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(c.Bounds,callback,errorCallback);};TextChar.prototype.getChar=function(callback,errorCallback){this.getPropertyValue(c.Char,callback,errorCallback);};TextChar.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(c.Number,callback,errorCallback);};return TextChar;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextCharCollection=(function(d){__extends(TextCharCollection,d);function TextCharCollection(){d.call(this);}TextCharCollection.prototype.add=function(character,fontName,textPosition,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(textPosition)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[character,fontName,textPosition],errorCallback);};TextCharCollection.prototype.addControlChar=function(controlChar,textPosition,callback,errorCallback){if(!isInteger(controlChar)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(textPosition)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[controlChar,textPosition],errorCallback);};TextCharCollection.prototype.getItem=function(location,getNearest,callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof getNearest!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[location.x,location.y,getNearest],errorCallback);};TextCharCollection.prototype.remove=function(number,callback,errorCallback){if(!isInteger(number)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Remove,callback,[controlChar,number],errorCallback);};TextCharCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TextChar(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TextCharCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ConnectedToPrevious:"ConnectedToPrevious",Distance:"Distance",Type:"Type"});var c=Object.freeze({Activate:"Activate",Deactivate:"Deactivate"});b.HeaderFooter=(function(f){__extends(HeaderFooter,f);function HeaderFooter(g,h){f.call(this,g,h);}HeaderFooter.prototype.getConnectedToPrevious=function(callback,errorCallback){this.getPropertyValue(d.ConnectedToPrevious,callback,errorCallback);};HeaderFooter.prototype.setConnectedToPrevious=function(connectedToPrevious,callback,errorCallback){if(typeof connectedToPrevious!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ConnectedToPrevious,connectedToPrevious,callback,errorCallback);};HeaderFooter.prototype.getDistance=function(callback,errorCallback){this.getPropertyValue(d.Distance,callback,errorCallback);};HeaderFooter.prototype.setDistance=function(distance,callback,errorCallback){if(!isInteger(distance)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Distance,distance,callback,errorCallback);};HeaderFooter.prototype.getType=function(callback,errorCallback){this.getPropertyValue(d.Type,callback,errorCallback);};HeaderFooter.prototype.activate=function(callback,errorCallback){this.callMethod(c.Activate,callback,[],errorCallback);};HeaderFooter.prototype.deactivate=function(callback,errorCallback){this.callMethod(c.Deactivate,callback,[],errorCallback);};return HeaderFooter;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HeaderFooterCollection=(function(d){__extends(HeaderFooterCollection,d);function HeaderFooterCollection(){d.call(this);}HeaderFooterCollection.prototype.add=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype.getItem=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype.remove=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Remove,callback,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.HeaderFooter(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return HeaderFooterCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Bounds:"Bounds",Footer:"Footer",Header:"Header",Length:"Length",Number:"Number",NumberInSection:"NumberInSection",Section:"Section",Start:"Start",TextBounds:"TextBounds"});var c=Object.freeze({Select:"Select",GetImage:"GetImage"});b.Page=(function(f){__extends(Page,f);function Page(h,i){f.call(this,h,i);}Page.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(d.Bounds,callback,errorCallback);};Page.prototype.getFooter=function(callback,errorCallback){g(this,callback,d.Footer,errorCallback);};Page.prototype.getHeader=function(callback,errorCallback){g(this,callback,d.Header,errorCallback);};Page.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Page.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Page.prototype.getNumberInSection=function(callback,errorCallback){this.getPropertyValue(d.NumberInSection,callback,errorCallback);};Page.prototype.getSection=function(callback,errorCallback){this.getPropertyValue(d.Section,callback,errorCallback);};Page.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Page.prototype.getTextBounds=function(callback,errorCallback){this.getPropertyValue(d.TextBounds,callback,errorCallback);};function g(l,i,k,j){l.getPropertyValue(k,function(m){i(h(m,l,k));},j);function h(m,p,o){if(m==null){return null;}var n=new b.HeaderFooter(m.hashcode,m.index);p.addPropertyAccessEventListener(n,o);return n;}}Page.prototype.getImage=function(imageFormat,zoomFactor,contents,callback,errorCallback){if(!isInteger(imageFormat)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(zoomFactor)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(contents)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.GetImage,callback,[imageFormat,zoomFactor,contents],errorCallback);};Page.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Page;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PageCollection=(function(d){__extends(PageCollection,d);function PageCollection(){d.call(this);}PageCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};PageCollection.prototype.getItemAtTextPosition=function(textPosition,callback,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};PageCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Page(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return PageCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Baseline:"Baseline",BaseStyle:"BaseStyle",Bold:"Bold",FontName:"FontName",FontSize:"FontSize",ForeColor:"ForeColor",Italic:"Italic",Name:"Name",Strikeout:"Strikeout",TextBackColor:"TextBackColor",Underline:"Underline"});b.FormattingStyle=(function(e){__extends(FormattingStyle,e);function FormattingStyle(f,g){e.call(this,f,g);}FormattingStyle.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(c.Baseline,callback,errorCallback);};FormattingStyle.prototype.setBaseline=function(baseline,callback,errorCallback){if(!isInteger(baseline)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.Baseline,baseline,callback,errorCallback);};FormattingStyle.prototype.getBaseStyle=function(callback,errorCallback){var f=this;this.getPropertyValue(c.BaseStyle,function(h){if(h===null){callback(null);return;}var g=new b.FormattingStyle(h.hashcode,h.index);f.addPropertyAccessEventListener(g,c.BaseStyle);callback(g);},errorCallback);};FormattingStyle.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(c.Bold,callback,errorCallback);};FormattingStyle.prototype.setBold=function(isBold,callback,errorCallback){if(typeof isBold!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Bold,isBold,callback,errorCallback);};FormattingStyle.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(c.FontName,callback,errorCallback);};FormattingStyle.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FontName,fontName,callback,errorCallback);};FormattingStyle.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(c.FontSize,callback,errorCallback);};FormattingStyle.prototype.setFontSize=function(fontSize,callback,errorCallback){if(!isInteger(fontSize)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.FontSize,fontSize,callback,errorCallback);};FormattingStyle.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(c.ForeColor,callback,errorCallback);};FormattingStyle.prototype.setFontSize=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.ForeColor,color,callback,errorCallback);};FormattingStyle.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(c.Italic,callback,errorCallback);};FormattingStyle.prototype.setItalic=function(isItalic,callback,errorCallback){if(typeof isItalic!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Italic,isItalic,callback,errorCallback);};FormattingStyle.prototype.getName=function(callback,errorCallback){this.getPropertyValue(c.Name,callback,errorCallback);};FormattingStyle.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.Name,name,callback,errorCallback);};FormattingStyle.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(c.Strikeout,callback,errorCallback);};FormattingStyle.prototype.setStrikeout=function(strikeout,callback,errorCallback){if(typeof strikeout!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Strikeout,strikeout,callback,errorCallback);};FormattingStyle.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(c.TextBackColor,callback,errorCallback);};FormattingStyle.prototype.setTextBackColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.Strikeout,color,callback,errorCallback);};FormattingStyle.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(c.Underline,callback,errorCallback);};FormattingStyle.prototype.setUnderline=function(underlineStyle,callback,errorCallback){if(typeof underlineStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Underline,underlineStyle,callback,errorCallback);};return FormattingStyle;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FormattingStyleCollection=(function(d){__extends(FormattingStyleCollection,d);function FormattingStyleCollection(){d.call(this);}FormattingStyleCollection.prototype.remove=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.callMethod(b.CollectionMethodName.Remove,callback,[styleName],errorCallback);};FormattingStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.FormattingStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return FormattingStyleCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({IsInheritedFromParagraph:"IsInheritedFromParagraph",ResetToParagraph:"ResetToParagraph"});b.InlineStyle=(function(e){__extends(InlineStyle,e);function InlineStyle(f,g){e.call(this,f,g);}InlineStyle.prototype.isInheritedFromParagraph=function(attributes,callback,errorCallback){if(!isInteger(attributes)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.IsInheritedFromParagraph,callback,[],errorCallback);};InlineStyle.prototype.resetToParagraph=function(attributes,callback,errorCallback){if(!isInteger(attributes)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.ResetToParagraph,callback,[],errorCallback);};return InlineStyle;})(b.FormattingStyle);b.InlineStyle.Attributes=Object.freeze({FontName:1,FontSize:2,Bold:4,Italic:8,Underline:16,Strikeout:32,Baseline:64,ForeColor:128,TextBackColor:256,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InlineStyleCollection=(function(d){__extends(InlineStyleCollection,d);function InlineStyleCollection(){d.call(this);}InlineStyleCollection.prototype.add=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};InlineStyleCollection.prototype.getItem=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};InlineStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.InlineStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return InlineStyleCollection;})(b.FormattingStyleCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({FollowingStyle:"FollowingStyle",ParagraphFormat:"ParagraphFormat"});b.ParagraphStyle=(function(e){__extends(ParagraphStyle,e);function ParagraphStyle(f,g){e.call(this,f,g);}ParagraphStyle.prototype.getFollowingStyle=function(callback,errorCallback){this.getPropertyValue(c.FollowingStyle,callback,errorCallback);};ParagraphStyle.prototype.setFollowingStyle=function(styleName,callback,errorCallback){if(styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FollowingStyle,styleName,callback,errorCallback);};ParagraphStyle.prototype.getParagraphFormat=function(callback,errorCallback){var f=this;this.getPropertyValue(c.ParagraphFormat,function(g){callback(b.ParagraphFormat._adapt(f,g,c.ParagraphFormat));},errorCallback);};return ParagraphStyle;})(b.FormattingStyle);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParagraphStyleCollection=(function(d){__extends(ParagraphStyleCollection,d);function ParagraphStyleCollection(){d.call(this);}ParagraphStyleCollection.prototype.add=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f,g){callback(e._adapt(f),g);}:null,[styleName],errorCallback);};ParagraphStyleCollection.prototype.getItem=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};ParagraphStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.ParagraphStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ParagraphStyleCollection;})(b.FormattingStyleCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SaveSettings=(function(d){function SaveSettings(){var e={};Object.defineProperties(this,{author:{get:function(){return e.Author;},set:function(author){if(typeof author!=="string"){throw new TypeError(\'"text" must be a string.\');}e.Author=author;},enumerable:true},creationDate:{get:function(){return e.CreationDate;},set:function(creationDate){if(typeof cssSaveMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.CreationDate=creationDate;},enumerable:true},creatorApplication:{get:function(){return e.CreatorApplication;},set:function(creatorApplication){if(typeof creatorApplication!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.CreatorApplication=creatorApplication;},enumerable:true},cssSaveMode:{get:function(){return e.CssSaveMode;},set:function(cssSaveMode){if(typeof cssSaveMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.CssSaveMode=cssSaveMode;},enumerable:true},documentAccessPermissions:{get:function(){return e.DocumentAccessPermissions;},set:function(documentAccessPermissions){if(typeof documentAccessPermissions!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.DocumentAccessPermissions=documentAccessPermissions;},enumerable:true},documentKeywords:{get:function(){return e.DocumentKeywords;},set:function(documentKeywords){if(!isArrayOfType(documentKeywords,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}e.DocumentKeywords=documentKeywords;},enumerable:true},documentLevelJavaScriptActions:{get:function(){return e.DocumentLevelJavaScriptActions;},set:function(documentLevelJavaScriptActions){if(typeof documentLevelJavaScriptActions!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentLevelJavaScriptActions=documentLevelJavaScriptActions;},enumerable:true},documentSubject:{get:function(){return e.DocumentSubject;},set:function(documentSubject){if(typeof documentSubject!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentSubject=documentSubject;},enumerable:true},documentTitle:{get:function(){return e.DocumentTitle;},set:function(documentTitle){if(typeof documentTitle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentTitle=documentTitle;},enumerable:true},imageCompressionQuality:{get:function(){return e.ImageCompressionQuality;},set:function(imageCompressionQuality){if(typeof imageCompressionQuality!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageCompressionQuality=imageCompressionQuality;},enumerable:true},imageExportFilterIndex:{get:function(){return e.ImageExportFilterIndex;},set:function(imageExportFilterIndex){if(typeof imageExportFilterIndex!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageExportFilterIndex=imageExportFilterIndex;},enumerable:true},imageMaxResolution:{get:function(){return e.ImageMaxResolution;},set:function(imageMaxResolution){if(typeof imageMaxResolution!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageMaxResolution=imageMaxResolution;},enumerable:true},lastModificationDate:{get:function(){return e.LastModificationDate;},set:function(lastModificationDate){if(typeof lastModificationDate!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.LastModificationDate=lastModificationDate;},enumerable:true},masterPassword:{get:function(){return e.MasterPassword;},set:function(masterPassword){if(typeof masterPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.MasterPassword=masterPassword;},enumerable:true},omittedContent:{get:function(){return e.OmittedContent;},set:function(omittedContent){if(typeof omittedContent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.OmittedContent=omittedContent;},enumerable:true},reportingMergeBlockFormat:{get:function(){return e.ReportingMergeBlockFormat;},set:function(reportingMergeBlockFormat){if(typeof reportingMergeBlockFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ReportingMergeBlockFormat=reportingMergeBlockFormat;},enumerable:true},saveDocumentBackColor:{get:function(){return e.SaveDocumentBackColor;},set:function(saveDocumentBackColor){if(typeof saveDocumentBackColor!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.SaveDocumentBackColor=saveDocumentBackColor;},enumerable:true},userPassword:{get:function(){return e.UserPassword;},set:function(userPassword){if(typeof userPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.UserPassword=userPassword;},enumerable:true},});}return SaveSettings;})();b.SaveSettings.CssSaveMode=Object.freeze({None:0,CreateFile:8192,OverwriteFile:16384,Inline:32768});b.SaveSettings.OmittedContent=Object.freeze({None:0,SubTextParts:65536,TrackedChanges:131072,EditableRegions:262144,Sections:524288,TextFields:1048576});b.SaveSettings.ReportingMergeBlockFormat=Object.freeze({Default:1,DocumentTargets:2,SubTextParts:3});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadSettings=(function(d){function LoadSettings(){var e={};Object.defineProperties(this,{addParagraph:{get:function(){return e.AddParagraph;},set:function(addParagraph){if(typeof addParagraph!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.AddParagraph=addParagraph;},enumerable:true},applicationFieldFormat:{get:function(){return e.ApplicationFieldFormat;},set:function(applicationFieldFormat){if(typeof applicationFieldFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ApplicationFieldFormat=applicationFieldFormat;},enumerable:true},applicationFieldTypeNames:{get:function(){return e.ApplicationFieldTypeNames;},set:function(applicationFieldTypeNames){if(!isArrayOfType(applicationFieldTypeNames,string)){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}e.ApplicationFieldTypeNames=applicationFieldTypeNames;},enumerable:true},documentAccessPermissions:{get:function(){return e.DocumentAccessPermissions;},set:function(documentAccessPermissions){if(typeof documentAccessPermissions!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.DocumentAccessPermissions=documentAccessPermissions;},enumerable:true},documentBasePath:{get:function(){return e.DocumentBasePath;},set:function(documentBasePath){if(typeof documentBasePath!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentBasePath=documentBasePath;},enumerable:true},documentPartName:{get:function(){return e.DocumentPartName;},set:function(documentPartName){if(typeof documentPartName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentPartName=documentPartName;},enumerable:true},imageSearchPath:{get:function(){return e.ImageSearchPath;},set:function(imageSearchPath){if(typeof imageSearchPath!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.ImageSearchPath=imageSearchPath;},enumerable:true},loadDocumentBackColor:{get:function(){return e.LoadDocumentBackColor;},set:function(loadDocumentBackColor){if(typeof loadDocumentBackColor!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadDocumentBackColor=loadDocumentBackColor;},enumerable:true},loadHypertextLinks:{get:function(){return e.LoadHypertextLinks;},set:function(loadHypertextLinks){if(typeof loadHypertextLinks!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadHypertextLinks=loadHypertextLinks;},enumerable:true},loadImages:{get:function(){return e.LoadImages;},set:function(loadImages){if(typeof loadImages!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadImages=loadImages;},enumerable:true},loadSubTextParts:{get:function(){return e.LoadSubTextParts;},set:function(loadSubTextParts){if(typeof loadSubTextParts!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadSubTextParts=loadSubTextParts;},enumerable:true},masterPassword:{get:function(){return e.MasterPassword;},set:function(masterPassword){if(typeof masterPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.MasterPassword=masterPassword;},enumerable:true},PDFImportSettings:{get:function(){return e.PDFImportSettings;},set:function(PDFImportSettings){if(typeof PDFImportSettings!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.PDFImportSettings=PDFImportSettings;},enumerable:true},reportingMergeBlockFormat:{get:function(){return e.ReportingMergeBlockFormat;},set:function(reportingMergeBlockFormat){if(typeof reportingMergeBlockFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ReportingMergeBlockFormat=reportingMergeBlockFormat;},enumerable:true},userPassword:{get:function(){return e.UserPassword;},set:function(userPassword){if(typeof userPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.UserPassword=userPassword;},enumerable:true}});}return LoadSettings;})();b.LoadSettings.PDFImportSettings=Object.freeze({GenerateLines:1,GenerateParagraphs:2,GenerateTextFrames:4,GenerateXML:8});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CaretSize:"CaretSize",Column:"Column",InactiveMarker:"InactiveMarker",Line:"Line",Location:"Location",Page:"Page",PageInSection:"PageInSection",Section:"Section",TextPosition:"TextPosition"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.InputPosition=(function(f){__extends(InputPosition,f);function InputPosition(){f.call(this);}InputPosition.prototype.getCaretSize=function(callback,errorCallback){this.getPropertyValue(d.CaretSize,callback,errorCallback);};InputPosition.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(d.Column,callback,errorCallback);};InputPosition.prototype.getInactiveMarker=function(callback,errorCallback){this.getPropertyValue(d.InactiveMarker,callback,errorCallback);};InputPosition.prototype.setInactiveMarker=function(isInactive,callback,errorCallback){if(typeof isInactive!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InactiveMarker,isInactive,callback,errorCallback);};InputPosition.prototype.getLine=function(callback,errorCallback){this.getPropertyValue(d.Line,callback,errorCallback);};InputPosition.prototype.getLocation=function(callback,errorCallback){this.getPropertyValue(d.Location,callback,errorCallback);};InputPosition.prototype.getPage=function(callback,errorCallback){this.getPropertyValue(d.Page,callback,errorCallback);};InputPosition.prototype.getPageInSection=function(callback,errorCallback){this.getPropertyValue(d.PageInSection,callback,errorCallback);};InputPosition.prototype.getSection=function(callback,errorCallback){this.getPropertyValue(d.Section,callback,errorCallback);};InputPosition.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(d.TextPosition,callback,errorCallback);};InputPosition.prototype.scrollTo=function(g,callback,errorCallback){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(c.ScrollTo,callback,[g],errorCallback);};return InputPosition;})(b.TextControlClassAdapter);b.InputPosition.ScrollPosition={Auto:0,Left:1,Right:2,Top:4,Bottom:8};return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SliderOrientation={Vertical:"vertical",Horizontal:"horizontal"};b.Scrollbar=(function(){function f(i,o,k){var l=this;function n(q){var s=a(q.currentTarget);var r=s.find(".txui-slider-handle");if(q.target!=r[0]){q.stopImmediatePropagation();}}function h(q){var r=a(q.currentTarget);var t=(q.pageX-r.offset().left)/r.width();var s=(r.find(".txslider").slider("option","value")/this.textControlViewer.documentSize.Width);if(!b.isTouchDevice){this.textControlViewer.focus();}if(t>s){b.scrollDelta({X:b.ScrollStep*5,Y:0},this.componentType);}else{b.scrollDelta({X:-b.ScrollStep*5,Y:0},this.componentType);}}function p(q){var r=a(q.currentTarget);var t=(q.pageY-r.offset().top)/r.height();var s=1-(r.find(".txslider").slider("option","value")/this.textControlViewer.documentSize.Height);if(!b.isTouchDevice){this.textControlViewer.focus();}if(t>s){b.scrollDelta({X:0,Y:b.ScrollStep*10},this.componentType);}else{b.scrollDelta({X:0,Y:-b.ScrollStep*10},this.componentType);}}this.updateVerticalScrollbarStyle=function(){var v=l.txslider;var r={up:l.scrollbuttons.filter(".scroll-button-up"),down:l.scrollbuttons.filter(".scroll-button-down")};var s=v.find("a.txui-slider-handle");var w=g({Width:l.textControlViewer.width,Height:l.textControlViewer.height});if(e(l.textControlViewer.documentSize,w)){l.jqContainer.hide();}else{l.jqContainer.show();}var q=r.up[0].clientHeight;l.txscrollbarwrapper.height(l.textControlViewer.height-2*q);var u=l.txscrollbarwrapper.height();var t=Math.max(b.MinScrollbarHandleLength,(w.Height/l.textControlViewer.documentSize.Height)*u);s.css({width:b.ScrollbarWidth,height:t,left:0,marginBottom:-(t/2),});v.slider("option","min",0);v.slider("option","max",l.textControlViewer.documentSize.Height);v.css({height:l.textControlViewer.height-t-(2*q),marginTop:t/2});};this.updateHorizontalScrollbarStyle=function(){var w=l.txslider;var q={left:l.scrollbuttons.filter(".scroll-button-left"),right:l.scrollbuttons.filter(".scroll-button-right")};var s=w.find("a.txui-slider-handle");var v=l.textControlViewer.viewMode==b.ViewMode.PageView?b.ScrollPadding:0;var x=g({Width:l.textControlViewer.width,Height:l.textControlViewer.height});if(d(l.textControlViewer.documentSize,x)){l.jqContainer.hide();}else{l.jqContainer.show();}var r=q.left[0].clientWidth;l.txscrollbarwrapper.width(l.textControlViewer.width-2*r);var u=l.txscrollbarwrapper.width();var t=Math.max(b.MinScrollbarHandleLength,(x.Width/l.textControlViewer.documentSize.Width)*u);s.css({width:t,height:b.ScrollbarWidth,top:0,marginLeft:-(t/2)});w.slider("option","min",v);w.slider("option","max",l.textControlViewer.documentSize.Width-v);w.css({width:l.textControlViewer.width-t-(2*r),marginLeft:t/2});l.jqContainer.width(l.textControlViewer.width);};this.updateScrollbarStyle=function(){if(l.scrollbardirection==b.SliderOrientation.Vertical){l.updateVerticalScrollbarStyle();}else{if(l.scrollbardirection==b.SliderOrientation.Horizontal){l.updateHorizontalScrollbarStyle();}}};this.updateSliderPositions=function(){var q=l.textControlViewer.documentSize;if(l.isSliding){return;}if(!q.Width||!q.Height){return;}var v=l.textControlViewer.viewMode==b.ViewMode.PageView?b.ScrollPadding:0;var w={Width:l.textControlViewer.width,Height:l.textControlViewer.height};w=g(w,l.textControlViewer.zoomFactor);var r=q.Width-w.Width;var x=q.Height-w.Height;var t=(l.textControlViewer.textViewLocation.X+v)/r;var u=l.textControlViewer.textViewLocation.Y/x;var s=l.txslider.slider("option","orientation");switch(s){case b.SliderOrientation.Vertical:l.txslider.slider("option","value",(1-u)*q.Height);break;case b.SliderOrientation.Horizontal:l.txslider.slider("option","value",(t*b.documentSize.Width)-v);break;}};function m(q,s){var r=a(q.target);switch(r.slider("option","orientation")){case b.SliderOrientation.Horizontal:l.textControlViewer.hScroll(s.value);break;case b.SliderOrientation.Vertical:var t=r.slider("option","max")-s.value;l.textControlViewer.vScroll(t);break;}}if(k!==b.SliderOrientation.Vertical&&k!==b.SliderOrientation.Horizontal){throw new Error("Unknown orientation.");}this.textControlViewer=o;this.scrollbardirection=k;this.scrollStep=b.ScrollStep;this.jqContainer=i;this.componentType=this.textControlViewer.componentViewer.componentType;this.txscrollbarwrapper=this.jqContainer.find(".scrollbar-wrapper");this.txscrollbarwrapper.unbind("keydown");switch(k){case b.SliderOrientation.Vertical:this.txscrollbarwrapper.click(p.bind(this));break;case b.SliderOrientation.Horizontal:this.txscrollbarwrapper.click(h.bind(this));break;}this.txslider=this.jqContainer.find(".txslider");this.txslider.on("mousedown",n);this.txslider.on("touchstart",n);this.isSliding=false;this.txslider.slider({orientation:this.scrollbardirection,min:0,max:100,value:100,slide:m,start:function(){l.isSliding=true;},stop:function(){l.isSliding=false;}});this.scrollbuttons=i.find("div.scroll-button");this.scrollbuttons.click(function(r){var q;var s=l.scrollStep;if(r.target.classList.contains("scroll-button-up")){q={X:0,Y:-s};}else{if(r.target.classList.contains("scroll-button-down")){q={X:0,Y:s};}else{if(r.target.classList.contains("scroll-button-left")){q={X:-s,Y:0};}else{if(r.target.classList.contains("scroll-button-right")){q={X:s,Y:0};}else{return;}}}}l.textControlViewer.scrollDelta(q);});this.updateScrollbarStyle();this.updateSliderPositions();function j(q){l.updateSliderPositions();l.updateScrollbarStyle();}this.textControlViewer.addEventListener("documentSizeChanged",j);this.textControlViewer.addEventListener("widthChanged",j);this.textControlViewer.addEventListener("heightChanged",j);}function e(h,i){return(h.Height<=i.Height);}function d(h,i){return(h.Width<=i.Width);}function g(i,h){return{Width:b.px2twips(i.Width,h,b.DefRes),Height:b.px2twips(i.Height,h,b.DefRes)};}return f;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TXSidebar=(function(){function d(e,h){var i=this;this.minWidth=h||210;this.eventManager=new b.EventManager();this.container=e;this.isVisible=false;e.querySelector(".closebtn").addEventListener("click",function(){i.hide();});this.dragBar=new b.TXDragbar(e);this.dragBar.addEventListener("dragged",g);this.dragBar.addEventListener("dragFinished",f);function g(j){if((i.width+j.posNew)<i.minWidth){j.cancel=true;}}function f(j){var k=Math.max(i.minWidth,i.width+j);i.width=k;b.arrangeControls();}}d.prototype.addEventListener=function(f,e){this.eventManager.addEventListener(f,e);};Object.defineProperty(d.prototype,"header",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").innerText;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").innerText=e;this.eventManager.fireEvent("headerChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"width",{get:function(){return this.container.getBoundingClientRect().width;},set:function(f){var e=f-this.container.getBoundingClientRect().width;var g=parseFloat(window.getComputedStyle(this.container).width);this.container.style.width=(g+e)+"px";},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"height",{get:function(){return this.container.getBoundingClientRect().height;},set:function(e){this.container.height=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this.container.style.backgroundColor;},set:function(e){this.container.style.backgroundColor=e;this.eventManager.fireEvent("backgroundColor",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"titleForeground",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").style.color;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").style.color=e;this.eventManager.fireEvent("titleForeground",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"titleFontSize",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").style.fontSize;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").style.fontSize=e;this.eventManager.fireEvent("titleFontSize",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"subTitle",{get:function(){return this.container.querySelector(".sidebarHeaderSubTitle").innerText;},set:function(e){this.container.querySelector(".sidebarHeaderSubTitle").innerText=e;this.eventManager.fireEvent("sidebarHeaderSubTitle",e);},enumerable:true,configurable:true});d.prototype.hide=function(){this.dragBar.hide();this.container.style.display="none";this.isVisible=false;this.eventManager.fireEvent("hidden",this);};d.prototype.show=function(){var e=this;this.container.style.display="flex";this.dragBar.show();this.isVisible=true;this.eventManager.fireEvent("visible",this);c.getBackColor(function(f){e.backgroundColor=f;});};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TXDragbar=(function(){function e(f){this.eventManager=new b.EventManager();this.mouseXChange=0;this.dragBarElement=document.createElement("div");this.dragBarElement.classList.add("txDragBar");this.elemSideBar=f;this.dragBarElement.id=f.id+"_dragbar";this._left;f.parentElement.appendChild(this.dragBarElement);this.dragBarElement.addEventListener("mousedown",d.bind(this));}function d(f){var k=this;var j=f.clientX;var g=this._left;document.addEventListener("mouseup",i);document.addEventListener("mousemove",h);this.dragBarElement.classList.add("dragging");this.eventManager.fireEvent("dragStarted");function h(m){var n=m.clientX-j;var l={posNew:n,cancel:false};k.eventManager.fireEvent("dragged",l);if(l.cancel){return;}k.left=(g+n);}function i(l){document.removeEventListener("mouseup",i);document.removeEventListener("mousemove",h);k.dragBarElement.classList.remove("dragging");k.eventManager.fireEvent("dragFinished",l.clientX-j);k.updatePosition();}}e.prototype.updatePosition=function(){var g=document.getElementById("txTemplateDesignerContainer"),k=g.getBoundingClientRect(),l=window.getComputedStyle(this.elemSideBar),i=this.dragBarElement.getBoundingClientRect(),j=this.elemSideBar.getBoundingClientRect(),h=parseFloat(l.paddingRight),f=parseFloat(l.borderRightWidth);this.left=(j.left+j.width)-h-f-k.left;};e.prototype.show=function(){this.updatePosition();this.dragBarElement.style.display="inline-block";};e.prototype.hide=function(){this.dragBarElement.style.display="none";};Object.defineProperty(e.prototype,"left",{set:function(f){this._left=f;this.dragBarElement.style.left=f+"px";},get:function(){return this._left;},enumerable:true,configurable:true});e.prototype.addEventListener=function(g,f){this.eventManager.addEventListener(g,f);};return e;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MessageBoxDialog=(function(d){__extends(f,d);var e=Object.freeze({YesNo:0,OK:1,});var g=Object.freeze({None:0,Asterisk:1,Error:2,Exclamation:3,Hand:4,Information:5,Question:6,Stop:7,Warning:8});function f(l,k,i,j){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.MessageBoxDialog};this.title=l;this.text=k||"";this.buttons=i;this.icon=j;this.dialogResult=false;this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);}f.prototype.OKHandler=function(i){this.dialogResult=true;this.close(i);};f.prototype.close=function(j){var i={dialogResult:this.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.MessageBoxDialog,0,0,i);a(j).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};f.prototype.init=function(j){var k=document.getElementById("msgBoxDlg_Icon");if(this.icon==g.None){k.parentElement.removeChild(k);}else{switch(this.icon){case g.Information:k.innerText="\\u1F6C8";break;case g.Warning:k.innerText="\\u26A0";break;}}var l=document.getElementById("msgBoxDlg_Text");l.innerHTML=this.text;var i=document.getElementById("messageBoxDialog");i.style.height=(i.clientHeight+l.clientHeight+5)+"px";};function h(j){var i;switch(j.buttons){case e.OK:i=document.querySelector("#btnOK_"+j.dialogContainerID+" span.txui-button-text");i.textContent=b.variousStringResources.BTN_OK;break;}}f.prototype.dialogize=function(k){var l=this;var i={};var j=document.getElementById(this.dialogContainerID);j.innerHTML=k.html;switch(this.buttons){case e.OK:i={OK:{text:"OK",click:function(){l.OKHandler(this);},id:"btnOK_"+this.dialogContainerID}};break;}a("#messageBoxDialog").dialog({modal:true,resizable:false,width:"auto",height:110,title:this.title||"Message Box",buttons:i,close:function(){l.close(this);},open:function(){l.init(this);},}).keypress(function(m){if(m.keyCode==a.ui.keyCode.ENTER){l.OKHandler(this);return false;}});h(this);this.isDialogReady=true;};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ViewMode={PageView:256,Normal:512};b.TextComponentViewer=(function(){function d(e,f){this.componentViewer=new b.ComponentViewer(e,f);this.eventManager=new b.EventManager();this.m_documentSize={Height:0,Width:0};this.m_textViewLocation={X:0,Y:0};this.m_viewMode=b.ViewMode.Normal;this.m_zoomFactor=100;this.width=this.width;this.height=this.height;}d.prototype.scrollDelta=function(e){b.sendCommand(b.Command.ScrollDelta,e.X,e.Y,this.componentViewer.componentType);};d.prototype.vScroll=function(e){b.sendCommand(b.Command.VScroll,e,this.componentViewer.componentType);};d.prototype.hScroll=function(e){b.sendCommand(b.Command.HScroll,e,this.componentViewer.componentType);};d.prototype.addEventListener=function(f,e){this.eventManager.addEventListener(f,e);};Object.defineProperty(d.prototype,"viewMode",{get:function(){return this.m_viewMode;},set:function(e){this.m_viewMode=e;this.eventManager.fireEvent("viewModeChanged",this.m_viewMode);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"documentSize",{get:function(){return this.m_documentSize;},set:function(e){this.m_documentSize=e;this.eventManager.fireEvent("documentSizeChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"textViewLocation",{get:function(){return this.m_textViewLocation;},set:function(e){this.m_textViewLocation=e;this.eventManager.fireEvent("textViewLocationChanged",this.m_textViewLocation);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"zoomFactor",{get:function(){return this.m_zoomFactor;},set:function(zoomFactor){if(zoomFactor===undefined){throw new Error(\'Parameter "zoomFactor" is undefined.\');}if((typeof zoomFactor!=="number")||((zoomFactor<10)&&(zoomFactor>-1))||(zoomFactor<-3)){throw new TypeError("Zoom factor must be a positive number >= 10 or one of the special zoom factor values defined in TXTextControl.SpecialZoomFactor.");}zoomFactor=Math.round(zoomFactor);if(zoomFactor!=this.m_zoomFactor){this.m_zoomFactor=zoomFactor;b.sendCommand(b.Command.Zoom,zoomFactor,this.componentViewer.componentType);this.eventManager.fireEvent("zoomFactorChanged",this.m_zoomFactor);}},enumerable:true});d.prototype.selectHiddenTextfieldContent=function(){return this.componentViewer.selectHiddenTextfieldContent();};d.prototype.setHiddenTextFieldText=function(e){return this.componentViewer.setHiddenTextFieldText(e);};d.prototype.mouseButtonToMouseButtonFlag=function(e){return this.componentViewer.mouseButtonToMouseButtonFlag(e);};d.prototype.getMousePos=function(e){return this.componentViewer.getMousePos(e);};d.prototype.blur=function(){return this.componentViewer.blur();};d.prototype.focus=function(){return this.componentViewer.focus();};d.prototype.drawShape=function(e){return this.componentViewer.drawShape(e);};d.prototype.hideShape=function(){return this.componentViewer.hideShape();};Object.defineProperty(d.prototype,"width",{get:function(){return this.componentViewer.width;},set:function(e){this.componentViewer.width=e;this.eventManager.fireEvent("widthChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"height",{get:function(){return this.componentViewer.height;},set:function(e){this.componentViewer.height=e;this.eventManager.fireEvent("heightChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"left",{get:function(){return this.componentViewer.left;},set:function(e){this.componentViewer.left=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"top",{get:function(){return this.componentViewer.top;},set:function(e){this.componentViewer.top=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"caretBounds",{get:function(){return this.componentViewer.caretBounds;},enumerable:true,configurable:true});d.prototype.setCaretState=function(e){return this.componentViewer.setCaretState(e);};d.prototype.setImage=function(e){return this.componentViewer.setImage(e);};d.prototype.requestUpdateImageRegions=function(e){return this.componentViewer.requestUpdateImageRegions(e);};d.prototype.requestScroll=function(e,f){return this.componentViewer.requestScroll(e,f);};d.prototype.updateImageRegions=function(e){return this.componentViewer.updateImageRegions(e);};d.prototype.scroll=function(e,f){return this.componentViewer.scroll(e,f);};d.prototype.processNextQueueEntry=function(){return this.componentViewer.processNextQueueEntry();};d.prototype.show=function(){return this.componentViewer.show();};d.prototype.hide=function(){return this.componentViewer.hide();};d.prototype.showCaret=function(){return this.componentViewer.showCaret();};d.prototype.hideCaret=function(){return this.componentViewer.hideCaret();};d.prototype.refreshCaretLocation=function(){this.componentViewer.refreshCaretLocation();};d.prototype.bufferContent=function(){return this.componentViewer.bufferContent();};d.prototype.drawBufferedContent=function(){return this.componentViewer.drawBufferedContent();};d.prototype.canvas_MouseDown=function(){this.componentViewer.canvas_MouseDown(event);};d.prototype.canvas_MouseUp=function(e){return this.componentViewer.canvas_MouseUp(e);};d.prototype.canvas_Click=function(e){return this.componentViewer.canvas_Click(e);};d.prototype.canvas_MouseMove=function(e){return this.componentViewer.canvas_MouseMove(e);};d.prototype.canvas_DoubleClick=function(e){return this.componentViewer.canvas_DoubleClick(e);};d.prototype.canvas_TouchStart=function(e){return this.componentViewer.canvas_TouchStart(e);};d.prototype.canvas_TouchDragTextView=function(e){return this.componentViewer.canvas_TouchDragTextView(e);};d.prototype.canvas_TouchPinchTextView=function(e){return this.componentViewer.canvas_TouchPinchTextView(e);};d.prototype.canvas_TouchMove=function(e){return this.componentViewer.canvas_TouchMove(e);};d.prototype.canvas_TouchMoveTextView=function(e){return this.componentViewer.canvas_TouchMoveTextView(e);};d.prototype.canvas_TouchEnd=function(e){return this.componentViewer.canvas_TouchEnd(e);};d.prototype.canvas_TouchCancel=function(e){this.componentViewer.canvas_TouchCancel(e);};d.prototype.canvas_MouseWheel=function(e){this.componentViewer.canvas_MouseWheel(e);};d.prototype.cursorChanged=function(e){this.componentViewer.cursorChanged(e);};d.prototype.shapeBlink=function(){return this.componentViewer.shapeBlink();};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(bc,a){"use strict";var c=bc._private=bc._private||{};bc.version="28.0";function aY(){delete bc._private;}c.isSSLConnection=(window.location.protocol==="https:");var K=59;c.Command=Object.freeze({Image:1,Close:4,Undo:5,NewFile:6,Cut:10,Copy:11,Paste:12,Redo:13,GetFileList:14,OpenFile:15,GrowFont:17,ShrinkFont:18,SetLandscape:19,PrintToPDF:22,IncreaseIndent:23,DecreaseIndent:24,DocumentSizeChanged:32,InputPositionChanged:33,WindowResized:34,HScroll:35,VScroll:36,ScrollDelta:37,InsertBlankPage:38,InsertBreak:39,TextViewLocation:44,Zoom:45,TCPServerMessage:50,ConsoleLog:51,ImageLoaded:52,ClientPaste:53,GetDocumentTargets:54,InsertItem:55,GetItem:56,DeleteItem:57,EnableSpellChecking:58,EnableHyphenation:59,InsertDocumentFile:60,GetDialogResources:61,SetAppMode:62,MailMergePrevNav:63,FinishAndMerge:64,ShowDialog:65,DialogResult:66,FieldDisplayModeChanged:67,WaitDialog:69,SelectMasterTable:70,SetFieldDisplayMode:71,HighlightMergeFields:72,CursorChanged:76,ComponentEvent:77,CaretStateChanged:78,CloseDialog:79,ImageRegions:80,Scroll:81,EditDataRelations:82,EditMergeBlocks:84,GoToItem:85,DisplayVisualElement:86,TableCommand:87,ContextMenuData:88,ContextMenuItemClicked:89,DrawShape:90,FieldPropertiesDialog:91,SetItemProperty:92,HypertextLinkClicked:93,SaveDocumentFile:94,Ping:95,Pong:96,StringResources:98,ServerEvent:102,SetConnectionID:103,EnableLangDetect:105,ItemActivationStateChangedEvent:106,Save:108,ComponentActivationState:109,EditMode:111,Selection:112,BackColor:113,StatusBarColor:114,SpellCheckDialogCommand:117,HTMLDialogState:118,OpenDirectory:119,DocumentDirtyChanged:120,DocumentSaved:121,EnableSaveDocumentQuestion:122,ContextMenusEnabled:123,SetTextFieldsEditable:124,IsTouchDevice:126,ServerConsoleWriteLine:127,ImageResources:129,CreateTextControl:130,SelectAll:132,TXSettings:133,ResetContents:135,HighlightMergeBlocks:136,ClientSelection:137,EnableLoadWaitDialog:138,ClientTextPart:139,TrialString:140,ClipboardMode:141,TextControlLoaded:142,GetFileDirectory:144,SetFileDirectory:145,ClientSetFormattingPrinter:146,ClientGetFormattingPrinter:147,ClientGetInstalledPrinters:148,TextControlChanged:149,DrawingControlInfo:154,ClientTextField:157,ClientSubTextPart:158,SpellCheck:159,FrameEvent:160,SetTxProperty:161,TransferCSharpType:162,RibbonMenuEvent:163,RibbonTabs:164,RibbonButtonEvent:165,RibbonControlState:167,RibbonButtonState:168,RibbonMenuItemState:169,RibbonTextBoxEvent:170,RibbonTextBoxState:171,ShowFieldDialog:173,UpdateField:174,FrameInfo:175,ThesaurusDialogCommand:176,AppendDocumentFile:177,PermissionsAddUserDialogCommand:178,ListBoxEvent:179,ListItemState:180,ListBoxState:181,SetDocumentPermissions:182,SetRibbonTabProperty:183,SetUserNames:184,TXPropertyChanged:185,AddTextFrame:187,TXTextControlResources:188,InputControlEvent:190,FadeInViewers:191,RibbonTabChanged:192,TrackChangesEnabledState:193,ShowSideBar:194,FadeInRibbon:195,RequestRibbonTabs:197,RibbonTabsLoaded:198,AccessTextControlMember:199,OverlayControlCommand:200,EnableSaveMenuItem:201,RibbonComboBoxCommand:202,ClientConnectionLost:203,ReconnectionSuccessful:204,AbortReconnect:205,GetImages:206,VersionInfo:207,ClientInformation:208,RibbonControlEvent:300,RibbonComboBoxState:350,RibbonCheckBoxEvent:360,TrackChangesViewerInitiate:500,TrackedChangesViewerRefresh:502,TrackChangesViewerDispose:510,TrackedChangesCount:515,ShowHorizontalRulerBar:600,HideHorizontalRulerBar:601,ShowVerticalRulerBar:700,HideVerticalRulerBar:701,ShowStatusBar:800,HideStatusBar:801,TextControlEvent:850,SelectionHTMLContent:999});c.TableCommand={SelectElement:0,DeleteElement:1,InsertElement:2,CellAlignment:3,MergeCells:4,SplitCells:5,SplitTable:6,Create:7};c.FileType={Document:0,Image:1,DataBase:2};c.ChartTemplateType={};c.DialogCategory={TXDialog:0,HTMLDialog:1,};c.HTMLDialogType={};c.TXDialogType=Object.freeze({Unknown:0,FontDialog:1,ParagraphFormatDialog:2,InsertTableDialog:3,ChildDialog:4,ListFormatDialog:5,FormattingStylesDialog:6,SectionFormatDialog:7,LanguageDialog:8,TableFormatDialog:9,TabDialog:12,ObjectAttributesDialog:13,FindDialog:14,ReplaceDialog:15,ForeColorDialog:16,TextBackColorDialog:17,InsertSymbolDialog:18,FrameFillColorDialog:19,FrameLineColorDialog:20,PageColorDialog:21});c.VisualElement=Object.freeze({ControlChars:0,TextFrameMarkerLines:1,BookmarkMarkers:2,TableGridLines:3,DrawingMarkerLines:4,FrameAnchors:5});c.TableElement={Cell:0,Column:1,Row:2,WholeTable:3,};c.ConsoleLogType={Log:0,Debug:1,Info:2,Warn:3,Error:4};c.ItemActivationState={Deactivated:0,Activated:1};c.ServerEventType={TXComponentsLoaded:0,DocumentLoaded:1};var a9={Various:0,RibbonStrings:1,TXTextControl:2};var w={Moved:1,Sized:2};var b={Left:false,Middle:false,Right:false};c.variousStringResources={WEBSOCKET_ERROR_MSG:"Can\'t connect to the server.\\nPlease refresh the website to re-connect.",RECONNECTING:"Connection lost. Reconnecting"};c.TXTextControlResources={ID_TRACKEDCHANGES_CAPTION:"",ID_TRACKEDCHANGES_COUNT:"",TOOLTIP_RefreshTrackedChanges:""};c.imageResources={};c.webSocketHandlerURL="";c.documentSavedEventHandlers=[];c.documentDirty=false;c.saveDocumentQuestionEnabled=true;c.ignoreNextTextFocusRequest=false;c.inIMEComposition=false;c.trialStringInf=null;c.trialStringWDId=null;c.proofingSettings=null;c.supportedPaperSizes=[];c.FrameEventType={};c.isTrackChangesEnabled=false;c.currentFieldData={fieldAdapter:null,mergeFieldType:null,textField:null};c.reconnectIntervalID=0;c.reconnectStartTime=null;c.reconnectFailed=false;c.neverConnected=true;c.reconnectTimeout=30;var aU=1;c.AbortReconnectReason={UnknownConnectionID:1,OtherConnectionExists:2,};c.generatedConnectionID=null;c.LocalImageStoragePrefix="__TXImageCache";c.LocalImageStorageKey=c.LocalImageStoragePrefix;c.TXImageCache=null;c.requiredImages=[];function F(){var bi=!!("ontouchend" in document||window.DocumentTouch&&document instanceof DocumentTouch);var bh=c.BrowserDetect.browser;return bi&&(bh!=="Edge")&&(bh!=="Explorer")&&(bh!=="Firefox")&&(bh!=="Chrome");}c.isTouchDevice=F();if(c.isTouchDevice){c.clipboardMode=c.ClipboardMode.Server;}c.isSocketConnected=function(){return c.socket&&(c.socket.readyState==WebSocket.OPEN);};c.sendCommand=function(bi,bk,bl,bm,bj){if(!c.isSocketConnected()){return;}var bh={CommandID:parseInt(bi,10),Param1:bk||0,Param2:bl||0,Param3:bm||0,Data:bj||"",};var bn=JSON.stringify(bh);c.socket.send(bn);};c.getHostAndWebSocketHandlerPath=function(){var bk="";var bi="";if(typeof c.settings!=="undefined"){return c.getHostAndAppVirtPath();}if(typeof c.webControlSettings!=="undefined"){if(c.webControlSettings.webSocketHandlerPath){bi=c.webControlSettings.webSocketHandlerPath;}else{return c.getHostAndAppVirtPath();}}var bj=window.location.pathname.split("/");bj.pop();var bh=(bj.length==0)?"/":bj.join("/")+"/";if(bi){if(bi.slice(-1)!=="/"){bi+="/";}if(bi[0]==="/"){bk=window.location.host+bi;}else{bk=window.location.host+bh+bi;}}else{bk=window.location.host+bh;}return bk;};c.getHostAndAppVirtPath=function(){var bl="";var bh="";var bk=0;if((typeof c.settings!=="undefined")&&c.settings.Port){bk=c.settings.Port;}if(typeof c.webControlSettings!=="undefined"){bh=c.webControlSettings.appVirtPath;}else{if((typeof c.settings!=="undefined")&&c.settings.IsMVC){bh=c.settings.AppVirtualPath;}}if(bh){bl=window.location.host+bh;}else{var bj=window.location.pathname.split("/");bj.pop();var bi=(bj.length==0)?"/":bj.join("/")+"/";bl=(bk?(window.location.hostname+":"+bk):window.location.host)+bi;}return bl;};function B(){if(c.settings&&c.settings.WebSocketURL){return c.settings.WebSocketURL;}var bi=c.isSSLConnection?"wss://":"ws://";var bh=c.getHostAndWebSocketHandlerPath();if(typeof c.settings!=="undefined"){if(c.settings.IsMVC){return bi+bh+c.settings.ApiRoute+"TXWebSocket";}else{bh=bi+bh;return bh.substring(0,bh.length-1)+c.settings.WebSocketPath;}}else{return bi+bh+"TXWebSocketHandler.ashx";}}function bb(){var bi,bh;bh=document.getElementById("__txWebControlSettings");if(bh){bi=bh.innerHTML;c.webControlSettings=JSON.parse(bi);bh.parentNode.removeChild(bh);}else{bh=document.getElementById("__txSettings");if(bh){bi=bh.innerHTML;c.settings=JSON.parse(bi);bh.parentNode.removeChild(bh);if(c.settings.ReconnectTimeout>0){c.reconnectTimeout=c.settings.ReconnectTimeout;}}}}c.init=function(){var bj=document.getElementById("mainCanvas");var bh=document.getElementById("horRulerCanvas");var bn=document.getElementById("vertRulerCanvas");var bk=document.getElementById("statusBarCanvas");var bm=document.getElementById("trackChangesCanvas");bj.width=window.innerWidth;bj.height=window.innerHeight;bh.width=window.innerWidth;bn.height=window.innerHeight;bk.width=window.innerWidth;c.textViewer=new c.ComponentViewer(bj,c.ComponentType.TextView);c.horRulerViewer=new c.ComponentViewer(bh,c.ComponentType.HorRuler);c.vertRulerViewer=new c.ComponentViewer(bn,c.ComponentType.VertRuler);c.statusBarViewer=new c.ComponentViewer(bk,c.ComponentType.StatusBar);c.trackChangesViewer=new c.TextComponentViewer(bm,c.ComponentType.TrackChangesView);bb();c.webSocketHandlerURL=B();console.info("Connecting to "+c.webSocketHandlerURL);m();C();window.addEventListener("unload",H);window.addEventListener("resize",J);window.addEventListener("blur",I);h();document.addEventListener("inputPositionChanged",c.inputPositionChangedHandler);document.addEventListener("uiFlagsUpdated",c.uiFlagsUpdatedHandler);document.addEventListener("imageReceived",c.imageReceivedHandler);document.addEventListener("imageRegionsUpdated",c.imageRegionsUpdatedHandler);document.addEventListener("viewContentScrolled",c.viewContentScrolledHandler);document.addEventListener("printResultReceived",c.printResultReceivedHandler);document.addEventListener("documentSizeChanged",c.documentSizeChangedHandler);document.addEventListener("txZoomed",c.txZoomedHandler);document.addEventListener("textViewLocationChanged",c.textViewLocationChangedHandler);document.addEventListener("contextMenuDataReceived",c.contextMenuDataReceivedHandler);document.addEventListener("txContainerResized",c.onContainerResize);document.addEventListener("textViewCaretStateChanged",c.textViewCaretStateChangedHandler);document.addEventListener("showFieldPropsDialog",c.showFieldPropsDialogHandler);document.addEventListener("hyperlinkClicked",c.hyperlinkClickedHandler);document.addEventListener("pongMessageReceived",L);document.addEventListener("documentSaved",s);document.addEventListener("textFieldDataReceived",c.textFieldDataReceivedHandler);document.addEventListener("txPropertyChanged",c.txPropertyChangedHandler);bj.addEventListener("drop",c.handleDrop);bj.addEventListener("dragenter",function(bo){bo.preventDefault();bo.stopPropagation();});bj.addEventListener("dragover",function(bo){bo.preventDefault();bo.stopPropagation();bo.dataTransfer.dropEffect="copy";});document.getElementById("ribbonbar").addEventListener("contextmenu",M);document.getElementById("vertical-scrollbar-wrapper").addEventListener("contextmenu",M);document.getElementById("horizontal-scrollbar-wrapper").addEventListener("contextmenu",M);document.getElementById("scroll-button-up").addEventListener("contextmenu",M);document.getElementById("scroll-button-down").addEventListener("contextmenu",M);document.getElementById("scroll-button-left").addEventListener("contextmenu",M);document.getElementById("scroll-button-right").addEventListener("contextmenu",M);document.addEventListener("mousedown",p);document.addEventListener("mouseup",r);document.addEventListener("mousemove",q);document.addEventListener("click",o);c.initContextMenus();c.createScrollbars();c.createTrackChangesSidebar();c.adaptViewToContainerSize();setInterval(function(){c.sendCommand(c.Command.Ping);},K*1000);if(!c.isTouchDevice){c.textViewer.focus();}var bi=document.getElementById("txLoaderGif");bi.style.display="";bi.style.opacity=1;var bl=document.querySelector("#ribbonbar ul.tabs");bl.style.display="";aY();};a(document).ready(function(){c.init();});function m(){c.socket=new WebSocket(c.webSocketHandlerURL,"TXTextControl.Web");c.socket.addEventListener("open",bg);c.socket.addEventListener("message",bf);c.socket.addEventListener("error",be);c.socket.addEventListener("close",bd);}function f(){var bi=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bj=new bi(function(bk){bk.forEach(function(bl){switch(bl.type){case"attributes":switch(bl.attributeName){case"style":l();break;}break;}});});var bh={attributes:true,childList:false,characterData:false};bj.observe(document.getElementById("txTemplateDesignerContainer").parentElement,bh);}function i(){var bi=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bk=document.getElementById("ribbonbar");var bj=new bi(function(bl){bl.forEach(function(bm){switch(bm.type){case"attributes":switch(bm.attributeName){case"style":if(bk.style.display==="none"){if(!c.isRibbonBarRemoved){c.isRibbonBarRemoved=true;c.ribbonBarHeight=0;c.adaptViewToContainerSize();}}else{if(c.isRibbonBarRemoved){c.isRibbonBarRemoved=false;c.ribbonBarHeight=c.DEFAULT_RIBBONBAR_HEIGHT;c.adaptViewToContainerSize();}}break;}break;}});});var bh={attributes:true,childList:false,characterData:false};bj.observe(bk,bh);}function g(){var bj=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bi=document.getElementById("mainCanvas");var bk=new bj(function(bm){if(!c.trialStringInf){return;}var bn=document.getElementById(c.trialStringInf.id);if(!bn){return;}var bl=document.getElementById("txTemplateDesignerContainer");bm.forEach(function(bp){switch(bp.type){case"attributes":switch(bp.attributeName){case"width":var bs=bi.getBoundingClientRect();var br=bl.getBoundingClientRect();var bo=bs.left+(bs.width/2);var bq=bo-(br.left+(br.width/2));bn.style.left=d.left=(50+((bq/br.width)*100))+"%";break;}break;}});});var bh={attributes:true,childList:false,characterData:false};bk.observe(bi,bh);}function h(){f();i();g();}function aZ(bi){var bh="";if(typeof c.webControlSettings!=="undefined"){bh=c.webControlSettings.connectionID;}else{if(typeof c.settings!=="undefined"){bh=c.settings.ConnectionID;}else{if(c.generatedConnectionID){bh=c.generatedConnectionID;}else{bh=c.generatedConnectionID=x(21);console.log("No connection ID was received from the web server. Generating my own. ("+bh+")");}}}c.sendCommand(c.Command.SetConnectionID,(bi?1:0),0,0,bh);}function aG(){if(typeof c.settings==="undefined"){return;}c.saveDocumentQuestionEnabled=c.settings.SaveDocumentQuestionDialogEnabled;c.sendCommand(c.Command.TXSettings,0,0,0,c.settings);}function y(bh){if(navigator.userLanguage){bh.culture=navigator.userLanguage;bh.uiCulture=navigator.browserLanguage;}else{var bi=navigator.languages?navigator.languages[0]:navigator.language;if(bi){bh.culture=bh.uiCulture=bi;}else{console.warn("Unable to detect browser language.");}}}c.CultureSettings=(function(){function CultureSettings(culture,uiCulture){if(culture===undefined){culture="";}if(uiCulture===undefined){uiCulture="";}this.culture=""+culture;this.uiCulture=""+uiCulture;}return CultureSettings;})();c.getCultures=function(){var bh=new c.CultureSettings();y(bh);if(typeof c.webControlSettings!=="undefined"){if(c.webControlSettings.hasOwnProperty("culture")&&c.webControlSettings.hasOwnProperty("uiCulture")){if(c.webControlSettings.culture){bh.culture=c.webControlSettings.culture;}if(c.webControlSettings.uiCulture){bh.uiCulture=c.webControlSettings.uiCulture;}}}else{if(typeof c.settings!=="undefined"){if(c.settings.Culture){bh.culture=c.settings.Culture;}if(c.settings.UICulture){bh.uiCulture=c.settings.UICulture;}}}return bh;};function J(){try{l();}catch(bh){}}function I(){c.modifierKeys=0;}function l(){var bh=document.getElementById("txTemplateDesignerContainer").parentElement;var bk,bj;if(bh.tagName=="BODY"){bk=window.innerWidth;bj=window.innerHeight;}else{bk=bh.offsetWidth;bj=bh.offsetHeight;}if((bk!=c.clientSize.Width)||(bj!=c.clientSize.Height)){var bi=new CustomEvent("txContainerResized");document.dispatchEvent(bi);}}c.blockUserInput=function(){var bi=document.getElementById("txUserInputBlocker");if(bi){return;}var bh=document.getElementById("txTemplateDesignerContainer");var bi=document.createElement("DIV");bi.id="txUserInputBlocker";bi.style.opacity=0;bh.appendChild(bi);bi.style.opacity=1;};c.allowUserInput=function(){c.removeMsgDiv();var bi=document.getElementById("txUserInputBlocker");if(!bi){return;}var bh=document.getElementById("txTemplateDesignerContainer");t(bi,bh,0,200);};function C(){var bo=document.styleSheets||[];for(var bi=0;bi<bo.length;bi++){try{var bm=bo[bi].cssRules||bo[bi].rules||[];for(var bj=0;bj<bm.length;bj++){var bl=bm[bj];switch(bl.selectorText){case"#txTemplateDesignerContainer #ribbonbar":c.ribbonBarHeight=c.DEFAULT_RIBBONBAR_HEIGHT=parseInt(bl.style.height,10);break;}}}catch(bh){}}var bk=document.getElementById("ribbonbar");var bn=getComputedStyle(bk)||{};if(bn.display==="none"){c.ribbonBarHeight=0;c.isRibbonBarRemoved=true;}}function t(bi,bj,bh,bk){bi.style.transition="opacity "+(bk/1000)+"s";setTimeout(function(){bi.style.opacity=0;setTimeout(function(){if(bi.style.opacity!=0){return;}bj.removeChild(bi);bi.style.transition="";},bk);},bh);}c.showMsgDiv=function(bk,bj){c.textViewer.hideCaret();var bh=document.getElementById("txTemplateDesignerContainer");var bi=document.getElementById("txErrMsgDiv");if(!bi){bi=document.createElement("DIV");bi.id="txErrMsgDiv";bi.classList.add("unselectable");bi.style.zIndex="9999";bi.style.opacity=0;bh.appendChild(bi);}bk=bk.replace(/\\r?\\n/g,"<br>");bi.innerHTML=bk;bi.style.marginTop=-(bi.clientHeight/2)+"px";bi.style.marginLeft=-(bi.clientWidth/2)+"px";bi.style.opacity=1;if(bj){t(bi,bh,1000,1000);}};c.removeMsgDiv=function(){var bi=document.getElementById("txErrMsgDiv");if(!bi){return;}var bh=document.getElementById("txTemplateDesignerContainer");t(bi,bh,0,200);};function a8(){c.blockUserInput();c.showMsgDiv(c.variousStringResources.WEBSOCKET_ERROR_MSG);}function bg(){if(c.reconnectIntervalID){console.log("WebSocket successfully reconnected. Waiting for synchronization service response");}aZ(c.reconnectIntervalID!=0);if(!c.reconnectFailed&&!c.reconnectIntervalID){c.sendCommand(c.Command.ClientInformation,0,0,0,{devicePixelRatio:window.devicePixelRatio});var bh=c.getCultures();c.sendCommand(c.Command.CreateTextControl,0,0,0,bh);c.sendCommand(c.Command.IsTouchDevice,c.isTouchDevice?1:0);aG();}}function be(bh){}function bd(bi){c.socket=null;if(c.neverConnected){a8();return;}var bh={code:bi.code,reason:bi.reason,wasClean:bi.wasClean};c.fireEvent(c.EventName.webSocketClosed,bh);console.log("WebSocket connection lost.");if(!c.reconnectFailed&&!c.reconnectIntervalID){c.blockUserInput();c.showMsgDiv(c.variousStringResources.RECONNECTING);console.log("Starting reconnection attempts");c.reconnectStartTime=Date.now();c.reconnectIntervalID=window.setInterval(aV,aU*1000);}}function aW(bh){c.reconnectFailed=true;window.clearInterval(c.reconnectIntervalID);c.reconnectIntervalID=0;console.log(bh);a8();}function aV(){if((Date.now()-c.reconnectStartTime)>(c.reconnectTimeout*1000)){aW("Could not reconnect.");return;}if(c.socket){return;}console.log("Trying to reconnect to WebSocket");m();}function ax(){c.allowUserInput();console.log("Synchronization service connection re-established.");window.clearInterval(c.reconnectIntervalID);c.reconnectIntervalID=0;}function e(bh){var bi="Could not reconnect.";switch(bh){case c.AbortReconnectReason.UnknownConnectionID:bi="Could not reconnect. Connection ID is unknown to the synchronization service.";break;case c.AbortReconnectReason.OtherConnectionExists:bi="Could not reconnect. A connection with the same ID already exists.";break;}aW(bi);c.webSocketDisconnect();}function bf(bh){var bj=""+bh.data;var bi=JSON.parse(bj);ar(bi);}function E(bh){return bh.hasOwnProperty("CommandID");}function ar(bj){if(!E(bj)){console.error("processMessage(): Received object is not a valid message.");return;}switch(bj.CommandID){case c.Command.PrintToPDF:av(bj);break;case c.Command.TextViewLocation:aO(bj);break;case c.Command.TransferCSharpType:c.createPrivateObject(bj.Data);break;case c.Command.StringResources:aK(bj);break;case c.Command.Image:aj(bj);break;case c.Command.ShowDialog:aH(bj);break;case c.Command.TrialString:c.trialStringInf=bj.Data;k();break;case c.Command.ImageResources:c.imageResources=bj.Data;break;case c.Command.ImageRegions:ak(bj);break;case c.Command.Scroll:az(bj);break;case c.Command.CaretStateChanged:N(bj);break;case c.Command.TXPropertyChanged:aQ(bj);break;case c.Command.DocumentSizeChanged:W(bj);break;case c.Command.RibbonControlEvent:ay(bj.Data);break;case c.Command.GetFileList:ac(bj.Data);break;case c.Command.Zoom:aT(bj);break;case c.Command.InputPositionChanged:al(bj);break;case c.Command.OpenFile:at(bj);break;case c.Command.DBScheme:T(bj);break;case c.Command.TCPServerMessage:aL(bj);break;case c.Command.CursorChanged:aF(bj);break;case c.Command.GetDocumentTargets:X(bj);break;case c.Command.GetItem:ao(bj);break;case c.Command.GetDialogResources:U(bj);break;case c.Command.SetAppMode:aE(bj);break;case c.Command.FieldDisplayModeChanged:aa(bj);break;case c.Command.WaitDialog:aS(bj);break;case c.Command.HighlightMergeFields:aq(bj);break;case c.Command.CloseDialog:P(bj);break;case c.Command.ContextMenuData:S(bj);break;case c.Command.ConsoleLog:R(bj);break;case c.Command.DrawShape:Z(bj);break;case c.Command.FieldPropertiesDialog:var bh=new CustomEvent("showFieldPropsDialog");document.dispatchEvent(bh);break;case c.Command.HypertextLinkClicked:ai(bj);break;case c.Command.Pong:bh=new CustomEvent("pongMessageReceived");document.dispatchEvent(bh);break;case c.Command.ItemActivationStateChangedEvent:an(bj);break;case c.Command.HTMLDialogState:ah(bj);break;case c.Command.DocumentDirtyChanged:c.documentDirty=(bj.Param1!==0);break;case c.Command.DocumentSaved:V(bj);break;case c.Command.EnableSaveDocumentQuestion:c.saveDocumentQuestionEnabled=(bj.Param1!==0);break;case c.Command.ComponentActivationState:Q(bj);break;case c.Command.EditMode:c.setEditMode(bj.Param1);break;case c.Command.HighlightMergeBlocks:ap(bj);break;case c.Command.ServerEvent:aD(bj);break;case c.Command.ClientSelection:aA(bj);break;case c.Command.ClientTextPart:c.processTextPartDataMessage(bj);break;case c.Command.ClipboardMode:O(bj);break;case c.Command.TextControlLoaded:c.fireEvent(c.EventName.textControlLoaded);break;case c.Command.GetFileDirectory:ab(bj);break;case c.Command.StatusBarColor:aJ(bj);break;case c.Command.ClientGetFormattingPrinter:ad(bj);break;case c.Command.ClientGetInstalledPrinters:am(bj);break;case c.Command.TextControlChanged:c.fireEvent(c.EventName.textControlChanged);break;case c.Command.DrawingControlInfo:Y(bj);break;case c.Command.ClientTextField:c.processTextFieldDataMessage(bj.Data);break;case c.Command.ClientSubTextPart:c.processSubTextPartDataMessage(bj);break;case c.Command.SelectionHTMLContent:c.processSelectionHTMLContentMessage(bj);break;case c.Command.SpellCheck:c.processSpellCheckCommandResponse(bj);break;case c.Command.FrameEvent:ae(bj);break;case c.Command.RibbonTabs:c.addRibbonTabs(bj.Data);break;case c.Command.RibbonControlState:c.changeRibbonControlState(bj.Data);break;case c.Command.RibbonButtonState:c.changeRibbonButtonState(bj.Data);break;case c.Command.RibbonMenuItemState:c.changeRibbonMenuItemState(bj.Data);break;case c.Command.RibbonTextBoxState:c.changeRibbonTextBoxState(bj.Data);break;case c.Command.RibbonComboBoxState:c.changeRibbonComboBoxState(bj.Data);break;case c.Command.ShowFieldDialog:c.showFieldDialog(bj.Data.dialogContent.field,bj.Data.dialogContent.fieldType,bj.Data.textField);break;case c.Command.ListItemState:c.changeListItemState(bj.Data);break;case c.Command.ListBoxState:c.changeListBoxState(bj.Data);break;case c.Command.ShowHorizontalRulerBar:c.showHorizontalRuler(true);break;case c.Command.HideHorizontalRulerBar:c.showHorizontalRuler(false);break;case c.Command.ShowVerticalRulerBar:c.showVerticalRuler(true);break;case c.Command.HideVerticalRulerBar:c.showVerticalRuler(false);break;case c.Command.ShowStatusBar:c.showStatusBar(true);break;case c.Command.HideStatusBar:c.showStatusBar(false);break;case c.Command.FadeInViewers:c.neverConnected=false;c.fadeInViewers();break;case c.Command.TrackChangesEnabledState:c.isTrackChangesEnabled=(bj.Param1!==0);break;case c.Command.FadeInRibbon:c.fadeInRibbon();break;case c.Command.SetDocumentPermissions:c.setDocumentPermission(bj);break;case c.Command.ShowSideBar:aI(bj);break;case c.Command.TrackedChangesCount:aP(bj);break;case c.Command.RibbonTabsLoaded:c.ribbonTabsLoaded();break;case c.Command.AccessTextControlMember:aM(bj);break;case c.Command.OverlayControlCommand:c.processOverlayControlCommand(bj);break;case c.Command.EnableSaveMenuItem:var bi=document.getElementById("fileMnuItemSave");if(bi){if(bj.Param1==0){bi.classList.add("txui-state-disabled");}else{bi.classList.remove("txui-state-disabled");}}break;case c.Command.RibbonComboBoxCommand:c.processRibbonComboBoxCommand(bj.Data);break;case c.Command.TextControlEvent:aN(bj);break;case c.Command.ReconnectionSuccessful:ax();break;case c.Command.AbortReconnect:e(bj.Param1);break;case c.Command.GetImages:ag(bj.Data);break;case c.Command.VersionInfo:aR(bj.Data);break;}}function aN(bi){var bh=bi.Param2;if(bh==c.EventCategory.TextViewGenerator){c.fireEvent(bi.Data.eventName,bi.Data.eventArgs);}else{if(bh==c.EventCategory.InputFormat){c.textControl.inputFormat._.eventManager.fireEvent(bi.Data.eventName,bi.Data.eventArgs);}}}function aM(bk){if(!bk.Data){throw new Error("processTextControlCommand(): Received message does not contain data.");}var bh=bk.Data.Content;var bj=bk.Data.ExcMsg;var bl=c.getTextControlMemberAccessCallback(bh.messageUID);var bi={msg:bj,handled:false};if(bj){if(bl.errorCallback){bl.errorCallback(bi);}if(bi.handled!=true){c.fireEvent(c.EventName.unhandledError,bi);}if(bi.handled!=true){throw new Error(bj);}}else{if(bl.callback){bl.callback(bh.result);}}}c.trackedChangesCount=0;function aP(bh){if(!!c.trackChangesSidebar){if(!!c.TXTextControlResources.ID_TRACKEDCHANGES_COUNT){c.trackedChangesCount=bh.Param1;c.trackChangesSidebar.subTitle=c.TXTextControlResources.ID_TRACKEDCHANGES_COUNT+c.trackedChangesCount;}}}function ay(bh){if(bh.event){switch(bh.event){case"CollectionChanged":if(bh.sender){switch(bh.sender.type){case"RibbonMenu":switch(bh.eventArgs.action){case"Add":j(bh.sender,bh.eventArgs.newItems,bh.eventArgs.newStartingIndex);break;case"Remove":aX(bh.eventArgs.oldItems);break;case"Reset":bi(bh.sender);break;}break;}}break;}}function bi(bk){var bj=document.getElementById(z(bk));if(!bj){return;}bj.innerHTML="";}}function z(bh){return bh.tabName+"_"+bh.name;}function aX(bh){bh.forEach(function(bk){var bj=z(bk);var bi=document.getElementById(bj);bi.parentNode.removeChild(bi);});}function j(bn,bk,bj){var bl=bn.itemSize;var bo=z(bn);var bh=document.getElementById(bo);if(!bh){return;}for(var bi=0;bi<bk.length;++bi){c.addNormalMenuItem(bh,bk[bi],bl,bn.name,(bj!=null)?bj+bi:null);}var bh=document.getElementById(bo);var bm=a(bh);bm.menu("refresh");c.calcMenuWidths(bh);}function a0(bh){switch(bh){case c.ActivationState.Activated:c.textViewer.focus();break;case c.ActivationState.Deactivated:c.textViewer.blur();break;}}function aj(bi){var bh=new CustomEvent("imageReceived",{detail:bi});document.dispatchEvent(bh);}function n(bi){var bh=new CustomEvent("uiFlagsUpdated",{detail:bi});document.dispatchEvent(bh);}function ac(bi){var bh=new CustomEvent("fileListReceived",{detail:bi});document.dispatchEvent(bh);}function av(bi){var bh=new CustomEvent("printResultReceived",{detail:bi});document.dispatchEvent(bh);}function W(bi){switch(bi.Param1){case c.ComponentType.TextView:var bh=new CustomEvent("documentSizeChanged",{detail:bi.Data});document.dispatchEvent(bh);break;case c.ComponentType.TrackChangesView:if(!!c.trackChangesViewer){c.trackChangesViewer.documentSize={Width:bi.Data.Width,Height:bi.Data.Height};}break;default:console.log("processDocumentSizeChangedMessage: Unknown component id.");}}function aT(bi){var bh=new CustomEvent("txZoomed",{detail:{zoomFactor:bi.Param1}});document.dispatchEvent(bh);}c.InputPositionChangedEventArgs=(function(){function bh(inputPosition){for(var bi in inputPosition){this[bi]=inputPosition[bi];}}return bh;})();function al(bk){var bi=bk.Data;bi.uiFlags=bk.Param1;var bj=new CustomEvent("inputPositionChanged",{detail:bi});document.dispatchEvent(bj);var bh=new c.InputPositionChangedEventArgs(bi.InputPosition);c.fireEvent(c.EventName.inputPositionChanged,bh);n(bi.uiFlags);}function at(bh){switch(bh.Param1){case c.FileType.DataBase:T(bh);break;}}function af(bi){var bh=new CustomEvent("frameInfoReceived",{detail:bi});document.dispatchEvent(bh);}function aQ(bi){var bh=new CustomEvent("txPropertyChanged",{detail:bi.Data});document.dispatchEvent(bh);}function TextViewLocationChangedEventArgs(x,y){this.location=new c.Point(x,y);}function aO(bj){switch(bj.Param1){case c.ComponentType.TrackChangesView:if(!!c.trackChangesViewer){c.trackChangesViewer.textViewLocation=bj.Data;c.txTrackChangesVerticalScrollbar.updateSliderPositions();c.txTrackChangesHorizontalScrollbar.updateSliderPositions();}break;case c.ComponentType.TextView:var bi=new CustomEvent("textViewLocationChanged",{detail:bj.Data});document.dispatchEvent(bi);var bk=c.twips2px(bj.Data.X,100,96);var bl=c.twips2px(bj.Data.Y,100,96);var bh=new TextViewLocationChangedEventArgs(bk,bl);c.fireEvent(c.EventName.textViewLocationChanged,bh);n(bj.Param2);break;}}function T(bj){var bh=bj.Data||{};bh.suppressMessage=(bj.Param3===1);var bi=new CustomEvent("dbSchemeReceived",{detail:bh});document.dispatchEvent(bi);}function aL(bh){var bi=c.txDialog?c.txDialog.getActiveViewer():c.textViewer;c.documentSavedEventHandlers=[];c.jQueryAlert(bh.Data.caption,bh.Data.message,bi);}function aF(bj){var bh={target:bj.Param1,cursorType:bj.Param2,dialogType:bj.Param3};var bi=new CustomEvent("componentCursorChanged",{detail:bh});document.dispatchEvent(bi);}function X(bi){var bh=new CustomEvent("documentTargetsReceived",{detail:{targets:bi.Data}});document.dispatchEvent(bh);}function ao(bj){var bh={itemType:bj.Param1,mouseClick:(bj.Param2!==0),item:bj.Data};var bi=new CustomEvent("txItemReceived",{detail:bh});document.dispatchEvent(bi);switch(bh.itemType){case c.ItemType.FieldAdapter:c.currentFieldData.fieldAdapter=bh.item.field;c.currentFieldData.mergeFieldType=bh.item.fieldType;bi=new CustomEvent("fieldDataReceived",{detail:bh.item});document.dispatchEvent(bi);break;}}function U(bj){var bh={dialogType:bj.Param1,resources:bj.Data};var bi=new CustomEvent("dialogResourcesReceived",{detail:bh});document.dispatchEvent(bi);}function aE(bi){var bh=new CustomEvent("appModeChanged",{detail:{appMode:bi.Param1}});document.dispatchEvent(bh);}function aH(bh){switch(bh.Param1){case c.DialogCategory.HTMLDialog:a3(bh);break;case c.DialogCategory.TXDialog:if(!c.txDialog){c.txDialog=new c.TxDialog(bh.Data.initialImage,bh.Data.size,bh.Data.caption,bh.Param2);c.txDialog.showModal();}else{c.txDialog.showChildDialog(bh.Data.initialImage,bh.Data.size,bh.Data.caption);}break;}}function a3(bi){var bh;switch(bi.Param2){case c.HTMLDialogType.InputBoxDialog:a4(bi.Data);break;case c.HTMLDialogType.MaxPreviewRowsDialog:a5(bi.Data);break;case c.HTMLDialogType.ChildDialog:if(c.txDialog){c.txDialog.showChildDialog(bi.Data.initialImage,bi.Data.size,bi.Data.caption);}else{c.jQueryAlert("Error Message","Can not open child dialog without having any TXTextControl dialog open.");}break;case c.HTMLDialogType.EditDataRelationsDialog:a1(bi.Data.relations,bi.Data.dbScheme);break;case c.HTMLDialogType.EditMergeBlocksDialog:a2(bi.Data.blocks);break;case c.HTMLDialogType.OptionsDialog:a6(bi.Data.options);break;case c.HTMLDialogType.InsertMergeBlockDialog:bh=new c.InsertMergeBlockDialog(bi.Data.name,bi.Data.dbScheme);bh.showModal();break;case c.HTMLDialogType.SaveDocumentAsDialog:a7(bi.Data.fileName,bi.Data.streamType);break;case c.HTMLDialogType.SpellCheckDialog:bh=new c.SpellCheckDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.LoadDictionaryDialog:bh=new c.LoadDictionaryDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.SetChartDataRelationDialog:bh=new c.SetChartDataRelationDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.FontDialog:bh=new c.FontDialog(bi.Data.state);bh.showModal();break;case c.HTMLDialogType.ThesaurusDialog:bh=new c.ThesaurusDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.LoadThesaurusDialog:bh=new c.LoadThesaurusDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.PermissionsAddUserDialog:bh=new c.PermissionsAddUserDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.CannotTrackChangeDialog:bh=new c.MessageBoxDialog(bi.Data.title,bi.Data.text,bi.Data.buttons,bi.Data.icon);bh.showModal();break;case c.HTMLDialogType.OpenFileDialog:c.openFile(bi.Data.fileType);break;case c.HTMLDialogType.HyperlinkDialog:var bh=new c.HyperlinkDialog();bh.showModal();break;case c.HTMLDialogType.InsertDocumentFileDialog:var bh=new c.OpenFileDialog(c.Command.InsertDocumentFile,c.FileType.Document);bh.showModal();break;case c.HTMLDialogType.MergeFieldDialog:bc.showMergeFieldDialog(c.FieldType.MergeField);break;case c.HTMLDialogType.NextIfFieldDialog:bc.showMergeFieldDialog(c.FieldType.NextIfField);break;case c.HTMLDialogType.IfFieldDialog:bc.showMergeFieldDialog(c.FieldType.IfField);break;case c.HTMLDialogType.IncludeTextFieldDialog:bc.showMergeFieldDialog(c.FieldType.IncludeTextField);break;case c.HTMLDialogType.DateFieldDialog:bc.showMergeFieldDialog(c.FieldType.DateField);break;case c.HTMLDialogType.FileSaveQuestionDialog:c.fileSaveQuestion();break;case c.HTMLDialogType.ManageConditionalInstructionsDialog:bh=new c.ManageConditionalInstructionsDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.InsertBookmarkDialog:bh=new c.InsertBookmarkDialog(bi.Data);bh.showModal();break;case c.HTMLDialogType.DeleteBookmarksDialog:bh=new c.DeleteBookmarksDialog(bi.Data);bh.showModal();break;}}c.insertLocalImageFile=function(){var bh=document.createElement("input");bh.type="file";bh.onchange=function(bi){var bj=bh.files[0];if(!bj){return;}var bk=new FileReader();bk.onload=function(){var bl=c.arrayBufferToB64(bk.result);bc.images.addInline(bl,-1);};bk.readAsArrayBuffer(bj);};bh.click();};function aa(bi){var bh=new CustomEvent("fieldDisplayModeChanged",{detail:{fieldDisplayMode:bi.Param1}});document.dispatchEvent(bh);}function aS(bj){var bh={show:(bj.Param1!==0),resources:bj.Data};var bi=new CustomEvent("waitDialogMessageReceived",{detail:bh});document.dispatchEvent(bi);}function aq(bi){var bh=new CustomEvent("mergeFieldHighlightingChanged",{detail:{highlight:(bi.Param1!==0)}});document.dispatchEvent(bh);}function ap(bi){var bh=new CustomEvent("mergeBlockHighlightingChanged",{detail:{highlight:(bi.Param1!==0)}});document.dispatchEvent(bh);}function V(bj){var bi=bj.Data.message;if(bi&&bi.length){c.showMsgDiv(bi,true);}c.documentDirty=false;var bh=new CustomEvent("documentSaved");document.dispatchEvent(bh);}function Q(bh){switch(bh.Param1){case c.ComponentType.TextView:a0(bh.Param2);break;}}function N(bi){switch(bi.Param1){case c.ComponentType.TxDialog:var bh=new CustomEvent("dialogCaretStateChanged",{detail:bi});document.dispatchEvent(bh);break;case c.ComponentType.TextView:bh=new CustomEvent("textViewCaretStateChanged",{detail:bi});document.dispatchEvent(bh);break;}}function P(bj){var bh={dialogType:bj.Param1,nestingDepth:bj.Param2};var bi=new CustomEvent("txDialogClosed",{detail:bh});document.dispatchEvent(bi);}function ak(bi){var bh=new CustomEvent("imageRegionsUpdated",{detail:bi});document.dispatchEvent(bh);}function az(bi){var bh=new CustomEvent("viewContentScrolled",{detail:bi});document.dispatchEvent(bh);}function S(bj){var bh={location:bj.Param1,menuItems:bj.Data};var bi=new CustomEvent("contextMenuDataReceived",{detail:bh});document.dispatchEvent(bi);}function R(bh){var bi=bh.Data.text;var bj=bh.Param1;switch(bj){case c.ConsoleLogType.Log:console.log(bi);break;case c.ConsoleLogType.Debug:console.debug(bi);break;case c.ConsoleLogType.Info:console.info(bi);break;case c.ConsoleLogType.Warn:console.warn(bi);break;case c.ConsoleLogType.Error:console.error(bi);break;}}function Z(bj){var bh={ComponentType:bj.Param1,Kind:bj.Data.Kind,Location:bj.Data.Location,Size:bj.Data.Size};var bi=new CustomEvent("drawShapeMessageReceived",{detail:bh});document.dispatchEvent(bi);}function ai(bi){var bh=new CustomEvent("hyperlinkClicked",{detail:bi.Data.Target});document.dispatchEvent(bh);}function aK(bh){var bi=bh.Data;switch(bh.Param1){case a9.Various:c.variousStringResources=bi;break;case a9.RibbonStrings:c.ribbonStringResources=bi;c.initRibbon();break;case a9.TXTextControl:c.TXTextControlResources=bi;c.trackChangesSidebar.header=bi.ID_TRACKEDCHANGES_CAPTION;break;}}function aw(bh){c.proofingSettings=bh;if(bh.isSpellCheckingEnabled){a("#btnSpelling").removeClass("txui-state-disabled");a("#btnLoadDictionary").removeClass("txui-state-disabled");a("#tglBtnEnableSpellCheck").addClass("ribbon-button-selected");}else{a("#btnSpelling").addClass("txui-state-disabled");a("#btnLoadDictionary").addClass("txui-state-disabled");a("#tglBtnEnableSpellCheck").removeClass("ribbon-button-selected");}if(bh.isLangDetectEnabled){a("#tglBtnEnableLangDetect").addClass("ribbon-button-selected");}else{a("#tglBtnEnableLangDetect").removeClass("ribbon-button-selected");}if(bh.isHyphenationEnabled){a("#tglBtnEnableHyphenation").addClass("ribbon-button-selected");}else{a("#tglBtnEnableHyphenation").removeClass("ribbon-button-selected");}}function an(bk){var bi=null;var bj=bk.Param1;var bh=bk.Param2;switch(bj){case c.ItemType.HeaderFooter:switch(bh){case c.ItemActivationState.Activated:bi=new CustomEvent("headerFooterActivated");break;case c.ItemActivationState.Deactivated:bi=new CustomEvent("headerFooterDeactivated");break;}break;}if(bi){document.dispatchEvent(bi);}}function ah(bj){var bh=bj.Param1;var bk=bj.Data;switch(bh){case c.HTMLDialogType.SpellCheckDialog:var bi=new CustomEvent("spellCheckDialogStateUpdated",{detail:bk});document.dispatchEvent(bi);break;case c.HTMLDialogType.ThesaurusDialog:var bi=new CustomEvent("thesaurusDialogStateUpdated",{detail:bk});document.dispatchEvent(bi);break;case c.HTMLDialogType.PermissionsAddUserDialog:var bi=new CustomEvent("permissionsAddUserDialogUpdated",{detail:bk});document.dispatchEvent(bi);break;}}function aD(bi){var bh=bi.Param1;switch(bh){case c.ServerEventType.DocumentLoaded:u(bi.Data.eventData);break;}}c.DocumentLoadedEventArgs=(function(){function DocumentLoadedEventArgs(fileName){this.fileName=fileName;}return DocumentLoadedEventArgs;})();function u(bi){var bh=new c.DocumentLoadedEventArgs(bi.fileName);c.fireEvent(c.EventName.documentLoaded,bh);}c.SaveDocumentResult=(function(){function SaveDocumentResult(data,streamType,bh){this.data=data;this.streamType=streamType||0;this.bytesWritten=bh||0;}return SaveDocumentResult;})();function aA(bj){if(!bj.Data){throw new Error("processSelectionData(): Received message does not contain data.");}var bh=bj.Data.Content;var bi=bj.Data.ExcMsg;switch(bh.SelectionCommand){case c.SelectionCommand.Save:aC(bh,bi);break;case c.SelectionCommand.GetStartAndLength:aB(bh,bi);break;default:au(bh,bi);break;}}function aC(bl,bk){var bi=c.selectionTaskCallbacks.save.shift();if(bk){throw new Error(bk);}if(!D(bl.StreamType)){bl.DocData=bc.atobUTF8(bl.DocData);}if(bi){var bh=new c.SaveDocumentResult(bl.DocData,bl.StreamType);try{bi(bh);}catch(bj){}}}function aB(bk,bj){var bh=c.selectionTaskCallbacks.getBounds.shift();if(bj){throw new Error(bj);}if(bh){try{bh({start:bk.Start,length:bk.Length});}catch(bi){}}}function au(bi,bh){if(bh){throw new Error(bh);}}function O(bh){if(c.isTouchDevice){return;}c.setClipboardMode(bh.Param1);}function ab(bl){var bh;var bk=bl.Data.fileType;var bi=bl.Data.dir;switch(bk){case c.FileType.Document:bh=c.controlTaskCallbacks.getFileDir.document.shift();break;case c.FileType.Image:bh=c.controlTaskCallbacks.getFileDir.image.shift();break;case c.FileType.DataBase:bh=c.controlTaskCallbacks.getFileDir.db.shift();break;}if(bh){try{bh(bi);}catch(bj){}}}function aJ(bj){var bh=c.controlTaskCallbacks.getStatusBarColor.shift();if(bh){try{bh(bj.Data.cssColor);}catch(bi){}}}function ad(bj){var bh=c.controlTaskCallbacks.getFormattingPrinter.shift();if(bh){try{bh(bj.Data.printerName);}catch(bi){}}}function am(bj){var bh=c.controlTaskCallbacks.getInstalledPrinters.shift();if(bh){try{bh(bj.Data.printerNames);}catch(bi){}}}function Y(bi){var bh=new CustomEvent("drawingControlInfoReceived",{detail:bi.Data});document.dispatchEvent(bh);}function ae(bk){var bj=bk.Param1;var bi=null;switch(bj){case c.FrameEventType.Sized:bi="frameSized";break;case c.FrameEventType.Moved:bi="frameMoved";break;}if(bi){var bh=new CustomEvent(bi,{detail:bk.Data});document.dispatchEvent(bh);}}function aI(bh){var bi=bh.Param1;var bj=(bh.Param2!==0);switch(bi){case c.SideBarType.TrackChanges:if(c.trackChangesSidebar){if(bj){c.trackChangesSidebar.show();c.arrangeControls();}else{c.trackChangesSidebar.hide();}}break;}}c.createPrivateObject=function(bi){c[bi.Name]=c[bi.Name]||{};for(var bh in bi.Description){c[bi.Name][bh]=bi.Description[bh];}};function ba(){var bh=document.getElementById(c.trialStringInf.id);if(!bh){k();}else{if(!bh.style.display||(bh.style.display!==d.display)){bh.style.display=d.display;}if(!bh.style.position||(bh.style.position!==d.position)){bh.style.position=d.position;}if(bh.style.zIndex){bh.style.zIndex="";}if(!bh.style.left||(bh.style.left!==d.left)){bh.style.left=d.left;}if(!bh.style.top||(bh.style.top!==(d.top+"px"))){bh.style.top=d.top+"px";}if(!bh.style.marginLeft||(bh.style.marginLeft!==(d.marginLeft+"px"))){bh.style.marginLeft=d.marginLeft+"px";}if(!bh.style.width||(bh.style.width!==(d.width+"px"))){bh.style.width=d.width+"px";}if(!bh.style.overflow||(bh.style.overflow!==d.overflow)){bh.style.overflow=d.overflow;}if(!bh.style.opacity||(bh.style.opacity!=d.opacity)){bh.style.opacity=d.opacity;}if(!bh.style.fontSize||(bh.style.fontSize!==(d.fontSize+"pt"))){bh.style.fontSize=d.fontSize+"pt";}if(!bh.style.color||(bh.style.color.replace(/ /g,"")!==d.color)){bh.style.color=d.color;}if(bh.innerHTML!==d.innerHTML){bh.innerHTML=d.innerHTML;}if(bh.style.transform){bh.style.transform="";}if(bh.style.zIndex!==d.zIndex){bh.style.zIndex=d.zIndex;}}}function x(bi){if(bi<1){throw new Error("ID must at least be one character long.");}var bl="";var bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";var bj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";for(var bh=0;bh<bi;++bh){if(bh==0){bl+=bk.charAt(Math.floor(Math.random()*bk.length));}else{bl+=bj.charAt(Math.floor(Math.random()*bj.length));}}return bl;}function A(bh){var bi=bh.children.length;if(!bi){return null;}return bh.children[Math.floor(Math.random()*bi)];}var d={position:"absolute",display:"block",left:"50%",top:0,marginLeft:0,overflow:"visible",opacity:0.3,width:0,zIndex:1,fontSize:16,color:"rgb(0,0,0)",innerHTML:""};function k(){var bh=c.trialStringInf.color;var bm=(bh.A/255).toFixed(2);d.opacity=bm;var bi=document.createElement("div");bi.textContent=c.trialStringInf.text;bi.style.position=d.position;if(!c.trialStringWDId){bi.style.opacity=0;}else{bi.style.opacity=bm;}d.color="rgb("+bh.R+","+bh.G+","+bh.B+")";bi.style.color=d.color;bi.style.fontFamily=c.trialStringInf.fontFamily;d.fontSize=c.trialStringInf.fontSize;bi.style.fontSize=c.trialStringInf.fontSize+"pt";bi.style.pointerEvents="none";bi.style.zIndex=d.zIndex;bi.style.textAlign="center";bi.style.display=d.display;if(!c.trialStringWDId){bi.style.transition="opacity 2s";}bi.classList.add("unselectable");d.innerHTML=bi.innerHTML;bi.id=x(10);c.trialStringInf.id=bi.id;var bl=document.getElementById("mainCanvas");var bn=document.getElementById("txTemplateDesignerContainer");try{var bk=A(bn);bn.insertBefore(bi,bk);}catch(bj){if(bj instanceof TypeError&&c.trialStringWDId){clearInterval(c.trialStringWDId);return;}}d.top=bl.offsetTop+c.trialStringInf.yPos;bi.style.top=d.top+"px";d.width=bi.clientWidth+10;bi.style.width=d.width+"px";d.marginLeft=-(bi.clientWidth/2);bi.style.marginLeft=d.marginLeft+"px";bi.style.left=d.left;if(!c.trialStringWDId){setTimeout(function(){bi.style.opacity=bm;},2000);}if(!c.trialStringWDId){c.trialStringWDId=setInterval(ba,2000);}}c.getCachedImageDataURL=function(bl){if(!c.TXImageCache){var bk=localStorage.getItem(c.LocalImageStorageKey);if(!bk){return null;}try{c.TXImageCache=JSON.parse(bk);}catch(bj){console.error("Could not deserialize TX Document Editor image cache: "+bj.message);}}if(!c.TXImageCache){return null;}var bi=c.TXImageCache[bl.ImageName];if(!bi){return null;}bi=bi[bl.ImageKind];if(!bi){return null;}var bh=bl.Culture?bl.Culture.replace("-","_"):"invariant";bi=bi[bh];if(!bi){return null;}return bi.dataURL;};function ag(bj){if((bj==="")||(typeof bj==="undefined")||(bj===null)){c.sendCommand(c.Command.GetImages,0,0,0,c.requiredImages);c.requiredImages=[];return;}if(bj.length==0){return;}var bi=localStorage.getItem(c.LocalImageStorageKey);if(bi){try{c.TXImageCache=JSON.parse(bi);}catch(bh){console.error("Could not deserialize TX Document Editor image cache: "+bh.message);}localStorage.removeItem(c.LocalImageStorageKey);}c.TXImageCache=c.TXImageCache||{};bj.forEach(bl);try{localStorage.setItem(c.LocalImageStorageKey,JSON.stringify(c.TXImageCache));}catch(bh){console.err("Could not store the TX Document Editor image cache in the local storage: "+bh.message);}var bk=document.querySelectorAll("#txTemplateDesignerContainer img[data-tx-image-info]");[].forEach.call(bk,function(bn){var bm=JSON.parse(bn.dataset.txImageInfo);bn.removeAttribute("data-tx-image-info");bn.src=c.getCachedImageDataURL(bm);});function bl(bo){var bn=c.TXImageCache[bo.imageName]||{};var bq=bn[bo.imageKind]||{};var bm=bo.culture?bo.culture.replace("-","_"):"invariant";var bp=bq[bm]||{};bp.dataURL=bo.dataURL;bq[bm]=bp;bn[bo.imageKind]=bq;c.TXImageCache[bo.imageName]=bn;}}function aR(bk){bc.version=bk.Major+"."+bk.Minor;bc.versionInfo={major:bk.Major,minor:bk.Minor,servicePack:bk.ServicePack};var bi=c.LocalImageStoragePrefix+"_"+bk.Major+"_"+bk.Minor+"_"+bk.ServicePack;c.LocalImageStorageKey=bi;var bj=[];for(var bh=0;bh<localStorage.length;++bh){bj.push(localStorage.key(bh));}bj.forEach(function(bl){if(bl.startsWith(c.LocalImageStoragePrefix)&&(bl!==bi)){localStorage.removeItem(bl);}});}c.fileSaveQuestion=function(bj){bj=bj||function(){};if(!c.saveDocumentQuestionEnabled){bj();return;}var bn=c.txDialog?c.txDialog.getActiveViewer():c.textViewer;var bi=c.variousStringResources.SAVE_QUESTION_DIALOG_CAPTION;var bm=c.variousStringResources.SAVE_QUESTION_DIALOG_TEXT;var bo=c.variousStringResources.BTN_YES;var bk=c.variousStringResources.BTN_NO;var bh=c.variousStringResources.BTN_CANCEL;c.documentSavedEventHandlers=[];var bl=function(){c.documentSavedEventHandlers.push(bj);c.sendCommand(c.Command.Save);};a(\'<div style="font-size: 10pt; min-width: 250px">\'+bm+"</div>").dialog({modal:true,resizable:false,title:bi,width:"auto",height:130,buttons:{Yes:{text:bo,click:function(){a(this).dialog("destroy").remove();bl();if(bn&&!c.isTouchDevice){bn.focus();}}},No:{text:bk,click:function(){a(this).dialog("destroy").remove();bj();if(bn&&!c.isTouchDevice){bn.focus();}}},Cancel:{text:bh,click:function(){a(this).dialog("destroy").remove();if(bn&&!c.isTouchDevice){bn.focus();}}}},close:function(){a(this).dialog("destroy").remove();if(bn&&!c.isTouchDevice){bn.focus();}}});};function a4(bh){var bi=new c.InputBoxDialog(bh.title,bh.text,bh.label,bh.isPasswordBox);bi.showModal();}function a5(bh){var bi=new c.MaxPreviewRowsDialog(bh.value);bi.showModal();}function a1(bj,bh){var bi=new c.EditDataRelationsDialog(bj,bh);bi.showModal();}function a2(bh){var bi=new c.EditMergeBlocksDialog(bh);bi.showModal();}function a6(bi){var bh=new c.OptionsDialog(bi);bh.showModal();}function a7(bi,bj){var bh=new c.SaveDocumentAsDialog(bi,bj);bh.showModal();}function v(bh){if(c.isTouchDevice){return;}if(c.overlayControls.exist()){return;}var bi=document.getElementById("txTemplateDesignerContainer");if((bh==bi)||(bi.contains(bh))){if((bh.tagName!=="SELECT")&&(bh.tagName!=="INPUT")){c.textViewer.focus();}}}function G(bh){var bi=document.getElementsByClassName("scrollbar-wrapper");for(var bj=0;bj<bi.length;++bj){if(bi[bj].contains(bh)){v(bh);break;}}}function p(bi){try{G(bi.target);b.Left=(bi.which==1);b.Middle=(bi.which==2);b.Right=(bi.which==3);}catch(bh){}}function q(bi){try{if(c.mouseOwner){var bj=c.mouseOwner;c.mouseOwner=null;bj.canvas_MouseMove(bi);c.mouseOwner=bj;}}catch(bh){}}function r(bi){try{if(bi.which==1){b.Left=false;}if(bi.which==2){b.Middle=false;}if(bi.which==3){b.Right=false;}if(c.mouseOwner){var bj=c.mouseOwner;c.mouseOwner=null;bj.canvas_MouseUp(bi);c.mouseOwner=bj;}if(!b.Left&&!b.Middle&&!b.Right){c.mouseOwner=null;}}catch(bh){}}function o(bi){try{v(bi.target);}catch(bh){}}function L(){}function D(bh){switch(bh){case c.TXStreamType.InternalFormat:case c.TXStreamType.InternalUnicodeFormat:case c.TXStreamType.MSWord:case c.TXStreamType.AdobePDF:case c.TXStreamType.WordprocessingML:case c.TXStreamType.AdobePDFA:case c.TXStreamType.SpreadsheetML:return true;}return false;}c.isBinaryStreamType=D;function s(){for(var bi=0;bi<c.documentSavedEventHandlers.length;++bi){var bh=c.documentSavedEventHandlers[bi];bh();}c.documentSavedEventHandlers=[];}function M(bh){bh.preventDefault();}c.webSocketDisconnect=function(){if(!c.socket){return;}if(c.isSocketConnected()){c.socket.removeEventListener("error",be);c.socket.removeEventListener("close",bd);c.socket.close();}c.socket=null;};function H(bh){try{c.sendCommand(c.Command.Close);c.webSocketDisconnect();}catch(bh){}}c.unsubscribeDocumentAndWindowEvents=function(){};c.jQueryAlert=function(bh,bi,bj){bh=bh||"";bi=bi||"";bi=bi.replace(/\\r?\\n/g,"<br>");bj=typeof bj!=="undefined"?bj:null;a(\'<div style="font-size: 10pt; min-width: 250px">\'+bi+"</div>").dialog({modal:true,resizable:false,title:bh,width:"auto",buttons:{OK:function(){a(this).dialog("destroy").remove();if(bj&&!c.isTouchDevice){bj.focus();}},},close:function(){a(this).dialog("destroy").remove();if(bj&&!c.isTouchDevice){bj.focus();}}});};return bc;}(TXTextControl||{},j$1_10_2));if(typeof randomIntFromInterval!=="function"){randomIntFromInterval=function(b,a){return Math.floor(Math.random()*(a-b+1)+b);};}if(typeof isInteger!=="function"){isInteger=function(a){return(a===+a)&&(a===(a|0));};}if(typeof isCharacter!=="function"){isCharacter=function(a){return typeof a==="string"&&a.length==1;};}if(typeof isArrayOfType!=="function"){isArrayOfType=function(b,a){if(b&&typeof b==="object"&&b.constructor===Array){b.forEach(function(c){if(typeof c!==a){return false;}});return true;}return false;};}!Array.prototype.find&&(Array.prototype.find=function(a){for(var b=0;b<this.length;++b){if(a(this[b],b,this)){return this[b];}}return null;});!Array.prototype.some&&(Array.prototype.some=function(a){return this.find(a)!==null;});!Number.prototype.mod&&(Number.prototype.mod=function(a){return((this%a)+a)%a;});if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(c,b){var a=b>0?b|0:0;return this.substring(a,a+c.length)===c;}});}if(typeof CustomEvent!=="function"){(function(){function a(b,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var c=document.createEvent("CustomEvent");c.initCustomEvent(b,d.bubbles,d.cancelable,d.detail);return c;}a.prototype=window.CustomEvent.prototype;window.CustomEvent=a;})();}if(typeof cloneObject!=="function"){cloneObject=function(a){return JSON.parse(JSON.stringify(a));};}var TXTextControl=(function(g,a){var c=g._private=g._private||{};c.secretAPIEnabled=false;c.documentTaskCallbacks={getTextParts:[],getTextFields:[],getSubTextParts:[],addSubTextPart:[],removeSubTextPart:[]};c.selectionTaskCallbacks={save:[],getBounds:[],getCulture:[]};c.controlTaskCallbacks={getFileDir:{document:[],db:[],image:[]},getStatusBarColor:[],getFormattingPrinter:[],getInstalledPrinters:[]};c.ErrorText=Object.freeze({NoStreamType:"No TXTextControl stream type given.",NoDocumentData:"No document data given.",TooFewParameters:"Wrong number of parameters.",CallBackIsNoFunction:\'Parameter "callback" must be of type "function".\',ErrorCallBackIsNoFunction:\'Parameter "errorCallback" must be of type "function".\',ParamInvalid:"Parameter is invalid.",ParamUndefined:"Parameter is undefined.",ParamNotANumber:"Parameter is not a number.",ParamNotAnInteger:"Parameter is not an integer.",ParamNotAString:"Parameter is not a string.",ParamNotACharacter:"Parameter is not a string of length 1.",ParamNotBoolean:"Parameter is not of type boolean.",ParamNotATableAddPosition:"Parameter is not a TableAddPosition.",ParamNotArrayOfStrings:"Parameter is not an array with elements of type string.",FileTypeIsNotNumeric:\'Parameter "fileType" must be a numeric value.\',InvalidHexColorString:" is not a valid hex color string.",InvalidColorString:" is not a valid color string.",RibbonTabDoesNotExist:"The requested ribbon tab does not exist or is not selectable at the moment.",TextFieldParamTypeError:\'Parameter "textField" cannot be omitted and must be of type TXTextControl.ApplicationField or TXTextControl.TextField.\',TrackedChangeParamTypeError:\'Parameter "trackedChange" cannot be omitted and must be of type TrackedChange.\',});var b=true;g.StreamType=g.streamType=c.TXStreamType;g.EditMode=c.EditMode;g.FileType=c.FileType;g.ClipboardMode=c.ClipboardMode;g.HighlightMode=c.HighlightMode;g.Color=c.Color;g.Direction=c.Direction;g.Justification=c.Justification;g.TabType=c.TabType;g.FieldType=c.FieldType;g.FindOptions=c.FindOptions;g.FontUnderlineStyle=c.FontUnderlineStyle;g.Frame=c.Frame;g.FrameStyle=c.FrameStyle;g.MergeFieldTextFormat=c.MergeFieldTextFormat;g.IfField=c.IfField;g.ListType=c.ListType;g.MeasuringUnit=c.MeasuringUnit;g.NumberFormat=c.NumberFormat;g.RelationalOperator=c.RelationalOperator;g.SpecialZoomFactor=c.SpecialZoomFactor;g.ImageInsertionMode=c.ImageInsertionMode;g.HorizontalAlignment=c.HorizontalAlignment;g.VerticalAlignment=c.VerticalAlignment;g.TextType=c.TextType;g.TextFrameInsertionMode=c.TextFrameInsertionMode;g.SideBarType=c.SideBarType;g.AddResult=c.AddResult;g.SectionBreakKind=c.SectionBreakKind;g.TableAddPosition=c.TableAddPosition;g.ActivationState=c.ActivationState;g.PermanentControlChar=c.PermanentControlChar;g.ScrollPosition=c.ScrollPosition;g.ChangeKind=c.ChangeKind;g.ViewMode=c.ViewMode;g.FormulaReferenceStyle=c.FormulaReferenceStyle;g.BarcodeType=c.BarcodeType;g.FrameInsertionMode=c.FrameInsertionMode;g.MisspelledWordKind=c.MisspelledWordKind;g.ImageFormat=c.ImageFormat;g.BarcodeAlignment=c.BarcodeAlignment;g.BarcodeTextAlignment=c.BarcodeTextAlignment;g.ZOrder=c.ZOrder;g.SubTextPartCollection={AddResult:c.SubTextPartCollection.AddResult};g.ControlChars=c.ControlChars;g.ApplicationFieldFormat=c.ApplicationFieldFormat;g.HeaderFooterType=c.HeaderFooterType;g.InlineStyle=Object.freeze({Attributes:c.InlineStyle.Attributes});g.InputPosition=Object.freeze({ScrollPosition:c.InputPosition.ScrollPosition});g.ParagraphFormat=Object.freeze({Attribute:c.ParagraphFormat.Attribute});g.Selection=Object.freeze({Attribute:c.Selection.Attribute});g.ListFormat=Object.freeze({Attribute:c.ListFormat.Attribute});g.SectionFormat=Object.freeze({Attribute:c.SectionFormat.Attribute});g.PageMargins=Object.freeze({Attribute:c.PageMargins.Attribute});g.PageSize=Object.freeze({Attribute:c.PageSize.Attribute});g.PageBorder=Object.freeze({Attribute:c.PageBorder.Attribute});g.ApplicationField=c.LegacyApplicationField;g.IncludeTextField=c.IncludeTextField;g.TextField=c.LegacyTextField;g.DateField=c.DateField;g.MergeField=c.MergeField;g.NextIfField=c.NextIfField;g.NextField=c.NextField;g.SaveSettings=c.SaveSettings;g.LoadSettings=c.LoadSettings;var e=new c.TextControl();c.textControl=e;g.displayColors=e.displayColors;g.inputFormat=e.inputFormat;g.sections=e.sections;g.tables=e.tables;g.textFields=e.textFields;g.applicationFields=e.applicationFields;g.trackedChanges=e.trackedChanges;g.listFormat=e.listFormat;g.pageMargins=e.pageMargins;g.pageSize=e.pageSize;g.paragraphFormat=e.paragraphFormat;g.documentTargets=e.documentTargets;g.documentLinks=e.documentLinks;g.barcodes=e.barcodes;g.images=e.images;g.editableRegions=e.editableRegions;g.hypertextLinks=e.hypertextLinks;g.lines=e.lines;g.misspelledWords=e.misspelledWords;g.paragraphs=e.paragraphs;g.textFrames=e.textFrames;g.frames=e.frames;g.formFields=e.formFields;g.subTextParts=e.subTextParts;g.textChars=e.textChars;g.headersAndFooters=e.headersAndFooters;g.pages=e.pages;g.inlineStyles=e.inlineStyles;g.paragraphStyles=e.paragraphStyles;g.inputPosition=e.inputPosition;g.textParts=e.textParts;g.setActivationState=e.setActivationState.bind(e);g.setAllowUndo=e.setAllowUndo.bind(e);g.setBackColor=e.setBackColor.bind(e);g.setBaseline=e.setBaseline.bind(e);g.setControlChars=e.setControlChars.bind(e);g.setDocumentTargetMarkers=e.setDocumentTargetMarkers.bind(e);g.setDrawingMarkerLines=e.setDrawingMarkerLines.bind(e);g.setEditMode=e.setEditMode.bind(e);g.setIsTrackChangesEnabled=e.setIsTrackChangesEnabled.bind(e);g.setPermanentControlChars=e.setPermanentControlChars.bind(e);g.setSelectObjects=e.setSelectObjects.bind(e);g.setTextFrameMarkerLines=e.setTextFrameMarkerLines.bind(e);g.setViewMode=e.setViewMode.bind(e);g.setFontUnderlineStyle=e.setFontUnderlineStyle.bind(e);g.setFormulaReferenceStyle=e.setFormulaReferenceStyle.bind(e);g.setLandscape=e.setLandscape.bind(e);g.setPageUnit=e.setPageUnit.bind(e);g.setText=e.setText.bind(e);g.setTextBackColor=e.setTextBackColor.bind(e);g.setIsFormulaCalculationEnabled=e.setIsFormulaCalculationEnabled.bind(e);g.setIsHyphenationEnabled=e.setIsHyphenationEnabled.bind(e);g.setIsLanguageDetectionEnabled=e.setIsLanguageDetectionEnabled.bind(e);g.setIsSpellCheckingEnabled=e.setIsSpellCheckingEnabled.bind(e);g.getActivationState=e.getActivationState.bind(e);g.getAllowUndo=e.getAllowUndo.bind(e);g.getBaseline=e.getBaseline.bind(e);g.getBackColor=e.getBackColor.bind(e);g.getCanCharacterFormat=e.getCanCharacterFormat.bind(e);g.getCanCopy=e.getCanCopy.bind(e);g.getCanDocumentFormat=e.getCanDocumentFormat.bind(e);g.getCanPaste=e.getCanPaste.bind(e);g.getCanPrint=e.getCanPrint.bind(e);g.getCanRedo=e.getCanRedo.bind(e);g.getCanStyleFormat=e.getCanStyleFormat.bind(e);g.getCanTableFormat=e.getCanTableFormat.bind(e);g.getCanUndo=e.getCanUndo.bind(e);g.getControlChars=e.getControlChars.bind(e);g.getDocumentTargetMarkers=e.getDocumentTargetMarkers.bind(e);g.getDrawingMarkerLines=e.getDrawingMarkerLines.bind(e);g.getEditMode=e.getEditMode.bind(e);g.getIsTrackChangesEnabled=e.getIsTrackChangesEnabled.bind(e);g.getPageCount=e.getPageCount.bind(e);g.getPermanentControlChars=e.getPermanentControlChars.bind(e);g.getRedoActionName=e.getRedoActionName.bind(e);g.getSelectObjects=e.getSelectObjects.bind(e);g.getTextFrameMarkerLines=e.getTextFrameMarkerLines.bind(e);g.getUndoActionName=e.getUndoActionName.bind(e);g.getUserNames=e.getUserNames.bind(e);g.getViewMode=e.getViewMode.bind(e);g.getFontUnderlineStyle=e.getFontUnderlineStyle.bind(e);g.getFormulaReferenceStyle=e.getFormulaReferenceStyle.bind(e);g.getLandscape=e.getLandscape.bind(e);g.getPageUnit=e.getPageUnit.bind(e);g.getText=e.getText.bind(e);g.getTextBackColor=e.getTextBackColor.bind(e);g.getIsFormulaCalculationEnabled=e.getIsFormulaCalculationEnabled.bind(e);g.getIsHyphenationEnabled=e.getIsHyphenationEnabled.bind(e);g.getIsLanguageDetectionEnabled=e.getIsLanguageDetectionEnabled.bind(e);g.getIsSpellCheckingEnabled=e.getIsSpellCheckingEnabled.bind(e);g.zoom=e.zoom.bind(e);g.undo=e.undo.bind(e);g.redo=e.redo.bind(e);g.clear=e.clear.bind(e);g.resetContents=e.resetContents.bind(e);g.find=e.find.bind(e);g.getSupportedFonts=e.getSupportedFonts.bind(e);g.select=e.select.bind(e);g.selectAll=e.selectAll.bind(e);g.selectWord=e.selectWord.bind(e);g.getSupportedPaperSizes=e.getSupportedPaperSizes.bind(e);g.load=e.load.bind(e);g.save=e.save.bind(e);g.loadDocument=function(l,h,i,k,j){return e.load(l,h,i,k,j);};g.saveDocument=function(k,h,j,i){return e.save(k,h,j,i);};g.appendDocument=function(streamType,base64Data){if(!streamType){throw new Error(c.ErrorText.NoStreamType);}if(!base64Data){throw new Error(c.ErrorText.NoDocumentData);}c.sendCommand(c.Command.AppendDocumentFile,0,streamType,1,base64Data);};g.loadSelection=function(streamType,base64Data){e.selection.load(streamType,base64Data);};g.saveSelection=function(streamType,callback){e.selection.save(streamType,callback);};g.getTextParts=function(callback,atInputPosition){atInputPosition=atInputPosition||false;if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getTextParts.push(callback);var h=atInputPosition?c.TextPartCommand.GetItem:c.TextPartCommand.GetAll;c.sendCommand(c.Command.ClientTextPart,h);};g.getTextFields=function(callback,atInputPosition){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getTextFields.push(callback);var h=atInputPosition?c.TextFieldCommand.GetItem:c.TextFieldCommand.GetAll;c.sendCommand(c.Command.ClientTextField,h);};g.addTextField=function(textField){if(!textField||((textField.constructor!==c.LegacyApplicationField)&&(textField.constructor!==c.LegacyTextField))){throw new TypeError(c.ErrorText.TextFieldParamTypeError);}c.sendCommand(c.Command.ClientTextField,c.TextFieldCommand.Add,0,0,{textField:textField._.field});};g.addMergeField=function(mergeField){var i=null,h=-1;if((mergeField===null)||(typeof mergeField==="undefined")){throw new TypeError(\'Please provide "mergeField" parameter.\');}if(mergeField.constructor===g.MergeField){h=g.FieldType.MergeField;}else{if(mergeField.constructor===g.IfField){h=g.FieldType.IfField;}else{if(mergeField.constructor===g.IncludeTextField){h=g.FieldType.IncludeTextField;}else{if(mergeField.constructor===g.DateField){h=g.FieldType.DateField;}else{if(mergeField.constructor===g.NextField){h=g.FieldType.NextField;}else{if(mergeField.constructor===g.NextIfField){h=g.FieldType.NextIfField;}else{throw new TypeError(\'Parameter "mergeField" must be one of the known merge field types (e. g. TXTextControl.MergeField or TXTextControl.DateField).\');}}}}}}if(h!==-1){i=mergeField.toPascalCase();}if(i){c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,h,0,i);}};g.showMergeFieldDialog=function(fieldType){var h;if(typeof fieldType==="undefined"){if(c.currentFieldData){c.showFieldDialog(c.currentFieldData.fieldAdapter,c.currentFieldData.mergeFieldType);}return;}if(!isInteger(fieldType)){throw new TypeError(\'Parameter "fieldType" must be one of the values defined in TXTextControl.FieldType.\');}switch(fieldType){case g.FieldType.MergeField:var i=new c.MergeField();h=new c.MergeFieldDialog(i.toPascalCase());break;case g.FieldType.IfField:h=new c.IfFieldDialog();break;case g.FieldType.IncludeTextField:h=new c.IncludeTextFieldDialog();break;case g.FieldType.DateField:h=new c.DateFieldDialog();break;case g.FieldType.NextField:c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,c.FieldType.NextField);break;case g.FieldType.NextIfField:h=new c.NextIfFieldDialog();break;default:console.error("Unknown merge field type.");break;}if(h){h.showModal();}};g.removeTextField=function(textField,keepText){keepText=!!keepText;if(!textField||((textField.constructor!==c.LegacyApplicationField)&&(textField.constructor!==c.LegacyTextField))){throw new TypeError(c.ErrorText.TextFieldParamTypeError);}c.sendCommand(c.Command.ClientTextField,c.TextFieldCommand.Remove,0,0,{textField:textField._.field,keepText:keepText});};g.getSubTextParts=function(callback,atInputPosition){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getSubTextParts.push(callback);var h=atInputPosition?c.SubTextPartCommand.GetItem:c.SubTextPartCommand.GetAll;c.sendCommand(c.Command.ClientSubTextPart,h);};g.focus=function(){if(c.textViewer){c.textViewer.focus();}};g.removeFromDom=function(){try{c.sendCommand(c.Command.Close);c.webSocketDisconnect();c.unsubscribeDocumentAndWindowEvents();var i=document.getElementById("txTemplateDesignerContainer");i.parentElement.removeChild(i);TXTextControl=undefined;}catch(h){}};g.loadXMLDatabase=function(xmlData){if(!xmlData){throw new Error(c.ErrorText.TooFewParameters);}if(typeof xmlData!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.OpenFile,c.FileType.DataBase,c.DataBaseType.XML,1,xmlData);};g.loadJsonData=function(h){if(!h){throw new Error(c.ErrorText.TooFewParameters);}if(typeof h!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.OpenFile,c.FileType.DataBase,c.DataBaseType.JSON,1,h);};g.getFileDirectory=function(fileType,callback){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof fileType!=="number"){throw new TypeError(c.ErrorText.FileTypeIsNotNumeric);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}switch(fileType){case c.FileType.Document:c.controlTaskCallbacks.getFileDir.document.push(callback);break;case c.FileType.Image:c.controlTaskCallbacks.getFileDir.image.push(callback);break;case c.FileType.DataBase:c.controlTaskCallbacks.getFileDir.db.push(callback);break;}c.sendCommand(c.Command.GetFileDirectory,fileType);};g.setFileDirectory=function(fileType,directory){if(!directory){throw new Error(c.ErrorText.TooFewParameters);}if(typeof fileType!=="number"){throw new TypeError(c.ErrorText.FileTypeIsNotNumeric);}if(typeof directory!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.SetFileDirectory,fileType,0,0,directory);};g.getCultures=function(){return c.getCultures();};function d(h){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(h);}c.isValidHexColor=d;function f(h){if(!d(h)){throw new Error(\'"\'+h+\'"\'+c.ErrorText.InvalidHexColorString);}var i={R:127,G:127,B:127};if(h.length==4){i.R=parseInt(h.charAt(1),16)*17;i.G=parseInt(h.charAt(2),16)*17;i.B=parseInt(h.charAt(3),16)*17;}else{if(h.length==7){i.R=parseInt(h.substr(1,2),16);i.G=parseInt(h.substr(3,2),16);i.B=parseInt(h.substr(5,2),16);}}return i;}g.setStatusBarColor=function(hexColor){if(typeof hexColor!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}var h=f(hexColor);c.sendCommand(c.Command.StatusBarColor,0,0,0,h);};g.getStatusBarColor=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getStatusBarColor.push(callback);c.sendCommand(c.Command.StatusBarColor);};g.setFormattingPrinter=function(printerName){if(typeof printerName!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.ClientSetFormattingPrinter,0,0,0,printerName);};g.getFormattingPrinter=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getFormattingPrinter.push(callback);c.sendCommand(c.Command.ClientGetFormattingPrinter);};g.getInstalledPrinters=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getInstalledPrinters.push(callback);c.sendCommand(c.Command.ClientGetInstalledPrinters);};g.showVerticalRuler=c.showVerticalRuler;g.showHorizontalRuler=c.showHorizontalRuler;g.showStatusBar=c.showStatusBar;g.showRibbonBar=c.showRibbonBar;g.showSideBar=c.showSideBar;g.printDocument=c.print;Object.defineProperty(g,"selection",{get:function(){return e.selection;},set:function(bounds){e.selection.setBounds(bounds);},enumerable:true});Object.defineProperty(g,"isLoadingDialogEnabled",{get:function(){return b;},set:function(enabled){if(typeof enabled!=="boolean"){return;}b=enabled;c.sendCommand(c.Command.EnableLoadWaitDialog,enabled?1:0);},enumerable:true});Object.defineProperty(g,"editMode",{get:function(){return c.editModeCur;},set:function(editMode){if(typeof editMode!=="number"){return;}c.sendCommand(c.Command.EditMode,editMode);},enumerable:true});Object.defineProperty(g,"controlChars",{get:function(){return c.controlChars;},set:function(controlChars){if(typeof controlChars!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.ControlChars,controlChars?1:0);},enumerable:true});Object.defineProperty(g,"tableGridLines",{get:function(){return c.tableGridLines;},set:function(tableGridLines){if(typeof tableGridLines!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.TableGridLines,tableGridLines?1:0);},enumerable:true});Object.defineProperty(g,"documentTargetMarkers",{get:function(){return c.documentTargetMarkers;},set:function(documentTargetMarkers){if(typeof documentTargetMarkers!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.BookmarkMarkers,documentTargetMarkers?1:0);},enumerable:true});Object.defineProperty(g,"textFrameMarkerLines",{get:function(){return c.textFrameMarkerLines;},set:function(textFrameMarkerLines){if(typeof textFrameMarkerLines!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.TextFrameMarkerLines,textFrameMarkerLines?1:0);},enumerable:true});Object.defineProperty(g,"contextMenusEnabled",{get:function(){return c.contextMenusEnabled;},set:function(contextMenusEnabled){if(typeof contextMenusEnabled!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.ContextMenusEnabled,contextMenusEnabled?1:0);},enumerable:true});Object.defineProperty(g,"saveDocumentQuestionDialogEnabled",{get:function(){return c.saveDocumentQuestionEnabled;},set:function(isEnabled){if(typeof isEnabled!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.saveDocumentQuestionEnabled=isEnabled;},enumerable:true});Object.defineProperty(g,"textFieldsEditable",{get:function(){return c.textFieldsEditable;},set:function(textFieldsEditable){if(typeof textFieldsEditable!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.SetTextFieldsEditable,textFieldsEditable?1:0);},enumerable:true});Object.defineProperty(g,"ribbon",{get:function(){return new c.Ribbon();},enumerable:true});Object.defineProperty(g,"isSpellCheckingEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isSpellCheckingEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableSpellChecking,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isHyphenationEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isHyphenationEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableHyphenation,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isLanguageDetectionEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isLangDetectEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableLangDetect,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isTrackChangesEnabled",{get:function(){return c.isTrackChangesEnabled;},set:function(enabled){c.sendCommand(c.Command.TrackChangesEnabledState,enabled?1:0);},enumerable:true});Object.defineProperty(g,"clipboardMode",{get:function(){return c.clipboardMode;},set:function(clipboardMode){c.sendCommand(c.Command.ClipboardMode,clipboardMode);},enumerable:true});Object.defineProperty(g,"zoomFactor",{get:function(){return c.zoom;},set:function(zoomFactor){if(zoomFactor===undefined){throw new Error(\'Parameter "zoomFactor" is undefined.\');}if((typeof zoomFactor!=="number")||((zoomFactor<10)&&(zoomFactor>-1))||(zoomFactor<-3)){throw new TypeError("Zoom factor must be a positive number >= 10 or one of the special zoom factor values defined in TXTextControl.SpecialZoomFactor.");}zoomFactor=Math.round(zoomFactor);c.sendCommand(c.Command.Zoom,zoomFactor);},enumerable:true});g.enableCommands=function(silent){g.WebSocket=c.socket;if(c.secretAPIEnabled){return;}g.sendCommand=c.sendCommand;g.Command=c.Command;g.VisualElement=c.VisualElement;g.ItemType=c.ItemType;g.DialogCategory=c.DialogCategory;g.HTMLDialogType=c.HTMLDialogType;g.TXDialogType=c.TXDialogType;g.BreakType=c.BreakType;g.ComponentType=c.ComponentType;g.ActivationState=c.ActivationState;g.FieldDisplayMode=c.FieldDisplayMode;g.SpellCheckDialogCommand=c.SpellCheckDialogCommand;g.SelectionCommand=c.SelectionCommand;g.TextPartCommand=c.TextPartCommand;g.TextFrameProperty=c.TextFrameProperty;g.showCenteredMessage=c.showMsgDiv;g.ChartTemplateType=c.ChartTemplateType;g.FrameProperty=c.FrameProperty;g.VerticalAlignment=c.VerticalAlignment;g.SectionFormatDialogTab=c.SectionFormatDialogTab;g.TableCommand=c.TableCommand;g.TableElement=c.TableElement;g.MailMergeNavButton={First:0,Previous:1,Next:2,Last:3,};g.insertMergeField=function(i){var h={Name:i,Text:""+i+""};c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,c.FieldType.MergeField,0,h);};g.insertMergeBlock=function(h){h=JSON.stringify(h);c.sendCommand(c.Command.InsertItem,c.ItemType.MergeBlock,0,0,h);};if(!silent){console.warn(\'Undocumented and unsupported TextControl API activated. Use at your own risk. Call this function with the parameter "true" if you don\\\'t want to see this message.\');}c.secretAPIEnabled=true;};return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.InputFormatEvents=Object.freeze(["allFrameLinesChanged","boldChanged","bottomAlignedChanged","bottomDistanceChanged","bottomFrameLineChanged","boxFrameChanged","bulletCharacterChanged","bulletedListChanged","centeredChanged","fontFamilyChanged","fontSizeChanged","frameFillColorChanged","frameLineColorChanged","frameLineWidthChanged","hangingIndentChanged","innerHorizontalFrameLinesChanged","innerVerticalFrameLinesChanged","italicChanged","justifiedChanged","leftAlignedChanged","leftFrameLineChanged","leftIndentChanged","leftToRightChanged","lineSpacingChanged","numberedListChanged","numberedListFormatChanged","numberFormatChanged","numberTextTypeChanged","rightAlignedChanged","rightFrameLineChanged","rightIndentChanged","rightToLeftChanged","standardTextTypeChanged","strikeoutChanged","structuredListChanged","structuredListFormatChanged","styleNameChanged","styleNamesChanged","subscriptChanged","superscriptChanged","textBackColorChanged","textColorChanged","topAlignedChanged","topDistanceChanged","topFrameLineChanged","underlineChanged","underlineStyleChanged","verticallyCenteredChanged"]);b.TextViewGeneratorEvents=Object.freeze(["barcodeCreated","barcodeDeleted","barcodeDeselected","barcodeSelected","cannotTrackChange","changed","charFormatChanged","chartCreated","chartDeleted","chartDeselected","chartSelected","contentsReset","documentLinkClicked","documentSizeChanged","drawingActivated","drawingCreated","drawingDeactivated","drawingDeleted","drawingDeselected","drawingSelected","editableRegionCreated","editableRegionDeleted","editableRegionEntered","editableRegionLeft","frameDeselected","frameMoved","frameSelected","frameSized","headerFooterActivated","headerFooterDeactivated","hypertextLinkClicked","hyphenateWord","imageCreated","imageDeleted","imageDeselected","imageSelected","mainTextActivated","pageFormatChanged","paragraphFormatChanged","removeCombobox","spellCheckText","subTextPartCreated","subTextPartDeleted","subTextPartEntered","subTextPartLeft","subTextPartClicked","subTextPartDoubleClicked","tableCreated","tableDeleted","textFieldEntered","textFieldLeft","textFieldClicked","textFrameActivated","textFrameCreated","textFrameDeactivated","textFrameDeleted","textFrameDeselected","textFrameSelected","trackedChangeChanged","trackedChangeCreated","trackedChangeDeleted","trackedChangeStateChanged"]);var e=Object.freeze({Subscribe:0,Unsubscribe:1,});b.EventCategory=Object.freeze({TextViewGenerator:0,InputFormat:1});b.subscribeToEvent=function(h,g){if(c(g,h)){d(e.Subscribe,h,g);return true;}return false;};b.unsubscribeFromEvent=function(h,g){if(c(g,h)){d(e.Unsubscribe,h,g);return true;}return false;};function c(h,i){var g;switch(h){case b.EventCategory.TextViewGenerator:g=b.TextViewGeneratorEvents;break;case b.EventCategory.InputFormat:g=b.InputFormatEvents;break;default:throw new Error("Kind of event is not supported.");}return g.indexOf(i)>=0;}function d(g,i,h){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof i!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof h!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(!b.isSocketConnected()){throw new Error("WebSocket connection has not been established yet. Attach TextControl event handlers in the \'textControlLoaded\' event or later.");}b.sendCommand(b.Command.TextControlEvent,g,0,h,i);}return f;}(TXTextControl||{},j$1_10_2));';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHgtbWluLWpzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHR4dGV4dGNvbnRyb2wvdHgtbmctZG9jdW1lbnQtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL2RvY3VtZW50LWVkaXRvci90eC1taW4tanMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxNQUFNLEtBQU8sS0FBSyxHQUFXLHcwL21CQUF3MC9tQiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBUWF9KUzogc3RyaW5nID0gJ3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Ccm93c2VyRGV0ZWN0PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy51c2VyQWdlbnQ9bmF2aWdhdG9yLnVzZXJBZ2VudDt0aGlzLmFwcFZlcnNpb249bmF2aWdhdG9yLmFwcFZlcnNpb247dGhpcy5icm93c2VyPXRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZGF0YUJyb3dzZXIpfHxcIk90aGVyXCI7dGhpcy52ZXJzaW9uPXRoaXMuc2VhcmNoVmVyc2lvbih0aGlzLnVzZXJBZ2VudCl8fHRoaXMuc2VhcmNoVmVyc2lvbih0aGlzLmFwcFZlcnNpb24pfHxcIlVua25vd25cIjt9LHNlYXJjaFN0cmluZzpmdW5jdGlvbihkKXtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nPWRbZV0uc3ViU3RyaW5nO2lmKHRoaXMudXNlckFnZW50LmluZGV4T2YoZFtlXS5zdWJTdHJpbmcpIT0tMSl7cmV0dXJuIGRbZV0uaWRlbnRpdHk7fX19LHNlYXJjaFZlcnNpb246ZnVuY3Rpb24oZCl7dmFyIGU9ZC5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7aWYoZT09LTEpe3JldHVybjt9cmV0dXJuIHBhcnNlRmxvYXQoZC5zdWJzdHJpbmcoZSt0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoKzEpKTt9LGRhdGFCcm93c2VyOlt7c3ViU3RyaW5nOlwiRWRnZVwiLGlkZW50aXR5OlwiRWRnZVwifSx7c3ViU3RyaW5nOlwiQ2hyb21lXCIsaWRlbnRpdHk6XCJDaHJvbWVcIn0se3N1YlN0cmluZzpcIkZpcmVmb3hcIixpZGVudGl0eTpcIkZpcmVmb3hcIn0se3N1YlN0cmluZzpcIlNhZmFyaVwiLGlkZW50aXR5OlwiU2FmYXJpXCJ9LHtzdWJTdHJpbmc6XCJPcGVyYVwiLGlkZW50aXR5OlwiT3BlcmFcIn0se3N1YlN0cmluZzpcIk1TSUVcIixpZGVudGl0eTpcIkV4cGxvcmVyXCJ9LHtzdWJTdHJpbmc6XCJydjoxMS4wXCIsaWRlbnRpdHk6XCJFeHBsb3JlclwifSx7c3ViU3RyaW5nOlwiVHJpZGVudC9cIixpZGVudGl0eTpcIkV4cGxvcmVyXCJ9LF19O2IuQnJvd3NlckRldGVjdC5pbml0KCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihrLGEpe3ZhciBiPWsuX3ByaXZhdGU9ay5fcHJpdmF0ZXx8e307dmFyIGg9TWF0aC5sb2c7dmFyIGc9TWF0aC5MTjI7dmFyIGU9TWF0aC5jbHozMnx8ZnVuY3Rpb24obCl7cmV0dXJuIDMxLWgobD4+PjApL2d8MDt9O3ZhciBmPVN0cmluZy5mcm9tQ2hhckNvZGU7dmFyIGk9YXRvYjt2YXIgaj1idG9hO2Z1bmN0aW9uIGQobSl7dmFyIG49bS5jaGFyQ29kZUF0KDApO2lmKG4+PTU1Mjk2JiZuPD01NjMxOSl7dmFyIGw9bS5jaGFyQ29kZUF0KDEpO2lmKGwhPT1sKXtyZXR1cm4gZigyMzksMTkxLDE4OSk7fWlmKGw+PTU2MzIwJiZsPD01NzM0Myl7bj0obi01NTI5NikqMTAyNCtsLTU2MzIwKzY1NTM2O2lmKG4+NjU1MzUpe3JldHVybiBmKCgzMDw8Myl8KG4+Pj4xOCksKDI8PDYpfCgobj4+PjEyKSY2MyksKDI8PDYpfCgobj4+PjYpJjYzKSwoMjw8Nil8KG4mNjMpKTt9fWVsc2V7cmV0dXJuIGYoMjM5LDE5MSwxODkpO319aWYobjw9MTI3KXtyZXR1cm4gbjt9ZWxzZXtpZihuPD0yMDQ3KXtyZXR1cm4gZigoNjw8NSl8KG4+Pj42KSwoMjw8Nil8KG4mNjMpKTt9ZWxzZXtyZXR1cm4gZigoMTQ8PDQpfChuPj4+MTIpLCgyPDw2KXwoKG4+Pj42KSY2MyksKDI8PDYpfChuJjYzKSk7fX19ay5idG9hVVRGOD1mdW5jdGlvbihpbnB1dFN0cmluZyxhZGRCT00pe3JldHVybiBqKChhZGRCT00/XCJcXFxceEVGXFxcXHhCQlxcXFx4QkZcIjpcIlwiKStpbnB1dFN0cmluZy5yZXBsYWNlKC9bXFxcXHg4MC1cXFxcdUQ3ZmZcXFxcdURDMDAtXFxcXHVGRkZGXXxbXFxcXHVEODAwLVxcXFx1REJGRl1bXFxcXHVEQzAwLVxcXFx1REZGRl0/L2csZCkpO307ZnVuY3Rpb24gYyhtKXt2YXIgbD1tLmNoYXJDb2RlQXQoMCk8PDI0O3ZhciBvPWUofmwpO3ZhciBuPTAscT1tLmxlbmd0aDt2YXIgcD1cIlwiO2lmKG88NSYmcT49byl7bD0obDw8byk+Pj4oMjQrbyk7Zm9yKG49MTtuPG87KytuKXtsPShsPDw2KXwobS5jaGFyQ29kZUF0KG4pJjYzKTt9aWYobDw9NjU1MzUpe3ArPWYobCk7fWVsc2V7aWYobDw9MTExNDExMSl7bC09NjU1MzY7cCs9ZigobD4+MTApKzU1Mjk2LChsJjEwMjMpKzU2MzIwKTt9ZWxzZXtuPTA7fX19Zm9yKDtuPHE7KytuKXtwKz1cIlxcXFx1ZmZmZFwiO31yZXR1cm4gcDt9ay5hdG9iVVRGOD1mdW5jdGlvbihpbnB1dFN0cmluZyxrZWVwQk9NKXtpZigha2VlcEJPTSYmaW5wdXRTdHJpbmcuc3Vic3RyaW5nKDAsMyk9PT1cIlxcXFx4RUZcXFxceEJCXFxcXHhCRlwiKXtpbnB1dFN0cmluZz1pbnB1dFN0cmluZy5zdWJzdHJpbmcoMyk7fXJldHVybiBpKGlucHV0U3RyaW5nKS5yZXBsYWNlKC9bXFxcXHhjMC1cXFxceGZmXVtcXFxceDgwLVxcXFx4YmZdKi9nLGMpO307cmV0dXJuIGs7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Qb2ludD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKHgseSl7aWYoKHR5cGVvZiB4IT09XCJudW1iZXJcIil8fCh0eXBlb2YgeSE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVycyBoYXZlIHRvIGJlIG51bWVyaWNhbCB2YWx1ZXMuXCIpO310aGlzLng9eDt0aGlzLnk9eTt9cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGcsYSl7dmFyIGI9Zy5fcHJpdmF0ZT1nLl9wcml2YXRlfHx7fTtiLlVJU3RhdGVGbGFnPXtDYW5Db3B5OjEsQ2FuUGFzdGU6MixDYW5VbmRvOjQsQ2FuUmVkbzo4LENvbnRyb2xDaGFyczoxNixIZWFkZXI6MzIsRm9vdGVyOjY0LFRhYmxlR3JpZExpbmVzOjEyOCxEb2N1bWVudFRhcmdldE1hcmtlcnM6MjU2LERyYXdpbmdNYXJrZXJMaW5lczo1MTIsVGV4dEZyYW1lTWFya2VyTGluZXM6MTAyNCxDb250ZXh0TWVudXNFbmFibGVkOjIwNDgsVGV4dEZpZWxkc0VkaXRhYmxlOjQwOTYsRnJhbWVBbmNob3JzOjgxOTIsU2VsZWN0T2JqZWN0czoxNjM4NH07Yi5Eb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zPXtOb25lOjAsQWxsb3dBdXRob3Jpbmc6MSxBbGxvd0F1dGhvcmluZ0ZpZWxkczoyLEFsbG93Q29udGVudEFjY2Vzc2liaWxpdHk6NCxBbGxvd0RvY3VtZW50QXNzZW1ibHk6OCxBbGxvd0V4dHJhY3RDb250ZW50czoxNixBbGxvd0dlbmVyYWxFZGl0aW5nOjMyLEFsbG93SGlnaExldmVsUHJpbnRpbmc6NjQsQWxsb3dMb3dMZXZlbFByaW50aW5nOjEyOCxBbGxvd0FsbDoyNTV9O2IuUGFnZUNvbnRlbnQ9e0JhY2tncm91bmQ6MSxIZWFkZXJzQW5kRm9vdGVyczoyLE1haW5UZXh0OjQsQWxsOjcsU2NyZWVuRWxlbWVudHM6OH07Yi5Db250cm9sQ2hhcnM9e1RhYjo5LFBhcmFncmFwaEVuZDoxMCxMaW5lQnJlYWs6MTEsUGFnZUJyZWFrOjEyLENvbHVtbkJyZWFrOjE0LE5vblZpc2libGVIeXBoZW46MzEsTm9uQnJlYWtpbmdTcGFjZToxNjAsfTtiLlZlcnRpY2FsQWxpZ25tZW50PXtUb3A6MCxDZW50ZXI6MSxCb3R0b206Mn07Yi5Ib3Jpem9udGFsQWxpZ25tZW50PXtMZWZ0OjEsUmlnaHQ6MixDZW50ZXI6MyxKdXN0aWZ5OjR9O2IuVGV4dFR5cGU9e1RleHQ6MCxOdW1iZXI6MX07Yi5OdW1iZXJGb3JtYXQ9e05vbmU6MCxBcmFiaWNOdW1iZXJzOjMsTGV0dGVyczo0LENhcGl0YWxMZXR0ZXJzOjUsUm9tYW5OdW1iZXJzOjYsU21hbGxSb21hbk51bWJlcnM6N307Yi5Gb250VW5kZXJsaW5lU3R5bGU9e0RvdWJsZWRXb3Jkc09ubHk6NDI4OCxEb3VibGVkOjQ2NzIsU2luZ2xlV29yZHNPbmx5OjE2NTI4LFNpbmdsZToxNjkxMixOb25lOjIwOTkyfTtiLkJyZWFrVHlwZT17TmV4dExpbmU6MCxDb2x1bW46MSxQYWdlOjIsU2VjdGlvbk5leHRQYWdlOjMsU2VjdGlvbkNvbnRpbnVvdXM6NH07Yi5TZWN0aW9uQnJlYWtLaW5kPXtCZWdpbkF0TmV3TGluZToyNTYsQmVnaW5BdE5ld1BhZ2U6NTEyfTtiLkl0ZW1UeXBlPXtIeXBlcnRleHRMaW5rOjAsRG9jdW1lbnRMaW5rOjEsRG9jdW1lbnRUYXJnZXQ6MyxMaW5rOjQsUGFnZU51bWJlcjo1LEZpZWxkQWRhcHRlcjo2LEFwcGxpY2F0aW9uRmllbGQ6NyxDaGFydDo4LEZyYW1lOjEwLE1lcmdlQmxvY2s6MTEsSGVhZGVyRm9vdGVyOjEyLEltYWdlUGxhY2Vob2xkZXI6MTMsVGV4dEZpZWxkOjE0LFNoYXBlOjE1LERyYXdpbmdDYW52YXM6MTYsRHJhd2luZ0ZyYW1lOjE3fTtiLkhlYWRlckZvb3RlclR5cGU9e0hlYWRlcjoxLEZpcnN0UGFnZUhlYWRlcjoyLEZvb3Rlcjo0LEZpcnN0UGFnZUZvb3Rlcjo4LEV2ZW5IZWFkZXI6MTI4LEV2ZW5Gb290ZXI6MzI3NjgsQWxsOjMyOTExfTtiLlRhYmxlQWRkUG9zaXRpb249e0JlZm9yZToxLEFmdGVyOjJ9O2IuUGVybWFuZW50Q29udHJvbENoYXI9T2JqZWN0LmZyZWV6ZSh7U3BhY2U6MSxUYWI6MixQYXJhZ3JhcGhFbmQ6NCxGb3JjZWRMaW5lQnJlYWs6OCxPYmplY3RBbmNob3I6MTYsRm9yY2VkUGFnZUJyZWFrOjMyLFNlY3Rpb25CcmVhazo2NCxIeXBoZW46MTI4LE5vbkJyZWFraW5nU3BhY2U6MjU2LFRhYmxlQ2VsbEVuZDo1MTIsUGFnaW5hdGlvbjoxMDI0LEFsbDoyMDQ3fSk7Yi5MaXN0VHlwZT17Tm9uZToxLEJ1bGxldGVkOjIsTnVtYmVyZWQ6NCxTdHJ1Y3R1cmVkOjh9O2IuRGlyZWN0aW9uPXtMZWZ0VG9SaWdodDoxLFJpZ2h0VG9MZWZ0OjJ9O2IuRnJhbWU9e0xlZnRMaW5lOjEsUmlnaHRMaW5lOjIsVG9wTGluZTo0LEJvdHRvbUxpbmU6OCxCb3g6MTUsTWVyZ2VkQm94OjE0MyxOb25lOjkzNzE2NDh9O2IuRnJhbWVTdHlsZT17U2luZ2xlOjMyLERvdWJsZTo2NH07Yi5KdXN0aWZpY2F0aW9uPXtTcGFjZXM6MSxLYXNoaWRhOjIsU3BhY2VzQW5kS2FzaGlkYTozfTtiLlRhYlR5cGU9e0xlZnRUYWI6MSxSaWdodFRhYjoyLENlbnRlclRhYjozLERlY2ltYWxUYWI6NCxSaWdodEJvcmRlclRhYjo1fTtiLk1lYXN1cmluZ1VuaXQ9T2JqZWN0LmZyZWV6ZSh7Q2VudGlJbmNoOjEsU3RhbmRhcmRXUEY6MixUd2lwczozLE1pbGxpbWV0ZXI6NCxDZW50aW1ldGVyOjUsUG9pbnQ6Nn0pO2IuRmluZE9wdGlvbnM9e1JldmVyc2U6MSxNYXRjaENhc2U6NCxOb0hpZ2hsaWdodDo4LE5vTWVzc2FnZUJveDoxNixNYXRjaFdob2xlV29yZDo2NH07Yi5Gb3JtdWxhUmVmZXJlbmNlU3R5bGU9e0ExOjIsUjFDMToxfTtiLk1pc3NwZWxsZWRXb3JkS2luZD17QWxsOjcsRHVwbGljYXRlOjQsSWdub3JlZDoyLE5vcm1hbDoxfTtiLnR4UHJvcGVydGllcz17Y2FuRWRpdDp0cnVlLGNhbkNoYXJhY3RlckZvcm1hdDp0cnVlLGNhblBhcmFncmFwaEZvcm1hdDp0cnVlLGNhblRhYmxlRm9ybWF0OnRydWUsY2FuRG9jdW1lbnRGb3JtYXQ6dHJ1ZSxjYW5TdHlsZUZvcm1hdDp0cnVlLGNhblByaW50OnRydWV9O2IuY29udHJvbENoYXJzPWZhbHNlO2IudGFibGVHcmlkTGluZXM9dHJ1ZTtiLmRvY3VtZW50VGFyZ2V0TWFya2Vycz10cnVlO2IudGV4dEZyYW1lTWFya2VyTGluZXM9dHJ1ZTtiLmNvbnRleHRNZW51c0VuYWJsZWQ9dHJ1ZTtiLnRleHRGaWVsZHNFZGl0YWJsZT1mYWxzZTtiLmlucHV0UG9zaXRpb25DaGFuZ2VkSGFuZGxlcj1mdW5jdGlvbihoKXt2YXIgaT1oLmRldGFpbDtpZihpLklzSW5UYWJsZSYmKGIuYXBwTW9kZT09Yi5BcHBsaWNhdGlvbk1vZGUuTm9ybWFsKSl7Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO31lbHNle2lmKGEoXCIjdGFiVGFibGVMYXlvdXRcIikuaXMoXCI6dmlzaWJsZVwiKSl7Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO2lmKGEoXCIjXCIrYShcIiN0YWJUYWJsZUxheW91dFwiKS5hdHRyKFwicmVsXCIpKS5pcyhcIjp2aXNpYmxlXCIpfHxhKFwiI1wiK2EoXCIjdGFiRm9ybXVsYVwiKS5hdHRyKFwicmVsXCIpKS5pcyhcIjp2aXNpYmxlXCIpKXtiLnN3aXRjaFRhYnMoYShcIiN0YWJEZWZhdWx0XCIpKTt9fX19O2IudHhQcm9wZXJ0eUNoYW5nZWRIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBoPWkuZGV0YWlsO3N3aXRjaChoLnByb3BlcnR5TmFtZSl7Y2FzZVwiQ2FuRWRpdFwiOmIudHhQcm9wZXJ0aWVzLmNhbkVkaXQ9aC52YWx1ZTticmVhaztjYXNlXCJDYW5QcmludFwiOmIudHhQcm9wZXJ0aWVzLmNhblByaW50PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuU3R5bGVGb3JtYXRcIjpiLnR4UHJvcGVydGllcy5jYW5TdHlsZUZvcm1hdD1oLnZhbHVlO2JyZWFrO2Nhc2VcIkNhbkRvY3VtZW50Rm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuRG9jdW1lbnRGb3JtYXQ9aC52YWx1ZTticmVhaztjYXNlXCJDYW5UYWJsZUZvcm1hdFwiOmIudHhQcm9wZXJ0aWVzLmNhblRhYmxlRm9ybWF0PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuQ2hhcmFjdGVyRm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuQ2hhcmFjdGVyRm9ybWF0PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuUGFyYWdyYXBoRm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuUGFyYWdyYXBoRm9ybWF0PWgudmFsdWU7YnJlYWs7fX07Yi51aUZsYWdzVXBkYXRlZEhhbmRsZXI9ZnVuY3Rpb24oaCl7dmFyIGk9aC5kZXRhaWw7Yi5jb250ZXh0TWVudXNFbmFibGVkPShpJmIuVUlTdGF0ZUZsYWcuQ29udGV4dE1lbnVzRW5hYmxlZCkhPTA7Yi50ZXh0RmllbGRzRWRpdGFibGU9KGkmYi5VSVN0YXRlRmxhZy5UZXh0RmllbGRzRWRpdGFibGUpIT0wO307ZnVuY3Rpb24gZShoKXt2YXIgaj1cIlwiO3ZhciBpPSh0eXBlb2YgYi5zZXR0aW5ncz09PVwidW5kZWZpbmVkXCIpO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhQcmludEZyYW1lXCIpO2lmKG0pe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSk7fXZhciBsPWIuaXNTU0xDb25uZWN0aW9uP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIjtpZighaSl7aj1iLnNldHRpbmdzLkNvbm5lY3Rpb25JRDt9ZWxzZXtpZigodHlwZW9mIGIud2ViQ29udHJvbFNldHRpbmdzIT09XCJ1bmRlZmluZWRcIikmJmIud2ViQ29udHJvbFNldHRpbmdzLmhhc093blByb3BlcnR5KFwiY29ubmVjdGlvbklEXCIpKXtqPWIud2ViQ29udHJvbFNldHRpbmdzLmNvbm5lY3Rpb25JRDt9fWlmKCFqKXtyZXR1cm5cIlwiO312YXIgaz1pP2wrYi5nZXRIb3N0QW5kQXBwVmlydFBhdGgoKStcIlRYUHJpbnRIYW5kbGVyLmFzaHhcIjpsK2IuZ2V0SG9zdEFuZEFwcFZpcnRQYXRoKCkrYi5zZXR0aW5ncy5BcGlSb3V0ZStcIlRYUHJpbnRcIjtyZXR1cm4gaytcIj9jb25uZWN0aW9uSUQ9XCIraitcIiZlbWJlZFByaW50QWN0aW9uPVwiKyhoP1widHJ1ZVwiOlwiZmFsc2VcIik7fWZ1bmN0aW9uIGYoKXt2YXIgaT1lKHRydWUpO2lmKCFpKXtyZXR1cm47fXZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7aC5pZD1cInR4UHJpbnRGcmFtZVwiO2guZnJhbWVCb3JkZXI9MDtoLnNyYz1pO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaCk7fWZ1bmN0aW9uIGQoKXt2YXIgaT1lKGZhbHNlKTtpZighaSl7cmV0dXJuO312YXIgaD1uZXcgYi5FZGdlUHJpbnREaWFsb2coaSk7aC5zaG93TW9kYWwoKTt9Yi5wcmludD1mdW5jdGlvbigpe2lmKChiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRXhwbG9yZXJcIil8fChiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiT3RoZXJcIikpe2YoKTt9ZWxzZXtpZihiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRWRnZVwiKXtkKCk7fWVsc2V7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuUHJpbnRUb1BERiwxKTt9fX07Yi5wcmludFJlc3VsdFJlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihpKXt2YXIgaz1pLmRldGFpbDtpZigoYi5Ccm93c2VyRGV0ZWN0LmJyb3dzZXI9PT1cIkV4cGxvcmVyXCIpfHwoYi5Ccm93c2VyRGV0ZWN0LmJyb3dzZXI9PT1cIk90aGVyXCIpfHwoYi5Ccm93c2VyRGV0ZWN0LmJyb3dzZXI9PT1cIkVkZ2VcIikpe3JldHVybjt9dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFByaW50RnJhbWVcIik7aWYobCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsKTt9bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSUZSQU1FXCIpO2wuaWQ9XCJ0eFByaW50RnJhbWVcIjtsLmZyYW1lQm9yZGVyPTA7c3dpdGNoKGIuQnJvd3NlckRldGVjdC5icm93c2VyKXtjYXNlXCJDaHJvbWVcIjpoKCk7YnJlYWs7ZGVmYXVsdDpqKCk7YnJlYWs7fWZ1bmN0aW9uIGooKXtsLnNyYz1cImRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCxcIitrLkRhdGE7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKTt9ZnVuY3Rpb24gaCgpe3ZhciBtPVVpbnQ4QXJyYXkuZnJvbShhdG9iKGsuRGF0YSksZnVuY3Rpb24obyl7cmV0dXJuIG8uY2hhckNvZGVBdCgwKTt9KTt2YXIgbj1uZXcgd2luZG93LkJsb2IoW21dLHt0eXBlOlwiYXBwbGljYXRpb24vcGRmXCJ9KTtuPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG4pO2wuc3JjPW47ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKTtsLmZvY3VzKCk7bC5jb250ZW50V2luZG93LnByaW50KCk7fX07Yi5IeXBlcmxpbmtDbGlja2VkRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIGgodGFyZ2V0KXt0aGlzLnRhcmdldD10YXJnZXQ7fXJldHVybiBoO30pKCk7Yi5oeXBlcmxpbmtDbGlja2VkSGFuZGxlcj1mdW5jdGlvbihpKXt2YXIgaj1pLmRldGFpbDt2YXIgaD1uZXcgYi5IeXBlcmxpbmtDbGlja2VkRXZlbnRBcmdzKGopO2IuZmlyZUV2ZW50KGIuRXZlbnROYW1lLmh5cGVybGlua0NsaWNrZWQsaCk7fTtmdW5jdGlvbiBjKGgsbyxzKXtvPW98fFwiXCI7cz1zfHw1MTI7dmFyIG09YXRvYihoKTt2YXIgbD1bXTtmb3IodmFyIHE9MDtxPG0ubGVuZ3RoO3ErPXMpe3ZhciByPW0uc2xpY2UocSxxK3MpO3ZhciBuPW5ldyBBcnJheShyLmxlbmd0aCk7Zm9yKHZhciBwPTA7cDxyLmxlbmd0aDtwKyspe25bcF09ci5jaGFyQ29kZUF0KHApO312YXIgaz1uZXcgVWludDhBcnJheShuKTtsLnB1c2goayk7fXZhciBqPW5ldyBCbG9iKGwse3R5cGU6b30pO3JldHVybiBqO31yZXR1cm4gZzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkNhcmV0PShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSxmKXt0aGlzLmNhbnZhcz1lO3RoaXMubG9jYXRpb249e1g6MCxZOjB9O3RoaXMuc2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH07dGhpcy5pc0JsYWNrPWZhbHNlO3RoaXMuYmxpbmtUaW1lcj1udWxsO3RoaXMuaXNWaXNpYmxlPWZhbHNlO3RoaXMuZGl2Q2FyZXQ9bnVsbDt0aGlzLnBpeGVsUmF0aW89Znx8MTt0aGlzLmRpdkNhcmV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5kaXZDYXJldC5jbGFzc0xpc3QuYWRkKFwiY2FyZXRcIik7dGhpcy5kaXZDYXJldC5zdHlsZS5sZWZ0PVwiMXB4XCI7dGhpcy5kaXZDYXJldC5zdHlsZS50b3A9XCIxcHhcIjt0aGlzLmNhbnZhcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2Q2FyZXQpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9e3g6dGhpcy5sb2NhdGlvbi5YLHk6dGhpcy5sb2NhdGlvbi5ZLHdpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH07cmV0dXJuIGU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihnKXt2YXIgZj10aGlzLmlzVmlzaWJsZTt0aGlzLmhpZGUoKTt2YXIgZT1NYXRoLm1heCgxLGcuU2l6ZS5IZWlnaHQvdGhpcy5waXhlbFJhdGlvKTt2YXIgaD1NYXRoLm1heCgxLGcuU2l6ZS5XaWR0aC90aGlzLnBpeGVsUmF0aW8pO3RoaXMuc2V0U2l6ZShoLGUpO3RoaXMuc2V0TG9jYXRpb24oZy5Mb2NhdGlvbik7Zj1nLlZpc2liaWxpdHk7aWYoZil7dGhpcy5zaG93KCk7fX07ZC5wcm90b3R5cGUuYmxpbms9ZnVuY3Rpb24oKXtpZih0aGlzLmlzQmxhY2spe3RoaXMuc2V0T3BhY2l0eSgwKTt0aGlzLmlzQmxhY2s9ZmFsc2U7fWVsc2V7dGhpcy5zZXRPcGFjaXR5KDEpO3RoaXMuaXNCbGFjaz10cnVlO319O2QucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSl7cmV0dXJuO310aGlzLmlzVmlzaWJsZT10cnVlO3RoaXMuc2V0T3BhY2l0eSgxKTt0aGlzLmlzQmxhY2s9dHJ1ZTtjbGVhckludGVydmFsKHRoaXMuYmxpbmtUaW1lcik7dGhpcy5ibGlua1RpbWVyPXNldEludGVydmFsKHRoaXMuYmxpbmsuYmluZCh0aGlzKSw1MDApO307ZC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2lmKCF0aGlzLmlzVmlzaWJsZSl7cmV0dXJuO310aGlzLmlzVmlzaWJsZT1mYWxzZTtjbGVhckludGVydmFsKHRoaXMuYmxpbmtUaW1lcik7aWYodGhpcy5pc0JsYWNrKXt0aGlzLnNldE9wYWNpdHkoMCk7dGhpcy5pc0JsYWNrPWZhbHNlO319O2QucHJvdG90eXBlLnNldE9wYWNpdHk9ZnVuY3Rpb24oZSl7aWYoIWIuVmlld2Vyc0ludmlzaWJsZSl7dGhpcy5kaXZDYXJldC5zdHlsZS5vcGFjaXR5PVwiXCIrZTt9fTtkLnByb3RvdHlwZS5zZXRMb2NhdGlvbj1mdW5jdGlvbihmKXt0aGlzLmxvY2F0aW9uPWNsb25lT2JqZWN0KGYpO3RoaXMubG9jYXRpb24uWC89dGhpcy5waXhlbFJhdGlvO3RoaXMubG9jYXRpb24uWS89dGhpcy5waXhlbFJhdGlvO3ZhciBlPXRoaXMuY2FudmFzLm9mZnNldExlZnQrdGhpcy5sb2NhdGlvbi5YO3ZhciBnPXRoaXMuY2FudmFzLm9mZnNldFRvcCt0aGlzLmxvY2F0aW9uLlk7dGhpcy5kaXZDYXJldC5zdHlsZS5sZWZ0PWUrXCJweFwiO3RoaXMuZGl2Q2FyZXQuc3R5bGUudG9wPWcrXCJweFwiO307ZC5wcm90b3R5cGUucmVmcmVzaExvY2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5zZXRMb2NhdGlvbih0aGlzLmxvY2F0aW9uKTt9O2QucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oZixlKXt0aGlzLnNpemUud2lkdGg9Zjt0aGlzLnNpemUuaGVpZ2h0PWU7dGhpcy5kaXZDYXJldC5zdHlsZS53aWR0aD1mK1wicHhcIjt0aGlzLmRpdkNhcmV0LnN0eWxlLmhlaWdodD1lK1wicHhcIjt9O2QucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmlzaWJsZTt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5BY3RpdmF0aW9uU3RhdGU9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGVkOjEsRGVhY3RpdmF0ZWQ6MixEaXNhYmxlZDozfSk7Yi5IaWRkZW5UZXh0RmllbGQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChnLGgsaSl7dmFyIGo9dGhpczt0aGlzLmNhbnZhcz1nO3RoaXMuY29tcG9uZW50VHlwZT1oO3RoaXMub3duZXI9aTt0aGlzLmxvY2F0aW9uPXtYOjAsWTowfTt0aGlzLmVsZW1JbnB1dD1iLmlzVG91Y2hEZXZpY2U/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5lbGVtSW5wdXQuY2xhc3NMaXN0LmFkZChcInR4SGlkZGVuVGV4dEZpZWxkXCIpO3RoaXMuZWxlbUlucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpO3RoaXMuZWxlbUlucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsXCJvZmZcIik7dGhpcy5lbGVtSW5wdXQuc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLGZhbHNlKTt0aGlzLmVsZW1JbnB1dC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIix0cnVlKTt0aGlzLmVsZW1JbnB1dC50YWJJbmRleD1cIi0xXCI7dGhpcy5lbGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsYi5rZXlQcmVzc0hhbmRsZXIpO3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYi5rZXlEb3duSGFuZGxlcik7dGhpcy5lbGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsYi5rZXlVcEhhbmRsZXIpO3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbnN0YXJ0XCIsdGhpcy5jb21wb3NpdGlvbnN0YXJ0SGFuZGxlci5iaW5kKHRoaXMpKTt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb251cGRhdGVcIix0aGlzLmNvbXBvc2l0aW9udXBkYXRlSGFuZGxlci5iaW5kKHRoaXMpKTt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9zaXRpb25lbmRcIix0aGlzLmNvbXBvc2l0aW9uZW5kSGFuZGxlci5iaW5kKHRoaXMpKTt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuZWxlbUlucHV0X0JsdXIuYmluZCh0aGlzKSk7dGhpcy5lbGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5lbGVtSW5wdXRfRm9jdXMuYmluZCh0aGlzKSk7aWYoIWIuaXNUb3VjaERldmljZSYmKGg9PWIuQ29tcG9uZW50VHlwZS5UZXh0Vmlldykpe3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLGZ1bmN0aW9uKGspe2YoaixrKTt9KTt0aGlzLmVsZW1JbnB1dC5pZD1cInR4SGlkZGVuVGV4dEZpZWxkX3RleHRWaWV3XCI7fXRoaXMuY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtSW5wdXQpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0b3BcIix7c2V0OmZ1bmN0aW9uKGcpe3RoaXMuZWxlbUlucHV0LnN0eWxlLnRvcD1nK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImxlZnRcIix7c2V0OmZ1bmN0aW9uKGcpe3RoaXMuZWxlbUlucHV0LnN0eWxlLmxlZnQ9ZytcInB4XCI7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbnN0YXJ0SGFuZGxlcj1mdW5jdGlvbihpKXtiLmluSU1FQ29tcG9zaXRpb249dHJ1ZTt2YXIgaj10aGlzLmVsZW1JbnB1dDt2YXIgZz10aGlzLm93bmVyLmNhcmV0Qm91bmRzO3ZhciBoPXRoaXMub3duZXIuY2FudmFzO2ouc3R5bGUubGVmdD1nLngraC5vZmZzZXRMZWZ0K1wicHhcIjtqLnN0eWxlLnRvcD1nLnkraC5vZmZzZXRUb3ArZy5oZWlnaHQrXCJweFwiO2ouc3R5bGUuekluZGV4PTEwMDA7fTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbnVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oZyl7fTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbmVuZEhhbmRsZXI9ZnVuY3Rpb24oZyl7Yi5pbklNRUNvbXBvc2l0aW9uPWZhbHNlO3ZhciBqPXRoaXMuZWxlbUlucHV0O2ouc3R5bGUubGVmdD1cIlwiO2ouc3R5bGUudG9wPVwiXCI7ai5zdHlsZS56SW5kZXg9XCJcIjtpZihqLnRhZ05hbWU9PT1cIkRJVlwiKXtqLmlubmVySFRNTD1cIlwiO31mb3IodmFyIGg9MDtoPGcuZGF0YS5sZW5ndGg7KytoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5LZXlQcmVzcywwLDAse2tleTpnLmRhdGFbaF0sbW9kaWZpZXJLZXlzOjB9KTt9fTtkLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2lmKCFkb2N1bWVudC5oYXNGb2N1cygpfHwoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9dGhpcy5lbGVtSW5wdXQpKXt0aGlzLmVsZW1JbnB1dC5mb2N1cygpO319O2QucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50PT10aGlzLmVsZW1JbnB1dCl7dGhpcy5lbGVtSW5wdXQuYmx1cigpO319O2QucHJvdG90eXBlLmVsZW1JbnB1dF9Gb2N1cz1mdW5jdGlvbihnKXtpZih0aGlzLmVsZW1JbnB1dC50YWdOYW1lPT09XCJJTlBVVFwiKXt0aGlzLmVsZW1JbnB1dC52YWx1ZT1cIlwiO31lbHNle3RoaXMuZWxlbUlucHV0LmlubmVySFRNTD1cIlwiO319O2QucHJvdG90eXBlLmVsZW1JbnB1dF9CbHVyPWZ1bmN0aW9uKGcpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEFjdGl2YXRpb25TdGF0ZSx0aGlzLmNvbXBvbmVudFR5cGUsYi5BY3RpdmF0aW9uU3RhdGUuRGVhY3RpdmF0ZWQpO307ZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGgsZyl7aWYoaCE9PW51bGwpe3RoaXMuZWxlbUlucHV0LnZhbHVlPWg7fWlmKHRoaXMuZWxlbUlucHV0LnNlbGVjdGlvblN0YXJ0IT1nKXt0aGlzLmVsZW1JbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShnLGcpO319O2QucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24oZyl7aWYodGhpcy5lbGVtSW5wdXQudGFnTmFtZT09PVwiSU5QVVRcIil7dGhpcy5lbGVtSW5wdXQudmFsdWU9Zzt9ZWxzZXt0aGlzLmVsZW1JbnB1dC5pbm5lckhUTUw9Zzt9fTtkLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1JbnB1dC50YWdOYW1lPT09XCJJTlBVVFwiKXt0aGlzLmVsZW1JbnB1dC5zZWxlY3QoKTtyZXR1cm47fXZhciBnPXRoaXMuZWxlbUlucHV0O3ZhciBoPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7aC5zZWxlY3ROb2RlQ29udGVudHMoZyk7dmFyIGk9d2luZG93LmdldFNlbGVjdGlvbigpO2kucmVtb3ZlQWxsUmFuZ2VzKCk7aS5hZGRSYW5nZShoKTt9O2Z1bmN0aW9uIGUoZyl7dmFyIGg9Zy5lbGVtSW5wdXQuaW5uZXJIVE1MO2cuZWxlbUlucHV0LmlubmVySFRNTD1cIlwiO2IucGFzdGVUZXh0KGgsYi5DbGlwYm9hcmREYXRhVHlwZS5IVE1MKTt9ZnVuY3Rpb24gZihoLGcpe2lmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLlNlcnZlcil7cmV0dXJuO31pZighYi5oYW5kbGVDbGllbnRQYXN0ZShnLGZhbHNlKSl7cmV0dXJuO31oLmVsZW1JbnB1dC5pbm5lckhUTUw9XCJcIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShoKTt9LDEwKTtyZXR1cm4gZmFsc2U7fXJldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihmLGEpe3ZhciBiPWYuX3ByaXZhdGU9Zi5fcHJpdmF0ZXx8e307Yi5tb2RpZmllcktleXM9MDt2YXIgZD17U2hpZnQ6NCxDdHJsOjgsQWx0OjIwNDgsTWFzazoyMDYwfTtiLktleUNvZGU9e0JhY2tzcGFjZTphLnVpLmtleUNvZGUuQkFDS1NQQUNFLFRBQjphLnVpLmtleUNvZGUuVEFCLEVudGVyOmEudWkua2V5Q29kZS5FTlRFUixTaGlmdDoxNixDb250cm9sOjE3LEFsdDoxOCxMZWZ0QXJyb3c6YS51aS5rZXlDb2RlLkxFRlQsVXBBcnJvdzphLnVpLmtleUNvZGUuVVAsUmlnaHRBcnJvdzphLnVpLmtleUNvZGUuUklHSFQsRG93bkFycm93OmEudWkua2V5Q29kZS5ET1dOLERFTDphLnVpLmtleUNvZGUuREVMRVRFLElOUzo0NSxFTkQ6YS51aS5rZXlDb2RlLkVORCxIT01FOmEudWkua2V5Q29kZS5IT01FLFBhZ2VVcDphLnVpLmtleUNvZGUuUEFHRV9VUCxQYWdlRG93bjphLnVpLmtleUNvZGUuUEFHRV9ET1dOLFNwYWNlOmEudWkua2V5Q29kZS5TUEFDRX07ZnVuY3Rpb24gYyhnKXt2YXIgaD0wO2lmKGcuc2hpZnRLZXkpe2h8PWQuU2hpZnQ7fWlmKGcuYWx0S2V5KXtofD1kLkFsdDt9aWYoZy5jdHJsS2V5fHxnLm1ldGFLZXkpe2h8PWQuQ3RybDt9cmV0dXJuIGg7fWZ1bmN0aW9uIGUoaCxpKXtiLm1vZGlmaWVyS2V5cz1jKGgpO3ZhciBqPWgua2V5Q29kZXx8aC53aGljaHx8MDtzd2l0Y2goail7Y2FzZSAxNzE6aj0xODc7YnJlYWs7Y2FzZSAxNzM6aj0xODk7YnJlYWs7fXZhciBnPXtrZXk6aixtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXN9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGksMCwwLGcpO3N3aXRjaChqKXtjYXNlIGIuS2V5Q29kZS5FbnRlcjpjYXNlIGIuS2V5Q29kZS5CYWNrc3BhY2U6Y2FzZSBiLktleUNvZGUuVEFCOmNhc2UgYi5LZXlDb2RlLkRFTDpjYXNlIGIuS2V5Q29kZS5FTkQ6Y2FzZSBiLktleUNvZGUuSE9NRTpjYXNlIGIuS2V5Q29kZS5MZWZ0QXJyb3c6Y2FzZSBiLktleUNvZGUuVXBBcnJvdzpjYXNlIGIuS2V5Q29kZS5SaWdodEFycm93OmNhc2UgYi5LZXlDb2RlLkRvd25BcnJvdzpjYXNlIGIuS2V5Q29kZS5QYWdlVXA6Y2FzZSBiLktleUNvZGUuUGFnZURvd246aC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO319Yi5rZXlEb3duSGFuZGxlcj1mdW5jdGlvbihrKXtpZihiLm92ZXJsYXlDb250cm9scy5leGlzdCgpKXtyZXR1cm47fWIubW9kaWZpZXJLZXlzPWMoayk7dmFyIGw9ay5rZXlDb2RlfHxrLndoaWNofHwwO2lmKGIubW9kaWZpZXJLZXlzJmQuQ3RybCl7c3dpdGNoKGwpe2Nhc2UgNDM6Y2FzZSA0NTpjYXNlIDEwNzpjYXNlIDEwOTpjYXNlIDE3MTpjYXNlIDE3MzpjYXNlIDE4NzpjYXNlIDE4OTprLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7fX12YXIgaT0oKChiLm1vZGlmaWVyS2V5cyZkLk1hc2spPT1kLkN0cmwpJiYobD09ODYpKXx8KChiLm1vZGlmaWVyS2V5cyZkLlNoaWZ0KSYmKGw9PWIuS2V5Q29kZS5JTlMpKTt2YXIgaD0oKChiLm1vZGlmaWVyS2V5cyZkLk1hc2spPT1kLkN0cmwpJiYobD09ODgpKXx8KChiLm1vZGlmaWVyS2V5cyZkLlNoaWZ0KSYmKGw9PWIuS2V5Q29kZS5ERUwpKTt2YXIgZz0oKGIubW9kaWZpZXJLZXlzJmQuTWFzayk9PWQuQ3RybCkmJigobD09NjcpfHwobD09Yi5LZXlDb2RlLklOUykpO2lmKCgoYi5tb2RpZmllcktleXMmZC5NYXNrKT09KGQuQ3RybHxkLlNoaWZ0KSYmKGw9PTg2KSkpe3ZhciBqPW5ldyBiLkNsaWVudFBhc3RlRGlhbG9nKCk7ai5zaG93TW9kYWwoKTtrLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuO31lbHNle2lmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLlNlcnZlcil7aWYoaSl7ay5wcmV2ZW50RGVmYXVsdCgpO319fWlmKChnfHxoKSYmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLkNsaWVudCkpe2lmKGcpe2RvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTt9ZWxzZXtpZihoKXtkb2N1bWVudC5leGVjQ29tbWFuZChcImN1dFwiKTt9fWsucHJldmVudERlZmF1bHQoKTt9aWYoaSYmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLkNsaWVudCkpe3JldHVybjt9ZShrLGIuVXNlcklucHV0RXZlbnRUeXBlLktleURvd24pO307Yi5rZXlVcEhhbmRsZXI9ZnVuY3Rpb24oZyl7aWYoYi5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31lKGcsYi5Vc2VySW5wdXRFdmVudFR5cGUuS2V5VXApO307Yi5rZXlQcmVzc0hhbmRsZXI9ZnVuY3Rpb24oZyl7aWYoYi5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31pZigodHlwZW9mIGcuY2hhckNvZGUhPT1cInVuZGVmaW5lZFwiKSYmKGcuY2hhckNvZGU9PT0wKSl7cmV0dXJuO31iLm1vZGlmaWVyS2V5cz1jKGcpO3ZhciBoPWcuY2hhckNvZGV8fGcua2V5Q29kZXx8Zy53aGljaHx8MDtpZihoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5LZXlQcmVzcywwLDAse2tleTpoLG1vZGlmaWVyS2V5czpiLm1vZGlmaWVyS2V5c30pO31lbHNle2cucHJldmVudERlZmF1bHQoKTt9fTtyZXR1cm4gZjt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGksYSl7dmFyIGI9aS5fcHJpdmF0ZT1pLl9wcml2YXRlfHx7fTtiLkNvbXBvbmVudFR5cGU9e1RleHRWaWV3OjAsSG9yUnVsZXI6MSxWZXJ0UnVsZXI6MixTdGF0dXNCYXI6MyxUeERpYWxvZzo0LFRyYWNrQ2hhbmdlc1ZpZXc6NSx9O2IuVXNlcklucHV0RXZlbnRUeXBlPXtLZXlEb3duOjAsS2V5UHJlc3M6MSxLZXlVcDoyLE1vdXNlTW92ZTozLE1vdXNlRG93bjo0LE1vdXNlVXA6NSxNb3VzZURvdWJsZUNsaWNrOjYsTW91c2VXaGVlbDo3fTtiLk1vdXNlQnV0dG9ucz17TGVmdDoxLFJpZ2h0OjIsTWlkZGxlOjE2fTt2YXIgZj17SUJlYW06MSxBcnJvd05FOjIsVlNwbGl0OjMsVXBBcnJvdzo0LEFycm93OjUsRG93bkFycm93OjYsU2l6ZVdFOjcsU2l6ZU5TOjgsU2l6ZU5XU0U6OSxTaXplTkVTVzoxMCxTaXplQWxsOjExLENyb3NzOjEyLE5vOjEzLERyYWdEcm9wQ29weToxNCxEcmFnRHJvcE1vdmU6MTV9O3ZhciBnPXtNb3ZlQW5kU2l6ZUZyYW1lOjEsVGFibGVCb3JkZXJNb3ZpbmdMaW5lOjIsRHJvcENhcmV0OjN9O2IuY2xvbmVUb3VjaD1mdW5jdGlvbihqKXtyZXR1cm57Y2xpZW50WDpqLmNsaWVudFgsY2xpZW50WTpqLmNsaWVudFksc2NyZWVuWDpqLnNjcmVlblgsc2NyZWVuWTpqLnNjcmVlblksaWRlbnRpZmllcjpqLmlkZW50aWZpZXIsaGFzTGVmdERlYWR6b25lOmouaGFzTGVmdERlYWR6b25lfTt9O3ZhciBjPWZhbHNlO3ZhciBlPXt0b3VjaGVzOnt9LGdldEl0ZW06ZnVuY3Rpb24oail7cmV0dXJuIHRoaXMudG91Y2hlc1tcIl9cIitqXTt9LGFkZDpmdW5jdGlvbihrKXt2YXIgaj1rLmlkZW50aWZpZXI7dGhpcy50b3VjaGVzW1wiX1wiK2pdPWIuY2xvbmVUb3VjaChrKTt9LHJlbW92ZUl0ZW06ZnVuY3Rpb24oail7dmFyIGs9dGhpcy5nZXRJdGVtKGopO2RlbGV0ZSB0aGlzLnRvdWNoZXNbXCJfXCIral07cmV0dXJuIGs7fSx1cGRhdGU6ZnVuY3Rpb24oayl7Zm9yKHZhciBqPTA7ajxrLmxlbmd0aDsrK2ope3RoaXMuYWRkKGtbal0pO319LGNvdW50OmZ1bmN0aW9uKCl7dmFyIGs9MCxqO2ZvcihqIGluIHRoaXMudG91Y2hlcyl7aWYodGhpcy50b3VjaGVzLmhhc093blByb3BlcnR5KGopKXsrK2s7fX1yZXR1cm4gazt9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy50b3VjaGVzPXt9O319O3ZhciBoPShmdW5jdGlvbigpe3ZhciBrPTI1MCxqPTUwMCxtPTUwMDtxLlN0YXRlPXtJbml0aWFsOjAsT25lRmluZ2VyOjEsTm9GaW5nZXJBZnRlck9uZUZpbmdlcjoyLEltcGVuZGluZ0RvdWJsZUNsaWNrT3JPYmplY3RHcmlwOjMsT2JqZWN0R3JpcDo0fTtxLlRvdWNoRXZlbnRUeXBlPXtTdGFydDowLE1vdmU6MSxFbmQ6Mn07ZnVuY3Rpb24gcShyKXt0aGlzLnN0YXRlPXEuU3RhdGUuSW5pdGlhbDt0aGlzLnZpZXdlcj1yO3RoaXMudGFyZ2V0RWxlbT1yLmNhbnZhczt0aGlzLnRvdWNoPW51bGw7dGhpcy50aW1lb3V0SUQ9bnVsbDt9ZnVuY3Rpb24gbyh2LHQscix1KXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO3MuaW5pdE1vdXNlRXZlbnQodCx0cnVlLHRydWUsd2luZG93LDEsdi5zY3JlZW5YLHYuc2NyZWVuWSx2LmNsaWVudFgsdi5jbGllbnRZLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLHIsbnVsbCk7dS5kaXNwYXRjaEV2ZW50KHMpO31xLnByb3RvdHlwZS5zaW11bGF0ZU1vdXNlQ2xpY2s9ZnVuY3Rpb24ocyxyKXtvKHMsXCJtb3VzZW92ZXJcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vtb3ZlXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlZG93blwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZXVwXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlbW92ZVwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZW91dFwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJjbGlja1wiLHIsdGhpcy50YXJnZXRFbGVtKTt9O3EucHJvdG90eXBlLnNpbXVsYXRlTW91c2VEb3VibGVDbGljaz1mdW5jdGlvbihzLHIpe28ocyxcIm1vdXNlb3ZlclwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZW1vdmVcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vkb3duXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNldXBcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwiY2xpY2tcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vkb3duXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNldXBcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vtb3ZlXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlb3V0XCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcImNsaWNrXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcImRibGNsaWNrXCIscix0aGlzLnRhcmdldEVsZW0pO307cS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTt0aGlzLnRpbWVvdXRJRD1udWxsO31pZih0aGlzLnRvdWNoKXtvKHRoaXMudG91Y2gsXCJtb3VzZXVwXCIsMCx0aGlzLnRhcmdldEVsZW0pO28odGhpcy50b3VjaCxcIm1vdXNlbW92ZVwiLDAsdGhpcy50YXJnZXRFbGVtKTtvKHRoaXMudG91Y2gsXCJtb3VzZW91dFwiLDAsdGhpcy50YXJnZXRFbGVtKTt0aGlzLnRvdWNoPW51bGw7fXRoaXMuc3RhdGU9cS5TdGF0ZS5Jbml0aWFsO307ZnVuY3Rpb24gbigpe2IuaWdub3JlTmV4dFRleHRGb2N1c1JlcXVlc3Q9dHJ1ZTt0aGlzLnNpbXVsYXRlTW91c2VDbGljayh0aGlzLnRvdWNoLDIpO3RoaXMudGltZW91dElEPXRoaXMudG91Y2g9bnVsbDt0aGlzLnN0YXRlPXEuU3RhdGUuSW5pdGlhbDt9cS5wcm90b3R5cGUuaW5pdGlhbFN0YXRlPWZ1bmN0aW9uKHMscil7c3dpdGNoKHIpe2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5TdGFydDp0aGlzLnRpbWVvdXRJRD1zZXRUaW1lb3V0KG4uYmluZCh0aGlzKSxqKTt0aGlzLnRvdWNoPWIuY2xvbmVUb3VjaChzKTt0aGlzLnN0YXRlPXEuU3RhdGUuT25lRmluZ2VyO2JyZWFrO2RlZmF1bHQ6dGhpcy5yZXNldCgpO319O2Z1bmN0aW9uIGwoKXt0aGlzLnRpbWVvdXRJRD10aGlzLnRvdWNoPW51bGw7dGhpcy5zdGF0ZT1xLlN0YXRlLkluaXRpYWw7fXEucHJvdG90eXBlLm9uZUZpbmdlclN0YXRlPWZ1bmN0aW9uKHMscil7c3dpdGNoKHIpe2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5FbmQ6aWYodGhpcy50aW1lb3V0SUQpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJRCk7fXRoaXMudGltZW91dElEPXNldFRpbWVvdXQobC5iaW5kKHRoaXMpLGspO3RoaXMudG91Y2g9Yi5jbG9uZVRvdWNoKHMpO3RoaXMuc3RhdGU9cS5TdGF0ZS5Ob0ZpbmdlckFmdGVyT25lRmluZ2VyO2JyZWFrO2RlZmF1bHQ6dGhpcy5yZXNldCgpO319O2Z1bmN0aW9uIHAocil7cj1yfHx0aGlzO28oci50b3VjaCxcIm1vdXNlb3ZlclwiLDAsci50YXJnZXRFbGVtKTtvKHIudG91Y2gsXCJtb3VzZW1vdmVcIiwwLHIudGFyZ2V0RWxlbSk7byhyLnRvdWNoLFwibW91c2Vkb3duXCIsMCxyLnRhcmdldEVsZW0pO3IudGltZW91dElEPXIudG91Y2g9bnVsbDtyLnN0YXRlPXEuU3RhdGUuT2JqZWN0R3JpcDt9cS5wcm90b3R5cGUubm9GaW5nZXJBZnRlck9uZUZpbmdlclN0YXRlPWZ1bmN0aW9uKHMscil7c3dpdGNoKHIpe2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5TdGFydDppZih0aGlzLnRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTt9dGhpcy50aW1lb3V0SUQ9c2V0VGltZW91dChwLmJpbmQodGhpcyksbSk7dGhpcy50b3VjaD1iLmNsb25lVG91Y2gocyk7dGhpcy5zdGF0ZT1xLlN0YXRlLkltcGVuZGluZ0RvdWJsZUNsaWNrT3JPYmplY3RHcmlwO2JyZWFrO2RlZmF1bHQ6dGhpcy5yZXNldCgpO319O3EucHJvdG90eXBlLmltcGVuZGluZ0RvdWJsZUNsaWNrT3JPYmplY3RHcmlwU3RhdGU9ZnVuY3Rpb24ocyxyKXtzd2l0Y2gocil7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLkVuZDppZih0aGlzLnRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTt0aGlzLnRpbWVvdXRJRD1udWxsO310aGlzLnNpbXVsYXRlTW91c2VEb3VibGVDbGljayhzLDApO3RoaXMuc3RhdGU9cS5TdGF0ZS5Jbml0aWFsO2JyZWFrO2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5Nb3ZlOmlmKHRoaXMudGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SUQpO3RoaXMudGltZW91dElEPW51bGw7fXAodGhpcyk7dGhpcy50b3VjaD1iLmNsb25lVG91Y2gocyk7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlc2V0KCk7fX07cS5wcm90b3R5cGUub2JqZWN0R3JpcFN0YXRlPWZ1bmN0aW9uKHMscil7c3dpdGNoKHIpe2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5Nb3ZlOm8ocyxcIm1vdXNlbW92ZVwiLDAsdGhpcy50YXJnZXRFbGVtKTt0aGlzLnRvdWNoPWIuY2xvbmVUb3VjaChzKTticmVhaztjYXNlIHEuVG91Y2hFdmVudFR5cGUuRW5kOm8ocyxcIm1vdXNldXBcIiwwLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vtb3ZlXCIsMCx0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlb3V0XCIsMCx0aGlzLnRhcmdldEVsZW0pO3RoaXMudG91Y2g9Yi5jbG9uZVRvdWNoKHMpO3RoaXMuc3RhdGU9cS5TdGF0ZS5Jbml0aWFsO2JyZWFrO2RlZmF1bHQ6dGhpcy5yZXNldCgpO319O3EucHJvdG90eXBlLnByb2Nlc3NUb3VjaD1mdW5jdGlvbihzLHIpe3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHEuU3RhdGUuSW5pdGlhbDp0aGlzLmluaXRpYWxTdGF0ZShzLHIpO2JyZWFrO2Nhc2UgcS5TdGF0ZS5PbmVGaW5nZXI6dGhpcy5vbmVGaW5nZXJTdGF0ZShzLHIpO2JyZWFrO2Nhc2UgcS5TdGF0ZS5Ob0ZpbmdlckFmdGVyT25lRmluZ2VyOnRoaXMubm9GaW5nZXJBZnRlck9uZUZpbmdlclN0YXRlKHMscik7YnJlYWs7Y2FzZSBxLlN0YXRlLkltcGVuZGluZ0RvdWJsZUNsaWNrT3JPYmplY3RHcmlwOnRoaXMuaW1wZW5kaW5nRG91YmxlQ2xpY2tPck9iamVjdEdyaXBTdGF0ZShzLHIpO2JyZWFrO2Nhc2UgcS5TdGF0ZS5PYmplY3RHcmlwOnRoaXMub2JqZWN0R3JpcFN0YXRlKHMscik7YnJlYWs7fX07cmV0dXJuIHE7fSkoKTt2YXIgZD0yMDtiLm1vdXNlT3duZXI9bnVsbDtiLmlzUGluY2hab29taW5nPWZhbHNlO2IuQ29tcG9uZW50Vmlld2VyPShmdW5jdGlvbigpe3ZhciBwPVwiMXB4IGRhc2hlZCBibGFja1wiLHE9XCJsaWdodGdyYXlcIjtmdW5jdGlvbiBqKHMsdCx2LHUscil7dGhpcy5jYW52YXM9czt0aGlzLmNvbnRleHQ9cy5nZXRDb250ZXh0KFwiMmRcIik7dGhpcy5tb3VzZUJ1dHRvbnM9MDt0aGlzLmltZ0J1ZmZlcj1udWxsO3RoaXMuc2hhcGVESVY9bnVsbDt0aGlzLnNoYXBlQmxpbmtUaW1lcj1udWxsO3RoaXMuc2hhcGVJc0JsYWNrPXRydWU7dGhpcy5oaWRkZW5UZXh0RmllbGQ9bnVsbDt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lPWIuaXNUb3VjaERldmljZT9uZXcgaCh0aGlzKTpudWxsO3RoaXMudmlld0NoYW5nZWRRdWV1ZT1bXTt0aGlzLmJVcGRhdGluZz1mYWxzZTt0aGlzLmFkYXB0VG9QaXhlbFJhdGlvPXJ8fGZhbHNlO3RoaXMucGl4ZWxSYXRpbz1yP3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOjE7aWYodGhpcy5hZGFwdFRvUGl4ZWxSYXRpbyl7byh0aGlzLmNhbnZhcyx0aGlzLnBpeGVsUmF0aW8pO310aGlzLmRpYWxvZ05lc3RpbmdEZXB0aD11fHwwO3RoaXMuY2FyZXQ9bmV3IGIuQ2FyZXQocyx0aGlzLnBpeGVsUmF0aW8pO2lmKCh0PT1iLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpfHwodD09Yi5Db21wb25lbnRUeXBlLlR4RGlhbG9nKSl7dGhpcy5oaWRkZW5UZXh0RmllbGQ9bmV3IGIuSGlkZGVuVGV4dEZpZWxkKHMsdCx0aGlzKTt9dGhpcy5jb21wb25lbnRUeXBlPXQ7dGhpcy5kaWFsb2dUeXBlPXZ8fGIuVFhEaWFsb2dUeXBlLlVua25vd247dGhpcy5jdXJzb3JUeXBlPW51bGw7dGhpcy5zaGFwZURJVj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMuc2hhcGVESVYuY2xhc3NMaXN0LmFkZChcInR4U2hhcGVESVZcIik7dGhpcy5zaGFwZURJVi5zdHlsZS50b3A9XCIxcHhcIjt0aGlzLnNoYXBlRElWLnN0eWxlLmxlZnQ9XCItOTk5OXB4XCI7dGhpcy5jb250ZXh0LmNhbnZhcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuc2hhcGVESVYpO3RoaXMuY2FudmFzQ2xpZW50Qm91bmRSZWN0PW51bGw7cy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5jYW52YXNfTW91c2VEb3duLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmNhbnZhc19Nb3VzZVVwLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jYW52YXNfQ2xpY2suYmluZCh0aGlzKSk7dGhpcy5zaGFwZURJVi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuY2FudmFzX01vdXNlVXAuYmluZCh0aGlzKSk7cy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5jYW52YXNfTW91c2VNb3ZlLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsdGhpcy5jYW52YXNfRG91YmxlQ2xpY2suYmluZCh0aGlzKSk7cy5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLmNhbnZhc19Nb3VzZVdoZWVsLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix0aGlzLmNhbnZhc19Nb3VzZVdoZWVsLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24odyl7dy5wcmV2ZW50RGVmYXVsdCgpO30pO2lmKGIuaXNUb3VjaERldmljZSl7cy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuY2FudmFzX1RvdWNoU3RhcnQuYmluZCh0aGlzKSk7cy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLmNhbnZhc19Ub3VjaEVuZC5iaW5kKHRoaXMpKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMuY2FudmFzX1RvdWNoQ2FuY2VsLmJpbmQodGhpcykpO3MuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobGVhdmVcIix0aGlzLmNhbnZhc19Ub3VjaEVuZC5iaW5kKHRoaXMpKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLmNhbnZhc19Ub3VjaE1vdmUuYmluZCh0aGlzKSk7fWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb25lbnRDdXJzb3JDaGFuZ2VkXCIsdGhpcy5jdXJzb3JDaGFuZ2VkLmJpbmQodGhpcykpO2lmKHRoaXMuY29tcG9uZW50VHlwZT09Yi5Db21wb25lbnRUeXBlLlRleHRWaWV3KXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhd1NoYXBlTWVzc2FnZVJlY2VpdmVkXCIsdGhpcy5kcmF3U2hhcGUuYmluZCh0aGlzKSk7fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoai5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7fSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5jYW52YXMud2lkdGg9cjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O30sc2V0OmZ1bmN0aW9uKHIpe3RoaXMuY2FudmFzLmhlaWdodD1yO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGoucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMub2Zmc2V0TGVmdDt9LHNldDpmdW5jdGlvbihyKXt0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0PXIrXCJweFwiO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGoucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5vZmZzZXRUb3A7fSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5jYW52YXMuc3R5bGUudG9wPXIrXCJweFwiO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGoucHJvdG90eXBlLFwiY2FyZXRCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FyZXQuYm91bmRzO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7ai5wcm90b3R5cGUuc2V0Q2FyZXRTdGF0ZT1mdW5jdGlvbihyKXtpZihiLmlzVG91Y2hEZXZpY2UmJiFiLmluSU1FQ29tcG9zaXRpb24mJnIuVmlzaWJpbGl0eSYmdGhpcy5oaWRkZW5UZXh0RmllbGQpe3RoaXMuaGlkZGVuVGV4dEZpZWxkLnRvcD1yLkxvY2F0aW9uLlkrdGhpcy5jYW52YXMub2Zmc2V0VG9wO310aGlzLmNhcmV0LnNldFN0YXRlKHIpO307ZnVuY3Rpb24gbyhyLHMpe3Iuc3R5bGUud2lkdGg9KHIud2lkdGgvcykrXCJweFwiO3Iuc3R5bGUuaGVpZ2h0PShyLmhlaWdodC9zKStcInB4XCI7fWoucHJvdG90eXBlLnNldEltYWdlPWZ1bmN0aW9uKHMpe3ZhciB0PXRoaXM7dmFyIHI9bmV3IEltYWdlKCk7ci5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmNvbnRleHQuY2xlYXJSZWN0KDAsMCxyLm5hdHVyYWxXaWR0aCxyLm5hdHVyYWxIZWlnaHQpO3QuY29udGV4dC5kcmF3SW1hZ2UociwwLDAsci5uYXR1cmFsV2lkdGgsci5uYXR1cmFsSGVpZ2h0KTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbWFnZUxvYWRlZCx0LmNvbXBvbmVudFR5cGUsdC5kaWFsb2dUeXBlLHQuZGlhbG9nTmVzdGluZ0RlcHRoKTt9O3Iuc3JjPXM7fTtqLnByb3RvdHlwZS5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zPWZ1bmN0aW9uKHIpe2lmKHRoaXMuYlVwZGF0aW5nKXt0aGlzLnZpZXdDaGFuZ2VkUXVldWUucHVzaCh7dGlsZXM6cn0pO3JldHVybjt9dGhpcy5iVXBkYXRpbmc9dHJ1ZTt0aGlzLnVwZGF0ZUltYWdlUmVnaW9ucyhyKTt9O2oucHJvdG90eXBlLnJlcXVlc3RTY3JvbGw9ZnVuY3Rpb24ocixzKXtpZih0aGlzLmJVcGRhdGluZyl7dGhpcy52aWV3Q2hhbmdlZFF1ZXVlLnB1c2goe2RlbHRhOnIsdGlsZXM6c30pO3JldHVybjt9dGhpcy5iVXBkYXRpbmc9dHJ1ZTt0aGlzLnNjcm9sbChyLHMpO307ai5wcm90b3R5cGUudXBkYXRlSW1hZ2VSZWdpb25zPWZ1bmN0aW9uKHQpe3ZhciBzPXRoaXMsdT0wLHI9dC5sZW5ndGg7dC5mb3JFYWNoKGZ1bmN0aW9uKHcpe3ZhciB2PW5ldyBJbWFnZSgpO3Yub25sb2FkPWZ1bmN0aW9uKCl7aWYocy5jb21wb25lbnRUeXBlPT1iLkNvbXBvbmVudFR5cGUuVHhEaWFsb2cpe3MuY29udGV4dC5jbGVhclJlY3Qody5wb3MuWCx3LnBvcy5ZLHYubmF0dXJhbFdpZHRoLHYubmF0dXJhbEhlaWdodCk7fXMuY29udGV4dC5kcmF3SW1hZ2Uodix3LnBvcy5YLHcucG9zLlksdi5uYXR1cmFsV2lkdGgsdi5uYXR1cmFsSGVpZ2h0KTtpZihyPT0rK3Upe2lmKHMudmlld0NoYW5nZWRRdWV1ZS5sZW5ndGg+MCl7cy5wcm9jZXNzTmV4dFF1ZXVlRW50cnkoKTt9ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbWFnZUxvYWRlZCxzLmNvbXBvbmVudFR5cGUscy5kaWFsb2dUeXBlLHMuZGlhbG9nTmVzdGluZ0RlcHRoKTtzLmJVcGRhdGluZz1mYWxzZTt9fX07di5zcmM9dy5pbWFnZURhdGFVUkw7fSk7fTtqLnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24ocyx2KXt2YXIgdT10aGlzLHQ9MCxyPXYubGVuZ3RoO2lmKCF0aGlzLmNhbnZhcy53aWR0aHx8IXRoaXMuY2FudmFzLmhlaWdodCl7cmV0dXJuO310aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY2FudmFzLHMuWCxzLlksdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KTt2LmZvckVhY2goZnVuY3Rpb24oeCl7dmFyIHc9bmV3IEltYWdlKCk7dy5vbmxvYWQ9ZnVuY3Rpb24oKXt1LmNvbnRleHQuZHJhd0ltYWdlKHcseC5wb3MuWCx4LnBvcy5ZLHcubmF0dXJhbFdpZHRoLHcubmF0dXJhbEhlaWdodCk7aWYocj09Kyt0KXtpZih1LnZpZXdDaGFuZ2VkUXVldWUubGVuZ3RoPjApe3UucHJvY2Vzc05leHRRdWV1ZUVudHJ5KCk7fWVsc2V7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuSW1hZ2VMb2FkZWQsdS5jb21wb25lbnRUeXBlLHUuZGlhbG9nVHlwZSx1LmRpYWxvZ05lc3RpbmdEZXB0aCk7dS5iVXBkYXRpbmc9ZmFsc2U7fX19O3cuc3JjPXguaW1hZ2VEYXRhVVJMO30pO307ai5wcm90b3R5cGUucHJvY2Vzc05leHRRdWV1ZUVudHJ5PWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy52aWV3Q2hhbmdlZFF1ZXVlLnNoaWZ0KCk7aWYoci5oYXNPd25Qcm9wZXJ0eShcImRlbHRhXCIpKXt0aGlzLnNjcm9sbChyLmRlbHRhLHIudGlsZXMpO31lbHNle3RoaXMudXBkYXRlSW1hZ2VSZWdpb25zKHIudGlsZXMpO319O2oucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt9O2oucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO307ai5wcm90b3R5cGUuc2hvd0NhcmV0PWZ1bmN0aW9uKCl7dGhpcy5jYXJldC5zaG93KCk7fTtqLnByb3RvdHlwZS5oaWRlQ2FyZXQ9ZnVuY3Rpb24oKXt0aGlzLmNhcmV0LmhpZGUoKTt9O2oucHJvdG90eXBlLnJlZnJlc2hDYXJldExvY2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jYXJldC5yZWZyZXNoTG9jYXRpb24oKTt9O2oucHJvdG90eXBlLmJ1ZmZlckNvbnRlbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5jYW52YXMud2lkdGh8fCF0aGlzLmNhbnZhcy5oZWlnaHQpe3RoaXMuaW1nQnVmZmVyPW51bGw7cmV0dXJuO310aGlzLmltZ0J1ZmZlcj10aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpO307ai5wcm90b3R5cGUuZHJhd0J1ZmZlcmVkQ29udGVudD1mdW5jdGlvbigpe2lmKCF0aGlzLmltZ0J1ZmZlcil7cmV0dXJuO310aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1nQnVmZmVyLDAsMCk7ZGVsZXRlIHRoaXMuaW1nQnVmZmVyO307ai5wcm90b3R5cGUuY2FudmFzX01vdXNlRG93bj1mdW5jdGlvbihzKXtpZighYi5tb3VzZU93bmVyKXtiLm1vdXNlT3duZXI9dGhpczt9ZWxzZXtpZihiLm1vdXNlT3duZXIhPXRoaXMpe3JldHVybjt9fWlmKHMud2hpY2g9PTEpe3RoaXMubW91c2VCdXR0b25zfD1iLk1vdXNlQnV0dG9ucy5MZWZ0O31pZihzLndoaWNoPT0yKXt0aGlzLm1vdXNlQnV0dG9uc3w9Yi5Nb3VzZUJ1dHRvbnMuTWlkZGxlO31pZihzLndoaWNoPT0zKXt0aGlzLm1vdXNlQnV0dG9uc3w9Yi5Nb3VzZUJ1dHRvbnMuUmlnaHQ7fWlmKHMuZGV0YWlsPT0yKXt0aGlzLmNhbnZhc19Eb3VibGVDbGljayhzKTtjPXRydWU7cy5wcmV2ZW50RGVmYXVsdCgpO3JldHVybjt9dmFyIHQ9dGhpcy5nZXRNb3VzZVBvcyhzKSxyPXttb3VzZVBvczp7WDpNYXRoLnJvdW5kKHQueCksWTpNYXRoLnJvdW5kKHQueSl9LG1vZGlmaWVyS2V5czpiLm1vZGlmaWVyS2V5cyxidXR0b25zOnRoaXMubW91c2VCdXR0b25Ub01vdXNlQnV0dG9uRmxhZyhzLndoaWNoKX07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsYi5Vc2VySW5wdXRFdmVudFR5cGUuTW91c2VEb3duLHRoaXMuY29tcG9uZW50VHlwZSwwLHIpO3MucHJldmVudERlZmF1bHQoKTt9O2oucHJvdG90eXBlLmNhbnZhc19Nb3VzZVVwPWZ1bmN0aW9uKHMpe2lmKGIubW91c2VPd25lcil7cmV0dXJuO31iLmxhc3RNb3VzZVVwRXZlbnQ9czt2YXIgdD10aGlzLmdldE1vdXNlUG9zKHMpLHI9e21vdXNlUG9zOntYOk1hdGgucm91bmQodC54KSxZOk1hdGgucm91bmQodC55KX0sbW9kaWZpZXJLZXlzOmIubW9kaWZpZXJLZXlzLGJ1dHRvbnM6dGhpcy5tb3VzZUJ1dHRvblRvTW91c2VCdXR0b25GbGFnKHMud2hpY2gpfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5Nb3VzZVVwLHRoaXMuY29tcG9uZW50VHlwZSwwLHIpO2lmKHMud2hpY2g9PTEpe3RoaXMubW91c2VCdXR0b25zJj1+Yi5Nb3VzZUJ1dHRvbnMuTGVmdDt9aWYocy53aGljaD09Mil7dGhpcy5tb3VzZUJ1dHRvbnMmPX5iLk1vdXNlQnV0dG9ucy5NaWRkbGU7fWlmKHMud2hpY2g9PTMpe3RoaXMubW91c2VCdXR0b25zJj1+Yi5Nb3VzZUJ1dHRvbnMuUmlnaHQ7fXRoaXMuY2FudmFzQ2xpZW50Qm91bmRSZWN0PW51bGw7aWYocy53aGljaD09MSl7dGhpcy5oaWRlU2hhcGUoKTt9cy5wcmV2ZW50RGVmYXVsdCgpO307ai5wcm90b3R5cGUuY2FudmFzX0NsaWNrPWZ1bmN0aW9uKHIpe3RoaXMuZm9jdXMoKTt9O2oucHJvdG90eXBlLmNhbnZhc19Nb3VzZU1vdmU9ZnVuY3Rpb24ocyl7aWYoYi5tb3VzZU93bmVyKXtyZXR1cm47fXZhciB0PXRoaXMuZ2V0TW91c2VQb3Mocyk7dmFyIHI9e21vdXNlUG9zOntYOk1hdGgucm91bmQodC54KSxZOk1hdGgucm91bmQodC55KX0sbW9kaWZpZXJLZXlzOmIubW9kaWZpZXJLZXlzLGJ1dHRvbnM6dGhpcy5tb3VzZUJ1dHRvbnN9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGIuVXNlcklucHV0RXZlbnRUeXBlLk1vdXNlTW92ZSx0aGlzLmNvbXBvbmVudFR5cGUsMCxyKTtzLnByZXZlbnREZWZhdWx0KCk7fTtqLnByb3RvdHlwZS5jYW52YXNfRG91YmxlQ2xpY2s9ZnVuY3Rpb24ocyl7aWYoYyl7Yz1mYWxzZTtzLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuO312YXIgdD10aGlzLmdldE1vdXNlUG9zKHMpLHI9e21vdXNlUG9zOntYOk1hdGgucm91bmQodC54KSxZOk1hdGgucm91bmQodC55KX0sbW9kaWZpZXJLZXlzOmIubW9kaWZpZXJLZXlzLH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsYi5Vc2VySW5wdXRFdmVudFR5cGUuTW91c2VEb3VibGVDbGljayx0aGlzLmNvbXBvbmVudFR5cGUsMCxyKTtzLnByZXZlbnREZWZhdWx0KCk7fTtqLnByb3RvdHlwZS5jYW52YXNfVG91Y2hTdGFydD1mdW5jdGlvbihyKXtiLmhpZGVBbGxPdGhlck1lbnVzKCk7Yi5maWxlTWVudS5oaWRlKCk7dmFyIHM9ci5jaGFuZ2VkVG91Y2hlcztpZigocy5sZW5ndGg9PTEpJiYoZS5jb3VudCgpPT0wKSl7dGhpcy5jYW52YXNDbGllbnRCb3VuZFJlY3Q9dGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy50b3VjaFN0YXRlTWFjaGluZS5wcm9jZXNzVG91Y2goc1swXSxoLlRvdWNoRXZlbnRUeXBlLlN0YXJ0KTt9ZWxzZXt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnJlc2V0KCk7fWUudXBkYXRlKHMpO307ai5wcm90b3R5cGUuY2FudmFzX1RvdWNoRHJhZ1RleHRWaWV3PWZ1bmN0aW9uKHMpe3ZhciB0PWUuZ2V0SXRlbShzLmlkZW50aWZpZXIpO2lmKHRoaXMuY29tcG9uZW50VHlwZT09Yi5Db21wb25lbnRUeXBlLlRleHRWaWV3KXt2YXIgcj17WDp0LmNsaWVudFgtcy5jbGllbnRYLFk6dC5jbGllbnRZLXMuY2xpZW50WX07cj1iLnBvaW50UGl4ZWxUb1R3aXBzKHIsYi56b29tKTtiLnNjcm9sbERlbHRhKHIsdGhpcy5jb21wb25lbnRUeXBlKTt9fTtqLnByb3RvdHlwZS5jYW52YXNfVG91Y2hQaW5jaFRleHRWaWV3PWZ1bmN0aW9uKEQpe2IuaXNQaW5jaFpvb21pbmc9dHJ1ZTt2YXIgQj1EWzBdLEU9ZS5nZXRJdGVtKEIuaWRlbnRpZmllcik7dmFyIEMsRjtpZihELmxlbmd0aD09Mil7Qz1EWzFdO0Y9ZS5nZXRJdGVtKEMuaWRlbnRpZmllcik7fWVsc2V7Zm9yKHZhciBBIGluIGUudG91Y2hlcyl7aWYoQSE9KFwiX1wiK0IuaWRlbnRpZmllcikpe0Y9Qz1lLnRvdWNoZXNbQV07YnJlYWs7fX19dmFyIHk9e1g6RS5jbGllbnRYLFk6RS5jbGllbnRZfSx6PXtYOkYuY2xpZW50WCxZOkYuY2xpZW50WX0sdT1rKHoseSkscz1tKHkseik7eT17WDpCLmNsaWVudFgsWTpCLmNsaWVudFl9O3o9e1g6Qy5jbGllbnRYLFk6Qy5jbGllbnRZfTt2YXIgdD1rKHoseSkscj1tKHkseik7dmFyIHg9e1g6TWF0aC5yb3VuZChzLlgtci5YKSxZOk1hdGgucm91bmQocy5ZLXIuWSl9O3ZhciB2PU1hdGguc3FydCh4LlgqeC5YK3guWSp4LlkpO2lmKHY+MCl7eD1iLnBvaW50UGl4ZWxUb1R3aXBzKHgsYi56b29tKTtiLnNjcm9sbERlbHRhKHgsdGhpcy5jb21wb25lbnRUeXBlKTt9dmFyIHc9dC91O2Iuem9vbT1NYXRoLnJvdW5kKGIuem9vbSp3KTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5ab29tLGIuem9vbSk7fTtmdW5jdGlvbiBuKHUpe3ZhciByPXUuY2hhbmdlZFRvdWNoZXM7dmFyIHc9W107Zm9yKHZhciB2PTA7djxyLmxlbmd0aDsrK3Ype3ZhciBzPXJbdl07dmFyIHg9ZS5nZXRJdGVtKHMuaWRlbnRpZmllcik7aWYoeC5oYXNMZWZ0RGVhZHpvbmUpe3MuaGFzTGVmdERlYWR6b25lPXRydWU7dy5wdXNoKHMpO31lbHNle3ZhciB0PWwoeCxzKTtpZih0Pj1kKXtzLmhhc0xlZnREZWFkem9uZT10cnVlO3cucHVzaChzKTt9fX1yZXR1cm4gdzt9ai5wcm90b3R5cGUuY2FudmFzX1RvdWNoTW92ZT1mdW5jdGlvbihyKXtpZighZS5jb3VudCgpKXtpZih0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnN0YXRlIT1oLlN0YXRlLkluaXRpYWwpe3RoaXMudG91Y2hTdGF0ZU1hY2hpbmUucmVzZXQoKTt9cmV0dXJuO312YXIgcz1uKHIpO2lmKHMubGVuZ3RoKXtzd2l0Y2godGhpcy50b3VjaFN0YXRlTWFjaGluZS5zdGF0ZSl7Y2FzZSBoLlN0YXRlLk9iamVjdEdyaXA6Y2FzZSBoLlN0YXRlLkltcGVuZGluZ0RvdWJsZUNsaWNrT3JPYmplY3RHcmlwOnRoaXMudG91Y2hTdGF0ZU1hY2hpbmUucHJvY2Vzc1RvdWNoKHNbMF0saC5Ub3VjaEV2ZW50VHlwZS5Nb3ZlKTticmVhaztkZWZhdWx0OnN3aXRjaCh0aGlzLmNvbXBvbmVudFR5cGUpe2Nhc2UgYi5Db21wb25lbnRUeXBlLlRleHRWaWV3OnRoaXMuY2FudmFzX1RvdWNoTW92ZVRleHRWaWV3KHMpO2JyZWFrO310aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnJlc2V0KCk7fWUudXBkYXRlKHMpO31pZihyLmNhbmNlbGFibGUpe3IucHJldmVudERlZmF1bHQoKTt9fTtqLnByb3RvdHlwZS5jYW52YXNfVG91Y2hNb3ZlVGV4dFZpZXc9ZnVuY3Rpb24ocil7c3dpdGNoKGUuY291bnQoKSl7Y2FzZSAxOnRoaXMuY2FudmFzX1RvdWNoRHJhZ1RleHRWaWV3KHJbMF0pO2JyZWFrO2Nhc2UgMjp0aGlzLmNhbnZhc19Ub3VjaFBpbmNoVGV4dFZpZXcocik7YnJlYWs7fX07ai5wcm90b3R5cGUuY2FudmFzX1RvdWNoRW5kPWZ1bmN0aW9uKHIpe2IuaXNQaW5jaFpvb21pbmc9ZmFsc2U7dmFyIHU9ci5jaGFuZ2VkVG91Y2hlcztpZih1Lmxlbmd0aD09MSl7dGhpcy50b3VjaFN0YXRlTWFjaGluZS5wcm9jZXNzVG91Y2godVswXSxoLlRvdWNoRXZlbnRUeXBlLkVuZCk7fWZvcih2YXIgcz0wO3M8dS5sZW5ndGg7KytzKXt2YXIgdD11W3NdO2UucmVtb3ZlSXRlbSh0LmlkZW50aWZpZXIpO319O2oucHJvdG90eXBlLmNhbnZhc19Ub3VjaENhbmNlbD1mdW5jdGlvbihyKXt2YXIgdT1yLmNoYW5nZWRUb3VjaGVzO2lmKHUubGVuZ3RoPT0xKXt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnByb2Nlc3NUb3VjaCh1WzBdLGguVG91Y2hFdmVudFR5cGUuRW5kKTt9Zm9yKHZhciBzPTA7czx1Lmxlbmd0aDsrK3Mpe3ZhciB0PXVbc107ZS5yZW1vdmVJdGVtKHQuaWRlbnRpZmllcik7fWlmKHIuY2FuY2VsYWJsZSl7ci5wcmV2ZW50RGVmYXVsdCgpO319O2Z1bmN0aW9uIGsodCx1KXt2YXIgcj11LlgtdC5YO3ZhciBzPXUuWS10Llk7cmV0dXJuIE1hdGguc3FydCgocipyKSsocypzKSk7fWZ1bmN0aW9uIGwodCx1KXt2YXIgcj17WDp0LmNsaWVudFgsWTp0LmNsaWVudFl9LHM9e1g6dS5jbGllbnRYLFk6dS5jbGllbnRZfTtyZXR1cm4gayhzLHIpO31mdW5jdGlvbiBtKHIscyl7cmV0dXJue1g6KHIuWCtzLlgpLzIsWTooci5ZK3MuWSkvMn07fWoucHJvdG90eXBlLmNhbnZhc19Nb3VzZVdoZWVsPWZ1bmN0aW9uKHQpe3ZhciBzPSh0LndoZWVsRGVsdGF8fC0odC5kZXRhaWwqNDApKSx1PXRoaXMuZ2V0TW91c2VQb3ModCkscj17bW91c2VQb3M6e1g6TWF0aC5yb3VuZCh1LngpLFk6TWF0aC5yb3VuZCh1LnkpfSxtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXMsZGVsdGE6c307Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsYi5Vc2VySW5wdXRFdmVudFR5cGUuTW91c2VXaGVlbCx0aGlzLmNvbXBvbmVudFR5cGUsMCxyKTt0LnByZXZlbnREZWZhdWx0KCk7fTtqLnByb3RvdHlwZS5jdXJzb3JDaGFuZ2VkPWZ1bmN0aW9uKHMpe3ZhciB0PXMuZGV0YWlsO3ZhciByO2lmKHQudGFyZ2V0IT10aGlzLmNvbXBvbmVudFR5cGUpe3JldHVybjt9aWYodC5kaWFsb2dUeXBlIT10aGlzLmRpYWxvZ1R5cGUpe3JldHVybjt9aWYodGhpcy5tb3VzZUJ1dHRvbnMmYi5Nb3VzZUJ1dHRvbnMuTGVmdCl7cmV0dXJuO310aGlzLmN1cnNvclR5cGU9dC5jdXJzb3JUeXBlO3N3aXRjaCh0LmN1cnNvclR5cGUpe2Nhc2UgZi5JQmVhbTp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJ0ZXh0XCI7YnJlYWs7Y2FzZSBmLkFycm93TkU6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwidXJsKFwiK2IuaW1hZ2VSZXNvdXJjZXMuc21hbGwuYXJyb3duZStcIikgMzIgMCwgZGVmYXVsdFwiO2JyZWFrO2Nhc2UgZi5WU3BsaXQ6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwiY29sLXJlc2l6ZVwiO2JyZWFrO2Nhc2UgZi5VcEFycm93OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIjticmVhaztjYXNlIGYuQXJyb3c6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiO2JyZWFrO2Nhc2UgZi5Eb3duQXJyb3c6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwidXJsKFwiK2IuaW1hZ2VSZXNvdXJjZXMuc21hbGwuZG93bmFycm93K1wiKSAyMyAxMSwgZGVmYXVsdFwiO2JyZWFrO2Nhc2UgZi5TaXplV0U6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwiZXctcmVzaXplXCI7YnJlYWs7Y2FzZSBmLlNpemVOUzp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJucy1yZXNpemVcIjticmVhaztjYXNlIGYuU2l6ZU5XU0U6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibndzZS1yZXNpemVcIjticmVhaztjYXNlIGYuU2l6ZU5FU1c6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibmVzdy1yZXNpemVcIjticmVhaztjYXNlIGYuU2l6ZUFsbDp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJtb3ZlXCI7YnJlYWs7Y2FzZSBmLkNyb3NzOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImNyb3NzaGFpclwiO2JyZWFrO2Nhc2UgZi5Obzp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJub3QtYWxsb3dlZFwiO2JyZWFrO2Nhc2UgZi5EcmFnRHJvcENvcHk6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwiY29weVwiO2JyZWFrO2Nhc2UgZi5EcmFnRHJvcE1vdmU6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibW92ZVwiO2JyZWFrO2RlZmF1bHQ6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiO2JyZWFrO319O2oucHJvdG90eXBlLnNoYXBlQmxpbms9ZnVuY3Rpb24oKXtpZih0aGlzLnNoYXBlSXNCbGFjayl7dGhpcy5zaGFwZURJVi5zdHlsZS5ib3JkZXJDb2xvcj1xO3RoaXMuc2hhcGVJc0JsYWNrPWZhbHNlO31lbHNle3RoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyQ29sb3I9XCJibGFja1wiO3RoaXMuc2hhcGVJc0JsYWNrPXRydWU7fX07ai5wcm90b3R5cGUuaGlkZVNoYXBlPWZ1bmN0aW9uKCl7aWYodGhpcy5zaGFwZUJsaW5rVGltZXIpe2NsZWFyVGltZW91dCh0aGlzLnNoYXBlQmxpbmtUaW1lcik7dGhpcy5zaGFwZURJVi5zdHlsZS5ib3JkZXJDb2xvcj1cImJsYWNrXCI7dGhpcy5zaGFwZUJsaW5rVGltZXI9bnVsbDt0aGlzLnNoYXBlSXNCbGFjaz10cnVlO310aGlzLnNoYXBlRElWLnN0eWxlLm9wYWNpdHk9MDt0aGlzLnNoYXBlRElWLnN0eWxlLmxlZnQ9XCItOTk5OXB4XCI7fTtqLnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24ocil7aWYoISh0aGlzLm1vdXNlQnV0dG9ucyZiLk1vdXNlQnV0dG9ucy5MZWZ0KSl7cmV0dXJuO312YXIgcz1yLmRldGFpbDtpZighdGhpcy5zaGFwZUJsaW5rVGltZXIpe3RoaXMuc2hhcGVCbGlua1RpbWVyPXNldEludGVydmFsKHRoaXMuc2hhcGVCbGluay5iaW5kKHRoaXMpLDUwMCk7dGhpcy5zaGFwZURJVi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ0cmFuc3BhcmVudFwiO3N3aXRjaChzLktpbmQpe2Nhc2UgZy5UYWJsZUJvcmRlck1vdmluZ0xpbmU6dGhpcy5zaGFwZURJVi5zdHlsZS5ib3JkZXI9XCJub25lXCI7dGhpcy5zaGFwZURJVi5zdHlsZS5ib3JkZXJMZWZ0PXA7YnJlYWs7Y2FzZSBnLk1vdmVBbmRTaXplRnJhbWU6dGhpcy5zaGFwZURJVi5zdHlsZS5ib3JkZXI9cDticmVhaztjYXNlIGcuRHJvcENhcmV0OnRoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyPVwibm9uZVwiO3RoaXMuc2hhcGVESVYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiYmxhY2tcIjticmVhazt9dGhpcy5zaGFwZURJVi5zdHlsZS5vcGFjaXR5PTE7fXZhciB0PXMuTG9jYXRpb24uWCt0aGlzLmxlZnQsdT1zLkxvY2F0aW9uLlkrdGhpcy50b3A7dGhpcy5zaGFwZURJVi5zdHlsZS50b3A9dStcInB4XCI7dGhpcy5zaGFwZURJVi5zdHlsZS5sZWZ0PXQrXCJweFwiO3RoaXMuc2hhcGVESVYuc3R5bGUuaGVpZ2h0PXMuU2l6ZS5IZWlnaHQrXCJweFwiO3RoaXMuc2hhcGVESVYuc3R5bGUud2lkdGg9cy5TaXplLldpZHRoK1wicHhcIjt9O2oucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7aWYoYi5pZ25vcmVOZXh0VGV4dEZvY3VzUmVxdWVzdCl7Yi5pZ25vcmVOZXh0VGV4dEZvY3VzUmVxdWVzdD1mYWxzZTtyZXR1cm47fWlmKCF0aGlzLmhpZGRlblRleHRGaWVsZCl7cmV0dXJuO31pZigodGhpcy5jb21wb25lbnRUeXBlIT1iLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpJiYodGhpcy5jb21wb25lbnRUeXBlIT1iLkNvbXBvbmVudFR5cGUuVHhEaWFsb2cpKXtyZXR1cm47fXRoaXMuaGlkZGVuVGV4dEZpZWxkLmZvY3VzKCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50QWN0aXZhdGlvblN0YXRlLHRoaXMuY29tcG9uZW50VHlwZSxiLkFjdGl2YXRpb25TdGF0ZS5BY3RpdmF0ZWQpO307ai5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe2lmKHRoaXMuaGlkZGVuVGV4dEZpZWxkKXt0aGlzLmhpZGRlblRleHRGaWVsZC5ibHVyKCk7fX07ai5wcm90b3R5cGUuZ2V0TW91c2VQb3M9ZnVuY3Rpb24ocil7dmFyIHM7aWYoYi5pc1RvdWNoRGV2aWNlJiZ0aGlzLmNhbnZhc0NsaWVudEJvdW5kUmVjdCl7cz10aGlzLmNhbnZhc0NsaWVudEJvdW5kUmVjdDt9ZWxzZXtzPXRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO31yZXR1cm57eDooci5jbGllbnRYLXMubGVmdCkqdGhpcy5waXhlbFJhdGlvLHk6KHIuY2xpZW50WS1zLnRvcCkqdGhpcy5waXhlbFJhdGlvfTt9O2oucHJvdG90eXBlLm1vdXNlQnV0dG9uVG9Nb3VzZUJ1dHRvbkZsYWc9ZnVuY3Rpb24ocil7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gYi5Nb3VzZUJ1dHRvbnMuTGVmdDtjYXNlIDI6cmV0dXJuIGIuTW91c2VCdXR0b25zLk1pZGRsZTtjYXNlIDM6cmV0dXJuIGIuTW91c2VCdXR0b25zLlJpZ2h0O31yZXR1cm4gMDt9O2oucHJvdG90eXBlLnNldEhpZGRlblRleHRGaWVsZFRleHQ9ZnVuY3Rpb24ocil7dGhpcy5oaWRkZW5UZXh0RmllbGQuc2V0VGV4dChyKTt9O2oucHJvdG90eXBlLnNlbGVjdEhpZGRlblRleHRmaWVsZENvbnRlbnQ9ZnVuY3Rpb24oKXt0aGlzLmhpZGRlblRleHRGaWVsZC5zZWxlY3RBbGwoKTt9O3JldHVybiBqO30pKCk7cmV0dXJuIGk7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihnLGEpe3ZhciBiPWcuX3ByaXZhdGU9Zy5fcHJpdmF0ZXx8e307Yi5PdmVybGF5Q29udHJvbFR5cGU9e307Yi5PdmVybGF5Q29udHJvbE1lc3NhZ2U9e307Yi5PdmVybGF5Q29udHJvbFN0YXRlVHlwZT17fTtiLm92ZXJsYXlDb250cm9scz17Y29tYm9Cb3g6bnVsbCxkYXRlUGlja2VyOm51bGwsZXhpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGkgaW4gdGhpcyl7aWYoKHR5cGVvZiB0aGlzW2ldIT09XCJmdW5jdGlvblwiKSYmKHRoaXNbaV0hPT1udWxsKSl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fX07Yi5wcm9jZXNzT3ZlcmxheUNvbnRyb2xDb21tYW5kPWZ1bmN0aW9uKGkpe3N3aXRjaChpLlBhcmFtMSl7Y2FzZSBiLk92ZXJsYXlDb250cm9sTWVzc2FnZS5DcmVhdGU6YyhpLkRhdGEpO2JyZWFrO2Nhc2UgYi5PdmVybGF5Q29udHJvbE1lc3NhZ2UuUmVtb3ZlOmYoaS5EYXRhKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLkZvY3VzOmQoaS5EYXRhKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLlN0YXRlOmgoaS5EYXRhKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcInByb2Nlc3NPdmVybGF5Q29udHJvbENvbW1hbmQoKTogVW5rbm93biBvdmVybGF5IGNvbnRyb2wgY29tbWFuZCBcIitpLlBhcmFtMSk7fX07ZnVuY3Rpb24gYyhqKXt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKSxtPWUoKTtzd2l0Y2goai5jb250cm9sVHlwZSl7Y2FzZSBiLk92ZXJsYXlDb250cm9sVHlwZS5Db21ib0JveDprKCk7YnJlYWs7Y2FzZSBiLk92ZXJsYXlDb250cm9sVHlwZS5EYXRlUGlja2VyOmlmKGIuQnJvd3NlckRldGVjdC5icm93c2VyPT09XCJFeHBsb3JlclwiKXticmVhazt9bCgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlT3ZlcmxheUNvbnRyb2woKTogVW5rbm93biBvdmVybGF5IGNvbnRyb2wgdHlwZSBcIitqLmNvbnRyb2xUeXBlKTt9ZnVuY3Rpb24gaygpe3ZhciBwLG47bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO24uY2xhc3NMaXN0LmFkZChcInR4T3ZlcmxheUNvbnRyb2xcIik7bi5pZD1qLm5hbWU7bi5zdHlsZS50b3A9ai5sb2NhdGlvbi55K20ueStcInB4XCI7bi5zdHlsZS5sZWZ0PWoubG9jYXRpb24ueCttLngrXCJweFwiO2lmKGouc2l6ZSl7bi5zdHlsZS5oZWlnaHQ9ai5zaXplLmhlaWdodCtcInB4XCI7bi5zdHlsZS53aWR0aD1qLnNpemUud2lkdGgrXCJweFwiO31uLnN0eWxlLmZvbnRGYW1pbHk9ai5mb250TmFtZTtuLnN0eWxlLmZvbnRTaXplPWouZm9udFNpemUrXCJwdFwiO24uc3R5bGUuZm9udFdlaWdodD1qLmJvbGQ/XCI3MDBcIjpcIjQwMFwiO24uc3R5bGUuZm9udFN0eWxlPWouaXRhbGljP1wiaXRhbGljXCI6XCJcIjtqLml0ZW1zLmZvckVhY2goZnVuY3Rpb24odil7cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3AudGV4dENvbnRlbnQ9di5UZXh0O3AudmFsdWU9di5WYWx1ZTtuLmFwcGVuZENoaWxkKHApO30pO2lmKGoudGV4dCl7cD1bXS5maW5kLmNhbGwobi5vcHRpb25zLGZ1bmN0aW9uKHYpe3JldHVybiB2LnRleHQ9PWoudGV4dDt9KTtpZighcCl7cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3AudGV4dD1wLnZhbHVlPWoudGV4dDtwLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7aWYobi5maXJzdENoaWxkKXtuLmluc2VydEJlZm9yZShwLG4uZmlyc3RDaGlsZCk7fWVsc2V7bi5hcHBlbmRDaGlsZChwKTt9fXAuc2VsZWN0ZWQ9dHJ1ZTt9aS5hcHBlbmRDaGlsZChuKTtiLnRleHRWaWV3ZXIuYmx1cigpO2Iub3ZlcmxheUNvbnRyb2xzLmNvbWJvQm94PW47bi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbyk7aWYoai5pc0VkaXRhYmxlKXtuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixyKTt9bi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHMpO24uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixxKTtmdW5jdGlvbiBvKHcpe3ZhciB2PXtuYW1lOmoubmFtZSx2YWx1ZToody50YXJnZXQudmFsdWU9PT1cIm51bGxcIik/bnVsbDp3LnRhcmdldC52YWx1ZX07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuT3ZlcmxheUNvbnRyb2xDb21tYW5kLGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLkV2ZW50LGIuT3ZlcmxheUNvbnRyb2xUeXBlLkNvbWJvQm94LGIuSW5wdXRDb250cm9sRXZlbnRUeXBlLkNoYW5nZSx2KTt9ZnVuY3Rpb24gcih2KXt2YXIgeT1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciB4PXt4OnYuY2xpZW50WC15LmxlZnQseTp2LmNsaWVudFkteS50b3AsaXNJbnNpZGU6ZnVuY3Rpb24oeil7cmV0dXJuKHRoaXMueD49ei5sZWZ0KSYmKHRoaXMueDw9ei5sZWZ0K3oud2lkdGgpJiYodGhpcy55Pj16LnRvcCkmJih0aGlzLnk8PXoudG9wK3ouaGVpZ2h0KTt9fTtpZih4LmlzSW5zaWRlKHcoKSkpe3QoKTt1KHt4OnYuY2xpZW50WCx5OnYuY2xpZW50WX0pO31mdW5jdGlvbiB3KCl7dmFyIEE9ai50b3BMZWZ0UGFkZGluZyx6PWouZHJvcERvd25BcnJvd1dpZHRoO3JldHVybntsZWZ0OkEud2lkdGgsdG9wOkEuaGVpZ2h0LHdpZHRoOnkud2lkdGgtQS53aWR0aC16LGhlaWdodDp5LmhlaWdodC0yKkEuaGVpZ2h0fTt9fWZ1bmN0aW9uIHModil7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50QWN0aXZhdGlvblN0YXRlLGIuQ29tcG9uZW50VHlwZS5UZXh0VmlldyxiLkFjdGl2YXRpb25TdGF0ZS5EZWFjdGl2YXRlZCk7fWZ1bmN0aW9uIHEodil7c3dpdGNoKHYua2V5KXtjYXNlXCJFc2NcIjpjYXNlXCJFc2NhcGVcIjpjYXNlXCJFbnRlclwiOnQoKTticmVhazt9fWZ1bmN0aW9uIHQoKXtuLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuT3ZlcmxheUNvbnRyb2xDb21tYW5kLGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLlJlbW92ZSwwLDAse25hbWU6ai5uYW1lfSk7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fWZ1bmN0aW9uIHUodyl7dmFyIHg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciB2PXttb3VzZVBvczp7WDpNYXRoLnJvdW5kKHcueC14LmxlZnQpLFk6TWF0aC5yb3VuZCh3LnkteC50b3ApfSxtb2RpZmllcktleXM6MCxidXR0b25zOmIuTW91c2VCdXR0b25zLkxlZnR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGIuVXNlcklucHV0RXZlbnRUeXBlLk1vdXNlRG93bixiLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcsMCx2KTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5Nb3VzZVVwLGIuQ29tcG9uZW50VHlwZS5UZXh0VmlldywwLHYpO319ZnVuY3Rpb24gbCgpe3ZhciBvO289ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO28udHlwZT1cImRhdGVcIjtvLmNsYXNzTGlzdC5hZGQoXCJ0eE92ZXJsYXlDb250cm9sXCIpO28uaWQ9ai5uYW1lO28udmFsdWU9ai52YWx1ZTtvLnN0eWxlLnRvcD1qLmxvY2F0aW9uLnkrbS55K1wicHhcIjtvLnN0eWxlLmxlZnQ9ai5sb2NhdGlvbi54K20ueCtcInB4XCI7aWYoai5zaXplKXtvLnN0eWxlLmhlaWdodD1qLnNpemUuaGVpZ2h0K1wicHhcIjtvLnN0eWxlLndpZHRoPWouc2l6ZS53aWR0aCtcInB4XCI7fW8uc3R5bGUuZm9udEZhbWlseT1qLmZvbnROYW1lO28uc3R5bGUuZm9udFNpemU9ai5mb250U2l6ZStcInB0XCI7aS5hcHBlbmRDaGlsZChvKTtiLnRleHRWaWV3ZXIuYmx1cigpO2Iub3ZlcmxheUNvbnRyb2xzLmRhdGVQaWNrZXI9bztvLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixuKTtvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIscCk7ZnVuY3Rpb24gbihzKXt2YXIgcj17bmFtZTpqLm5hbWUsdmFsdWU6KHMudGFyZ2V0LnZhbHVlPT09XCJudWxsXCIpP251bGw6cy50YXJnZXQudmFsdWV9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLk92ZXJsYXlDb250cm9sQ29tbWFuZCxiLk92ZXJsYXlDb250cm9sTWVzc2FnZS5FdmVudCxiLk92ZXJsYXlDb250cm9sVHlwZS5EYXRlUGlja2VyLGIuSW5wdXRDb250cm9sRXZlbnRUeXBlLkNoYW5nZSxyKTt9ZnVuY3Rpb24gcChyKXtzd2l0Y2goci5rZXkpe2Nhc2VcIkVzY1wiOmNhc2VcIkVzY2FwZVwiOmNhc2VcIkVudGVyXCI6cSgpO2JyZWFrO319ZnVuY3Rpb24gcSgpe28uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5PdmVybGF5Q29udHJvbENvbW1hbmQsYi5PdmVybGF5Q29udHJvbE1lc3NhZ2UuUmVtb3ZlLDAsMCx7bmFtZTpqLm5hbWV9KTtiLnRleHRWaWV3ZXIuZm9jdXMoKTt9fX1mdW5jdGlvbiBmKGope3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGoubmFtZSk7aWYoIWkpe2NvbnNvbGUuZXJyb3IoXCJyZW1vdmVPdmVybGF5Q29udHJvbCgpOiBFbGVtZW50IHdpdGggaWQgXCIrai5uYW1lK1wiIG5vdCBmb3VuZC5cIik7cmV0dXJuO31pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7c3dpdGNoKGkudGFnTmFtZSl7Y2FzZVwiU0VMRUNUXCI6Yi5vdmVybGF5Q29udHJvbHMuY29tYm9Cb3g9bnVsbDticmVhaztjYXNlXCJJTlBVVFwiOmIub3ZlcmxheUNvbnRyb2xzLmRhdGVQaWNrZXI9bnVsbDticmVhazt9fWZ1bmN0aW9uIGQoail7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoai5uYW1lKTtpZighaSl7Y29uc29sZS5lcnJvcihcImZvY3VzT3ZlcmxheUNvbnRyb2woKTogRWxlbWVudCB3aXRoIGlkIFwiK2oubmFtZStcIiBub3QgZm91bmQuXCIpO3JldHVybjt9aS5mb2N1cygpO31mdW5jdGlvbiBoKGope3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGoubmFtZSk7aWYoIWkpe3Rocm93IG5ldyBFcnJvcihcInVwZGF0ZU92ZXJsYXlDb250cm9sU3RhdGUoKTogZWxlbWVudCB3aXRoIGlkIFwiK2oubmFtZStcIiBub3QgZm91bmQuXCIpO312YXIgbz1qLnZhbHVlO3N3aXRjaChqLnN0YXRlVHlwZSl7Y2FzZSBiLk92ZXJsYXlDb250cm9sU3RhdGVUeXBlLkl0ZW1zOmsoKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xTdGF0ZVR5cGUuU2l6ZTpuKCk7YnJlYWs7Y2FzZSBiLk92ZXJsYXlDb250cm9sU3RhdGVUeXBlLkxvY2F0aW9uOmwoKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xTdGF0ZVR5cGUuU2VsZWN0ZWRJdGVtOm0oKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcInVwZGF0ZU92ZXJsYXlDb250cm9sU3RhdGUoKTogVW5rbm93biBjb250cm9sIHN0YXRlIHR5cGUgXCIrai5zdGF0ZVR5cGUpO31mdW5jdGlvbiBrKCl7dmFyIHEscDtpZihpLnRhZ05hbWUhPT1cIlNFTEVDVFwiKXtjb25zb2xlLmVycm9yKFwidXBkYXRlT3ZlcmxheUNvbnRyb2xTdGF0ZSgpOiBDYW4gb25seSB1cGRhdGUgdGhlIGl0ZW1zIG9mIFNFTEVDVCBlbGVtZW50cy5cIik7cmV0dXJuO31wPVtdLmZpbmQuY2FsbChpLm9wdGlvbnMsZnVuY3Rpb24ocil7cmV0dXJuIHIuc3R5bGUuZGlzcGxheT09PVwibm9uZVwiO30pO2lmKHApe3E9e3RleHQ6cC50ZXh0LHZhbHVlOnAudmFsdWV9O31pLmlubmVySFRNTD1cIlwiO28uZm9yRWFjaChmdW5jdGlvbihyKXtwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7cC50ZXh0Q29udGVudD1yLlRleHQ7cC52YWx1ZT1yLlZhbHVlO2kuYXBwZW5kQ2hpbGQocCk7fSk7aWYocSl7cD1bXS5maW5kLmNhbGwoaS5vcHRpb25zLGZ1bmN0aW9uKHIpe3JldHVybiByLnRleHQ9PT1xLnRleHQ7fSk7aWYoIXApe3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtwLnRleHQ9cS50ZXh0O3AudmFsdWU9cS52YWx1ZTtpZihpLmZpcnN0Q2hpbGQpe2kuaW5zZXJ0QmVmb3JlKHAsaS5maXJzdENoaWxkKTt9ZWxzZXtpLmFwcGVuZENoaWxkKHApO319cC5zZWxlY3RlZD10cnVlO319ZnVuY3Rpb24gbigpe2lmKG8pe2kuc3R5bGUud2lkdGg9by53aWR0aCtcInB4XCI7aS5zdHlsZS5oZWlnaHQ9by5oZWlnaHQrXCJweFwiO31lbHNle2kuc3R5bGUud2lkdGg9XCJcIjtpLnN0eWxlLmhlaWdodD1cIlwiO319ZnVuY3Rpb24gbCgpe3ZhciBwPWUoKTtpLnN0eWxlLmxlZnQ9by54K3AueCtcInB4XCI7aS5zdHlsZS50b3A9by55K3AueStcInB4XCI7fWZ1bmN0aW9uIG0oKXtpZihvPT1udWxsKXt2YXIgcD1bXS5maW5kLmNhbGwoaS5vcHRpb25zLGZ1bmN0aW9uKHEpe3JldHVybiBxLnN0eWxlLmRpc3BsYXk9PT1cIm5vbmVcIjt9KTtpZihwKXtpLnJlbW92ZUNoaWxkKHApO31pLnNlbGVjdGVkSW5kZXg9LTE7fWVsc2V7Y29uc29sZS5lcnJvcihcInVwZGF0ZU92ZXJsYXlDb250cm9sU2VsZWN0ZWRJdGVtKCk6IE5vbi1udWxsIGNhc2Ugbm90IGltcGxlbWVudGVkIHlldC5cIik7fX19ZnVuY3Rpb24gZSgpe3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNhbnZhc1wiKSxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpLGs9ai5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3g6ay5sZWZ0LWwubGVmdCx5OmsudG9wLWwudG9wfTt9cmV0dXJuIGc7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbih0LGEpe1widXNlIHN0cmljdFwiO3ZhciBlPXQuX3ByaXZhdGU9dC5fcHJpdmF0ZXx8e307ZS5TY3JvbGxiYXJXaWR0aD0xNTtlLlN0YXR1c0JhckhlaWdodD0yMjtlLlZlcnRSdWxlcldpZHRoPTI1O2UuSG9yUnVsZXJIZWlnaHQ9MjU7ZS5NaW5TY3JvbGxiYXJIYW5kbGVMZW5ndGg9MzA7ZS5ERUZBVUxUX1JJQkJPTkJBUl9IRUlHSFQ9MTE0O2UucmliYm9uQmFySGVpZ2h0PWUuREVGQVVMVF9SSUJCT05CQVJfSEVJR0hUO2UuRGVmUmVzPTk2O2UuU2Nyb2xsU3RlcD0xMDAwO3ZhciBjPWZhbHNlO3ZhciBoPWZhbHNlO3ZhciBiPXRydWU7dmFyIGc9dHJ1ZTt2YXIgZj10cnVlO2UuVmlld2Vyc0ludmlzaWJsZT10cnVlO2UuU2Nyb2xsUGFkZGluZz01Njc7dmFyIGQ9ZmFsc2U7ZS5jbGllbnRTaXplPXtXaWR0aDowLEhlaWdodDowfTtlLnRleHRWaWV3U2l6ZUluVHdpcHM9e1dpZHRoOjAsSGVpZ2h0OjB9O2UuZG9jdW1lbnRTaXplPXtXaWR0aDowLEhlaWdodDowfTtlLnZpZXdMb2NhdGlvbj17WDotZS5TY3JvbGxQYWRkaW5nLFk6MH07ZS5TaWRlQmFyVHlwZT1PYmplY3QuZnJlZXplKHtUcmFja0NoYW5nZXM6MX0pO2UuU3BlY2lhbFpvb21GYWN0b3I9e1BhZ2VXaWR0aDotMSxXaG9sZVBhZ2U6LTIsVGV4dFdpZHRoOi0zfTtlLnpvb209MTAwO3ZhciBuO2UuY3JlYXRlVHJhY2tDaGFuZ2VzU2lkZWJhcj1mdW5jdGlvbigpe3ZhciBDLEQ7ZS50cmFja0NoYW5nZXNTaWRlYmFyPW5ldyBlLlRYU2lkZWJhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc1NpZGViYXJcIiksMjEwKTtlLnRyYWNrQ2hhbmdlc1NpZGViYXIuaGVhZGVyPWUuVFhUZXh0Q29udHJvbFJlc291cmNlcy5JRF9UUkFDS0VEQ0hBTkdFU19DQVBUSU9OO3ZhciBCPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHJhY2tDaGFuZ2VzU2lkZWJhciAucmVmcmVzaGJ0blwiKTtCLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuVHJhY2tlZENoYW5nZXNWaWV3ZXJSZWZyZXNoKTt9KTtlLnRyYWNrQ2hhbmdlc1NpZGViYXIuYWRkRXZlbnRMaXN0ZW5lcihcImhpZGRlblwiLGZ1bmN0aW9uKCl7aSgpO2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLlRyYWNrQ2hhbmdlc1ZpZXdlckRpc3Bvc2UpO30pO2UudHJhY2tDaGFuZ2VzU2lkZWJhci5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJsZVwiLGZ1bmN0aW9uKCl7aWYoISFlLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSURfVFJBQ0tFRENIQU5HRVNfQ09VTlQpe2UudHJhY2tDaGFuZ2VzU2lkZWJhci5zdWJUaXRsZT1lLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSURfVFJBQ0tFRENIQU5HRVNfQ09VTlQrZS50cmFja2VkQ2hhbmdlc0NvdW50O31pZighIWUuVFhUZXh0Q29udHJvbFJlc291cmNlcy5UT09MVElQX1JlZnJlc2hUcmFja2VkQ2hhbmdlcyl7Qi50aXRsZT1lLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuVE9PTFRJUF9SZWZyZXNoVHJhY2tlZENoYW5nZXM7fWUuc2VuZENvbW1hbmQoZS5Db21tYW5kLlRyYWNrQ2hhbmdlc1ZpZXdlckluaXRpYXRlKTtpKCk7fSk7ZS50cmFja0NoYW5nZXNWaWV3ZXI9bmV3IGUuVGV4dENvbXBvbmVudFZpZXdlcih0cmFja0NoYW5nZXNDYW52YXMsZS5Db21wb25lbnRUeXBlLlRyYWNrQ2hhbmdlc1ZpZXcpO2UudHhUcmFja0NoYW5nZXNWZXJ0aWNhbFNjcm9sbGJhcj1uZXcgZS5TY3JvbGxiYXIoYShcIiN0eFRyYWNrQ2hhbmdlc1Njcm9sbGJhclwiKSxlLnRyYWNrQ2hhbmdlc1ZpZXdlcixlLlNsaWRlck9yaWVudGF0aW9uLlZlcnRpY2FsKTtlLnR4VHJhY2tDaGFuZ2VzSG9yaXpvbnRhbFNjcm9sbGJhcj1uZXcgZS5TY3JvbGxiYXIoYShcIiN0eFRyYWNrQ2hhbmdlc0hvclNjcm9sbGJhclwiKSxlLnRyYWNrQ2hhbmdlc1ZpZXdlcixlLlNsaWRlck9yaWVudGF0aW9uLkhvcml6b250YWwpO2koKTt9O2UuY3JlYXRlU2Nyb2xsYmFycz1mdW5jdGlvbigpe3ZhciBCPWEoXCIjc2xpZGVyLWhvcml6b250YWxcIik7dmFyIEM9YShcIiNzbGlkZXItdmVydGljYWxcIik7Qy5vbihcIm1vdXNlZG93blwiLHopO0Mub24oXCJ0b3VjaHN0YXJ0XCIseik7Qi5vbihcIm1vdXNlZG93blwiLG0pO0Iub24oXCJ0b3VjaHN0YXJ0XCIsbSk7Qi5zbGlkZXIoe29yaWVudGF0aW9uOmUuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbCxtaW46LWUuU2Nyb2xsUGFkZGluZyxtYXg6MTAwLHZhbHVlOi1lLlNjcm9sbFBhZGRpbmcsc2xpZGU6ZnVuY3Rpb24oRCxFKXtvKEUudmFsdWUpO30sc3RhcnQ6ZnVuY3Rpb24oKXtkPXRydWU7fSxzdG9wOmZ1bmN0aW9uKCl7ZD1mYWxzZTt9fSk7Qy5zbGlkZXIoe29yaWVudGF0aW9uOmUuU2xpZGVyT3JpZW50YXRpb24uVmVydGljYWwsbWluOjAsbWF4OjEwMCx2YWx1ZToxMDAsc2xpZGU6ZnVuY3Rpb24oRCxFKXt2YXIgRj1DLnNsaWRlcihcIm9wdGlvblwiLFwibWF4XCIpLUUudmFsdWU7cChGKTt9LHN0YXJ0OmZ1bmN0aW9uKCl7ZD10cnVlO30sc3RvcDpmdW5jdGlvbigpe2Q9ZmFsc2U7fX0pO2EoXCIjc2xpZGVyLWhvcml6b250YWwgLnR4dWktc2xpZGVyLWhhbmRsZVwiKS51bmJpbmQoXCJrZXlkb3duXCIpO2EoXCIjc2xpZGVyLXZlcnRpY2FsIC50eHVpLXNsaWRlci1oYW5kbGVcIikudW5iaW5kKFwia2V5ZG93blwiKTthKFwiI3ZlcnRpY2FsLXNjcm9sbGJhci13cmFwcGVyXCIpLmNsaWNrKHkpO2EoXCIjaG9yaXpvbnRhbC1zY3JvbGxiYXItd3JhcHBlclwiKS5jbGljayhsKTthKFwiZGl2LnNjcm9sbC1idXR0b25cIikuY2xpY2socSk7fTtmdW5jdGlvbiBvKEIpe2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLkhTY3JvbGwsQik7fWZ1bmN0aW9uIHAoQil7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuVlNjcm9sbCxCKTt9ZS5zY3JvbGxEZWx0YT1mdW5jdGlvbihDLEIpe2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLlNjcm9sbERlbHRhLEMuWCxDLlksQik7fTtlLm9uQ29udGFpbmVyUmVzaXplPWZ1bmN0aW9uKCl7ZS5hZGFwdFZpZXdUb0NvbnRhaW5lclNpemUoKTt9O2UuZG9jdW1lbnRTaXplQ2hhbmdlZEhhbmRsZXI9ZnVuY3Rpb24oQil7dmFyIEM9Qi5kZXRhaWw7ZS5kb2N1bWVudFNpemUuV2lkdGg9Qy5XaWR0aDtlLmRvY3VtZW50U2l6ZS5IZWlnaHQ9Qy5IZWlnaHQ7aSgpO307ZnVuY3Rpb24gWm9vbUZhY3RvckNoYW5nZWRFdmVudEFyZ3Moem9vbUZhY3Rvcil7dGhpcy56b29tRmFjdG9yPXpvb21GYWN0b3I7fWUudHhab29tZWRIYW5kbGVyPWZ1bmN0aW9uKEMpe3ZhciBEPUMuZGV0YWlsO3ZhciBCPW5ldyBab29tRmFjdG9yQ2hhbmdlZEV2ZW50QXJncyhELnpvb21GYWN0b3IpO2UuZmlyZUV2ZW50KGUuRXZlbnROYW1lLnpvb21GYWN0b3JDaGFuZ2VkLEIpO2lmKCFlLmlzUGluY2hab29taW5nKXtlLnpvb209RC56b29tRmFjdG9yO31pKCk7fTtmdW5jdGlvbiB3KCl7aWYoZCl7cmV0dXJuO31pZighZS5kb2N1bWVudFNpemUuV2lkdGh8fCFlLmRvY3VtZW50U2l6ZS5IZWlnaHQpe3JldHVybjt9dmFyIEU9e1dpZHRoOmUudGV4dFZpZXdlci53aWR0aCxIZWlnaHQ6ZS50ZXh0Vmlld2VyLmhlaWdodH07RT1zKEUsZS56b29tKTt2YXIgQj1lLmRvY3VtZW50U2l6ZS5XaWR0aC1FLldpZHRoO3ZhciBGPWUuZG9jdW1lbnRTaXplLkhlaWdodC1FLkhlaWdodDt2YXIgQz0oZS52aWV3TG9jYXRpb24uWCtlLlNjcm9sbFBhZGRpbmcpL0I7dmFyIEQ9ZS52aWV3TG9jYXRpb24uWS9GO2lmKGMpe2EoXCIjc2xpZGVyLWhvcml6b250YWxcIikuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiLChDKmUuZG9jdW1lbnRTaXplLldpZHRoKS1lLlNjcm9sbFBhZGRpbmcpO31pZihoKXthKFwiI3NsaWRlci12ZXJ0aWNhbFwiKS5zbGlkZXIoXCJvcHRpb25cIixcInZhbHVlXCIsKDEtRCkqZS5kb2N1bWVudFNpemUuSGVpZ2h0KTt9fWZ1bmN0aW9uIHYoKXt2YXIgQj1iP2UuSG9yUnVsZXJIZWlnaHQ6MDt2YXIgQz1nP2UuVmVydFJ1bGVyV2lkdGg6MDt1KEMsQik7eChDLEIpO31mdW5jdGlvbiB1KEwsRil7dmFyIEk9YShcIiNzbGlkZXItaG9yaXpvbnRhbFwiKTt2YXIgSj1hKFwiI2hvcml6b250YWwtc2Nyb2xsYmFyLXdyYXBwZXJcIik7dmFyIEI9e2xlZnQ6YShcIiNzY3JvbGwtYnV0dG9uLWxlZnRcIikscmlnaHQ6YShcIiNzY3JvbGwtYnV0dG9uLXJpZ2h0XCIpfTt2YXIgRD1hKFwiI3NsaWRlci1ob3Jpem9udGFsIGEudHh1aS1zbGlkZXItaGFuZGxlXCIpO3ZhciBFPUoucGFyZW50KCk7aWYoYyl7RS5jc3MoXCJsZWZ0XCIsZS50ZXh0Vmlld2VyLmxlZnQpO0Uuc2hvdygpO0ouc2hvdygpO0IubGVmdC5zaG93KCk7Qi5yaWdodC5zaG93KCk7dmFyIEM9Qi5sZWZ0WzBdLmNsaWVudFdpZHRoO3ZhciBIPWUudGV4dFZpZXdlci53aWR0aC0oMipDKTt2YXIgRz1NYXRoLm1heChlLk1pblNjcm9sbGJhckhhbmRsZUxlbmd0aCwoZS50ZXh0Vmlld1NpemVJblR3aXBzLldpZHRoL2UuZG9jdW1lbnRTaXplLldpZHRoKSpIKTtELmNzcyh7d2lkdGg6RyxoZWlnaHQ6ZS5TY3JvbGxiYXJXaWR0aCx0b3A6MCxtYXJnaW5MZWZ0Oi0oRy8yKX0pO0kuc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5cIiwtZS5TY3JvbGxQYWRkaW5nKTtJLnNsaWRlcihcIm9wdGlvblwiLFwibWF4XCIsZS5kb2N1bWVudFNpemUuV2lkdGgtZS5TY3JvbGxQYWRkaW5nKTtJLmNzcyh7d2lkdGg6ZS50ZXh0Vmlld2VyLndpZHRoLUctKDIqQyksbWFyZ2luTGVmdDpHLzJ9KTt2YXIgSz1lLnRleHRWaWV3ZXIuaGVpZ2h0K2UucmliYm9uQmFySGVpZ2h0K0Y7Si5jc3Moe3dpZHRoOkgsaGVpZ2h0OmUuU2Nyb2xsYmFyV2lkdGgsbGVmdDpDLHRvcDpLfSk7Qi5sZWZ0LmNzcyh7dG9wOkt9KTtCLnJpZ2h0LmNzcyh7bGVmdDpDK0gsdG9wOkt9KTt9ZWxzZXtFLmhpZGUoKTtKLmhpZGUoKTtCLmxlZnQuaGlkZSgpO0IucmlnaHQuaGlkZSgpO319ZnVuY3Rpb24geChLLEUpe3ZhciBJPWEoXCIjc2xpZGVyLXZlcnRpY2FsXCIpO3ZhciBKPWEoXCIjdmVydGljYWwtc2Nyb2xsYmFyLXdyYXBwZXJcIik7dmFyIEM9e3VwOmEoXCIjc2Nyb2xsLWJ1dHRvbi11cFwiKSxkb3duOmEoXCIjc2Nyb2xsLWJ1dHRvbi1kb3duXCIpfTt2YXIgRD1hKFwiI3NsaWRlci12ZXJ0aWNhbCBhLnR4dWktc2xpZGVyLWhhbmRsZVwiKTt2YXIgSD1KLnBhcmVudCgpO2lmKGgpe0guY3NzKFwibGVmdFwiLGUudGV4dFZpZXdlci5sZWZ0K2UudGV4dFZpZXdlci53aWR0aCk7SC5zaG93KCk7Si5zaG93KCk7Qy51cC5zaG93KCk7Qy5kb3duLnNob3coKTt2YXIgQj1DLnVwWzBdLmNsaWVudEhlaWdodDt2YXIgRz1lLnRleHRWaWV3ZXIuaGVpZ2h0LSgyKkIpO3ZhciBGPU1hdGgubWF4KGUuTWluU2Nyb2xsYmFySGFuZGxlTGVuZ3RoLChlLnRleHRWaWV3U2l6ZUluVHdpcHMuSGVpZ2h0L2UuZG9jdW1lbnRTaXplLkhlaWdodCkqRyk7RC5jc3Moe3dpZHRoOmUuU2Nyb2xsYmFyV2lkdGgsaGVpZ2h0OkYsbGVmdDowLG1hcmdpbkJvdHRvbTotKEYvMil9KTtJLnNsaWRlcihcIm9wdGlvblwiLFwibWluXCIsMCk7SS5zbGlkZXIoXCJvcHRpb25cIixcIm1heFwiLGUuZG9jdW1lbnRTaXplLkhlaWdodCk7SS5jc3Moe2hlaWdodDplLnRleHRWaWV3ZXIuaGVpZ2h0LUYtKDIqQiksbWFyZ2luVG9wOkYvMn0pO0ouY3NzKHtoZWlnaHQ6Ryx3aWR0aDplLlNjcm9sbGJhcldpZHRoLHRvcDplLnJpYmJvbkJhckhlaWdodCtCK0V9KTtDLnVwLmNzcyh7dG9wOmUucmliYm9uQmFySGVpZ2h0K0V9KTtDLmRvd24uY3NzKHt0b3A6ZS5yaWJib25CYXJIZWlnaHQrQitHK0V9KTt9ZWxzZXtILmhpZGUoKTt9fWZ1bmN0aW9uIHkoQil7dmFyIEQ9YShcIiN2ZXJ0aWNhbC1zY3JvbGxiYXItd3JhcHBlclwiKVswXTt2YXIgRT0oQi5wYWdlWS1ELm9mZnNldFRvcCkvRC5jbGllbnRIZWlnaHQ7dmFyIEM9MS0oYShcIiNzbGlkZXItdmVydGljYWxcIikuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiKS9lLmRvY3VtZW50U2l6ZS5IZWlnaHQpO2lmKCFlLmlzVG91Y2hEZXZpY2Upe2UudGV4dFZpZXdlci5mb2N1cygpO31pZihFPkMpe2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGUuVXNlcklucHV0RXZlbnRUeXBlLktleURvd24sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3LDAse2tleTplLktleUNvZGUuUGFnZURvd259KTt9ZWxzZXtlLnNlbmRDb21tYW5kKGUuQ29tbWFuZC5Db21wb25lbnRFdmVudCxlLlVzZXJJbnB1dEV2ZW50VHlwZS5LZXlEb3duLGUuQ29tcG9uZW50VHlwZS5UZXh0VmlldywwLHtrZXk6ZS5LZXlDb2RlLlBhZ2VVcH0pO319ZnVuY3Rpb24gbChCKXt2YXIgRD1hKFwiI2hvcml6b250YWwtc2Nyb2xsYmFyLXdyYXBwZXJcIilbMF07dmFyIEU9KEIucGFnZVgtRC5vZmZzZXRMZWZ0KS9ELmNsaWVudFdpZHRoO3ZhciBDPShhKFwiI3NsaWRlci1ob3Jpem9udGFsXCIpLnNsaWRlcihcIm9wdGlvblwiLFwidmFsdWVcIikrZS5TY3JvbGxQYWRkaW5nKS9lLmRvY3VtZW50U2l6ZS5XaWR0aDtpZighZS5pc1RvdWNoRGV2aWNlKXtlLnRleHRWaWV3ZXIuZm9jdXMoKTt9aWYoRT5DKXtlLnNjcm9sbERlbHRhKHtYOmUuU2Nyb2xsU3RlcCxZOjB9LGUuQ29tcG9uZW50VHlwZS5UZXh0Vmlldyk7fWVsc2V7ZS5zY3JvbGxEZWx0YSh7WDotZS5TY3JvbGxTdGVwLFk6MH0sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3KTt9fWZ1bmN0aW9uIHooQil7dmFyIEQ9YShcIiNzbGlkZXItdmVydGljYWxcIik7dmFyIEM9RC5maW5kKFwiLnR4dWktc2xpZGVyLWhhbmRsZVwiKTtpZihCLnRhcmdldCE9Q1swXSl7Qi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9fWZ1bmN0aW9uIG0oQil7dmFyIEQ9YShcIiNzbGlkZXItaG9yaXpvbnRhbFwiKTt2YXIgQz1ELmZpbmQoXCIudHh1aS1zbGlkZXItaGFuZGxlXCIpO2lmKEIudGFyZ2V0IT1DWzBdKXtCLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO319ZnVuY3Rpb24gcShCKXtzd2l0Y2goQi5jdXJyZW50VGFyZ2V0LmlkKXtjYXNlXCJzY3JvbGwtYnV0dG9uLXVwXCI6ZS5zY3JvbGxEZWx0YSh7WDowLFk6LWUuU2Nyb2xsU3RlcH0sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3KTticmVhaztjYXNlXCJzY3JvbGwtYnV0dG9uLWRvd25cIjplLnNjcm9sbERlbHRhKHtYOjAsWTplLlNjcm9sbFN0ZXB9LGUuQ29tcG9uZW50VHlwZS5UZXh0Vmlldyk7YnJlYWs7Y2FzZVwic2Nyb2xsLWJ1dHRvbi1sZWZ0XCI6ZS5zY3JvbGxEZWx0YSh7WDotZS5TY3JvbGxTdGVwLFk6MH0sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3KTticmVhaztjYXNlXCJzY3JvbGwtYnV0dG9uLXJpZ2h0XCI6ZS5zY3JvbGxEZWx0YSh7WDplLlNjcm9sbFN0ZXAsWTowfSxlLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpO2JyZWFrO319ZS5mYWRlSW5WaWV3ZXJzPWZ1bmN0aW9uKCl7aWYoZS5WaWV3ZXJzSW52aXNpYmxlKXt2YXIgRT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciBjYW52YXNcIik7Zm9yKHZhciBCPTA7QjxFLmxlbmd0aDsrK0Ipe0VbQl0uc3R5bGUub3BhY2l0eT1cIlwiO312YXIgQz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4TG9hZGVyR2lmXCIpO0Muc3R5bGUub3BhY2l0eT1cIlwiO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgRj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTtGLnJlbW92ZUNoaWxkKEMpO30sNTAwKTt2YXIgRD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciBkaXYudHhTY3JvbGxiYXJDb250YWluZXJcIik7W10uZm9yRWFjaC5jYWxsKEQsZnVuY3Rpb24oRil7Ri5zdHlsZS5vcGFjaXR5PVwiXCI7fSk7ZS5WaWV3ZXJzSW52aXNpYmxlPWZhbHNlO319O2UuaW1hZ2VSZWNlaXZlZEhhbmRsZXI9ZnVuY3Rpb24oQil7dmFyIEQ9Qi5kZXRhaWw7c3dpdGNoKEQuUGFyYW0xKXtjYXNlIGUuQ29tcG9uZW50VHlwZS5UZXh0VmlldzplLnRleHRWaWV3ZXIuc2V0SW1hZ2UoRC5EYXRhKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5Ib3JSdWxlcjplLmhvclJ1bGVyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVmVydFJ1bGVyOmUudmVydFJ1bGVyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyOmUuc3RhdHVzQmFyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVHhEaWFsb2c6dmFyIEM9bmV3IEN1c3RvbUV2ZW50KFwidHhEaWFsb2dJbWFnZVJlY2VpdmVkXCIse2RldGFpbDpEfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChDKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5UcmFja0NoYW5nZXNWaWV3OmUudHJhY2tDaGFuZ2VzVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7fX07ZS5pbWFnZVJlZ2lvbnNVcGRhdGVkSGFuZGxlcj1mdW5jdGlvbihCKXt2YXIgRD1CLmRldGFpbDtzd2l0Y2goRC5QYXJhbTEpe2Nhc2UgZS5Db21wb25lbnRUeXBlLlRleHRWaWV3OmUudGV4dFZpZXdlci5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zKEQuRGF0YS50aWxlcyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuSG9yUnVsZXI6ZS5ob3JSdWxlclZpZXdlci51cGRhdGVJbWFnZVJlZ2lvbnMoRC5EYXRhLnRpbGVzKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5WZXJ0UnVsZXI6ZS52ZXJ0UnVsZXJWaWV3ZXIudXBkYXRlSW1hZ2VSZWdpb25zKEQuRGF0YS50aWxlcyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyOmUuc3RhdHVzQmFyVmlld2VyLnVwZGF0ZUltYWdlUmVnaW9ucyhELkRhdGEudGlsZXMpO2JyZWFrO2Nhc2UgZS5Db21wb25lbnRUeXBlLlR4RGlhbG9nOnZhciBDPW5ldyBDdXN0b21FdmVudChcInR4RGlhbG9nSW1hZ2VSZWdpb25zVXBkYXRlZFwiLHtkZXRhaWw6RH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoQyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVHJhY2tDaGFuZ2VzVmlldzppZighIWUudHJhY2tDaGFuZ2VzVmlld2VyKXtlLnRyYWNrQ2hhbmdlc1ZpZXdlci5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zKEQuRGF0YS50aWxlcyk7fWJyZWFrO319O2Uudmlld0NvbnRlbnRTY3JvbGxlZEhhbmRsZXI9ZnVuY3Rpb24oQil7dmFyIEM9Qi5kZXRhaWw7c3dpdGNoKEMuUGFyYW0xKXtjYXNlIGUuQ29tcG9uZW50VHlwZS5UZXh0VmlldzplLnRleHRWaWV3ZXIucmVxdWVzdFNjcm9sbChDLkRhdGEuZGVsdGEsQy5EYXRhLmltYWdlcyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVHJhY2tDaGFuZ2VzVmlldzplLnRyYWNrQ2hhbmdlc1ZpZXdlci5yZXF1ZXN0U2Nyb2xsKEMuRGF0YS5kZWx0YSxDLkRhdGEuaW1hZ2VzKTticmVhazt9fTtlLnRleHRWaWV3TG9jYXRpb25DaGFuZ2VkSGFuZGxlcj1mdW5jdGlvbihCKXtlLnZpZXdMb2NhdGlvbj1CLmRldGFpbDt3KCk7fTtlLnRleHRWaWV3Q2FyZXRTdGF0ZUNoYW5nZWRIYW5kbGVyPWZ1bmN0aW9uKEIpe3ZhciBDPUIuZGV0YWlsO2UudGV4dFZpZXdlci5zZXRDYXJldFN0YXRlKEMuRGF0YSk7fTtlLmFycmFuZ2VDb250cm9scz1pO2Z1bmN0aW9uIGkoKXt2YXIgQz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc1NpZGViYXJcIik7dmFyIEQ9ISFlLnRyYWNrQ2hhbmdlc1NpZGViYXImJmUudHJhY2tDaGFuZ2VzU2lkZWJhci5pc1Zpc2libGU7dmFyIEU9RD9DLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOjA7dmFyIEg9KGc/ZS5WZXJ0UnVsZXJXaWR0aDowKSsoRD9FOjApO3ZhciBJPWI/ZS5yaWJib25CYXJIZWlnaHQrZS5Ib3JSdWxlckhlaWdodDplLnJpYmJvbkJhckhlaWdodDt2YXIgRz1lLmNsaWVudFNpemUuV2lkdGgtSDt2YXIgQj1lLmNsaWVudFNpemUuSGVpZ2h0LShmP2UuU3RhdHVzQmFySGVpZ2h0OjApLUk7dmFyIEY9cyh7V2lkdGg6RyxIZWlnaHQ6Qn0pO2M9ZS5pc1NvY2tldENvbm5lY3RlZCgpJiYoZS5kb2N1bWVudFNpemUuV2lkdGg+Ri5XaWR0aCk7aWYoYyl7Qi09ZS5TY3JvbGxiYXJXaWR0aDtGPXMoe1dpZHRoOkcsSGVpZ2h0OkJ9KTt9aD1lLmlzU29ja2V0Q29ubmVjdGVkKCkmJihlLmRvY3VtZW50U2l6ZS5IZWlnaHQ+Ri5IZWlnaHQpO2lmKGgpe0ctPWUuU2Nyb2xsYmFyV2lkdGg7aWYoIWMpe2M9ZS5pc1NvY2tldENvbm5lY3RlZCgpJiYoZS5kb2N1bWVudFNpemUuV2lkdGg+Ri5XaWR0aCk7aWYoYyl7Qi09ZS5TY3JvbGxiYXJXaWR0aDtGPXMoe1dpZHRoOkcsSGVpZ2h0OkJ9KTt9fX1lLnRleHRWaWV3U2l6ZUluVHdpcHM9cyh7V2lkdGg6RyxIZWlnaHQ6Qn0pO2lmKChlLnRleHRWaWV3ZXIubGVmdCE9SCl8fChlLnRleHRWaWV3ZXIudG9wIT1JKXx8KGUudGV4dFZpZXdlci53aWR0aCE9Ryl8fChlLnRleHRWaWV3ZXIuaGVpZ2h0IT1CKSl7ZS50ZXh0Vmlld2VyLmJ1ZmZlckNvbnRlbnQoKTtlLnRleHRWaWV3ZXIubGVmdD1IO2UudGV4dFZpZXdlci50b3A9STtpZihlLmlzU29ja2V0Q29ubmVjdGVkKCkpe2UudGV4dFZpZXdlci53aWR0aD1HO2UudGV4dFZpZXdlci5oZWlnaHQ9Qjt9ZS50ZXh0Vmlld2VyLmRyYXdCdWZmZXJlZENvbnRlbnQoKTtpZihiKXtlLmhvclJ1bGVyVmlld2VyLmJ1ZmZlckNvbnRlbnQoKTtlLmhvclJ1bGVyVmlld2VyLnRvcD1lLnJpYmJvbkJhckhlaWdodDtlLmhvclJ1bGVyVmlld2VyLmxlZnQ9KEQ/RTowKTtpZihlLmlzU29ja2V0Q29ubmVjdGVkKCkpe2UuaG9yUnVsZXJWaWV3ZXIud2lkdGg9RysoZz9lLlZlcnRSdWxlcldpZHRoOjApKyhoP2UuU2Nyb2xsYmFyV2lkdGg6MCk7ZS5ob3JSdWxlclZpZXdlci5oZWlnaHQ9ZS5Ib3JSdWxlckhlaWdodDt9ZS5ob3JSdWxlclZpZXdlci5kcmF3QnVmZmVyZWRDb250ZW50KCk7fWlmKGcpe2UudmVydFJ1bGVyVmlld2VyLmJ1ZmZlckNvbnRlbnQoKTtlLnZlcnRSdWxlclZpZXdlci50b3A9STtlLnZlcnRSdWxlclZpZXdlci5sZWZ0PShEP0U6MCk7aWYoZS5pc1NvY2tldENvbm5lY3RlZCgpKXtlLnZlcnRSdWxlclZpZXdlci53aWR0aD1lLlZlcnRSdWxlcldpZHRoO2UudmVydFJ1bGVyVmlld2VyLmhlaWdodD1CKyhjP2UuU2Nyb2xsYmFyV2lkdGg6MCk7fWUudmVydFJ1bGVyVmlld2VyLmRyYXdCdWZmZXJlZENvbnRlbnQoKTt9aWYoZil7ZS5zdGF0dXNCYXJWaWV3ZXIuYnVmZmVyQ29udGVudCgpO2Uuc3RhdHVzQmFyVmlld2VyLnRvcD1lLnJpYmJvbkJhckhlaWdodCtCKyhiP2UuSG9yUnVsZXJIZWlnaHQ6MCkrKGM/ZS5TY3JvbGxiYXJXaWR0aDowKTtpZihlLmlzU29ja2V0Q29ubmVjdGVkKCkpe2Uuc3RhdHVzQmFyVmlld2VyLndpZHRoPWUuY2xpZW50U2l6ZS5XaWR0aDtlLnN0YXR1c0JhclZpZXdlci5oZWlnaHQ9ZS5TdGF0dXNCYXJIZWlnaHQ7fWUuc3RhdHVzQmFyVmlld2VyLmRyYXdCdWZmZXJlZENvbnRlbnQoKTt9fWlmKGUudHJhY2tDaGFuZ2VzU2lkZWJhciYmZS50cmFja0NoYW5nZXNTaWRlYmFyLmlzVmlzaWJsZSl7aigpO31lLnRleHRWaWV3U2l6ZUluVHdpcHM9cyh7V2lkdGg6ZS50ZXh0Vmlld2VyLndpZHRoLEhlaWdodDplLnRleHRWaWV3ZXIuaGVpZ2h0fSk7QSgpO3YoKTt3KCk7fWZ1bmN0aW9uIGooKXt2YXIgRj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc1NpZGViYXJcIik7Ri5zdHlsZS50b3A9ZS5yaWJib25CYXJIZWlnaHQrXCJweFwiO0Yuc3R5bGUuYm90dG9tPWUuc3RhdHVzQmFyVmlld2VyLmhlaWdodCtcInB4XCI7aWYoZS50cmFja0NoYW5nZXNWaWV3ZXIpe2UudHJhY2tDaGFuZ2VzVmlld2VyLmJ1ZmZlckNvbnRlbnQoKTt2YXIgQj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc0NhbnZhc1wiKTt2YXIgRD1lLlNjcm9sbGJhcldpZHRoO3ZhciBJPUIucGFyZW50RWxlbWVudDt2YXIgQz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShJLG51bGwpO3ZhciBKPTIqcGFyc2VGbG9hdChDLmJvcmRlckJvdHRvbVdpZHRoKTt2YXIgTD1wYXJzZUZsb2F0KEMubWFyZ2luQm90dG9tKTt2YXIgSD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShGKTt2YXIgRz1wYXJzZUZsb2F0KEgucGFkZGluZ0JvdHRvbSk7dmFyIEU9Ri5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQtRy1MLUkub2Zmc2V0VG9wLUotRDtlLnRyYWNrQ2hhbmdlc1ZpZXdlci5oZWlnaHQ9RTt2YXIgSz1wYXJzZUZsb2F0KEMuYm9yZGVyTGVmdFdpZHRoKStwYXJzZUZsb2F0KEMuYm9yZGVyUmlnaHRXaWR0aCk7ZS50cmFja0NoYW5nZXNWaWV3ZXIud2lkdGg9SS5vZmZzZXRXaWR0aC1lLlNjcm9sbGJhcldpZHRoLUs7ZS50cmFja0NoYW5nZXNWaWV3ZXIuZHJhd0J1ZmZlcmVkQ29udGVudCgpO31yKCk7fWZ1bmN0aW9uIHIoKXtpZihlLnRyYWNrQ2hhbmdlc1ZpZXdlcil7dmFyIEM9e3Zpc2libGU6dHJ1ZSxsb2NhdGlvbjp7WDplLnRyYWNrQ2hhbmdlc1ZpZXdlci5sZWZ0LFk6ZS50cmFja0NoYW5nZXNWaWV3ZXIudG9wfSxzaXplOntXaWR0aDplLnRyYWNrQ2hhbmdlc1ZpZXdlci53aWR0aCxIZWlnaHQ6ZS50cmFja0NoYW5nZXNWaWV3ZXIuaGVpZ2h0fX07dmFyIEI9e3RyYWNrQ2hhbmdlc1ZpZXdlckluZm86Q307ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuV2luZG93UmVzaXplZCwxLDAsMCxCKTt9fWZ1bmN0aW9uIEEoKXt2YXIgRT17bG9jYXRpb246e1g6ZS50ZXh0Vmlld2VyLmxlZnQsWTplLnRleHRWaWV3ZXIudG9wLWUucmliYm9uQmFySGVpZ2h0fSxzaXplOntXaWR0aDplLnRleHRWaWV3ZXIud2lkdGgsSGVpZ2h0OmUudGV4dFZpZXdlci5oZWlnaHR9fTt2YXIgQz17dmlzaWJsZTpiLGxvY2F0aW9uOntYOmUuaG9yUnVsZXJWaWV3ZXIubGVmdCxZOmUuaG9yUnVsZXJWaWV3ZXIudG9wLWUucmliYm9uQmFySGVpZ2h0fSxzaXplOntXaWR0aDplLmhvclJ1bGVyVmlld2VyLndpZHRoLEhlaWdodDplLmhvclJ1bGVyVmlld2VyLmhlaWdodH19O3ZhciBHPXt2aXNpYmxlOmcsbG9jYXRpb246e1g6ZS52ZXJ0UnVsZXJWaWV3ZXIubGVmdCxZOmUudmVydFJ1bGVyVmlld2VyLnRvcC1lLnJpYmJvbkJhckhlaWdodH0sc2l6ZTp7V2lkdGg6ZS52ZXJ0UnVsZXJWaWV3ZXIud2lkdGgsSGVpZ2h0OmUudmVydFJ1bGVyVmlld2VyLmhlaWdodH19O3ZhciBEPXt2aXNpYmxlOmYsbG9jYXRpb246e1g6ZS5zdGF0dXNCYXJWaWV3ZXIubGVmdCxZOmUuc3RhdHVzQmFyVmlld2VyLnRvcC1lLnJpYmJvbkJhckhlaWdodH0sc2l6ZTp7V2lkdGg6ZS5zdGF0dXNCYXJWaWV3ZXIud2lkdGgsSGVpZ2h0OmUuc3RhdHVzQmFyVmlld2VyLmhlaWdodH19O2lmKCEhZS50cmFja0NoYW5nZXNWaWV3ZXIpe3ZhciBGPXt2aXNpYmxlOnRydWUsbG9jYXRpb246e1g6ZS50cmFja0NoYW5nZXNWaWV3ZXIubGVmdCxZOmUudHJhY2tDaGFuZ2VzVmlld2VyLnRvcH0sc2l6ZTp7V2lkdGg6ZS50cmFja0NoYW5nZXNWaWV3ZXIud2lkdGgsSGVpZ2h0OmUudHJhY2tDaGFuZ2VzVmlld2VyLmhlaWdodH19O312YXIgQj17dGV4dFZpZXdlckluZm86RSxob3JSdWxlckluZm86Qyx2ZXJ0UnVsZXJJbmZvOkcsc3RhdHVzQmFySW5mbzpELH07ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuV2luZG93UmVzaXplZCwwLDAsMCxCKTt9ZS5zaG93SG9yaXpvbnRhbFJ1bGVyPWZ1bmN0aW9uKHNob3cpe2lmKHR5cGVvZiBzaG93PT09XCJ1bmRlZmluZWRcIil7c2hvdz10cnVlO31zaG93PSEhc2hvdztpZihiPT1zaG93KXtyZXR1cm47fWI9c2hvdztpZihzaG93KXtlLmhvclJ1bGVyVmlld2VyLnNob3coKTt9ZWxzZXtlLmhvclJ1bGVyVmlld2VyLmhpZGUoKTt9aSgpO2UudGV4dFZpZXdlci5yZWZyZXNoQ2FyZXRMb2NhdGlvbigpO3ZhciBCPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUnVsZXJIb3JcIik7aWYoQil7Qi5jaGVja2VkPXNob3c7fX07ZS5zaG93VmVydGljYWxSdWxlcj1mdW5jdGlvbihzaG93KXtpZih0eXBlb2Ygc2hvdz09PVwidW5kZWZpbmVkXCIpe3Nob3c9dHJ1ZTt9c2hvdz0hIXNob3c7aWYoZz09c2hvdyl7cmV0dXJuO31nPXNob3c7aWYoc2hvdyl7ZS52ZXJ0UnVsZXJWaWV3ZXIuc2hvdygpO31lbHNle2UudmVydFJ1bGVyVmlld2VyLmhpZGUoKTt9aSgpO2UudGV4dFZpZXdlci5yZWZyZXNoQ2FyZXRMb2NhdGlvbigpO3ZhciBCPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUnVsZXJWZXJ0XCIpO2lmKEIpe0IuY2hlY2tlZD1zaG93O319O2Uuc2hvd1N0YXR1c0Jhcj1mdW5jdGlvbihzaG93KXtpZih0eXBlb2Ygc2hvdz09PVwidW5kZWZpbmVkXCIpe3Nob3c9dHJ1ZTt9c2hvdz0hIXNob3c7aWYoZj09c2hvdyl7cmV0dXJuO31mPXNob3c7aWYoc2hvdyl7ZS5zdGF0dXNCYXJWaWV3ZXIuc2hvdygpO31lbHNle2Uuc3RhdHVzQmFyVmlld2VyLmhpZGUoKTt9aSgpO2UudGV4dFZpZXdlci5yZWZyZXNoQ2FyZXRMb2NhdGlvbigpO3ZhciBCPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrU3RhdHVzQmFyXCIpO2lmKEIpe0IuY2hlY2tlZD1zaG93O319O2Z1bmN0aW9uIGsoKXtlLnRleHRWaWV3ZXIuYmx1cigpO2UuaG9yUnVsZXJWaWV3ZXIuYmx1cigpO2UudmVydFJ1bGVyVmlld2VyLmJsdXIoKTtlLnN0YXR1c0JhclZpZXdlci5ibHVyKCk7ZS50cmFja0NoYW5nZXNWaWV3ZXIuYmx1cigpO2lmKGUudHhEaWFsb2cpe2UudHhEaWFsb2cuYmx1cigpO319ZS5hZGFwdFZpZXdUb0NvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXt2YXIgQj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKS5wYXJlbnRFbGVtZW50O3ZhciBELEM7aWYoQi50YWdOYW1lPT1cIkJPRFlcIil7RD13aW5kb3cuaW5uZXJXaWR0aDtDPXdpbmRvdy5pbm5lckhlaWdodDt9ZWxzZXtEPUIub2Zmc2V0V2lkdGg7Qz1CLm9mZnNldEhlaWdodDt9aWYoKGUuaXNUb3VjaERldmljZSkmJigoQy1lLmNsaWVudFNpemUuSGVpZ2h0KT4yMCkpe2soKTt9ZS5jbGllbnRTaXplPXtXaWR0aDpELEhlaWdodDpDfTtpKCk7ZS51cGRhdGVSaWJib25UYWJDb250ZW50T2Zmc2V0KCk7ZS51cGRhdGVSaWJib25TY3JvbGxBcnJvd3MoKTtlLnVwZGF0ZVJpYmJvbkhpZGVCdXR0b25Qb3MoKTtlLmFkYXB0UmliYm9uVGFiV2lkdGhzKCk7fTtlLnNob3dTaWRlQmFyPWZ1bmN0aW9uKHNpZGVCYXJUeXBlLHNob3cpe2lmKHR5cGVvZiBzaWRlQmFyVHlwZT09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBFcnJvcihlLkVycm9yLlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2Ygc2lkZUJhclR5cGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoXFwnUGFyYW1ldGVyIFwic2lkZUJhclR5cGVcIiBtdXN0IGJlIG51bWVyaWMuXFwnKTt9aWYodHlwZW9mIHNob3c9PT1cInVuZGVmaW5lZFwiKXtzaG93PXRydWU7fXNob3c9ISFzaG93O2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLlNob3dTaWRlQmFyLE1hdGgucm91bmQoc2lkZUJhclR5cGUpLHNob3c/MTowKTt9O2UudHdpcHMybW09ZnVuY3Rpb24oQil7cmV0dXJuIEIvMTQ0MCoyNS40O307ZS5tbTJ0d2lwcz1mdW5jdGlvbihCKXtyZXR1cm4gQi8yNS40KjE0NDA7fTtlLnR3aXBzMnB4PWZ1bmN0aW9uKEMsRCxCKXtEPUR8fDEwMDtCPUJ8fDk2O3JldHVybihDKkIqRC8xNDQwMDApO307ZS5weDJ0d2lwcz1mdW5jdGlvbihDLEQsQil7RD1EfHwxMDA7Qj1CfHw5NjtyZXR1cm4gTWF0aC5yb3VuZChDKjE0NDAwMC8oQipEKSk7fTtmdW5jdGlvbiBzKEMsQil7cmV0dXJue1dpZHRoOmUucHgydHdpcHMoQy5XaWR0aCxCfHxlLnpvb20sZS5EZWZSZXMpLEhlaWdodDplLnB4MnR3aXBzKEMuSGVpZ2h0LEJ8fGUuem9vbSxlLkRlZlJlcyl9O31lLnBvaW50UGl4ZWxUb1R3aXBzPWZ1bmN0aW9uKEMsQil7cmV0dXJue1g6ZS5weDJ0d2lwcyhDLlgsQnx8ZS56b29tLGUuRGVmUmVzKSxZOmUucHgydHdpcHMoQy5ZLEJ8fGUuem9vbSxlLkRlZlJlcyl9O307cmV0dXJuIHQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3RoaXMuX19leHRlbmRzPXRoaXMuX19leHRlbmRzfHxmdW5jdGlvbihjLGQpe2Zvcih2YXIgYiBpbiBkKXtpZihkLmhhc093blByb3BlcnR5KGIpKXtjW2JdPWRbYl07fX1mdW5jdGlvbiBhKCl7dGhpcy5jb25zdHJ1Y3Rvcj1jO31hLnByb3RvdHlwZT1kLnByb3RvdHlwZTtjLnByb3RvdHlwZT1uZXcgYSgpO307dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkZpZWxkVHlwZT17TWVyZ2VGaWVsZDowLElmRmllbGQ6MSxJbmNsdWRlVGV4dEZpZWxkOjIsRGF0ZUZpZWxkOjMsTmV4dEZpZWxkOjQsTmV4dElmRmllbGQ6NSx9O2IuRmllbGREaXNwbGF5TW9kZT17U2hvd0ZpZWxkVGV4dDowLFNob3dGaWVsZENvZGVzOjEsfTtiLlJlbGF0aW9uYWxPcGVyYXRvcj1PYmplY3QuZnJlZXplKHtFcXVhbHM6MCxOb3RFcXVhbDoxLExlc3NUaGFuOjIsR3JlYXRlclRoYW46MyxHcmVhdGVyVGhhbk9yRXF1YWxUbzo0LExlc3NUaGFuT3JFcXVhbFRvOjV9KTtiLkZpZWxkQWRhcHRlcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBGaWVsZEFkYXB0ZXIocHJlc2VydmVGb3JtYXR0aW5nKXt0aGlzLnByZXNlcnZlRm9ybWF0dGluZz0hIXByZXNlcnZlRm9ybWF0dGluZzt9cmV0dXJuIEZpZWxkQWRhcHRlcjt9KSgpO2IuSWZGaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKElmRmllbGQsZCk7ZnVuY3Rpb24gSWZGaWVsZCgpe2QuY2FsbCh0aGlzLHRydWUpO3RoaXMuZXhwcmVzc2lvbjE9XCJcIjt0aGlzLmV4cHJlc3Npb24yPVwiXCI7dGhpcy50cnVlVGV4dD1cIlwiO3RoaXMuZmFsc2VUZXh0PVwiXCI7dGhpcy5vcGVyYXRvcj1iLlJlbGF0aW9uYWxPcGVyYXRvci5FcXVhbHM7fUlmRmllbGQucHJvdG90eXBlLnRvUGFzY2FsQ2FzZT1mdW5jdGlvbigpe3JldHVybntFeHByZXNzaW9uMTp0aGlzLmV4cHJlc3Npb24xLEV4cHJlc3Npb24yOnRoaXMuZXhwcmVzc2lvbjIsVHJ1ZVRleHQ6dGhpcy50cnVlVGV4dCxGYWxzZVRleHQ6dGhpcy5mYWxzZVRleHQsT3BlcmF0b3I6dGhpcy5vcGVyYXRvcixQcmVzZXJ2ZUZvcm1hdHRpbmc6dGhpcy5wcmVzZXJ2ZUZvcm1hdHRpbmd9O307cmV0dXJuIElmRmllbGQ7fSkoYi5GaWVsZEFkYXB0ZXIpO2IuTmV4dElmRmllbGQ9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhOZXh0SWZGaWVsZCxkKTtmdW5jdGlvbiBOZXh0SWZGaWVsZCgpe2QuY2FsbCh0aGlzLHRydWUpO3RoaXMuZXhwcmVzc2lvbjE9XCJcIjt0aGlzLmV4cHJlc3Npb24yPVwiXCI7dGhpcy5vcGVyYXRvcj1iLlJlbGF0aW9uYWxPcGVyYXRvci5FcXVhbHM7fU5leHRJZkZpZWxkLnByb3RvdHlwZS50b1Bhc2NhbENhc2U9ZnVuY3Rpb24oKXtyZXR1cm57RXhwcmVzc2lvbjE6dGhpcy5leHByZXNzaW9uMSxFeHByZXNzaW9uMjp0aGlzLmV4cHJlc3Npb24yLE9wZXJhdG9yOnRoaXMub3BlcmF0b3IsUHJlc2VydmVGb3JtYXR0aW5nOnRoaXMucHJlc2VydmVGb3JtYXR0aW5nfTt9O3JldHVybiBOZXh0SWZGaWVsZDt9KShiLkZpZWxkQWRhcHRlcik7Yi5OZXh0RmllbGQ9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhOZXh0RmllbGQsZCk7ZnVuY3Rpb24gTmV4dEZpZWxkKCl7ZC5jYWxsKHRoaXMsdHJ1ZSk7fU5leHRGaWVsZC5wcm90b3R5cGUudG9QYXNjYWxDYXNlPWZ1bmN0aW9uKCl7cmV0dXJue307fTtyZXR1cm4gTmV4dEZpZWxkO30pKGIuRmllbGRBZGFwdGVyKTtiLkRhdGVGaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKERhdGVGaWVsZCxkKTtmdW5jdGlvbiBEYXRlRmllbGQoZm9ybWF0KXtkLmNhbGwodGhpcyx0cnVlKTt0aGlzLmZvcm1hdD1mb3JtYXR8fFwiXCI7fURhdGVGaWVsZC5wcm90b3R5cGUudG9QYXNjYWxDYXNlPWZ1bmN0aW9uKCl7cmV0dXJue0Zvcm1hdDp0aGlzLmZvcm1hdCxQcmVzZXJ2ZUZvcm1hdHRpbmc6dGhpcy5wcmVzZXJ2ZUZvcm1hdHRpbmd9O307cmV0dXJuIERhdGVGaWVsZDt9KShiLkZpZWxkQWRhcHRlcik7Yi5zaG93RmllbGRQcm9wc0RpYWxvZ0hhbmRsZXI9ZnVuY3Rpb24oKXtpZihiLmN1cnJlbnRGaWVsZERhdGEpe2Iuc2hvd0ZpZWxkRGlhbG9nKGIuY3VycmVudEZpZWxkRGF0YS5maWVsZEFkYXB0ZXIsYi5jdXJyZW50RmllbGREYXRhLm1lcmdlRmllbGRUeXBlKTt9fTtiLnNob3dGaWVsZERpYWxvZz1mdW5jdGlvbihlLGYsZyl7dmFyIGQ7c3dpdGNoKGYpe2Nhc2UgYi5GaWVsZFR5cGUuTWVyZ2VGaWVsZDpkPW5ldyBiLk1lcmdlRmllbGREaWFsb2coZSxnKTticmVhaztjYXNlIGIuRmllbGRUeXBlLklmRmllbGQ6ZD1uZXcgYi5JZkZpZWxkRGlhbG9nKGUsZyk7YnJlYWs7Y2FzZSBiLkZpZWxkVHlwZS5EYXRlRmllbGQ6ZD1uZXcgYi5EYXRlRmllbGREaWFsb2coZSxnKTticmVhaztjYXNlIGIuRmllbGRUeXBlLkluY2x1ZGVUZXh0RmllbGQ6ZD1uZXcgYi5JbmNsdWRlVGV4dEZpZWxkRGlhbG9nKGUsZyk7YnJlYWs7Y2FzZSBiLkZpZWxkVHlwZS5OZXh0SWZGaWVsZDpkPW5ldyBiLk5leHRJZkZpZWxkRGlhbG9nKGUsZyk7YnJlYWs7fWlmKGQpe2Quc2hvd01vZGFsKCk7fX07Yi5zZWxlY3RNYXN0ZXJUYWJsZT1mdW5jdGlvbihkKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TZWxlY3RNYXN0ZXJUYWJsZSwwLDAsMCxkKTt9O3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24obCxhKXt2YXIgYj1sLl9wcml2YXRlPWwuX3ByaXZhdGV8fHt9O3ZhciBjO2IubGFzdE1vdXNlVXBFdmVudD1udWxsO3ZhciBmPXtUZXh0U2VsZWN0aW9uOjEsVGV4dElucHV0UG9zaXRpb246MixIZWFkZXI6NCxOb0hlYWRlcjo4LEZvb3RlcjoxNixOb0Zvb3RlcjozMixQYWdlTWFyZ2luOjY0LFBhZ2VOdW1iZXJGaWVsZDoxMjgsU2VsZWN0ZWRGcmFtZToyNTYsVGFibGU6NTEyLFRleHRGaWVsZDoxMDI0LE1pc3NwZWxsZWRXb3JkOjIwNDh9O3ZhciBkPVwidHhNZW51X1wiO2IuaW5pdENvbnRleHRNZW51cz1mdW5jdGlvbigpe2M9YShcIiN0eENvbnRleHRNZW51XCIpLm1lbnUoKS5oaWRlKCk7Yy5vbihcIm1lbnVzZWxlY3RcIixpKTt9O2Z1bmN0aW9uIGgobil7dmFyIHA9W107dmFyIG89MTtmb3IodmFyIG09MDttPDMyOysrbSl7c3dpdGNoKG4mbyl7Y2FzZSBmLkZvb3RlcjpwLnB1c2goXCJGb290ZXJcIik7YnJlYWs7Y2FzZSBmLkhlYWRlcjpwLnB1c2goXCJIZWFkZXJcIik7YnJlYWs7Y2FzZSBmLk1pc3NwZWxsZWRXb3JkOnAucHVzaChcIk1pc3NwZWxsZWRXb3JkXCIpO2JyZWFrO2Nhc2UgZi5Ob0Zvb3RlcjpwLnB1c2goXCJOb0Zvb3RlclwiKTticmVhaztjYXNlIGYuTm9IZWFkZXI6cC5wdXNoKFwiTm9IZWFkZXJcIik7YnJlYWs7Y2FzZSBmLlBhZ2VNYXJnaW46cC5wdXNoKFwiUGFnZU1hcmdpblwiKTticmVhaztjYXNlIGYuUGFnZU51bWJlckZpZWxkOnAucHVzaChcIlBhZ2VOdW1iZXJGaWVsZFwiKTticmVhaztjYXNlIGYuU2VsZWN0ZWRGcmFtZTpwLnB1c2goXCJTZWxlY3RlZEZyYW1lXCIpO2JyZWFrO2Nhc2UgZi5UYWJsZTpwLnB1c2goXCJUYWJsZVwiKTticmVhaztjYXNlIGYuVGV4dEZpZWxkOnAucHVzaChcIlRleHRGaWVsZFwiKTticmVhaztjYXNlIGYuVGV4dElucHV0UG9zaXRpb246cC5wdXNoKFwiVGV4dElucHV0UG9zaXRpb25cIik7YnJlYWs7Y2FzZSBmLlRleHRTZWxlY3Rpb246cC5wdXNoKFwiVGV4dFNlbGVjdGlvblwiKTticmVhazt9bzw8PTE7fXJldHVybiBwO31mdW5jdGlvbiBqKG4scSl7dmFyIHA9ZC5sZW5ndGg7Zm9yKHZhciBvPTA7bzxuLmNsYXNzTGlzdC5sZW5ndGg7KytvKXt2YXIgbT1uLmNsYXNzTGlzdFtvXTtpZihtLnN1YnN0cmluZygwLHApPT09ZCl7bi5jbGFzc0xpc3QucmVtb3ZlKG0pO319cS5mb3JFYWNoKGZ1bmN0aW9uKHIpe24uY2xhc3NMaXN0LmFkZChkK3IpO30pO31iLmNvbnRleHRNZW51RGF0YVJlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihtKXt2YXIgcj1tLmRldGFpbDt2YXIgcT1yLm1lbnVJdGVtczt2YXIgcD1oKHIubG9jYXRpb24pO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhDb250ZXh0TWVudVwiKTtlKHEsbik7dmFyIG89YShcIiN0eENvbnRleHRNZW51XCIpO28ubWVudShcInJlZnJlc2hcIik7Yi5jYWxjTWVudVdpZHRocyhuKTtqKG4scCk7ayhiLmxhc3RNb3VzZVVwRXZlbnQpO307ZnVuY3Rpb24gZShvLG0pe3ZhciBuO3ZhciBwPWZhbHNlO20uaW5uZXJIVE1MPVwiXCI7by5mb3JFYWNoKGZ1bmN0aW9uKHYpe2lmKCF2LlRleHQpe3A9dHJ1ZTtyZXR1cm47fXZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtzLmRhdGFzZXQuaXRlbUlkPXYuSUQ7aWYoIXYuRW5hYmxlZCl7cy5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9bS5hcHBlbmRDaGlsZChzKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpZihwKXtxLnN0eWxlLmJvcmRlclRvcD1cIjFweCBzb2xpZCBsaWdodGdyYXlcIjtwPWZhbHNlO31zLmFwcGVuZENoaWxkKHEpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwic21hbGwtbWVudS1pdGVtLWltYWdlLXdyYXBwZXJcIik7aWYodi5JbWFnZURhdGFVUkwpe249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtuLnNyYz12LkltYWdlRGF0YVVSTDtyLmFwcGVuZENoaWxkKG4pO31lbHNle2lmKHYuQ2hlY2tlZCl7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO24uc3JjPWIuaW1hZ2VSZXNvdXJjZXMuc21hbGwuY2hlY2ttYXJrO3IuYXBwZW5kQ2hpbGQobik7ci5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvblwiKTtyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319aWYobil7bi5zdHlsZS53aWR0aD1uLnN0eWxlLmhlaWdodD1cIjE2cHhcIjt9cS5hcHBlbmRDaGlsZChyKTtyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwic21hbGwtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO3EuYXBwZW5kQ2hpbGQocik7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7dC50ZXh0Q29udGVudD12LlRleHQ7ci5hcHBlbmRDaGlsZCh0KTtpZih2Lkl0ZW1zLmxlbmd0aCl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO3UuY2xhc3NMaXN0LmFkZChcImRyb3BEb3duTWVudVwiKTt1LmNsYXNzTGlzdC5hZGQoXCJjb250ZXh0TWVudVwiKTtzLmFwcGVuZENoaWxkKHUpO2Uodi5JdGVtcyx1KTt9fSk7fWZ1bmN0aW9uIGkobyxxKXt2YXIgbj1xLml0ZW0uY29udGV4dDt2YXIgbT1uLmRhdGFzZXQuaXRlbUlkO2lmKG0pe3ZhciBwPXBhcnNlSW50KG0sMTApO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbnRleHRNZW51SXRlbUNsaWNrZWQscCk7fX1iLmlzSW5zaWRlRWxlbWVudFdpdGhJRD1mdW5jdGlvbihtLG4pe2lmKCFtKXtyZXR1cm4gZmFsc2U7fWVsc2V7aWYobS5wYXJlbnRFbGVtZW50JiYobS5wYXJlbnRFbGVtZW50LmlkPT09bikpe3JldHVybiB0cnVlO31lbHNle3JldHVybiBiLmlzSW5zaWRlRWxlbWVudFdpdGhJRChtLnBhcmVudEVsZW1lbnQsbik7fX19O2Z1bmN0aW9uIGcobSxuKXtpZighbSl7cmV0dXJuIG51bGw7fWVsc2V7aWYobS5wYXJlbnRFbGVtZW50JiYobS5wYXJlbnRFbGVtZW50LnRhZ05hbWU9PT1uKSl7cmV0dXJuIG0ucGFyZW50RWxlbWVudDt9ZWxzZXtyZXR1cm4gZyhtLnBhcmVudEVsZW1lbnQsbik7fX19Yi5pc1BhcnRPZk1lbnVJdGVtV2l0aFN1Yk1lbnU9ZnVuY3Rpb24obSl7dmFyIG49ZyhtLFwiTElcIik7aWYobiYmbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ0eHVpLW1lbnUtaXRlbVwiKSl7cmV0dXJuKG4ucXVlcnlTZWxlY3RvckFsbChcInVsXCIpLmxlbmd0aD4wKTt9cmV0dXJuIGZhbHNlO307ZnVuY3Rpb24gayhtKXtiLmZpbGVNZW51LmhpZGUoKTtjLnNob3coKS5wb3NpdGlvbih7bXk6XCJsZWZ0IHRvcFwiLGF0OlwibGVmdCBib3R0b21cIixvZjptLH0pO2EoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihuKXtpZighKGIuaXNJbnNpZGVFbGVtZW50V2l0aElEKG4udGFyZ2V0LFwidHhDb250ZXh0TWVudVwiKSYmYi5pc1BhcnRPZk1lbnVJdGVtV2l0aFN1Yk1lbnUobi50YXJnZXQpKSl7Yy5oaWRlKCk7YShkb2N1bWVudCkub2ZmKG4pO319KTt9cmV0dXJuIGw7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihpLGEpe3ZhciBjPWkuX3ByaXZhdGU9aS5fcHJpdmF0ZXx8e307dmFyIGQ9e1JURjpcInRleHQvcnRmXCIsSFRNTDpcInRleHQvaHRtbFwiLFBsYWluOlwidGV4dC9wbGFpblwifTtjLkNsaXBib2FyZERhdGFUeXBlPU9iamVjdC5mcmVlemUoe05vbmU6MCxSVEY6MSxIVE1MOjIsUGxhaW46MyxGaWxlOjQsZnJvbVZhbHVlOmZ1bmN0aW9uKGope3N3aXRjaChqKXtjYXNlIHRoaXMuUlRGOnJldHVybiBkLlJURjtjYXNlIHRoaXMuSFRNTDpyZXR1cm4gZC5IVE1MO2Nhc2UgdGhpcy5QbGFpbjpyZXR1cm4gZC5QbGFpbjt9cmV0dXJuXCJcIjt9LHRvVmFsdWU6ZnVuY3Rpb24oail7c3dpdGNoKGope2Nhc2UgZC5SVEY6cmV0dXJuIHRoaXMuUlRGO2Nhc2UgZC5IVE1MOnJldHVybiB0aGlzLkhUTUw7Y2FzZSBkLlBsYWluOnJldHVybiB0aGlzLlBsYWluO31yZXR1cm4gdGhpcy5Ob25lO319KTtjLkNsaXBib2FyZE1vZGU9T2JqZWN0LmZyZWV6ZSh7Q2xpZW50OjEsU2VydmVyOjJ9KTtjLmNsaXBib2FyZE1vZGU9Yy5DbGlwYm9hcmRNb2RlLlNlcnZlcjt2YXIgaD17U3RhcnQ6MCxEYXRhOjEsRW5kOjJ9O3ZhciBiPXtpZDpcIlwiLGRhdGE6XCJcIixjaHVua3NFeHBlY3RlZDowLGNodW5rc1JlY2VpdmVkOjAsaXNFbXB0eVNlbGVjdGlvbjpmYWxzZSxzdGFydDpmdW5jdGlvbihqKXt0aGlzLmlkPWouaWQ7dGhpcy5kYXRhPVwiXCI7dGhpcy5jaHVua3NSZWNlaXZlZD0wO3RoaXMuaXNFbXB0eVNlbGVjdGlvbj1qLmlzRW1wdHlTZWxlY3Rpb247fSxwcm9ncmVzczpmdW5jdGlvbihqKXt0aGlzLmNodW5rc0V4cGVjdGVkPWouY2h1bmtzO30scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmlkPVwiXCI7dGhpcy5kYXRhPVwiXCI7dGhpcy5jaHVua3NFeHBlY3RlZD0wO3RoaXMuY2h1bmtzUmVjZWl2ZWQ9MDt9fTtmdW5jdGlvbiBnKG0sbCxqKXt2YXIgcD1cIlwiO3ZhciBvPWZhbHNlO3ZhciBxPW0udHlwZXM7aj1qfHxmYWxzZTt2YXIgaz1bXS5zb21lLmNhbGwocSxmdW5jdGlvbihyKXtyZXR1cm4gcj09PVwiRmlsZXNcIjt9KTtpZihtLnR5cGVzKXtpZighbyYmW10uc29tZS5jYWxsKHEsZnVuY3Rpb24ocil7cmV0dXJuIHI9PT1kLlJURjt9KSl7cD1tLmdldERhdGEoZC5SVEYpO2lmKHAubGVuZ3RoPjApe2MucGFzdGVUZXh0KHAsYy5DbGlwYm9hcmREYXRhVHlwZS5SVEYsaik7bz10cnVlO319aWYoIW8mJltdLnNvbWUuY2FsbChxLGZ1bmN0aW9uKHIpe3JldHVybiByPT09ZC5IVE1MO30pKXtwPW0uZ2V0RGF0YShkLkhUTUwpO2lmKHAubGVuZ3RoPjApe2MucGFzdGVUZXh0KHAsYy5DbGlwYm9hcmREYXRhVHlwZS5IVE1MLGopO289dHJ1ZTt9fWlmKCFvJiZbXS5zb21lLmNhbGwocSxmdW5jdGlvbihyKXtyZXR1cm4gcj09PWQuUGxhaW47fSkpe3A9bS5nZXREYXRhKGQuUGxhaW4pO2lmKHAubGVuZ3RoPjApe2MucGFzdGVUZXh0KHAsYy5DbGlwYm9hcmREYXRhVHlwZS5QbGFpbixqKTtvPXRydWU7fX1pZihsJiYhbyl7cD1tLmdldERhdGEoXCJUZXh0XCIpO2lmKHAmJihwLmxlbmd0aD4wKSl7Yy5wYXN0ZVRleHQocCxjLkNsaXBib2FyZERhdGFUeXBlLlBsYWluLGopO289dHJ1ZTt9fX1pZighbyYmbS5maWxlcyYmbS5maWxlcy5sZW5ndGgpe2YobS5maWxlc1swXSxqKTtvPXRydWU7fWlmKCFvJiZtLml0ZW1zJiZrKXt2YXIgbj1bXS5maW5kLmNhbGwobS5pdGVtcyxmdW5jdGlvbihyKXtyZXR1cm4gci5raW5kPT09XCJmaWxlXCI7fSk7aWYobil7ZShuLGopO289dHJ1ZTt9fXJldHVybiBvO31jLmhhbmRsZUNsaWVudFBhc3RlPWZ1bmN0aW9uKGssail7aWYodHlwZW9mIGo9PVwidW5kZWZpbmVkXCIpe2o9dHJ1ZTt9aWYoayYmay5jbGlwYm9hcmREYXRhKXtpZihnKGsuY2xpcGJvYXJkRGF0YSxqKSl7ay5zdG9wUHJvcGFnYXRpb24oKTtrLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTtjLmhhbmRsZURyb3A9ZnVuY3Rpb24oail7ai5zdG9wUHJvcGFnYXRpb24oKTtqLnByZXZlbnREZWZhdWx0KCk7aWYoaiYmai5kYXRhVHJhbnNmZXIpe2coai5kYXRhVHJhbnNmZXIsdHJ1ZSx0cnVlKTt9fTtmdW5jdGlvbiBlKGwsail7dmFyIGs9bC5nZXRBc0ZpbGUoKTtmKGssaik7fWMuRmlsZURyb3BwZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaihmaWxlQmxvYixrKXt0aGlzLmZpbGVOYW1lPWZpbGVCbG9iLm5hbWU7dGhpcy5maWxlVHlwZT1maWxlQmxvYi50eXBlO3RoaXMuY2FuY2VsPSEhazt9cmV0dXJuIGo7fSkoKTtmdW5jdGlvbiBmKGwsayl7aWYoIWMudHhQcm9wZXJ0aWVzLmNhbkVkaXQpe3JldHVybjt9dmFyIGo9bmV3IGMuRmlsZURyb3BwZWRFdmVudEFyZ3MobCxmYWxzZSk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuZmlsZURyb3BwZWQsaik7aWYoai5jYW5jZWwpe3JldHVybjt9dmFyIG09bC5uYW1lO3ZhciBvPWwudHlwZTt2YXIgbj1uZXcgRmlsZVJlYWRlcigpO24ub25sb2FkPWZ1bmN0aW9uKHEpe3ZhciByPXtkYXRhQjY0OnEudGFyZ2V0LnJlc3VsdCxmaWxlTmFtZTptfTt2YXIgcD1mdW5jdGlvbigpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFBhc3RlLGMuQ2xpcGJvYXJkRGF0YVR5cGUuRmlsZSwwLDAscik7fTtpZihjLmRvY3VtZW50RGlydHkmJihvLnN1YnN0cmluZygwLDUpIT09XCJpbWFnZVwiKSl7Yy5maWxlU2F2ZVF1ZXN0aW9uKHApO31lbHNle3AoKTt9fTtuLnJlYWRBc0RhdGFVUkwobCk7fWMuVGV4dERyb3BwZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaihjYW5jZWwsdGV4dCx0ZXh0VHlwZSl7dGhpcy5jYW5jZWw9Y2FuY2VsO3RoaXMudGV4dD10ZXh0O3RoaXMudGV4dFR5cGU9dGV4dFR5cGU7fXJldHVybiBqO30pKCk7Yy5UZXh0UGFzdGVkRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIGooY2FuY2VsLHRleHQsdGV4dFR5cGUpe3RoaXMuY2FuY2VsPWNhbmNlbDt0aGlzLnRleHQ9dGV4dDt0aGlzLnRleHRUeXBlPXRleHRUeXBlO31yZXR1cm4gajt9KSgpO2MucGFzdGVUZXh0PWZ1bmN0aW9uKG0sbixrKXt2YXIgaixsPWMuQ2xpcGJvYXJkRGF0YVR5cGUuZnJvbVZhbHVlKG4pO2lmKGspe2o9bmV3IGMuVGV4dERyb3BwZWRFdmVudEFyZ3MoZmFsc2UsbSxsKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS50ZXh0RHJvcHBlZCxqKTt9ZWxzZXtqPW5ldyBjLlRleHRQYXN0ZWRFdmVudEFyZ3MoZmFsc2UsbSxsKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS50ZXh0UGFzdGVkLGopO31tPVwiXCIrai50ZXh0O249Yy5DbGlwYm9hcmREYXRhVHlwZS50b1ZhbHVlKGoudGV4dFR5cGUpO2lmKCFqLmNhbmNlbCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50UGFzdGUsbiwwLDAsbSk7fX07Yy5DbGlwYm9hcmRNb2RlQ2hhbmdlZEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBqKGNsaXBib2FyZE1vZGUpe3RoaXMuY2xpcGJvYXJkTW9kZT1jbGlwYm9hcmRNb2RlO31yZXR1cm4gajt9KSgpO2Muc2V0Q2xpcGJvYXJkTW9kZT1mdW5jdGlvbihrKXtjLmNsaXBib2FyZE1vZGU9azt2YXIgaj1uZXcgYy5DbGlwYm9hcmRNb2RlQ2hhbmdlZEV2ZW50QXJncyhrKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS5jbGlwYm9hcmRNb2RlQ2hhbmdlZCxqKTt9O2MuQ2xpcGJvYXJkVHJhbnNmZXJTdGFydEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBDbGlwYm9hcmRUcmFuc2ZlclN0YXJ0RXZlbnRBcmdzKGlkKXt0aGlzLmlkPWlkO31yZXR1cm4gQ2xpcGJvYXJkVHJhbnNmZXJTdGFydEV2ZW50QXJnczt9KSgpO2MuQ2xpcGJvYXJkVHJhbnNmZXJQcm9ncmVzc0V2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBDbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzKGlkLHByb2dyZXNzKXt0aGlzLmlkPWlkO3RoaXMucHJvZ3Jlc3M9cHJvZ3Jlc3M7fXJldHVybiBDbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzO30pKCk7Yy5DbGlwYm9hcmRUcmFuc2ZlckNvbXBsZXRlRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIENsaXBib2FyZFRyYW5zZmVyQ29tcGxldGVFdmVudEFyZ3MoaWQpe3RoaXMuaWQ9aWQ7fXJldHVybiBDbGlwYm9hcmRUcmFuc2ZlckNvbXBsZXRlRXZlbnRBcmdzO30pKCk7Yy5DbGlwYm9hcmRUcmFuc2ZlckFib3J0ZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ2xpcGJvYXJkVHJhbnNmZXJBYm9ydGVkRXZlbnRBcmdzKGlkKXt0aGlzLmlkPWlkO31yZXR1cm4gQ2xpcGJvYXJkVHJhbnNmZXJBYm9ydGVkRXZlbnRBcmdzO30pKCk7Yy5wcm9jZXNzU2VsZWN0aW9uSFRNTENvbnRlbnRNZXNzYWdlPWZ1bmN0aW9uKGspe3ZhciBqO2s9ay5EYXRhO2lmKCFjLnRleHRWaWV3ZXIpe3JldHVybjt9aWYoYy5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31zd2l0Y2goay5tc2dUeXBlKXtjYXNlIGguU3RhcnQ6aWYoYi5pZCl7aj1uZXcgYy5DbGlwYm9hcmRUcmFuc2ZlckFib3J0ZWRFdmVudEFyZ3MoYi5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyQWJvcnRlZCxqKTt9Yi5zdGFydChrKTtpZighay5pc0VtcHR5U2VsZWN0aW9uKXtqPW5ldyBjLkNsaXBib2FyZFRyYW5zZmVyU3RhcnRFdmVudEFyZ3Moay5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyU3RhcnQsaik7fWJyZWFrO2Nhc2UgaC5EYXRhOmlmKGsuaWQhPT1iLmlkKXticmVhazt9Yi5kYXRhKz1rLmRhdGE7Yi5wcm9ncmVzcyhrKTsrK2IuY2h1bmtzUmVjZWl2ZWQ7aWYoIWIuaXNFbXB0eVNlbGVjdGlvbil7aj1uZXcgYy5DbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzKGsuaWQsKGsubnVtYmVyL2suY2h1bmtzKSoxMDApO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLmNsaXBib2FyZERhdGFUcmFuc2ZlclByb2dyZXNzLGopO31icmVhaztjYXNlIGguRW5kOnZhciBsPWIuaXNFbXB0eVNlbGVjdGlvbjtpZigoay5pZCE9PWIuaWQpfHwoYi5jaHVua3NSZWNlaXZlZCE9Yi5jaHVua3NFeHBlY3RlZCkpe2JyZWFrO31jLnRleHRWaWV3ZXIuc2V0SGlkZGVuVGV4dEZpZWxkVGV4dChiLmRhdGEpO2IucmVzZXQoKTtjLnRleHRWaWV3ZXIuc2VsZWN0SGlkZGVuVGV4dGZpZWxkQ29udGVudCgpO2lmKCFsKXtqPW5ldyBjLkNsaXBib2FyZFRyYW5zZmVyQ29tcGxldGVFdmVudEFyZ3Moay5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyQ29tcGxldGUsaik7fWJyZWFrO319O3JldHVybiBpO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRXZlbnROYW1lPXtyaWJib25UYWJzTG9hZGVkOlwicmliYm9uVGFic0xvYWRlZFwiLHRleHREcm9wcGVkOlwidGV4dERyb3BwZWRcIixmaWxlRHJvcHBlZDpcImZpbGVEcm9wcGVkXCIsdGV4dFBhc3RlZDpcInRleHRQYXN0ZWRcIixkb2N1bWVudExvYWRlZDpcImRvY3VtZW50TG9hZGVkXCIsd2ViU29ja2V0Q2xvc2VkOlwid2ViU29ja2V0Q2xvc2VkXCIsdGV4dENvbnRyb2xMb2FkZWQ6XCJ0ZXh0Q29udHJvbExvYWRlZFwiLHJpYmJvblRhYkluZGV4Q2hhbmdlZDpcInJpYmJvblRhYkluZGV4Q2hhbmdlZFwiLGh5cGVybGlua0NsaWNrZWQ6XCJoeXBlcmxpbmtDbGlja2VkXCIsdGV4dENvbnRyb2xDaGFuZ2VkOlwidGV4dENvbnRyb2xDaGFuZ2VkXCIsaW5wdXRQb3NpdGlvbkNoYW5nZWQ6XCJpbnB1dFBvc2l0aW9uQ2hhbmdlZFwiLGNsaXBib2FyZERhdGFUcmFuc2ZlclN0YXJ0OlwiY2xpcGJvYXJkRGF0YVRyYW5zZmVyU3RhcnRcIixjbGlwYm9hcmREYXRhVHJhbnNmZXJQcm9ncmVzczpcImNsaXBib2FyZERhdGFUcmFuc2ZlclByb2dyZXNzXCIsY2xpcGJvYXJkRGF0YVRyYW5zZmVyQ29tcGxldGU6XCJjbGlwYm9hcmREYXRhVHJhbnNmZXJDb21wbGV0ZVwiLGNsaXBib2FyZERhdGFUcmFuc2ZlckFib3J0ZWQ6XCJjbGlwYm9hcmREYXRhVHJhbnNmZXJBYm9ydGVkXCIsdGV4dFZpZXdMb2NhdGlvbkNoYW5nZWQ6XCJ0ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZFwiLHpvb21GYWN0b3JDaGFuZ2VkOlwiem9vbUZhY3RvckNoYW5nZWRcIixjbGlwYm9hcmRNb2RlQ2hhbmdlZDpcImNsaXBib2FyZE1vZGVDaGFuZ2VkXCIsdW5oYW5kbGVkRXJyb3I6XCJ1bmhhbmRsZWRFcnJvclwifTtiLlN1YlRleHRQYXJ0RXZlbnRUeXBlPXtFbnRlcmVkOjAsTGVmdDoxLENsaWNrZWQ6MixEb3VibGVDbGlja2VkOjN9O2IuZXZlbnRMaXN0ZW5lcnM9e307Yy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7aWYoIWV2ZW50TmFtZSl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgZXZlbnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJldmVudE5hbWVcIiBtdXN0IGJlIG9mIHR5cGUgXCJzdHJpbmdcIi5cXCcpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwYXJhbWV0ZXJzLlwiKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImNhbGxiYWNrXCIgbXVzdCBiZSBvZiB0eXBlIFwiZnVuY3Rpb25cIi5cXCcpO31iLmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV09Yi5ldmVudExpc3RlbmVyc1tldmVudE5hbWVdfHxbXTt2YXIgZT1iLmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07dmFyIGQ9ZS5pbmRleE9mKGNhbGxiYWNrKTtpZihkPT0tMSl7ZS5wdXNoKGNhbGxiYWNrKTt9aWYoYi5UZXh0Vmlld0dlbmVyYXRvckV2ZW50cy5pbmRleE9mKGV2ZW50TmFtZSk+PTApe2Iuc3Vic2NyaWJlVG9FdmVudChldmVudE5hbWUsYi5FdmVudENhdGVnb3J5LlRleHRWaWV3R2VuZXJhdG9yKTt9fTtjLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXtpZighZXZlbnROYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIik7fWlmKHR5cGVvZiBldmVudE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImV2ZW50TmFtZVwiIG11c3QgYmUgb2YgdHlwZSBcInN0cmluZ1wiLlxcJyk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiY2FsbGJhY2tcIiBtdXN0IGJlIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxcJyk7fWlmKCFiLmV2ZW50TGlzdGVuZXJzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpe3JldHVybjt9dmFyIGc9Yi5ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO3RyeXt2YXIgZj1nLmluZGV4T2YoY2FsbGJhY2spO2lmKGY+LTEpe2cuc3BsaWNlKGYsMSk7aWYoZy5sZW5ndGg9PTApe2RlbGV0ZSBiLmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07fX19Y2F0Y2goZCl7fWlmKGIuVGV4dFZpZXdHZW5lcmF0b3JFdmVudHMuaW5kZXhPZihldmVudE5hbWUpPj0wKXtpZihnLmxlbmd0aD09MCl7Yi51bnN1YnNjcmliZUZyb21FdmVudChldmVudE5hbWUsYi5FdmVudENhdGVnb3J5LlRleHRWaWV3R2VuZXJhdG9yKTt9fX07Yi5maXJlRXZlbnQ9ZnVuY3Rpb24oaCxnKXtpZighYi5ldmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShoKSl7cmV0dXJuO312YXIgaz1iLmV2ZW50TGlzdGVuZXJzW2hdO2Zvcih2YXIgaj0wO2o8ay5sZW5ndGg7KytqKXt2YXIgZD1rW2pdO3RyeXtkKGcpO31jYXRjaChmKXt9fX07cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpOyhmdW5jdGlvbihhKXtpZihhLk11dGF0aW9uT2JzZXJ2ZXIpe3JldHVybjt9ZnVuY3Rpb24gYyhkKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGQpfHxkO31mdW5jdGlvbiBiKGQpe3RoaXMuX2NhbGxiYWNrPWQ7fWIucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsZCl7ZT1jKGUpO2lmKCFkLmNoaWxkTGlzdCYmIWQuYXR0cmlidXRlcyYmIWQuY2hhcmFjdGVyRGF0YXx8ZC5hdHRyaWJ1dGVPbGRWYWx1ZSYmIWQuYXR0cmlidXRlc3x8ZC5hdHRyaWJ1dGVGaWx0ZXImJmQuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIWQuYXR0cmlidXRlc3x8ZC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiFkLmNoYXJhY3RlckRhdGEpe3Rocm93IG5ldyBTeW50YXhFcnJvcigpO319fTthLk11dGF0aW9uT2JzZXJ2ZXI9Yjt9KSh0aGlzKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuZW5hYmxlQnV0dG9uPWZ1bmN0aW9uKGUsZCl7aWYodHlwZW9mIGQ9PT1cInVuZGVmaW5lZFwiKXtkPXRydWU7fWUuZGlzYWJsZWQ9IWQ7aWYoZCl7ZS5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9ZWxzZXtlLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO319O2IuSFRNTERpYWxvZz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7dGhpcy5kaWFsb2dEYXRhPXtkaWFsb2dSZXN1bHQ6ZmFsc2V9O3RoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyQm91bmQ9dGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLmRpYWxvZ0NvbnRhaW5lcklEPVwiZGlhbG9nQ29udGFpbmVyXCIrcmFuZG9tSW50RnJvbUludGVydmFsKDEwMDAwLDk5OTk5KTt0aGlzLmlzRGlhbG9nUmVhZHk9ZmFsc2U7dGhpcy5jbG9zZVJlcXVlc3RlZD1mYWxzZTt9ZC5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQ9dHJ1ZTt0aGlzLmNsb3NlKGUpO307ZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNEaWFsb2dSZWFkeSl7dGhpcy5jbG9zZVJlcXVlc3RlZD10cnVlO3JldHVybjt9dGhpcy5jbG9zaW5nKCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LHRoaXMuRGlhbG9nSW5mby5EaWFsb2dUeXBlLDAsMCx0aGlzLmRpYWxvZ0RhdGEpO2EoZSkuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O2QucHJvdG90eXBlLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihmKXtpZihmLmRldGFpbC5kaWFsb2dUeXBlPT10aGlzLkRpYWxvZ0luZm8uRGlhbG9nVHlwZSl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZ1Jlc291cmNlc1JlY2VpdmVkXCIsdGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXJCb3VuZCk7dGhpcy5kaWFsb2dpemUoZi5kZXRhaWwucmVzb3VyY2VzKTt9fTtkLnByb3RvdHlwZS5kaWFsb2dpemU9ZnVuY3Rpb24oZil7dmFyIGc9dGhpczt0aGlzLmNhcHRpb249Zi5zdHJpbmdzW3RoaXMuRGlhbG9nSW5mby5UaXRsZVJlc291cmNlTmFtZV07dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaWFsb2dDb250YWluZXJJRCk7ZS5pbm5lckhUTUw9Zi5odG1sO2EoXCIjXCIrdGhpcy5EaWFsb2dJbmZvLkVsZW1lbnRJRCkuZGlhbG9nKHttb2RhbDp0cnVlLHJlc2l6YWJsZTp0aGlzLkRpYWxvZ0luZm8uUmVzaXphYmxlfHxmYWxzZSx3aWR0aDp0aGlzLkRpYWxvZ0luZm8uV2lkdGh8fFwiYXV0b1wiLGhlaWdodDp0aGlzLkRpYWxvZ0luZm8uSGVpZ2h0fHxcImF1dG9cIixkaWFsb2dDbGFzczp0aGlzLkRpYWxvZ0luZm8uRGlhbG9nQ2xhc3N8fFwiXCIsdGl0bGU6Zy5jYXB0aW9uLGJ1dHRvbnM6dGhpcy5EaWFsb2dJbmZvLkJ1dHRvbnN8fHtPSzp7dGV4dDpcIk9LXCIsY2xpY2s6ZnVuY3Rpb24oKXtnLk9LSGFuZGxlcih0aGlzKTt9LGlkOlwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRH0sQ2FuY2VsOnt0ZXh0OlwiQ2FuY2VsXCIsY2xpY2s6ZnVuY3Rpb24oKXtnLmNsb3NlKHRoaXMpO30saWQ6XCJidG5DYW5jZWxfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRH19LGNsb3NlOmZ1bmN0aW9uKCl7Zy5jbG9zZSh0aGlzKTt9LH0pLmtleXByZXNzKGZ1bmN0aW9uKGkpe2lmKGkua2V5Q29kZT09YS51aS5rZXlDb2RlLkVOVEVSKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK2cuZGlhbG9nQ29udGFpbmVySUQpO2lmKCFofHwhaC5kaXNhYmxlZCl7Zy5PS0hhbmRsZXIodGhpcyk7fXJldHVybiBmYWxzZTt9fSk7dGhpcy5hcHBseVN0cmluZ1Jlc291cmNlcyhmLnN0cmluZ3MpO3RoaXMuZGlhbG9nUmVhZHkodGhpcyk7dGhpcy5pc0RpYWxvZ1JlYWR5PXRydWU7aWYodGhpcy5jbG9zZVJlcXVlc3RlZCl7dGhpcy5jbG9zZShhKFwiI1wiK3RoaXMuRGlhbG9nSW5mby5FbGVtZW50SUQpKTt9fTtkLnByb3RvdHlwZS5zZXREZWZhdWx0QnRuVGV4dHM9ZnVuY3Rpb24oail7dmFyIGk7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihnJiZqLmhhc093blByb3BlcnR5KFwiQlROX09LXCIpKXtpPWcucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX09LO312YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkNhbmNlbF9cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihlJiZqLmhhc093blByb3BlcnR5KFwiQlROX0NBTkNFTFwiKSl7aT1lLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnR4dWktYnV0dG9uLXRleHRcIik7aS50ZXh0Q29udGVudD1qLkJUTl9DQU5DRUw7fXZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuWWVzX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO2lmKGgmJmouaGFzT3duUHJvcGVydHkoXCJCVE5fWUVTXCIpKXtpPWgucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX1lFUzt9dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Ob19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihmJiZqLmhhc093blByb3BlcnR5KFwiQlROX05PXCIpKXtpPWYucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX05PO319O2QucHJvdG90eXBlLnNob3dNb2RhbD1mdW5jdGlvbihnKXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5pZD10aGlzLmRpYWxvZ0NvbnRhaW5lcklEO2UuYXBwZW5kQ2hpbGQoZik7aWYoIWcpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkaWFsb2dSZXNvdXJjZXNSZWNlaXZlZFwiLHRoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyQm91bmQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldERpYWxvZ1Jlc291cmNlcyx0aGlzLkRpYWxvZ0luZm8uRGlhbG9nVHlwZSk7fWVsc2V7dGhpcy5kaWFsb2dpemUoZyk7fX07ZC5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZSl7fTtkLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihlKXt9O2QucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3RoaXMuX19leHRlbmRzPXRoaXMuX19leHRlbmRzfHxmdW5jdGlvbihjLGQpe2Zvcih2YXIgYiBpbiBkKXtpZihkLmhhc093blByb3BlcnR5KGIpKXtjW2JdPWRbYl07fX1mdW5jdGlvbiBhKCl7dGhpcy5jb25zdHJ1Y3Rvcj1jO31hLnByb3RvdHlwZT1kLnByb3RvdHlwZTtjLnByb3RvdHlwZT1uZXcgYSgpO307dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkh5cGVybGlua0RpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZSgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5IeXBlcmxpbmtEaWFsb2csRWxlbWVudElEOlwiaHlwZXJsaW5rRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJIWVBMTktfRElBTE9HX0NBUFRJT05cIix9O31lLnByb3RvdHlwZS5kb2NUYXJnZXRzUmVjZWl2ZWRIYW5kbGVyPWZ1bmN0aW9uKGYpe3ZhciBoPWYuZGV0YWlsLnRhcmdldHMsZz1hKFwiI3NlbFRhcmdldFwiKTtnLmVtcHR5KCk7aC5mb3JFYWNoKGZ1bmN0aW9uKGope3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7aS50ZXh0PWouVGFyZ2V0TmFtZTtnLmFwcGVuZChpKTt9KTt9O2UucHJvdG90eXBlLnR4SXRlbVJlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihmKXt2YXIgaD1mLmRldGFpbC5pdGVtVHlwZSxnPWYuZGV0YWlsLml0ZW07aWYoZz09PW51bGwpe3JldHVybjt9c3dpdGNoKGgpe2Nhc2UgYi5JdGVtVHlwZS5IeXBlcnRleHRMaW5rOmEoXCIjdHh0TGlua2VkVGV4dFwiKS52YWwoZy5UZXh0KTthKFwiI3R4dExpbmtUYXJnZXRcIikudmFsKGcuVGFyZ2V0KTticmVhaztjYXNlIGIuSXRlbVR5cGUuRG9jdW1lbnRMaW5rOmEoXCIjdHh0TGlua2VkVGV4dFwiKS52YWwoZy5UZXh0KTthKFwiI3R4dExpbmtUYXJnZXRcIikudmFsKFwiI1wiK2cuVGFyZ2V0TmFtZSk7YnJlYWs7fX07ZS5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGYpe3ZhciBnPWEoXCIjdHh0TGlua2VkVGV4dFwiKS52YWwoKSxoPWEoXCIjdHh0TGlua1RhcmdldFwiKS52YWwoKTtpZigoZy5sZW5ndGg+MCkmJihoLmxlbmd0aD4wKSl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuSW5zZXJ0SXRlbSxiLkl0ZW1UeXBlLkh5cGVydGV4dExpbmssMCwwLHtsaW5rZWRUZXh0OmcsbGlua1RhcmdldDpofSk7fXRoaXMuY2xvc2UoZik7fTtlLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKGYpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkb2N1bWVudFRhcmdldHNSZWNlaXZlZFwiLHRoaXMuZG9jVGFyZ2V0c1JlY2VpdmVkSGFuZGxlcik7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR4SXRlbVJlY2VpdmVkXCIsdGhpcy50eEl0ZW1SZWNlaXZlZEhhbmRsZXIpO307ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZG9jdW1lbnRUYXJnZXRzUmVjZWl2ZWRcIix0aGlzLmRvY1RhcmdldHNSZWNlaXZlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0eEl0ZW1SZWNlaXZlZFwiLHRoaXMudHhJdGVtUmVjZWl2ZWRIYW5kbGVyKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5HZXREb2N1bWVudFRhcmdldHMpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldEl0ZW0sYi5JdGVtVHlwZS5MaW5rKTthKFwiI3NlbFRhcmdldFwiKS5jaGFuZ2UoZnVuY3Rpb24oKXt2YXIgZj1hKHRoaXMpLnZhbCgpO2EoXCIjdHh0TGlua1RhcmdldFwiKS52YWwoXCIjXCIrZik7fSk7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0hZUExOS19ESUFMT0dfTEJMX0xJTktFRF9URVhUXCIpLnRleHQoZi5IWVBMTktfRElBTE9HX0xCTF9MSU5LRURfVEVYVCk7YShcIiNIWVBMTktfRElBTE9HX0dST1VQX0JPWCA+IGxlZ2VuZFwiKS50ZXh0KGYuSFlQTE5LX0RJQUxPR19HUk9VUF9CT1gpO2EoXCIjSFlQTE5LX0RJQUxPR19MQkxfTElOS19UR1RcIikudGV4dChmLkhZUExOS19ESUFMT0dfTEJMX0xJTktfVEdUKTthKFwiI0hZUExOS19ESUFMT0dfTEJMX1NFTF9UR1RcIikudGV4dChmLkhZUExOS19ESUFMT0dfTEJMX1NFTF9UR1QpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLklucHV0Qm94RGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGcsaixpLGgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5JbnB1dEJveERpYWxvZ307dGhpcy5jYXB0aW9uPWc7dGhpcy50ZXh0PWp8fFwiXCI7dGhpcy5sYWJlbD1pfHxudWxsO3RoaXMuaXNQYXNzd29yZEJveD1ofHxmYWxzZTt0aGlzLmNhbGxiYWNrPW51bGw7dGhpcy5kaWFsb2dSZXN1bHQ9ZmFsc2U7dGhpcy5kaWFsb2dDb250YWluZXJJRD1cImRpYWxvZ0NvbnRhaW5lclwiK3JhbmRvbUludEZyb21JbnRlcnZhbCgxMDAwMCw5OTk5OSk7fWUucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihnKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0Qm94RGlhbG9nX3R4dElucHV0Qm94XCIpO3RoaXMudGV4dD1oLnZhbHVlO3RoaXMuZGlhbG9nUmVzdWx0PXRydWU7dGhpcy5jbG9zZShnKTt9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGgpe2lmKHRoaXMuY2FsbGJhY2spe2lmKHRoaXMuZGlhbG9nUmVzdWx0KXt0aGlzLmNhbGxiYWNrKHRoaXMudGV4dCk7fX1lbHNle3ZhciBnPXt0ZXh0OnRoaXMudGV4dCxkaWFsb2dSZXN1bHQ6dGhpcy5kaWFsb2dSZXN1bHR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkRpYWxvZ1Jlc3VsdCxiLkhUTUxEaWFsb2dUeXBlLklucHV0Qm94RGlhbG9nLDAsMCxnKTt9YShoKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX07ZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihoKXt2YXIgaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0Qm94RGlhbG9nX3R4dElucHV0Qm94XCIpO2oudmFsdWU9dGhpcy50ZXh0O2lmKHRoaXMuaXNQYXNzd29yZEJveCl7ai50eXBlPVwicGFzc3dvcmRcIjt9aWYodGhpcy5sYWJlbCl7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dEJveERpYWxvZ19sYmxJbnB1dG94RGlhbG9nXCIpO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRCb3hEaWFsb2dcIik7aS5zdHlsZS5kaXNwbGF5PVwiXCI7aS5pbm5lckhUTUw9dGhpcy5sYWJlbDtnLnN0eWxlLmhlaWdodD0oZy5jbGllbnRIZWlnaHQraS5jbGllbnRIZWlnaHQrNSkrXCJweFwiO319O2Z1bmN0aW9uIGYoail7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIitqLmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgaT1oLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnR4dWktYnV0dG9uLXRleHRcIik7aS50ZXh0Q29udGVudD1iLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuQlROX09LO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuQ2FuY2VsX1wiK2ouZGlhbG9nQ29udGFpbmVySUQpO2k9Zy5xdWVyeVNlbGVjdG9yKFwic3Bhbi50eHVpLWJ1dHRvbi10ZXh0XCIpO2kudGV4dENvbnRlbnQ9Yi52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLkJUTl9DQU5DRUw7fWUucHJvdG90eXBlLmRpYWxvZ2l6ZT1mdW5jdGlvbihoKXt2YXIgaT10aGlzO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGlhbG9nQ29udGFpbmVySUQpO2cuaW5uZXJIVE1MPWguaHRtbDthKFwiI2lucHV0Qm94RGlhbG9nXCIpLmRpYWxvZyh7bW9kYWw6dHJ1ZSxyZXNpemFibGU6ZmFsc2Usd2lkdGg6XCJhdXRvXCIsaGVpZ2h0OjExMCx0aXRsZTp0aGlzLmNhcHRpb258fFwiSW5wdXQgQm94XCIsYnV0dG9uczp7T0s6e3RleHQ6XCJPS1wiLGNsaWNrOmZ1bmN0aW9uKCl7aS5PS0hhbmRsZXIodGhpcyk7fSxpZDpcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUR9LENhbmNlbDp7dGV4dDpcIkNhbmNlbFwiLGNsaWNrOmZ1bmN0aW9uKCl7aS5jbG9zZSh0aGlzKTt9LGlkOlwiYnRuQ2FuY2VsX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUR9fSxjbG9zZTpmdW5jdGlvbigpe2kuY2xvc2UodGhpcyk7fSxvcGVuOmZ1bmN0aW9uKCl7aS5pbml0KHRoaXMpO30sfSkua2V5cHJlc3MoZnVuY3Rpb24oail7aWYoai5rZXlDb2RlPT1hLnVpLmtleUNvZGUuRU5URVIpe2kuT0tIYW5kbGVyKHRoaXMpO3JldHVybiBmYWxzZTt9fSk7Zih0aGlzKTt0aGlzLmlzRGlhbG9nUmVhZHk9dHJ1ZTt9O2UucHJvdG90eXBlLnNob3dNb2RhbF9iYXNlPWUucHJvdG90eXBlLnNob3dNb2RhbDtlLnByb3RvdHlwZS5zaG93TW9kYWw9ZnVuY3Rpb24oZyl7dGhpcy5jYWxsYmFjaz1nO3RoaXMuc2hvd01vZGFsX2Jhc2UoKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Mb2FkRGljdGlvbmFyeURpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGcsZCk7ZnVuY3Rpb24gZyhoKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuTG9hZERpY3Rpb25hcnlEaWFsb2csRWxlbWVudElEOlwibG9hZERpY3Rpb25hcnlEaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIkxPQURfRElDVF9ESUFMT0dfVElUTEVcIn07dGhpcy5hdmFpbGFibGVEaWN0cz1oLkF2YWlsYWJsZURpY3RzO3RoaXMubG9hZGVkRGljdHM9aC5Mb2FkZWREaWN0czt9ZnVuY3Rpb24gZihuKXt2YXIgbT1bXTt2YXIgaj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2xvYWREaWN0aW9uYXJ5RGlhbG9nIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpO2Zvcih2YXIgbD0wO2w8ai5sZW5ndGg7KytsKXt2YXIgaD1qW2xdO2lmKCFoLmRpc2FibGVkJiZoLmNoZWNrZWQpe3ZhciBrPWguZGF0YXNldC5kaWN0TmFtZTttLnB1c2goayk7fX1yZXR1cm4gbTt9Zy5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMuZGlhbG9nRGF0YS5zZWxlY3RlZD1mKHRoaXMpO319O2Z1bmN0aW9uIGUoaCxxKXt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpY3ROYW1lQ2hlY2tCb3hDb250YW5pZXJcIik7bS5pbm5lckhUTUw9XCJcIjtmb3IodmFyIHA9MDtwPGgubGVuZ3RoOysrcCl7dmFyIGw9aFtwXTt2YXIgaz1cImNoa0RpY3ROYW1lXCIrcDt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7bi5pZD1rO24uc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiY2hlY2tib3hcIik7bi5kYXRhc2V0LmRpY3ROYW1lPWw7bi50aXRsZT1sO24uc3R5bGUuY3NzRmxvYXQ9XCJsZWZ0XCI7bi5zdHlsZS5jbGVhcj1cImxlZnRcIjt2YXIgaj1xLnNvbWUoZnVuY3Rpb24oaSl7cmV0dXJuKGw9PT1pKTt9KTtpZihqKXtuLmNoZWNrZWQ9dHJ1ZTtuLmRpc2FibGVkPXRydWU7fW0uYXBwZW5kQ2hpbGQobik7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO28uc2V0QXR0cmlidXRlKFwiZm9yXCIsayk7by50ZXh0Q29udGVudD1sO28udGl0bGU9bDtvLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO20uYXBwZW5kQ2hpbGQobyk7fX1nLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihoKXtlKGguYXZhaWxhYmxlRGljdHMsaC5sb2FkZWREaWN0cyk7fTtnLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihoKXt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhoKTt9O3JldHVybiBnO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Mb2FkVGhlc2F1cnVzRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZyxkKTtmdW5jdGlvbiBnKGgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5Mb2FkVGhlc2F1cnVzRGlhbG9nLEVsZW1lbnRJRDpcImxvYWRUaGVzYXVydXNEaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIkxPQURfVEhFU0FVUlVTX0RJQUxPR19USVRMRVwifTt0aGlzLmF2YWlsYWJsZVRoZXNhdXJpPWguYXZhaWxhYmxlVGhlc2F1cmk7dGhpcy5sb2FkZWRUaGVzYXVyaT1oLmxvYWRlZFRoZXNhdXJpO31mdW5jdGlvbiBmKG0pe3ZhciBsPVtdO3ZhciBqPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjbG9hZFRoZXNhdXJ1c0RpYWxvZyBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKTtmb3IodmFyIGs9MDtrPGoubGVuZ3RoOysrayl7dmFyIGg9altrXTtpZighaC5kaXNhYmxlZCYmaC5jaGVja2VkKXt2YXIgbj1oLmRhdGFzZXQudGhlc2F1cnVzTmFtZTtsLnB1c2gobik7fX1yZXR1cm4gbDt9Zy5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMuZGlhbG9nRGF0YS5zZWxlY3RlZD1mKHRoaXMpO319O2Z1bmN0aW9uIGUoaCxvKXt2YXIgcT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c05hbWVDaGVja0JveENvbnRhbmllclwiKTtxLmlubmVySFRNTD1cIlwiO2Zvcih2YXIgbj0wO248aC5sZW5ndGg7KytuKXt2YXIgcD1oW25dO3ZhciBrPVwiY2hrVGhlc2F1cnVzTmFtZVwiK247dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2wuaWQ9aztsLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO2wuZGF0YXNldC50aGVzYXVydXNOYW1lPXA7bC50aXRsZT1wO2wuc3R5bGUuY3NzRmxvYXQ9XCJsZWZ0XCI7bC5zdHlsZS5jbGVhcj1cImxlZnRcIjt2YXIgaj1vLnNvbWUoZnVuY3Rpb24oaSl7cmV0dXJuKHA9PT1pKTt9KTtpZihqKXtsLmNoZWNrZWQ9dHJ1ZTtsLmRpc2FibGVkPXRydWU7fXEuYXBwZW5kQ2hpbGQobCk7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO20uc2V0QXR0cmlidXRlKFwiZm9yXCIsayk7bS50ZXh0Q29udGVudD1wO20udGl0bGU9cDttLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO3EuYXBwZW5kQ2hpbGQobSk7fX1nLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihoKXtlKGguYXZhaWxhYmxlVGhlc2F1cmksaC5sb2FkZWRUaGVzYXVyaSk7fTtnLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihoKXt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhoKTt9O3JldHVybiBnO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UWFN0cmVhbVR5cGU9T2JqZWN0LmZyZWV6ZSh7SFRNTEZvcm1hdDo0LFJpY2hUZXh0Rm9ybWF0OjgsUGxhaW5UZXh0OjE2LEludGVybmFsVW5pY29kZUZvcm1hdDozMixNU1dvcmQ6NjQsQWRvYmVQREY6NTEyLFdvcmRwcm9jZXNzaW5nTUw6MTAyNCxTcHJlYWRzaGVldE1MOjQwOTZ9KTt2YXIgZD17Qk1QOjEsUE5HOjIsR0lGOjMsSlBHOjQsV01GOjUsRU1GOjYsVElGOjd9O2IuRGF0YUJhc2VUeXBlPU9iamVjdC5mcmVlemUoe1hNTDoxLEpTT046Mn0pO2IuT3BlbkZpbGVEaWFsb2c9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhxLGUpO2Z1bmN0aW9uIHEodSx2KXtlLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuT3BlbkZpbGVEaWFsb2csRWxlbWVudElEOlwib3BlbkZpbGVEaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIk9QRU5fRklMRV9ESUFMT0dfVElUTEVcIn07dGhpcy5jb21tYW5kPXV8fGIuQ29tbWFuZC5PcGVuRmlsZTt0aGlzLmZpbGVUeXBlPXZ8fGIuRmlsZVR5cGUuRG9jdW1lbnQ7dGhpcy5zdWJGaWxlVHlwZT0tMTt0aGlzLmltYWdlRGF0YVVSTHM9e2RpcjpcIlwiLGZpbGU6XCJcIn07dGhpcy5hbHRUZXh0cz17ZmlsZU5hbWU6XCJcIixkaXJOYW1lOlwiXCJ9O3RoaXMuZGlyTmFtZXM9W107dGhpcy5maWxlTmFtZXM9W107dGhpcy5maWxlRmlsdGVycz1bXTt0aGlzLmZpbGVGaWx0ZXJBbGw9XCJcIjt0aGlzLmZpbGVMaXN0UmVjZWl2ZWRIYW5kbGVyQm91bmQ9dGhpcy5maWxlTGlzdFJlY2VpdmVkSGFuZGxlci5iaW5kKHRoaXMpO3RoaXMuZmlsZVR5cGVDaGFuZ2VIYW5kbGVyQm91bmQ9dGhpcy5maWxlVHlwZUNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLmZpbGVOYW1lQ2hhbmdlSGFuZGxlckJvdW5kPXRoaXMuZmlsZU5hbWVDaGFuZ2VIYW5kbGVyLmJpbmQodGhpcyk7fXEucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXt2YXIgdz10aGlzO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmaWxlTGlzdFJlY2VpdmVkXCIsdGhpcy5maWxlTGlzdFJlY2VpdmVkSGFuZGxlckJvdW5kKTtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt2YXIgeD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEVHh0RmlsZU5hbWVcIik7dmFyIHY9eC52YWx1ZTtpZih2JiYodiE9PVwiXCIpKXtiLnNlbmRDb21tYW5kKHRoaXMuY29tbWFuZCx0aGlzLmZpbGVUeXBlLHUoKSwwLHYpO319ZnVuY3Rpb24gdSgpe3JldHVybih3LmZpbGVUeXBlPT1iLkZpbGVUeXBlLkRhdGFCYXNlKT93LnN1YkZpbGVUeXBlOjA7fX07ZnVuY3Rpb24gaSh1KXt3aGlsZSh1JiZ1LnRhZ05hbWUhPT1cIlRSXCIpe3U9dS5wYXJlbnRFbGVtZW50O31yZXR1cm4gdTt9ZnVuY3Rpb24gcCh2LHUpe3YuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQ9dHJ1ZTt2LmNsb3NlKGEoXCIjXCIrdi5EaWFsb2dJbmZvLkVsZW1lbnRJRCkpO31mdW5jdGlvbiBvKHUpe3ZhciB2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhPRkRUeHRGaWxlTmFtZVwiKTt2LnZhbHVlPVwiXCI7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuT3BlbkRpcmVjdG9yeSwwLDAsMCx1KTt9ZnVuY3Rpb24gayh1KXtzd2l0Y2godSl7Y2FzZSBkLkJNUDpyZXR1cm5bXCJibXBcIl07Y2FzZSBkLkVNRjpyZXR1cm5bXCJlbWZcIl07Y2FzZSBkLkdJRjpyZXR1cm5bXCJnaWZcIl07Y2FzZSBkLkpQRzpyZXR1cm5bXCJqcGdcIixcImpwZWdcIl07Y2FzZSBkLlBORzpyZXR1cm5bXCJwbmdcIl07Y2FzZSBkLlRJRjpyZXR1cm5bXCJ0aWZcIl07Y2FzZSBkLldNRjpyZXR1cm5bXCJ3bWZcIl07fXJldHVybltdO31mdW5jdGlvbiBmKHUpe3N3aXRjaCh1KXtjYXNlIGIuRGF0YUJhc2VUeXBlLlhNTDpyZXR1cm5bXCJ4bWxcIl07Y2FzZSBiLkRhdGFCYXNlVHlwZS5KU09OOnJldHVybltcImpzb25cIl07fXJldHVybltdO31mdW5jdGlvbiB0KHUpe3N3aXRjaCh1KXtjYXNlIGIuVFhTdHJlYW1UeXBlLk1TV29yZDpyZXR1cm5bXCJkb2NcIl07Y2FzZSBiLlRYU3RyZWFtVHlwZS5Xb3JkcHJvY2Vzc2luZ01MOnJldHVybltcImRvY3hcIl07Y2FzZSBiLlRYU3RyZWFtVHlwZS5TcHJlYWRzaGVldE1MOnJldHVybltcInhsc3hcIl07Y2FzZSBiLlRYU3RyZWFtVHlwZS5IVE1MRm9ybWF0OnJldHVybltcImh0bVwiLFwiaHRtbFwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLkFkb2JlUERGOnJldHVybltcInBkZlwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLlJpY2hUZXh0Rm9ybWF0OnJldHVybltcInJ0ZlwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLkludGVybmFsVW5pY29kZUZvcm1hdDpyZXR1cm5bXCJ0eFwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLlBsYWluVGV4dDpyZXR1cm5bXCJ0eHRcIl07fXJldHVybltdO31mdW5jdGlvbiBnKHYsdSl7aWYoIXZ8fCF2Lmxlbmd0aCl7cmV0dXJuIHU7fXZhciB3PVtdO3UuZm9yRWFjaChmdW5jdGlvbih5KXt2YXIgeD15LnNwbGl0KFwiLlwiKS5wb3AoKS50b0xvd2VyQ2FzZSgpO2lmKHYuc29tZShmdW5jdGlvbih6KXtyZXR1cm4gej09PXg7fSkpe3cucHVzaCh5KTt9fSk7cmV0dXJuIHc7fWZ1bmN0aW9uIGgodSx2KXtpZih2PT0wKXtyZXR1cm5bXTt9c3dpdGNoKHUpe2Nhc2UgYi5GaWxlVHlwZS5Eb2N1bWVudDpyZXR1cm4gdCh2KTtjYXNlIGIuRmlsZVR5cGUuSW1hZ2U6cmV0dXJuIGsodik7Y2FzZSBiLkZpbGVUeXBlLkRhdGFCYXNlOnJldHVybiBmKHYpO319ZnVuY3Rpb24gbCh1KXtpZighdSl7cmV0dXJuIGZhbHNlO31yZXR1cm4gdS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0eE9GREl0ZW1UeXBlRGlyXCIpO31mdW5jdGlvbiBuKHUpe2lmKCF1KXtyZXR1cm4gZmFsc2U7fXJldHVybiB1LmNsYXNzTGlzdC5jb250YWlucyhcInR4T0ZESXRlbVR5cGVGaWxlXCIpO31mdW5jdGlvbiBzKHkpe3ZhciB6PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhPRkRUYmxGaWxlc0FuZEZvbGRlcnNcIik7dmFyIEM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFNlbEZpbGVUeXBlXCIpO2Zvcih2YXIgeD16LmNoaWxkcmVuLmxlbmd0aC0xO3g+PTA7LS14KXt2YXIgdT16LmNoaWxkcmVuW3hdO2lmKHUudGFnTmFtZT09PVwiVFJcIil7ei5yZW1vdmVDaGlsZCh1KTt9fXkuc3ViRmlsZVR5cGU9cGFyc2VJbnQoQy52YWx1ZSwxMCk7dmFyIHc9aCh5LmZpbGVUeXBlLHkuc3ViRmlsZVR5cGUpO3ZhciB2PWcodyx5LmZpbGVOYW1lcyk7eS5kaXJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKEQpe3ZhciBIPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJUUlwiKTt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiVERcIik7dmFyIEc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlREXCIpO3ZhciBFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTUdcIik7SC5jbGFzc0xpc3QuYWRkKFwidHhPRkRJdGVtVHlwZURpclwiKTtFLmFsdD15LmFsdFRleHRzLmRpck5hbWU7RS5zcmM9eS5pbWFnZURhdGFVUkxzLmRpcjtHLnRleHRDb250ZW50PUQ7Ri5hcHBlbmRDaGlsZChFKTtILmFwcGVuZENoaWxkKEYpO0guYXBwZW5kQ2hpbGQoRyk7ei5hcHBlbmRDaGlsZChIKTt9KTt2LmZvckVhY2goZnVuY3Rpb24oSCl7dmFyIEc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlRSXCIpO3ZhciBFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJURFwiKTt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiVERcIik7dmFyIEQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklNR1wiKTtHLmNsYXNzTGlzdC5hZGQoXCJ0eE9GREl0ZW1UeXBlRmlsZVwiKTtELmFsdD15LmFsdFRleHRzLmZpbGVOYW1lO0Quc3JjPXkuaW1hZ2VEYXRhVVJMcy5maWxlO0YudGV4dENvbnRlbnQ9SDtFLmFwcGVuZENoaWxkKEQpO0cuYXBwZW5kQ2hpbGQoRSk7Ry5hcHBlbmRDaGlsZChGKTt6LmFwcGVuZENoaWxkKEcpO30pO2Z1bmN0aW9uIEEoRSl7dmFyIEQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit5LmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgRz1pKEUudGFyZ2V0KTtpZihHKXthKFwiI3R4T0ZEVGJsRmlsZXNBbmRGb2xkZXJzIHRyLnNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7Ry5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7dmFyIEg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFR4dEZpbGVOYW1lXCIpO3ZhciBGPUcuY2hpbGRyZW5bMV07aWYobihHKSl7Yi5lbmFibGVCdXR0b24oRCx0cnVlKTtILnZhbHVlPUYudGV4dENvbnRlbnQ7fWVsc2V7aWYobChHKSl7Yi5lbmFibGVCdXR0b24oRCx0cnVlKTtILnZhbHVlPVwiXCI7fX19fWZ1bmN0aW9uIEIoRSl7dmFyIEQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit5LmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgRz1pKEUudGFyZ2V0KTtpZihHKXt2YXIgRj1HLmNoaWxkcmVuWzFdO2lmKGwoRykpe2IuZW5hYmxlQnV0dG9uKEQsZmFsc2UpO28oRi50ZXh0Q29udGVudCk7fWVsc2V7aWYobihHKSl7cCh5LEYudGV4dENvbnRlbnQpO319fX1hKFwiI3R4T0ZEVGJsRmlsZXNBbmRGb2xkZXJzIHRyXCIpLmNsaWNrKEEpO2EoXCIjdHhPRkRUYmxGaWxlc0FuZEZvbGRlcnMgdHJcIikuZGJsY2xpY2soQik7fWZ1bmN0aW9uIHIoeCl7dmFyIHk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFNlbEZpbGVUeXBlXCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJPUFRJT05cIik7dS52YWx1ZT1cIjBcIjt1LnRleHRDb250ZW50PXguZmlsZUZpbHRlckFsbDt1LnNlbGVjdGVkPXRydWU7eS5hcHBlbmRDaGlsZCh1KTtmb3IodmFyIHc9MDt3PHguZmlsZUZpbHRlcnMubGVuZ3RoOysrdyl7dmFyIHY9eC5maWxlRmlsdGVyc1t3XTt1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJPUFRJT05cIik7dS52YWx1ZT12LkZpbGVUeXBlO3UudGV4dENvbnRlbnQ9di5UZXh0O3kuYXBwZW5kQ2hpbGQodSk7fX1xLnByb3RvdHlwZS5maWxlVHlwZUNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24odil7dmFyIHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEVHh0RmlsZU5hbWVcIik7Yi5lbmFibGVCdXR0b24odSxmYWxzZSk7dy52YWx1ZT1cIlwiO3ModGhpcyk7fTtmdW5jdGlvbiBqKCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHhPRkRUYmxGaWxlc0FuZEZvbGRlcnMgdHIuc2VsZWN0ZWRcIik7fWZ1bmN0aW9uIG0oKXt2YXIgdT1qKCk7cmV0dXJuKHUmJmwodSkpO31xLnByb3RvdHlwZS5maWxlTmFtZUNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24odil7YShcIiN0eE9GRFRibEZpbGVzQW5kRm9sZGVycyB0ci5zZWxlY3RlZFwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO3ZhciB1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCk7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFR4dEZpbGVOYW1lXCIpO2lmKHcudmFsdWUubGVuZ3RofHxtKCkpe2IuZW5hYmxlQnV0dG9uKHUsdHJ1ZSk7fWVsc2V7Yi5lbmFibGVCdXR0b24odSxmYWxzZSk7fX07cS5wcm90b3R5cGUuZmlsZUxpc3RSZWNlaXZlZEhhbmRsZXI9ZnVuY3Rpb24odSl7dGhpcy5maWxlTmFtZXM9dS5kZXRhaWwuZmlsZU5hbWVzO3RoaXMuZGlyTmFtZXM9dS5kZXRhaWwuZGlyTmFtZXM7cyh0aGlzKTt9O3EucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbih2KXtpZihtKCkpe3ZhciB3PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHhPRkRUYmxGaWxlc0FuZEZvbGRlcnMgdHIuc2VsZWN0ZWRcIikuY2hpbGRyZW5bMV07dmFyIHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtiLmVuYWJsZUJ1dHRvbih1LGZhbHNlKTtvKHcudGV4dENvbnRlbnQpO31lbHNle3RoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQ9dHJ1ZTt0aGlzLmNsb3NlKHYpO319O3EucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKHYpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmaWxlTGlzdFJlY2VpdmVkXCIsdGhpcy5maWxlTGlzdFJlY2VpdmVkSGFuZGxlckJvdW5kKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5HZXRGaWxlTGlzdCx0aGlzLmZpbGVUeXBlKTt2YXIgeD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEVHh0RmlsZU5hbWVcIik7eC52YWx1ZT1cIlwiO3ZhciB1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCk7Yi5lbmFibGVCdXR0b24odSxmYWxzZSk7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFNlbEZpbGVUeXBlXCIpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuZmlsZVR5cGVDaGFuZ2VIYW5kbGVyQm91bmQpO3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuZmlsZU5hbWVDaGFuZ2VIYW5kbGVyQm91bmQpO3guYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5maWxlTmFtZUNoYW5nZUhhbmRsZXJCb3VuZCk7fTtxLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbih1KXthKFwiI09QRU5fRklMRV9ESUFMT0dfTEJMX0ZJTEVOQU1FXCIpLnRleHQodS5PUEVOX0ZJTEVfRElBTE9HX0xCTF9GSUxFTkFNRSk7YShcIiNPUEVOX0ZJTEVfRElBTE9HX0xCTF9GSUxFVFlQRVwiKS50ZXh0KHUuT1BFTl9GSUxFX0RJQUxPR19MQkxfRklMRVRZUEUpO3RoaXMuaW1hZ2VEYXRhVVJMcy5kaXI9dS5JbWFnZURhdGFVUkxzLkRpcjt0aGlzLmFsdFRleHRzLmZpbGVOYW1lPXUuT1BFTl9GSUxFX0RJQUxPR19BTFRfVFhUX0ZJTEVfTkFNRTt0aGlzLmFsdFRleHRzLmRpck5hbWU9dS5PUEVOX0ZJTEVfRElBTE9HX0FMVF9UWFRfRElSX05BTUU7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHModSk7dGhpcy5maWxlRmlsdGVyQWxsPXUuRmlsZVR5cGVzLkFsbDtzd2l0Y2godGhpcy5maWxlVHlwZSl7Y2FzZSBiLkZpbGVUeXBlLkRvY3VtZW50OnRoaXMuZmlsZUZpbHRlcnM9dS5GaWxlVHlwZXMuRG9jdW1lbnQ7dGhpcy5pbWFnZURhdGFVUkxzLmZpbGU9dS5JbWFnZURhdGFVUkxzLkRvY3VtZW50O2JyZWFrO2Nhc2UgYi5GaWxlVHlwZS5JbWFnZTp0aGlzLmZpbGVGaWx0ZXJzPXUuRmlsZVR5cGVzLkltYWdlO3RoaXMuaW1hZ2VEYXRhVVJMcy5maWxlPXUuSW1hZ2VEYXRhVVJMcy5JbWFnZTticmVhaztjYXNlIGIuRmlsZVR5cGUuRGF0YUJhc2U6dGhpcy5maWxlRmlsdGVycz11LkZpbGVUeXBlcy5EYXRhQmFzZTt0aGlzLmltYWdlRGF0YVVSTHMuZmlsZT11LkltYWdlRGF0YVVSTHMuRGF0YUJhc2U7YnJlYWs7fXIodGhpcyk7fTtyZXR1cm4gcTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuV2FpdERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZSgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5XYWl0RGlhbG9nLEVsZW1lbnRJRDpcIndhaXREaWFsb2dcIixXaWR0aDpcImF1dG9cIixIZWlnaHQ6MTAwLFRpdGxlUmVzb3VyY2VOYW1lOlwiV0FJVF9ETEdfVElUTEVcIixEaWFsb2dDbGFzczpcIm5vLWNsb3NlXCIsQnV0dG9uczp7fSx9O31lLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI1dBSVRfRExHX0xBQkVMX01FU1NBR0VcIikudGV4dChmLldBSVRfRExHX0xBQkVMX01FU1NBR0UpO307ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZz1hKFwiI3dhaXREaWFsb2dcIiksaD1nLmNzcyhcIm1hcmdpbi1sZWZ0XCIpLGY9e3dpZHRoOmcuY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIiksY29sb3I6Zy5jc3MoXCJib3JkZXItbGVmdC1jb2xvclwiKSxzdHlsZTpnLmNzcyhcImJvcmRlci1sZWZ0LXN0eWxlXCIpfTtnLmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIixmLndpZHRoKTtnLmNzcyhcImJvcmRlci1ib3R0b20tY29sb3JcIixmLmNvbG9yKTtnLmNzcyhcImJvcmRlci1ib3R0b20tc3R5bGVcIixmLnN0eWxlKTtnLmNzcyhcIm1hcmdpbi1ib3R0b21cIixoKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihmLGEpe3ZhciBiPWYuX3ByaXZhdGU9Zi5fcHJpdmF0ZXx8e30sZz17Tm9uZTowLENyZWF0ZUZpbGU6ODE5MixPdmVyd3JpdGVGaWxlOjE2Mzg0LElubGluZTozMjc2OH0sYz17QWxsb3dBdXRob3Jpbmc6MSxBbGxvd0F1dGhvcmluZ0ZpZWxkczoyLEFsbG93Q29udGVudEFjY2Vzc2liaWxpdHk6NCxBbGxvd0RvY3VtZW50QXNzZW1ibHk6OCxBbGxvd0V4dHJhY3RDb250ZW50czoxNixBbGxvd0dlbmVyYWxFZGl0aW5nOjMyLEFsbG93SGlnaExldmVsUHJpbnRpbmc6NjQsQWxsb3dMb3dMZXZlbFByaW50aW5nOjEyOCxBbGxvd0FsbDoyNTUsfSxlPXtEaXNhYmxlZDotMSxBbGw6MCxPbmx5Q29ycmVjdDoxfSxkPXtEaXNhYmxlZDotMSxBbGw6MCxPbmx5QXRCZWdpbjoxLE9ubHlXaGVuQmVnaW5Jc1VwcGVyOjJ9O2IuT3B0aW9uc0RpYWxvZz0oZnVuY3Rpb24oaCl7X19leHRlbmRzKGssaCk7ZnVuY3Rpb24gayhvKXtoLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuT3B0aW9uc0RpYWxvZyxFbGVtZW50SUQ6XCJvcHRpb25zRGlhbG9nXCIsV2lkdGg6NTQwLEhlaWdodDozNTAsVGl0bGVSZXNvdXJjZU5hbWU6XCJPUFRJT05TX0RJQUxPR19USVRMRVwifTt0aGlzLm9wdGlvbnM9bzt0aGlzLmVycm9yTWVzc2FnZXM9e3Blcm1Qd2RFbXB0eTpcIlwiLHNhbWVQd2Q6XCJcIixkb2NQd2RFbXB0eTpcIlwifTt9Yi5hcnJheUJ1ZmZlclRvQjY0PWZ1bmN0aW9uKHApe3ZhciBvPVtdLHE9bmV3IFVpbnQ4QXJyYXkocCksdD1xLmJ5dGVMZW5ndGg7Zm9yKHZhciByPTA7cjx0O3IrKyl7by5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocVtyXSkpO312YXIgcz1vLmpvaW4oXCJcIik7cmV0dXJuIHdpbmRvdy5idG9hKHMpO307ay5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKHApe3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrVXNlclBhc3N3b3JkXCIpLHE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRVc2VyUGFzc3dvcmRcIik7aWYoby5jaGVja2VkJiYocS52YWx1ZS5sZW5ndGg9PTApKXtiLmpRdWVyeUFsZXJ0KHRoaXMuY2FwdGlvbix0aGlzLmVycm9yTWVzc2FnZXMuZG9jUHdkRW1wdHkpO3JldHVybjt9dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UocCk7fTtmdW5jdGlvbiBqKCl7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVVcHBlclwiKSx2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWdub3JlVXBwZXJcIikscD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZUNudE51bXNcIiksdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZVVSTHNcIikscT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZUVtYWlsc1wiKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrRmxhZ1JlcGVhdGVkV29yZHNcIikscz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZVVwcGVyQW5kTG93ZXJcIiksdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElnbm9yZVVwcGVyTG93ZXJcIik7dmFyIHU9e2lnbm9yZVVwcGVyQ2FzZVdvcmRzOmUuQWxsLGlnbm9yZUNvbnROdW1zOnRydWUsaWdub3JlVVJMczp0cnVlLGlnbm9yZUVtYWlsczp0cnVlLGZsYWdSZXBlYXRlZDp0cnVlLGlnbm9yZUFsbDpkLk9ubHlXaGVuQmVnaW5Jc1VwcGVyfTtpZighci5jaGVja2VkKXt1Lmlnbm9yZVVwcGVyQ2FzZVdvcmRzPWUuRGlzYWJsZWQ7fWVsc2V7dS5pZ25vcmVVcHBlckNhc2VXb3Jkcz12LnNlbGVjdGVkSW5kZXg7fXUuaWdub3JlQ29udE51bXM9cC5jaGVja2VkO3UuaWdub3JlVVJMcz10LmNoZWNrZWQ7dS5pZ25vcmVFbWFpbHM9cS5jaGVja2VkO3UuZmxhZ1JlcGVhdGVkPW8uY2hlY2tlZDtpZighcy5jaGVja2VkKXt1Lmlnbm9yZUFsbD1kLkRpc2FibGVkO31lbHNle3UuaWdub3JlQWxsPXcuc2VsZWN0ZWRJbmRleDt9cmV0dXJuIHU7fWsucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHApe3ZhciBvPXtkaWFsb2dSZXN1bHQ6dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdH07aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7by5jc3NTYXZlTW9kZT1pKCk7by5yZXFQREZEb2NQd2Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtVc2VyUGFzc3dvcmRcIikuY2hlY2tlZDtvLnBkZkRvY1B3ZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFVzZXJQYXNzd29yZFwiKS52YWx1ZTtvLnBkZmE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFblBERkFFeHBcIikuY2hlY2tlZDtvLmh5cGhFbmFibGVkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrRW5hYmxlSHlwaGVuYXRpb25cIikuY2hlY2tlZDtvLmxhbmdEZXRlY3RFbmFibGVkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrRW5hYmxlTGFuZ0RldGVjdFwiKS5jaGVja2VkO28uc3BlbGxDaGVja0VuYWJsZWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFbmFibGVTcGVsbENoZWNrXCIpLmNoZWNrZWQ7by5wZnhGaWxlUGFzc3dvcmQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRQREZDZXJ0UHdkXCIpLnZhbHVlO2lmKHRoaXMub3B0aW9ucy5Jc1RYU3BlbGxBc3NlbWJseVByZXNlbnQpe28uc3BlbGxDaGVja2luZz1qKCk7fXZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0UERGQ2VydEZpbGVcIikscT1yLmZpbGVzO2lmKHEubGVuZ3RoKXt2YXIgdD10aGlzLHM9bmV3IEZpbGVSZWFkZXIoKTtzLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciB1PWIuYXJyYXlCdWZmZXJUb0I2NChzLnJlc3VsdCk7by5wZnhGaWxlPXU7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LHQuRGlhbG9nSW5mby5EaWFsb2dUeXBlLDAsMCxvKTt9O3MucmVhZEFzQXJyYXlCdWZmZXIocVswXSk7fWVsc2V7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LHRoaXMuRGlhbG9nSW5mby5EaWFsb2dUeXBlLDAsMCxvKTt9fWVsc2V7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LHRoaXMuRGlhbG9nSW5mby5EaWFsb2dUeXBlLDAsMCxvKTt9YShwKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX07ZnVuY3Rpb24gaSgpe2lmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmJDU1NPcHRzTm9TdFNoXCIpLmNoZWNrZWQpe3JldHVybiBnLk5vbmU7fWVsc2V7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYkNTU09wdHNJbmxTdFNoXCIpLmNoZWNrZWQpe3JldHVybiBnLklubGluZTt9fX1mdW5jdGlvbiBsKG8pe3N3aXRjaChvLkNzc1NhdmVNb2RlKXtjYXNlIGcuTm9uZTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJiQ1NTT3B0c05vU3RTaFwiKS5jaGVja2VkPXRydWU7YnJlYWs7Y2FzZSBnLklubGluZTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJiQ1NTT3B0c0lubFN0U2hcIikuY2hlY2tlZD10cnVlO2JyZWFrO319ZnVuY3Rpb24gbSh3KXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZVVwcGVyXCIpLHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZ25vcmVVcHBlclwiKSxwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlQ250TnVtc1wiKSx0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVVJMc1wiKSxxPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlRW1haWxzXCIpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtGbGFnUmVwZWF0ZWRXb3Jkc1wiKSxzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVXBwZXJBbmRMb3dlclwiKSx2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWdub3JlVXBwZXJMb3dlclwiKTtyLmNoZWNrZWQ9dHJ1ZTtzd2l0Y2gody5JZ25vcmVVcHBlckNhc2VXb3Jkcyl7Y2FzZSBlLkRpc2FibGVkOnIuY2hlY2tlZD1mYWxzZTt1LmRpc2FibGVkPXRydWU7YnJlYWs7ZGVmYXVsdDp1LnNlbGVjdGVkSW5kZXg9dy5JZ25vcmVVcHBlckNhc2VXb3JkczticmVhazt9cC5jaGVja2VkPXcuSWdub3JlQ29udGFpbmluZ051bWJlcnM7dC5jaGVja2VkPXcuSWdub3JlVVJMcztxLmNoZWNrZWQ9dy5JZ25vcmVFbWFpbEFkZHJlc3NlcztvLmNoZWNrZWQ9dy5GbGFnUmVwZWF0ZWRXb3JkcztzLmNoZWNrZWQ9dHJ1ZTtzd2l0Y2gody5JZ25vcmVBbGwpe2Nhc2UgZC5EaXNhYmxlZDpzLmNoZWNrZWQ9ZmFsc2U7di5kaXNhYmxlZD10cnVlO2JyZWFrO2RlZmF1bHQ6di5zZWxlY3RlZEluZGV4PXcuSWdub3JlQWxsO2JyZWFrO319ZnVuY3Rpb24gbih0KXt2YXIgdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFBERkNlcnRQd2RcIikscz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1VzZXJQYXNzd29yZFwiKSx2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0VXNlclBhc3N3b3JkXCIpLHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFblBERkFFeHBcIiksbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuYWJsZUh5cGhlbmF0aW9uXCIpLHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFbmFibGVMYW5nRGV0ZWN0XCIpLHE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFbmFibGVTcGVsbENoZWNrXCIpO2wodCk7dS52YWx1ZT10LlBERkNlcnRGaWxlUHdkO3MuY2hlY2tlZD10LlJlcXVpcmVVc2VyUHdkO3YuZGlzYWJsZWQ9IXQuUmVxdWlyZVVzZXJQd2Q7di52YWx1ZT10LlBERlVzZXJQd2Q7ci5jaGVja2VkPXQuUERGQTtpZih0LklzVFhTcGVsbEFzc2VtYmx5UHJlc2VudCl7by5jaGVja2VkPXQuSXNIeXBoZW5hdGlvbkVuYWJsZWQ7cC5jaGVja2VkPXQuSXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQ7cS5jaGVja2VkPXQuSXNTcGVsbENoZWNraW5nRW5hYmxlZDtpZih0LklzU3BlbGxDaGVja2luZ0VuYWJsZWQpe20odC5TcGVsbENoZWNrU2V0dGluZ3MpO31lbHNle2EoXCIjb3B0aW9uc0RpYWxvZ1RhYnNcIikudGFicyhcIm9wdGlvblwiLFwiZGlzYWJsZWRcIixbNF0pO319ZWxzZXthKFwiI29wdGlvbnNEaWFsb2dUYWJzXCIpLnRhYnMoXCJvcHRpb25cIixcImRpc2FibGVkXCIsWzMsNF0pO319ay5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24odSl7YShcIiNvcHRpb25zRGlhbG9nVGFic1wiKS50YWJzKCk7bih1Lm9wdGlvbnMpO2Z1bmN0aW9uIHModil7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRVc2VyUGFzc3dvcmRcIik7dy5kaXNhYmxlZD0hdGhpcy5jaGVja2VkO312YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1VzZXJQYXNzd29yZFwiKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHMpO2Z1bmN0aW9uIHIodil7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZ25vcmVVcHBlclwiKTt3LmRpc2FibGVkPSF0aGlzLmNoZWNrZWQ7fXZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVXBwZXJcIik7by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixyKTtmdW5jdGlvbiBxKHYpe3ZhciB3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWdub3JlVXBwZXJMb3dlclwiKTt3LmRpc2FibGVkPSF0aGlzLmNoZWNrZWQ7fXZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVXBwZXJBbmRMb3dlclwiKTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHEpO307ay5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24obyl7YShcIiNPUFRJT05TX0RJQUxPR19UQUJfSFRNTFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfVEFCX0hUTUwpO2EoXCIjT1BUSU9OU19ESUFMT0dfVEFCX1BERl9TRUNcIikudGV4dChvLk9QVElPTlNfRElBTE9HX1RBQl9QREZfU0VDKTthKFwiI09QVElPTlNfRElBTE9HX1RBQl9QREZfRVhQXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19UQUJfUERGX0VYUCk7YShcIiNPUFRJT05TX0RJQUxPR19HUlBfU1RZTEVTSF9TQVZfT1BUUyA+IGxlZ2VuZFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfR1JQX1NUWUxFU0hfU0FWX09QVFMpO2EoXCIjT1BUSU9OU19ESUFMT0dfTEJMX0NTU19PUFRTX05PX1NUU0hcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0xCTF9DU1NfT1BUU19OT19TVFNIKTthKFwiI09QVElPTlNfRElBTE9HX0xCTF9DU1NfT1BUU19JTkxfU1RTSFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX0NTU19PUFRTX0lOTF9TVFNIKTthKFwiI09QVElPTlNfRElBTE9HX0dSUF9QREZfRElHX1NJRyA+IGxlZ2VuZFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfR1JQX1BERl9ESUdfU0lHKTthKFwiI09QVElPTlNfRElBTE9HX0dSUF9QREZfUFdEID4gbGVnZW5kXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19HUlBfUERGX1BXRCk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUERGX0NFUlRfRklMRVwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BERl9DRVJUX0ZJTEUpO2EoXCIjT1BUSU9OU19ESUFMT0dfTEJMX1BERl9DRVJUX1BXRFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BERl9DRVJUX1BXRCk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUERGX1JFUV9QV0RcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0xCTF9QREZfUkVRX1BXRCk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUERGX0RPQ19QV0RcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0xCTF9QREZfRE9DX1BXRCk7YShcIiNPUFRJT05TX0RJQUxPR19HUlBfUERGX0VYUF9PUFRTID4gbGVnZW5kXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19HUlBfUERGX0VYUF9PUFRTKTthKFwiI09QVElPTlNfRElBTE9HX0NIS19FTl9QREZBXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19DSEtfRU5fUERGQSk7YShcIiNPUFRJT05TX0RJQUxPR19UQUJfUFJPT0ZJTkdcIikudGV4dChvLk9QVElPTlNfRElBTE9HX1RBQl9QUk9PRklORyk7YShcIiNPUFRJT05TX0RJQUxPR19HUlBfUFJPT0ZfT1BUUyA+IGxlZ2VuZFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfR1JQX1BST09GX09QVFMpO2EoXCIjT1BUSU9OU19ESUFMT0dfTEJMX1BST09GX1NQRUxMX0NIRUNLXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfU1BFTExfQ0hFQ0spO2EoXCIjT1BUSU9OU19ESUFMT0dfTEJMX1BST09GX0hZUEhFTlwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BST09GX0hZUEhFTik7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfTEFOR0RFVEVDVFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BST09GX0xBTkdERVRFQ1QpO2EoXCIjT1BUSU9OU19ESUFMT0dfVEFCX1NQRUxMX0NIRUNLXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19UQUJfU1BFTExfQ0hFQ0spO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKG8pO2lmKG8uVFhTcGVsbCl7YShcIiNMQkxfSUdOT1JFX1VQUEVSQ0FTRVwiKS50ZXh0KG8uVFhTcGVsbC5MQkxfSUdOT1JFX1VQUEVSQ0FTRSk7YShcIiNJVE1fVVBQRVJDQVNFX0FMTFwiKS50ZXh0KG8uVFhTcGVsbC5JVE1fVVBQRVJDQVNFX0FMTCk7YShcIiNJVE1fVVBQRVJDQVNFX09OTFlfQ09SUkVDVFwiKS50ZXh0KG8uVFhTcGVsbC5JVE1fVVBQRVJDQVNFX09OTFlfQ09SUkVDVCk7YShcIiNMQkxfSUdOT1JFX1dPUkRfV0lUSF9OVU1CRVJTXCIpLnRleHQoby5UWFNwZWxsLkxCTF9JR05PUkVfV09SRF9XSVRIX05VTUJFUlMpO2EoXCIjTEJMX0lHTk9SRV9JTlRFUk5FVF9BRERSRVNTRVNcIikudGV4dChvLlRYU3BlbGwuTEJMX0lHTk9SRV9JTlRFUk5FVF9BRERSRVNTRVMpO2EoXCIjTEJMX0lHTk9SRV9FTUFJTF9BRERSRVNTRVNcIikudGV4dChvLlRYU3BlbGwuTEJMX0lHTk9SRV9FTUFJTF9BRERSRVNTRVMpO2EoXCIjTEJMX0ZMQUdfUkVQRUFURURfV09SRFNcIikudGV4dChvLlRYU3BlbGwuTEJMX0ZMQUdfUkVQRUFURURfV09SRFMpO2EoXCIjTEJMX0lHTk9SRV9DQVNFXCIpLnRleHQoby5UWFNwZWxsLkxCTF9JR05PUkVfQ0FTRSk7YShcIiNJVE1fQ0FTRV9BTExcIikudGV4dChvLlRYU3BlbGwuSVRNX0NBU0VfQUxMKTthKFwiI0lUTV9DQVNFX1dPUkRfQkVHSU5fQUxXQVlTXCIpLnRleHQoby5UWFNwZWxsLklUTV9DQVNFX1dPUkRfQkVHSU5fQUxXQVlTKTthKFwiI0lUTV9DQVNFX1dPUkRfQkVHSU5fSVNfVVBQRVJcIikudGV4dChvLlRYU3BlbGwuSVRNX0NBU0VfV09SRF9CRUdJTl9JU19VUFBFUik7fXRoaXMuZXJyb3JNZXNzYWdlcy5kb2NQd2RFbXB0eT1vLk9QVElPTlNfRElBTE9HX0RPQ19QV0RfRU1QVFlfRVJST1I7dGhpcy5lcnJvck1lc3NhZ2VzLnBlcm1Qd2RFbXB0eT1vLk9QVElPTlNfRElBTE9HX1BFUk1fUFdEX0VNUFRZX0VSUk9SO3RoaXMuZXJyb3JNZXNzYWdlcy5zYW1lUHdkPW8uT1BUSU9OU19ESUFMT0dfU0FNRV9QV0RfRVJST1I7fTtyZXR1cm4gazt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBmO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2F2ZURvY3VtZW50QXNEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhmLGQpO2Z1bmN0aW9uIGYoZyxoKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuU2F2ZURvY3VtZW50QXNEaWFsb2csRWxlbWVudElEOlwic2F2ZURvY3VtZW50QXNEaWFsb2dcIixXaWR0aDoyODAsVGl0bGVSZXNvdXJjZU5hbWU6XCJTQVZFRE9DQVNfRElBTE9HX1RJVExFXCJ9O3RoaXMuZmlsZU5hbWU9Zzt0aGlzLnN0cmVhbVR5cGU9aDt0aGlzLmVycm9yTWVzc2FnZXM9e2ZpbGVOYW1lRW1wdHk6XCJcIn07fWYucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihnKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFNhdmVEb2NBc0ZpbGVuYW1lXCIpLnZhbHVlO2lmKGEudHJpbShoKT09XCJcIil7Yi5qUXVlcnlBbGVydCh0aGlzLmNhcHRpb24sdGhpcy5lcnJvck1lc3NhZ2VzLmZpbGVOYW1lRW1wdHkpO3JldHVybjt9dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UoZyk7fTtmdW5jdGlvbiBlKCl7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxTYXZlQXNEb2NUeXBlXCIpO3ZhciBoPWcub3B0aW9uc1tnLnNlbGVjdGVkSW5kZXhdLnZhbHVlO3JldHVybiBwYXJzZUludChoLDEwKTt9Zi5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbihnKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLmRpYWxvZ0RhdGEuZmlsZU5hbWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRTYXZlRG9jQXNGaWxlbmFtZVwiKS52YWx1ZTt0aGlzLmRpYWxvZ0RhdGEuc3RyZWFtVHlwZT1lKCk7fX07Zi5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oZyl7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRTYXZlRG9jQXNGaWxlbmFtZVwiKTtoLnZhbHVlPWcuZmlsZU5hbWU7YShcIiNzZWxTYXZlQXNEb2NUeXBlXCIpLnZhbChcIlwiK2cuc3RyZWFtVHlwZSk7fTtmLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihnKXthKFwiI1NBVkVET0NBU19ESUFMT0dfTEJMX0ZJTEVOQU1FXCIpLnRleHQoZy5TQVZFRE9DQVNfRElBTE9HX0xCTF9GSUxFTkFNRSk7YShcIiNTQVZFRE9DQVNfRElBTE9HX0xCTF9ET0NfVFlQRVwiKS50ZXh0KGcuU0FWRURPQ0FTX0RJQUxPR19MQkxfRE9DX1RZUEUpO3RoaXMuZXJyb3JNZXNzYWdlcy5maWxlTmFtZUVtcHR5PWcuU0FWRURPQ0FTX0RJQUxPR19GSUxFX05BTUVfRU1QVFlfRVJST1I7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZyk7fTtyZXR1cm4gZjt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRm9udFN0eWxlPU9iamVjdC5mcmVlemUoe1JlZ3VsYXI6MCxCb2xkOjEsSXRhbGljOjIsVW5kZXJsaW5lOjQsU3RyaWtlb3V0Ojh9KTtiLkZvbnREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkZvbnREaWFsb2csRWxlbWVudElEOlwidHhGb250RGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJGT05UX0RMR19USVRMRVwiLH07dGhpcy5zdGF0ZT1mO31lLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24oZil7dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UoZik7fTtlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihnKXt2YXIgZj17c3RhdGU6e2ZvbnROYW1lOnRoaXMuc3RhdGUuZm9udE5hbWUsZm9udFNpemU6dGhpcy5zdGF0ZS5mb250U2l6ZSxmb250U3R5bGU6dGhpcy5zdGF0ZS5mb250U3R5bGV9LGRpYWxvZ1Jlc3VsdDp0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsYi5IVE1MRGlhbG9nVHlwZS5Gb250RGlhbG9nLDAsMCxmKTthKGcpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTtpZighYi5pc1RvdWNoRGV2aWNlKXtiLnRleHRWaWV3ZXIuZm9jdXMoKTt9fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBzPXRoaXMscSxsO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsVHhGbnREbGdOYW1lc1wiKTt0aGlzLnN0YXRlLmZvbnROYW1lcy5mb3JFYWNoKGYpO3ZhciB5PXRoaXMuc3RhdGUuZm9udFNpemVzO2lmKHkuaW5kZXhPZih0aGlzLnN0YXRlLmZvbnRTaXplKT09PS0xKXt5LnB1c2godGhpcy5zdGF0ZS5mb250U2l6ZSk7eS5zb3J0KGZ1bmN0aW9uKHosQSl7cmV0dXJuIHotQTt9KTt9dmFyIHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxUeEZudERsZ1NpemVzXCIpO3kuZm9yRWFjaChnKTt2YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZPTlRfRExHX1NUWUxFX1JFR1VMQVJcIik7cC52YWx1ZT1iLkZvbnRTdHlsZS5SZWd1bGFyO3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRk9OVF9ETEdfU1RZTEVfSVRBTElDXCIpO28udmFsdWU9Yi5Gb250U3R5bGUuSXRhbGljO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRk9OVF9ETEdfU1RZTEVfQk9MRFwiKTttLnZhbHVlPWIuRm9udFN0eWxlLkJvbGQ7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGT05UX0RMR19TVFlMRV9CT0xEX0lUQUxJQ1wiKTtuLnZhbHVlPShiLkZvbnRTdHlsZS5Cb2xkfGIuRm9udFN0eWxlLkl0YWxpYyk7cih0aGlzLnN0YXRlLmZvbnRTdHlsZSk7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUeEZudERsZ1N0cmlrZVRocm91Z2hcIik7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUeEZudERsZ1VuZGVybGluZVwiKTtoLmNoZWNrZWQ9ISEodGhpcy5zdGF0ZS5mb250U3R5bGUmYi5Gb250U3R5bGUuU3RyaWtlb3V0KTtqLmNoZWNrZWQ9ISEodGhpcy5zdGF0ZS5mb250U3R5bGUmYi5Gb250U3R5bGUuVW5kZXJsaW5lKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix1KTt2LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix3KTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbFR4Rm50RGxnU3R5bGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix4KTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixpKTtqLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixrKTtmdW5jdGlvbiBmKHope2w9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt0LmFwcGVuZENoaWxkKGwpO2wudmFsdWU9bC50ZXh0PXo7aWYoej09PXMuc3RhdGUuZm9udE5hbWUpe2wuc2VsZWN0ZWQ9dHJ1ZTt9fWZ1bmN0aW9uIGcoeil7bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3YuYXBwZW5kQ2hpbGQobCk7bC52YWx1ZT1sLnRleHQ9ejtpZih6PT09cy5zdGF0ZS5mb250U2l6ZSl7bC5zZWxlY3RlZD10cnVlO319ZnVuY3Rpb24gcih6KXtzd2l0Y2goeiYzKXtjYXNlIGIuRm9udFN0eWxlLkl0YWxpYzpvLnNlbGVjdGVkPXRydWU7YnJlYWs7Y2FzZSBiLkZvbnRTdHlsZS5Cb2xkOm0uc2VsZWN0ZWQ9dHJ1ZTticmVhaztjYXNlIChiLkZvbnRTdHlsZS5JdGFsaWN8Yi5Gb250U3R5bGUuQm9sZCk6bi5zZWxlY3RlZD10cnVlO2JyZWFrO2Nhc2UgYi5Gb250U3R5bGUuUmVndWxhcjpkZWZhdWx0OnAuc2VsZWN0ZWQ9dHJ1ZTticmVhazt9fWZ1bmN0aW9uIHUoeil7cy5zdGF0ZS5mb250TmFtZT10LnZhbHVlO31mdW5jdGlvbiB3KHope3Muc3RhdGUuZm9udFNpemU9cGFyc2VJbnQodi52YWx1ZSwxMCk7fWZ1bmN0aW9uIHgoeil7dmFyIEE9ei50YXJnZXQ7cy5zdGF0ZS5mb250U3R5bGUmPX4zO3Muc3RhdGUuZm9udFN0eWxlfD1wYXJzZUludChBLnZhbHVlLDEwKTt9ZnVuY3Rpb24gaSh6KXtpZihoLmNoZWNrZWQpe3Muc3RhdGUuZm9udFN0eWxlfD1iLkZvbnRTdHlsZS5TdHJpa2VvdXQ7fWVsc2V7cy5zdGF0ZS5mb250U3R5bGUmPX5iLkZvbnRTdHlsZS5TdHJpa2VvdXQ7fX1mdW5jdGlvbiBrKHope2lmKGouY2hlY2tlZCl7cy5zdGF0ZS5mb250U3R5bGV8PWIuRm9udFN0eWxlLlVuZGVybGluZTt9ZWxzZXtzLnN0YXRlLmZvbnRTdHlsZSY9fmIuRm9udFN0eWxlLlVuZGVybGluZTt9fX07ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNGT05UX0RMR19MQkxfRk9OVFwiKS50ZXh0KGYuRk9OVF9ETEdfTEJMX0ZPTlQpO2EoXCIjRk9OVF9ETEdfTEJMX1NJWkVcIikudGV4dChmLkZPTlRfRExHX0xCTF9TSVpFKTthKFwiI0ZPTlRfRExHX0xCTF9TVFlMRVwiKS50ZXh0KGYuRk9OVF9ETEdfTEJMX1NUWUxFKTthKFwiI0ZPTlRfRExHX0dSUF9FRkZFQ1RTID4gbGVnZW5kXCIpLnRleHQoZi5GT05UX0RMR19HUlBfRUZGRUNUUyk7YShcIiNGT05UX0RMR19TVFJJS0VPVVRcIikudGV4dChmLkZPTlRfRExHX1NUUklLRU9VVCk7YShcIiNGT05UX0RMR19TVFlMRV9CT0xEXCIpLnRleHQoZi5GT05UX0RMR19TVFlMRV9CT0xEKTthKFwiI0ZPTlRfRExHX1NUWUxFX0lUQUxJQ1wiKS50ZXh0KGYuRk9OVF9ETEdfU1RZTEVfSVRBTElDKTthKFwiI0ZPTlRfRExHX1NUWUxFX0JPTERfSVRBTElDXCIpLnRleHQoZi5GT05UX0RMR19TVFlMRV9CT0xEX0lUQUxJQyk7YShcIiNGT05UX0RMR19TVFlMRV9SRUdVTEFSXCIpLnRleHQoZi5GT05UX0RMR19TVFlMRV9SRUdVTEFSKTthKFwiI0ZPTlRfRExHX1VOREVSTElORVwiKS50ZXh0KGYuRk9OVF9ETEdfVU5ERVJMSU5FKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2IuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZD17fTtiLlRoZXNhdXJ1c0RpYWxvZz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKG8sZSk7ZnVuY3Rpb24gbyhwKXtlLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuVGhlc2F1cnVzRGlhbG9nLEVsZW1lbnRJRDpcInRoZXNhdXJ1c0RpYWxvZ1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiVEhFU0FVUlVTX0RMR19USVRMRVwifTt0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZD10aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLnN0YXRlPXA7dGhpcy5ub0FsdFRleHQ9XCJcIjt0aGlzLmxhc3RTZWxlY3RlZFN5bm9ueW09bnVsbDt9by5wcm90b3R5cGUuYXBwbHlEaWFsb2dTdGF0ZT1mdW5jdGlvbihMKXt2YXIgeSxHLEksSixOLEQsQixFLEMsQSx4LHosSDt2YXIgdj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ19jYkxhbmd1YWdlXCIpO3ZhciBRPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX3R4dEZpbmRTeW5vbnltc0ZvclwiKTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ19idG5CYWNrXCIpO3ZhciBQPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX3R2U3lub255bXNcIik7dmFyIHU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEK1wiIHNwYW4udHh1aS1idXR0b24tdGV4dFwiKTt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO2lmKEwubGFuZ3VhZ2VzKXtMLmxhbmd1YWdlcy5mb3JFYWNoKHEpO31pZihMLmZpbmRTeW5vbnltc0Zvcil7US52YWx1ZT1MLmZpbmRTeW5vbnltc0Zvcjt9aWYoTC5iYWNrQnV0dG9uKXtyLmRpc2FibGVkPSFMLmJhY2tCdXR0b24uRW5hYmxlZDt9aWYoTC5pbnNlcnRCdXR0b24pe1IoTC5pbnNlcnRCdXR0b24pO31pZihMLnN5bm9ueW1zKXtTKEwuc3lub255bXMpO31pZihMLnNlbGVjdGVkTGFuZ3VhZ2Upe0soTC5zZWxlY3RlZExhbmd1YWdlKTt9ZnVuY3Rpb24gcShzKXt5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di5hcHBlbmRDaGlsZCh5KTt5LnZhbHVlPXkudGV4dD1zLnRleHQ7fWZ1bmN0aW9uIFIocyl7aWYocy5UZXh0KXt1LnRleHRDb250ZW50PXMuVGV4dDt9RihzLkVuYWJsZWQpO31mdW5jdGlvbiBGKHMpe3QuZGlzYWJsZWQ9IXM7aWYocyl7dC5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9ZWxzZXt0LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO319ZnVuY3Rpb24gSyhzKXt2LnZhbHVlPXM7fWZ1bmN0aW9uIFMoVCl7dmFyIHM9KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PVApO3NlbGYubGFzdFNlbGVjdGVkU3lub255bT1udWxsO1AuaW5uZXJIVE1MPVwiXCI7aWYoVC5sZW5ndGg9PTApe0Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1AuYXBwZW5kQ2hpbGQoRCk7Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTt6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO0IuYXBwZW5kQ2hpbGQoeik7ei5jbGFzc0xpc3QuYWRkKFwibm9BbHRUZXh0XCIpO3oudGV4dENvbnRlbnQ9c2VsZi5ub0FsdFRleHQ7RihmYWxzZSk7cmV0dXJuO31mb3IoRz0wO0c8VC5sZW5ndGg7KytHKXtKPVRbR107Tj1cIlwiKyhHKzEpK1wiLiBcIitKLnRleHQ7RD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7RC5kYXRhc2V0LmNvbGxhcHNlZD1cImZhbHNlXCI7SD1KLml0ZW1zWzBdO0QuZGF0YXNldC53b3JkPUgud29yZDtELmRhdGFzZXQudGV4dD1ILnRleHQ7UC5hcHBlbmRDaGlsZChEKTtELmNsYXNzTGlzdC5hZGQoXCJ0cmVlTm9kZVwiKTtELmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLGZ1bmN0aW9uKFUpe08oVS5jdXJyZW50VGFyZ2V0KTt9KTtELmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKFUpe20oKTtVLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO30pO0I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO0QuYXBwZW5kQ2hpbGQoQik7Qi5hcHBlbmRDaGlsZChpKCkpO0IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdyk7Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTt6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO0IuYXBwZW5kQ2hpbGQoeik7ei50ZXh0Q29udGVudD1OO0U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1AuYXBwZW5kQ2hpbGQoRSk7RS5jbGFzc0xpc3QuYWRkKFwidHJlZU5vZGVJdGVtQ29udGFpbmVyXCIpO0M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO0UuYXBwZW5kQ2hpbGQoQyk7Qy5jb2xTcGFuPTI7eD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0MuYXBwZW5kQ2hpbGQoeCk7eC5jbGFzc0xpc3QuYWRkKFwidGhlc2F1cnVzRGlhbG9nX2l0ZW1zV3JhcHBlclwiKTtBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTt4LmFwcGVuZENoaWxkKEEpO0EuY2xhc3NMaXN0LmFkZChcInRoZXNhdXJ1c0RpYWxvZ190YmxJdGVtc1wiKTtBLmNsYXNzTGlzdC5hZGQoXCJ1bnNlbGVjdGFibGVcIik7cChBLEouaXRlbXMsVC5sZW5ndGgpO3guc3R5bGUuaGVpZ2h0PXguY2xpZW50SGVpZ2h0K1wicHhcIjt4LmRhdGFzZXQuaGVpZ2h0PXguY2xpZW50SGVpZ2h0O31GKHRydWUpO2lmKHMpe1AuYmx1cigpO1AuZm9jdXMoKTt9fWZ1bmN0aW9uIE0ocyl7dmFyIFQ9cy5jdXJyZW50VGFyZ2V0O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQsYi5UaGVzYXVydXNEaWFsb2dDb21tYW5kLlNlbGVjdGVkTm9kZUNoYW5nZWQsMCwwLHt3b3JkOlQuZGF0YXNldC53b3JkLHRleHQ6VC5kYXRhc2V0LnRleHR9KTt9ZnVuY3Rpb24gcChzLFQsVSl7Zm9yKEk9MDtJPFQubGVuZ3RoOysrSSl7SD1UW0ldO0Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO3MuYXBwZW5kQ2hpbGQoRCk7RC5jbGFzc0xpc3QuYWRkKFwidHJlZU5vZGVJdGVtXCIpO0QuZGF0YXNldC53b3JkPUgud29yZDtELmRhdGFzZXQudGV4dD1ILnRleHQ7RC5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIixNKTtELmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKFYpe20oKTtWLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO30pO0I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO0QuYXBwZW5kQ2hpbGQoQik7aWYoRzwoVS0xKSl7Qi5hcHBlbmRDaGlsZChsKCkpO31lbHNle0IuYXBwZW5kQ2hpbGQoZygpKTt9Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTtpZihJPChULmxlbmd0aC0xKSl7Qi5hcHBlbmRDaGlsZChrKCkpO31lbHNle0IuYXBwZW5kQ2hpbGQoaCgpKTt9Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTt6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO0IuYXBwZW5kQ2hpbGQoeik7ei50ZXh0Q29udGVudD1ILnRleHQ7fX1mdW5jdGlvbiBPKHMpe2lmKHMuZGF0YXNldC5jb2xsYXBzZWQ9PT1cInRydWVcIil7bihzKTt9ZWxzZXtmKHMpO319ZnVuY3Rpb24gdyhzKXt2YXIgVD1zLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudDtPKFQpO319O2Z1bmN0aW9uIGYocyl7aWYoIXMuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHJlZU5vZGVcIikpe3Rocm93IG5ldyBFcnJvcihcIk9ubHkgdHJlZSBub2RlcyBjYW4gYmUgY29sbGFwc2VkLlwiKTt9dmFyIHE9cy5jZWxsc1swXTt2YXIgdD1zLm5leHRTaWJsaW5nO3ZhciByPXQuY2VsbHNbMF07dmFyIHA9ci5jaGlsZHJlblswXTtwLnN0eWxlLmhlaWdodD1cIjBweFwiO3MuZGF0YXNldC5jb2xsYXBzZWQ9XCJ0cnVlXCI7cS5pbm5lckhUTUw9XCJcIjtxLmFwcGVuZENoaWxkKGooKSk7fWZ1bmN0aW9uIG4ocyl7aWYoIXMuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHJlZU5vZGVcIikpe3Rocm93IG5ldyBFcnJvcihcIk9ubHkgdHJlZSBub2RlcyBjYW4gYmUgZXhwYW5kZWQuXCIpO312YXIgcT1zLmNlbGxzWzBdO3ZhciB0PXMubmV4dFNpYmxpbmc7dmFyIHI9dC5jZWxsc1swXTt2YXIgcD1yLmNoaWxkcmVuWzBdO3Auc3R5bGUuaGVpZ2h0PXAuZGF0YXNldC5oZWlnaHQrXCJweFwiO3MuZGF0YXNldC5jb2xsYXBzZWQ9XCJmYWxzZVwiO3EuaW5uZXJIVE1MPVwiXCI7cS5hcHBlbmRDaGlsZChpKCkpO31vLnByb3RvdHlwZS5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyPWZ1bmN0aW9uKHApe3RoaXMuYXBwbHlEaWFsb2dTdGF0ZShwLmRldGFpbCk7fTtmdW5jdGlvbiBtKCl7dmFyIHA9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltcyB0clwiKTtbXS5mb3JFYWNoLmNhbGwocCxmdW5jdGlvbihxKXtxLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTt9KTt9ZnVuY3Rpb24gaSgpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwic3ZnXCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsXCIxNlwiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixcIjE2XCIpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwicmVjdFwiKTtyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4XCIsXCI0XCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixcIjRcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCI4XCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsXCI4XCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIm5vbmVcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJncmF5XCIpO3AuYXBwZW5kQ2hpbGQocik7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJsaW5lXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsXCI2XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsXCIxMFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cC5hcHBlbmRDaGlsZChxKTtyZXR1cm4gcDt9ZnVuY3Rpb24gaigpe3ZhciBwPWkoKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjZcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixcIjEwXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiZ3JheVwiKTtwLmFwcGVuZENoaWxkKHEpO3JldHVybiBwO31mdW5jdGlvbiBsKCl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJzdmdcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjE2XCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiMThcIik7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJsaW5lXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsXCIwXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIsXCIxOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiMSwgMVwiKTtwLmFwcGVuZENoaWxkKHEpO3JldHVybiBwO31mdW5jdGlvbiBrKCl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJzdmdcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjE2XCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiMThcIik7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJsaW5lXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsXCIwXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIsXCIxOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiMSwgMVwiKTtwLmFwcGVuZENoaWxkKHEpO3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJsaW5lXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsXCIxNlwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiMSwgMVwiKTtwLmFwcGVuZENoaWxkKHEpO3JldHVybiBwO31mdW5jdGlvbiBnKCl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJzdmdcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjE2XCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiMThcIik7cmV0dXJuIHA7fWZ1bmN0aW9uIGgoKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcInN2Z1wiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLFwiMTZcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCIxOFwiKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjBcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJncmF5XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1kYXNoYXJyYXlcIixcIjEsIDFcIik7cC5hcHBlbmRDaGlsZChxKTtxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwibGluZVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MVwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLFwiMTZcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJncmF5XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1kYXNoYXJyYXlcIixcIjEsIDFcIik7cC5hcHBlbmRDaGlsZChxKTtyZXR1cm4gcDt9by5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKHApe3RoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQ9dHJ1ZTt0aGlzLmNsb3NlKHApO307by5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRTeW5vbnltPWZ1bmN0aW9uKCl7dmFyIHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltc1wiKTt2YXIgcT1wLnF1ZXJ5U2VsZWN0b3IoXCJ0ci5zZWxlY3RlZFwiKTtpZighcSYmdGhpcy5sYXN0U2VsZWN0ZWRTeW5vbnltKXtyZXR1cm4gdGhpcy5sYXN0U2VsZWN0ZWRTeW5vbnltO31pZighcSYmcC5yb3dzLmxlbmd0aCl7cT1wLnJvd3NbMF07fWlmKCFxKXtyZXR1cm4gbnVsbDt9cmV0dXJue3dvcmQ6cS5kYXRhc2V0LndvcmQsdGV4dDpxLmRhdGFzZXQudGV4dH07fTtvLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihxKXt2YXIgcD17c3RhdGU6e3NlbGVjdGVkRWxlbWVudDp0aGlzLmdldFNlbGVjdGVkU3lub255bSgpfSxkaWFsb2dSZXN1bHQ6dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LGIuSFRNTERpYWxvZ1R5cGUuVGhlc2F1cnVzRGlhbG9nLDAsMCxwKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidGhlc2F1cnVzRGlhbG9nU3RhdGVVcGRhdGVkXCIsdGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyQm91bmQpO2EocSkuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O28ucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIHY9dGhpczt0aGlzLmFwcGx5RGlhbG9nU3RhdGUodGhpcy5zdGF0ZSk7dmFyIHE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfYnRuQmFja1wiKTtxLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHIpO3ZhciB6PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX3R4dEZpbmRTeW5vbnltc0ZvclwiKTt6LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLEEpO3ouYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEEpO3ZhciBzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX2NiTGFuZ3VhZ2VcIik7cy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdCk7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltc1wiKTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIseSk7dy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix4KTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsZnVuY3Rpb24oKXt2Lmxhc3RTZWxlY3RlZFN5bm9ueW09di5nZXRTZWxlY3RlZFN5bm9ueW0oKTttKCk7fSk7dmFyIEI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHJlZVZpZXdXcmFwcGVyXCIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0aGVzYXVydXNEaWFsb2dTdGF0ZVVwZGF0ZWRcIix0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZCk7ei5mb2N1cygpO2Z1bmN0aW9uIHAoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5UaGVzYXVydXNEaWFsb2dDb21tYW5kLGIuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZC5CYWNrKTt9ZnVuY3Rpb24gcihDKXtwKCk7fWZ1bmN0aW9uIEEoQyl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZCxiLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQuRmluZFN5bm9ueW1UZXh0Q2hhbmdlZCwwLDAse3RleHQ6ei52YWx1ZX0pO31mdW5jdGlvbiB0KEMpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQsYi5UaGVzYXVydXNEaWFsb2dDb21tYW5kLkxhbmd1YWdlQ2hhbmdlZCwwLDAse2xhbmd1YWdlTmFtZTpzLnZhbHVlfSk7fWZ1bmN0aW9uIHgoQyl7dmFyIEQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltcyB0ci5zZWxlY3RlZFwiKTtpZighRCYmKHcucm93cy5sZW5ndGg+MSkpe3cucm93c1swXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fX1mdW5jdGlvbiB5KEQpe3ZhciBGPUQua2V5Q29kZXx8RC53aGljaHx8MDtzd2l0Y2goRil7Y2FzZSBiLktleUNvZGUuRG93bkFycm93OkgoKTtELnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBiLktleUNvZGUuVXBBcnJvdzpIKHRydWUpO0QucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGIuS2V5Q29kZS5MZWZ0QXJyb3c6QygpO0QucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGIuS2V5Q29kZS5SaWdodEFycm93OkUoKTtELnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBiLktleUNvZGUuU3BhY2U6RygpO0QucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGIuS2V5Q29kZS5CYWNrc3BhY2U6aWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09dyl7cCgpO0QucHJldmVudERlZmF1bHQoKTt9YnJlYWs7Y2FzZSBiLktleUNvZGUuRW50ZXI6di5PS0hhbmRsZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dcIikpO0QucHJldmVudERlZmF1bHQoKTticmVhazt9ZnVuY3Rpb24gQygpe3ZhciBJPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGhlc2F1cnVzRGlhbG9nX3R2U3lub255bXMgdHIuc2VsZWN0ZWRcIik7aWYoSS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cmVlTm9kZVwiKSl7ZihJKTt1KEkpO31lbHNle2lmKEkuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHJlZU5vZGVJdGVtXCIpKXtJLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtJPUkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wcmV2aW91c1NpYmxpbmc7SS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7dShJKTt9fX1mdW5jdGlvbiBFKCl7dmFyIEk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltcyB0ci5zZWxlY3RlZFwiKTtpZihJLmNsYXNzTGlzdC5jb250YWlucyhcInRyZWVOb2RlXCIpKXtpZihJLmRhdGFzZXQuY29sbGFwc2VkPT1cInRydWVcIil7bihJKTt9ZWxzZXtJLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtJPUkubmV4dFNpYmxpbmcuY2VsbHNbMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0ucm93c1swXTtJLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTt9dShJKTt9fWZ1bmN0aW9uIEcoKXt2YXIgST1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zIHRyLnNlbGVjdGVkXCIpO2lmKEkmJkkuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHJlZU5vZGVJdGVtXCIpKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5UaGVzYXVydXNEaWFsb2dDb21tYW5kLGIuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZC5TZWxlY3RlZE5vZGVDaGFuZ2VkLDAsMCx7d29yZDpJLmRhdGFzZXQud29yZCx0ZXh0OkkuZGF0YXNldC50ZXh0fSk7fX1mdW5jdGlvbiBIKEwpe3ZhciBLLEosSTtMPSEhTDtLPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX3R2U3lub255bXNcIik7Sj1LLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ci50cmVlTm9kZSwgdHI6bm90KFtkYXRhLWNvbGxhcHNlZD1cXCd0cnVlXFwnXSkgKyB0ci50cmVlTm9kZUl0ZW1Db250YWluZXIgdHIudHJlZU5vZGVJdGVtXCIpO2ZvcihJPTA7STxKLmxlbmd0aDsrK0kpe2lmKEpbSV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwic2VsZWN0ZWRcIikpe0pbSV0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO2JyZWFrO319aWYoST09Si5sZW5ndGgpe3JldHVybjt9ST1MPyhJLTEpLm1vZChKLmxlbmd0aCk6KEkrMSkubW9kKEoubGVuZ3RoKTtKW0ldLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTt1KEpbSV0pO319ZnVuY3Rpb24gdShFKXt2YXIgQz1CLmNsaWVudEhlaWdodDt2YXIgRD1FLmNsaWVudEhlaWdodDt2YXIgRj1FLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC13LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtpZihGPEIuc2Nyb2xsVG9wKXtCLnNjcm9sbFRvcD1GLUMrRDt9ZWxzZXtpZigoRitEKT4oQi5zY3JvbGxUb3ArQykpe0Iuc2Nyb2xsVG9wPUY7fX19fTtvLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihwKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlRIRVNBVVJVU19ETEdfTEJMX0ZJTkRfU1lOX0ZPUlwiKS50ZXh0Q29udGVudD1wLlRIRVNBVVJVU19ETEdfTEJMX0ZJTkRfU1lOX0ZPUjtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlRIRVNBVVJVU19ETEdfTEJMX0xBTkdVQUdFXCIpLnRleHRDb250ZW50PXAuVEhFU0FVUlVTX0RMR19MQkxfTEFOR1VBR0U7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJUSEVTQVVSVVNfRExHX0xCTF9TWU5PTllNU1wiKS50ZXh0Q29udGVudD1wLlRIRVNBVVJVU19ETEdfTEJMX1NZTk9OWU1TO3RoaXMubm9BbHRUZXh0PXAuVEhFU0FVUlVTX0RMR19OT19BTFRFUk5BVElWRVM7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMocCk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEK1wiIHNwYW4udHh1aS1idXR0b24tdGV4dFwiKS50ZXh0Q29udGVudD1wLlRIRVNBVVJVU19ETEdfQlROX0lOU0VSVDt9O3JldHVybiBvO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5DbGllbnRQYXN0ZURpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGYsZCk7ZnVuY3Rpb24gZihsKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuQ2xpZW50UGFzdGVEaWFsb2csRWxlbWVudElEOlwiY2xpZW50UGFzdGVEaWFsb2dcIixXaWR0aDozMDAsSGVpZ2h0OjI1NSxUaXRsZVJlc291cmNlTmFtZTpcIkNMSUVOVFBBU1RFX0RJQUxPR19USVRMRVwiLEJ1dHRvbnM6e30sRGlhbG9nRWxlbWVudDpoKCl9O31mdW5jdGlvbiBoKCl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtwLmNsYXNzTGlzdC5hZGQoXCJ0eERpYWxvZ1wiKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uc3R5bGUubWFyZ2luPVwiNXB4IDEwcHggMTBweCAxMHB4XCI7by5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtvLnN0eWxlLmNsZWFyPVwibGVmdFwiO28uc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkICNBQkFCQUJcIjtvLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCI7by5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO28uc3R5bGUucGFkZGluZz1cIjEwcHhcIjt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uY29udGVudEVkaXRhYmxlPXRydWU7bi5zdHlsZS53aWR0aD1cIjIwMHB4XCI7bi5zdHlsZS5oZWlnaHQ9XCIxNTBweFwiO24uc3R5bGUuYm9yZGVyPVwiM3B4IGRhc2hlZCAjYzJjMmMyXCI7bi5zdHlsZS5ib3JkZXJSYWRpdXM9XCIxNXB4XCI7bi5zdHlsZS50ZXh0QWxpZ249XCJjZW50ZXJcIjtuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIndoaXRlXCI7bi5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO24uc3R5bGUuZm9udEZhbWlseT1cIlZlcmRhbmEsIEFyaWFsLCBzYW5zLXNlcmZpYyAhaW1wb3J0YW50XCI7bi5zdHlsZS5jb2xvcj1cIiNjMmMyYzJcIjtuLnN0eWxlLmZvbnRTaXplPVwiMTZweFwiO24uc3R5bGUucGFkZGluZz1cIjEwcHhcIjtuLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cIiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFESUFBQUF5Q0FZQUFBQWVQNGl4QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5RnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU5TMWpNREUwSURjNUxqRTFNVFE0TVN3Z01qQXhNeTh3TXk4eE15MHhNam93T1RveE5TQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTkRJQ2hYYVc1a2IzZHpLU0lnZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRHBCUmpNd00wVkNRall6T0RBeE1VVTBPVFV5UTBWR05qaERNRUUzTVRZME5pSWdlRzF3VFUwNlJHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEcEJSak13TTBWQ1F6WXpPREF4TVVVME9UVXlRMFZHTmpoRE1FRTNNVFkwTmlJK0lEeDRiWEJOVFRwRVpYSnBkbVZrUm5KdmJTQnpkRkpsWmpwcGJuTjBZVzVqWlVsRVBTSjRiWEF1YVdsa09rRkdNekF6UlVJNU5qTTRNREV4UlRRNU5USkRSVVkyT0VNd1FUY3hOalEySWlCemRGSmxaanBrYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2tGR016QXpSVUpCTmpNNE1ERXhSVFE1TlRKRFJVWTJPRU13UVRjeE5qUTJJaTgrSUR3dmNtUm1Pa1JsYzJOeWFYQjBhVzl1UGlBOEwzSmtaanBTUkVZK0lEd3ZlRHA0YlhCdFpYUmhQaUE4UDNod1lXTnJaWFFnWlc1a1BTSnlJajgrRG44Umd3QUFBa2RKUkVGVWVOcnNtczByaEVFY3g4ZDZLd2Zsc0ZGSy9nZVI2QkZ1WHVPZ1JBNE9paUtLaXdNUkJ5ZEZleUF1a3RjVlIwVFVyaFJ5VUlSY0VDY3ZCeUd0MSsvWW40dGtQYy9PekQ2citkV25QZXp6ekR5ZjJkMzUvV1ptSXp3ZUR3c2lZa0FOS0FjWndHbnkvaXV3RFJiQU9QQ1pmUURETUQ1ZkhVRkk4QWMvQnFPZ3lJSUVvM3VLcUkxamF0TlNXQlVwQkJzZ2xZbUxWR3F6VUpWSUlwZ0MwVXg4UkZQYmlTcEVPa0E4a3hmeDFJZFVrVWhReGVSSEZmVWxUU1FKSkNnUVNhQytwSWs0bWJwd3l2Nk4yREswaUJiUklscEVpMmdSTGFKRnRJZ1cwU0phUklzRUdWRWdCV1RST2prMndQWEpDcCt0R3VRR3VNYm45WHB2OExySlJRNUJuQTBIdWMzRXRmZjhxelh5RDc1WmJnZVp6NGF4eERwbzVDSXZ6TDhoTmhhR0VvdWcyRENNeDY5WjZ4WFVndjR3a3BnQVpWemkrL1Q3RGxwQmV4aElEREwvdVl6dnR6elNCK3JBbTAwbE9rRXpEWHpBaE1nUFhpcVloUk1raWNFSHRnSDBtTTNzODZBQTNObEE0aGxVZ2lHckpjb2F5QWZYSVpSNFlQN2pPWGV3dGRZdWxURG5JWkM0cG9GY0VWVTBub0JzY0tCUTRoTGtNUCtwcjlEcTk0SWEzbElnY1FReXFRNlVVc2JmMGtlOUxGRmlod2JzUXZaNmhHZlNVakFqUVdLVkJ1cEsxY0xLUi9XWlM2REVITTFPOTZwWGlEeEJOWUZ1QVJMRGxDY3NKMkFSUzkwdUVySmEwdlNDZWlwY1E3NW1kOUhTOU5ua2ZTM013cDhEWkc4K1RJTVNtZ3orVW5KdzhRRzc3cUx3YVRrdlFFbnpRTFBlcE1pT1pXd0g4VXljRHZaL2VPK01Lb1FsMFozSzJ0YzZwY3pjVDlYekV5ME4wc0NlakE0L0JCZ0EwbHBzOGdTUmZERUFBQUFBU1VWT1JLNUNZSUk9KVwiO24uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD1cIm5vLXJlcGVhdFwiO24uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPVwiY2VudGVyIGJvdHRvbSAzMHB4XCI7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7cC5pZD1cImNsaWVudFBhc3RlRGlhbG9nXCI7by5pZD1cInBhc3RlQXJlYVdyYXBwZXJcIjtuLmlkPVwicGFzdGVBcmVhXCI7bC5pZD1cIkNMSUVOVFBBU1RFX0RJQUxPR19QTEFDRUhMRF9UWFRcIjtwLmFwcGVuZENoaWxkKG0pO20uYXBwZW5kQ2hpbGQobyk7by5hcHBlbmRDaGlsZChuKTtuLmFwcGVuZENoaWxkKGwpO3JldHVybiBwO31mdW5jdGlvbiBpKCl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXN0ZUFyZWFcIik7cmV0dXJuIGwuaW5uZXJIVE1MO31mdW5jdGlvbiBrKCl7dmFyIGw9aSgpO2IucGFzdGVUZXh0KGwsYi5DbGlwYm9hcmREYXRhVHlwZS5IVE1MKTt9Zi5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2IubW9kaWZpZXJLZXlzPTA7fTtmdW5jdGlvbiBlKGwpe2soKTtsLmNsb3NlKGEoXCIjXCIrbC5EaWFsb2dJbmZvLkVsZW1lbnRJRCkpO31mdW5jdGlvbiBqKG4sbCl7aWYoIWIuaGFuZGxlQ2xpZW50UGFzdGUobCxmYWxzZSkpe24uY2xvc2UoYShcIiNcIituLkRpYWxvZ0luZm8uRWxlbWVudElEKSk7cmV0dXJuO312YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3RlQXJlYVwiKTttLmlubmVySFRNTD1cIlwiO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKG4pO30sMTApO3JldHVybiBmYWxzZTt9ZnVuY3Rpb24gZyhtLGwpe2IuaGFuZGxlRHJvcChsKTttLmNsb3NlKGEoXCIjXCIrbS5EaWFsb2dJbmZvLkVsZW1lbnRJRCkpO3JldHVybiBmYWxzZTt9Zi5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24obSl7dmFyIHE9dGhpczt2YXIgbj1hKFwiI2NsaWVudFBhc3RlRGlhbG9nXCIpLG89bi5jc3MoXCJtYXJnaW4tbGVmdFwiKSxsPXt3aWR0aDpuLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpLGNvbG9yOm4uY3NzKFwiYm9yZGVyLWxlZnQtY29sb3JcIiksc3R5bGU6bi5jc3MoXCJib3JkZXItbGVmdC1zdHlsZVwiKX07bi5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIsbC53aWR0aCk7bi5jc3MoXCJib3JkZXItYm90dG9tLWNvbG9yXCIsbC5jb2xvcik7bi5jc3MoXCJib3JkZXItYm90dG9tLXN0eWxlXCIsbC5zdHlsZSk7bi5jc3MoXCJtYXJnaW4tYm90dG9tXCIsbyk7dmFyIHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXN0ZUFyZWFcIik7aWYoIWIuaXNUb3VjaERldmljZSl7cC5mb2N1cygpO31wLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLGZ1bmN0aW9uKHIpe2oocSxyKTt9KTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsZnVuY3Rpb24ocil7ZyhxLHIpO3Iuc3RvcFByb3BhZ2F0aW9uKCk7fSk7cC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsZnVuY3Rpb24ocil7ci5wcmV2ZW50RGVmYXVsdCgpO3Iuc3RvcFByb3BhZ2F0aW9uKCk7fSk7cC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIixmdW5jdGlvbihyKXtyLnByZXZlbnREZWZhdWx0KCk7ci5zdG9wUHJvcGFnYXRpb24oKTtyLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwiY29weVwiO30pO307Zi5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24obCl7YShcIiNDTElFTlRQQVNURV9ESUFMT0dfUExBQ0VITERfVFhUXCIpLnRleHQobC5DTElFTlRQQVNURV9ESUFMT0dfUExBQ0VITERfVFhUKTt9O3JldHVybiBmO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307Yi5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZD17SWdub3JlT25jZToxLElnbm9yZUFsbDoyLEFkZFRvRGljdDozLENoYW5nZTo0LENoYW5nZUFsbDo1LFN1Z2dlc3Rpb25TZWxlY3RlZDo2LFN1Z2dlc3Rpb25EaWN0U2VsZWN0ZWQ6NyxQcmV2aWV3VGV4dENoYW5nZWQ6OH07dmFyIGM9ZmFsc2U7Yi5TcGVsbENoZWNrRGlhbG9nPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoayxmKTtmdW5jdGlvbiBrKGwpe2YuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5TcGVsbENoZWNrRGlhbG9nLEVsZW1lbnRJRDpcInNwZWxsQ2hlY2tEaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIlNQRUxMQ0hFQ0tfRElBTE9HX1RJVExFXCIsQnV0dG9uczp7fX07dGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyQm91bmQ9dGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyLmJpbmQodGhpcyk7dGhpcy5pbml0aWFsU3RhdGU9bDt9ay5wcm90b3R5cGUuYnRuSWdub3JlT25jZUNsaWNrPWZ1bmN0aW9uKGwpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuSWdub3JlT25jZSk7fTtrLnByb3RvdHlwZS5idG5JZ25vcmVBbGxDbGljaz1mdW5jdGlvbihsKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLklnbm9yZUFsbCk7fTtrLnByb3RvdHlwZS5idG5BZGRUb0RpY3RDbGljaz1mdW5jdGlvbihsKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLkFkZFRvRGljdCk7fTtrLnByb3RvdHlwZS5idG5DaGFuZ2VDbGljaz1mdW5jdGlvbihsKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLkNoYW5nZSk7fTtrLnByb3RvdHlwZS5idG5DaGFuZ2VBbGxDbGljaz1mdW5jdGlvbihsKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLkNoYW5nZUFsbCk7fTt2YXIgZT17c3BhbkJlZm9yZTpudWxsLHNwYW5FbXBoOm51bGwsc3BhbkFmdGVyOm51bGwsdGV4dENvbnRlbnQ6XCJcIn07ZnVuY3Rpb24gZyhsKXt2YXIgbTtpZihsLnRhcmdldC5jaGlsZHJlbi5sZW5ndGghPTMpe2wudGFyZ2V0LmlubmVySFRNTD1cIlwiO2wudGFyZ2V0LmFwcGVuZENoaWxkKGUuc3BhbkJlZm9yZSk7bC50YXJnZXQuYXBwZW5kQ2hpbGQoZS5zcGFuRW1waCk7bC50YXJnZXQuYXBwZW5kQ2hpbGQoZS5zcGFuQWZ0ZXIpO3JldHVybjt9dmFyIHI9bC50YXJnZXQuY2hpbGRyZW5bMV0scz1yLnRleHRDb250ZW50LHQ9ZS5zcGFuRW1waC50ZXh0Q29udGVudDtpZihzIT09dCl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQsYi5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZC5QcmV2aWV3VGV4dENoYW5nZWQsMCwwLHMpO31lbHNle3ZhciBwPWwudGFyZ2V0LmNoaWxkcmVuWzBdLG49bC50YXJnZXQuY2hpbGRyZW5bMl0scT1lLnNwYW5CZWZvcmUsbz1lLnNwYW5BZnRlcjtpZihwLnRleHRDb250ZW50IT09cS50ZXh0Q29udGVudCl7cC50ZXh0Q29udGVudD1xLnRleHRDb250ZW50O31lbHNle2lmKG4udGV4dENvbnRlbnQhPT1vLnRleHRDb250ZW50KXtuLnRleHRDb250ZW50PW8udGV4dENvbnRlbnQ7fWVsc2V7aWYobC50YXJnZXQudGV4dENvbnRlbnQhPT1lLnRleHRDb250ZW50KXtsLnRhcmdldC5pbm5lckhUTUw9XCJcIjtsLnRhcmdldC5hcHBlbmRDaGlsZChlLnNwYW5CZWZvcmUpO2wudGFyZ2V0LmFwcGVuZENoaWxkKGUuc3BhbkVtcGgpO2wudGFyZ2V0LmFwcGVuZENoaWxkKGUuc3BhbkFmdGVyKTt9fX19ZS5zcGFuQmVmb3JlPWwudGFyZ2V0LmNoaWxkcmVuWzBdLmNsb25lTm9kZSh0cnVlKTtlLnNwYW5FbXBoPXIuY2xvbmVOb2RlKHRydWUpO2Uuc3BhbkFmdGVyPWwudGFyZ2V0LmNoaWxkcmVuWzJdLmNsb25lTm9kZSh0cnVlKTtlLnRleHRDb250ZW50PWwudGFyZ2V0LnRleHRDb250ZW50O31mdW5jdGlvbiBqKHAsbCl7bC5pbm5lckhUTUw9XCJcIjt2YXIgdD1wLlRleHQ7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7by5zdHlsZS5mb250V2VpZ2h0PVwiYm9sZFwiO28uc3R5bGUuY29sb3I9XCJyZWRcIjtvLmlkPVwidHhTcGVsbERsZ1ByZXZBcmVhRW1waFdvcmRcIjtuLmNvbnRlbnRFZGl0YWJsZT1mYWxzZTttLmNvbnRlbnRFZGl0YWJsZT1mYWxzZTtpZihwLkVtcGhhc2l6ZWRBcmVhU3RhcnQhPT1udWxsKXt2YXIgcz10LnN1YnN0cmluZyhwLkVtcGhhc2l6ZWRBcmVhU3RhcnQscC5FbXBoYXNpemVkQXJlYUVuZCk7by50ZXh0Q29udGVudD1zO3ZhciByPXQuc3Vic3RyaW5nKDAscC5FbXBoYXNpemVkQXJlYVN0YXJ0KTt2YXIgcT10LnN1YnN0cmluZyhwLkVtcGhhc2l6ZWRBcmVhRW5kKTtuLnRleHRDb250ZW50PXI7bS50ZXh0Q29udGVudD1xO31lbHNle20udGV4dENvbnRlbnQ9dDt9bC5hcHBlbmRDaGlsZChuKTtsLmFwcGVuZENoaWxkKG8pO2wuYXBwZW5kQ2hpbGQobSk7ZS5zcGFuQmVmb3JlPW4uY2xvbmVOb2RlKHRydWUpO2Uuc3BhbkVtcGg9by5jbG9uZU5vZGUodHJ1ZSk7ZS5zcGFuQWZ0ZXI9bS5jbG9uZU5vZGUodHJ1ZSk7ZS50ZXh0Q29udGVudD1sLnRleHRDb250ZW50O31rLnByb3RvdHlwZS5hcHBseVByZXZBcmVhU3RhdGU9ZnVuY3Rpb24obSl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tQcmV2aWV3QXJlYVwiKTtpZihtLkFyZWFFbmFibGVkKXtsLmNvbnRlbnRFZGl0YWJsZT10cnVlO31lbHNle2wucmVtb3ZlQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO31pZihtLlRleHQhPT1udWxsKXtqKG0sbCk7fX07ay5wcm90b3R5cGUuc2V0U3VnRGljdHM9ZnVuY3Rpb24ocCl7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tTZWxTdWdnRGljdFwiKTttLmlubmVySFRNTD1cIlwiO2Zvcih2YXIgbj0wO248cC5OYW1lcy5sZW5ndGg7KytuKXt2YXIgbz1wLk5hbWVzW25dO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJPUFRJT05cIik7bC50ZXh0Q29udGVudD1vO2wudmFsdWU9bzttLmFwcGVuZENoaWxkKGwpO31pZihwLlNlbGVjdGVkRGljdCE9PW51bGwpe20udmFsdWU9cC5TZWxlY3RlZERpY3Q7fX07ZnVuY3Rpb24gaChsKXtpZihjKXtyZXR1cm47fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuU3VnZ2VzdGlvbkRpY3RTZWxlY3RlZCwwLDAsbC50YXJnZXQudmFsdWUpO31rLnByb3RvdHlwZS5zZXRTdWdnZXN0aW9ucz1mdW5jdGlvbihuKXt2YXIgbz1uLlN1Z2dlc3Rpb25zO3ZhciBsPW4uTm9TdWdnZXN0aW9uc0NyZWF0ZWQ7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tTZWxTdWdnZXN0aW9uc1wiKTttLmlubmVySFRNTD1cIlwiO2lmKGwpe20uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO31lbHNle20ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7fW8uZm9yRWFjaChmdW5jdGlvbihxKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiT1BUSU9OXCIpO3AudGV4dENvbnRlbnQ9cTttLmFwcGVuZENoaWxkKHApO30pO2lmKCFsKXttLnNlbGVjdGVkSW5kZXg9MDt9fTtmdW5jdGlvbiBpKGwpe2lmKGMpe3JldHVybjt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQsYi5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZC5TdWdnZXN0aW9uU2VsZWN0ZWQsMCwwLGwudGFyZ2V0LnZhbHVlKTt9ay5wcm90b3R5cGUuc2V0QnV0dG9uU3RhdGVzPWZ1bmN0aW9uKHEpe3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfU1BFTExfQlROX0lHTk9SRV9PTkNFXCIpO2lmKHEuQnRuSWdub3JlLlRleHQhPT1udWxsKXtvLnRleHRDb250ZW50PXEuQnRuSWdub3JlLlRleHQ7fWlmKHEuQnRuSWdub3JlLkVuYWJsZWQhPT1udWxsKXtiLmVuYWJsZUJ1dHRvbihvLHEuQnRuSWdub3JlLkVuYWJsZWQpO312YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX1NQRUxMX0JUTl9JR05PUkVfQUxMXCIpO2lmKHEuQnRuSWdub3JlQWxsLkVuYWJsZWQhPT1udWxsKXtiLmVuYWJsZUJ1dHRvbihwLHEuQnRuSWdub3JlQWxsLkVuYWJsZWQpO312YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX1NQRUxMX0JUTl9BRERfVE9fRElDVElPTkFSWVwiKTtpZihxLkJ0bkFkZFRvRGljdC5FbmFibGVkIT09bnVsbCl7Yi5lbmFibGVCdXR0b24obCxxLkJ0bkFkZFRvRGljdC5FbmFibGVkKTt9dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJRF9TUEVMTF9CVE5fQ0hBTkdFXCIpO2lmKHEuQnRuQ2hhbmdlLlRleHQhPT1udWxsKXttLnRleHRDb250ZW50PXEuQnRuQ2hhbmdlLlRleHQ7fWlmKHEuQnRuQ2hhbmdlLkVuYWJsZWQhPT1udWxsKXtiLmVuYWJsZUJ1dHRvbihtLHEuQnRuQ2hhbmdlLkVuYWJsZWQpO312YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX1NQRUxMX0JUTl9DSEFOR0VfQUxMXCIpO2lmKHEuQnRuQ2hhbmdlQWxsLlRleHQhPT1udWxsKXtuLnRleHRDb250ZW50PXEuQnRuQ2hhbmdlQWxsLlRleHQ7fWlmKHEuQnRuQ2hhbmdlQWxsLkVuYWJsZWQhPT1udWxsKXtiLmVuYWJsZUJ1dHRvbihuLHEuQnRuQ2hhbmdlQWxsLkVuYWJsZWQpO319O2sucHJvdG90eXBlLnVwZGF0ZVN1Z0FyZWE9ZnVuY3Rpb24obSl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tTZWxTdWdnRGljdFwiKTtpZihtLkNiU3VnRGljdHNFbmFibGVkKXtsLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO31lbHNle2wuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO319O2sucHJvdG90eXBlLnNldERpYWxvZ1N0YXRlPWZ1bmN0aW9uKG0pe3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhTcGVsbENoZWNrTGJsTGFuZ1wiKTtpZihtLkxibExhbmdUZXh0IT09bnVsbCl7bC50ZXh0Q29udGVudD1tLkxibExhbmdUZXh0O31pZihtLk1lc3NhZ2VCb3hUZXh0IT09bnVsbCl7Yi5qUXVlcnlBbGVydChcIlRYU3BlbGxcIixtLk1lc3NhZ2VCb3hUZXh0KTt9aWYobS5DbG9zZURpYWxvZyl7dGhpcy5jbG9zZShhKFwiI1wiK3RoaXMuRGlhbG9nSW5mby5FbGVtZW50SUQpKTt9fTtrLnByb3RvdHlwZS5hcHBseURpYWxvZ1N0YXRlPWZ1bmN0aW9uKGwpe2M9dHJ1ZTtpZihsLlByZXZpZXchPT1udWxsKXt0aGlzLmFwcGx5UHJldkFyZWFTdGF0ZShsLlByZXZpZXcpO31pZihsLlN1Z0RpY3RzIT09bnVsbCl7dGhpcy5zZXRTdWdEaWN0cyhsLlN1Z0RpY3RzKTt9aWYobC5TdWdnZXN0aW9ucyE9PW51bGwpe3RoaXMuc2V0U3VnZ2VzdGlvbnMobC5TdWdnZXN0aW9ucyk7fWlmKGwuQnV0dG9uU3RhdGVzIT09bnVsbCl7dGhpcy5zZXRCdXR0b25TdGF0ZXMobC5CdXR0b25TdGF0ZXMpO31pZihsLlN1Z2dlc3Rpb25zQXJlYSE9PW51bGwpe3RoaXMudXBkYXRlU3VnQXJlYShsLlN1Z2dlc3Rpb25zQXJlYSk7fWlmKGwuRGlhbG9nU3RhdGUhPT1udWxsKXt0aGlzLnNldERpYWxvZ1N0YXRlKGwuRGlhbG9nU3RhdGUpO31jPWZhbHNlO307ay5wcm90b3R5cGUuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlcj1mdW5jdGlvbihsKXt2YXIgbT1sLmRldGFpbDt0aGlzLmFwcGx5RGlhbG9nU3RhdGUobSk7fTtrLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihsKXthKFwiI0lEX1NQRUxMX0xCTF9OT1RfSU5fRElDVElPTkFSSUVTXCIpLnRleHQobC5JRF9TUEVMTF9MQkxfTk9UX0lOX0RJQ1RJT05BUklFUyk7YShcIiNMQkxfTEFOR1VBR0VcIikudGV4dChsLkxCTF9MQU5HVUFHRSk7YShcIiNJRF9TUEVMTF9CVE5fSUdOT1JFX09OQ0VcIikudGV4dChsLklEX1NQRUxMX0JUTl9JR05PUkVfT05DRSk7YShcIiNJRF9TUEVMTF9CVE5fSUdOT1JFX0FMTFwiKS50ZXh0KGwuSURfU1BFTExfQlROX0lHTk9SRV9BTEwpO2EoXCIjSURfU1BFTExfQlROX0FERF9UT19ESUNUSU9OQVJZXCIpLnRleHQobC5JRF9TUEVMTF9CVE5fQUREX1RPX0RJQ1RJT05BUlkpO2EoXCIjSURfU1BFTExfTEJMX1NVR0dFU1RJT05TXCIpLnRleHQobC5JRF9TUEVMTF9MQkxfU1VHR0VTVElPTlMpO2EoXCIjSURfU1BFTExfQlROX0NIQU5HRVwiKS50ZXh0KGwuSURfU1BFTExfQlROX0NIQU5HRSk7YShcIiNJRF9TUEVMTF9CVE5fQ0hBTkdFX0FMTFwiKS50ZXh0KGwuSURfU1BFTExfQlROX0NIQU5HRV9BTEwpO2EoXCIjSURfU1BFTExfTEJMX1NVR0dFU1RJT05TX0RJQ1RJT05BUllcIikudGV4dChsLklEX1NQRUxMX0xCTF9TVUdHRVNUSU9OU19ESUNUSU9OQVJZKTthKFwiI0lEX1NQRUxMX0JUTl9DQU5DRUxcIikudGV4dChsLklEX1NQRUxMX0JUTl9DQU5DRUwpO307ay5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzcGVsbENoZWNrRGlhbG9nU3RhdGVVcGRhdGVkXCIsdGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyQm91bmQpO307ay5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgcj10aGlzO3ZhciBtPWEoXCIjc3BlbGxDaGVja0RpYWxvZ1wiKSxxPW0uY3NzKFwibWFyZ2luLWxlZnRcIiksbD17d2lkdGg6bS5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSxjb2xvcjptLmNzcyhcImJvcmRlci1sZWZ0LWNvbG9yXCIpLHN0eWxlOm0uY3NzKFwiYm9yZGVyLWxlZnQtc3R5bGVcIil9O20uY3NzKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLGwud2lkdGgpO20uY3NzKFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLGwuY29sb3IpO20uY3NzKFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLGwuc3R5bGUpO20uY3NzKFwibWFyZ2luLWJvdHRvbVwiLHEpO2EoXCIjSURfU1BFTExfQlROX0lHTk9SRV9PTkNFXCIpLmNsaWNrKHIuYnRuSWdub3JlT25jZUNsaWNrKTthKFwiI0lEX1NQRUxMX0JUTl9JR05PUkVfQUxMXCIpLmNsaWNrKHIuYnRuSWdub3JlQWxsQ2xpY2spO2EoXCIjSURfU1BFTExfQlROX0FERF9UT19ESUNUSU9OQVJZXCIpLmNsaWNrKHIuYnRuQWRkVG9EaWN0Q2xpY2spO2EoXCIjSURfU1BFTExfQlROX0NIQU5HRVwiKS5jbGljayhyLmJ0bkNoYW5nZUNsaWNrKTthKFwiI0lEX1NQRUxMX0JUTl9DSEFOR0VfQUxMXCIpLmNsaWNrKHIuYnRuQ2hhbmdlQWxsQ2xpY2spO2EoXCIjSURfU1BFTExfQlROX0NBTkNFTFwiKS5jbGljayhmdW5jdGlvbigpe3IuY2xvc2UoYShcIiNcIityLkRpYWxvZ0luZm8uRWxlbWVudElEKSk7fSk7dGhpcy5hcHBseURpYWxvZ1N0YXRlKHRoaXMuaW5pdGlhbFN0YXRlKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic3BlbGxDaGVja0RpYWxvZ1N0YXRlVXBkYXRlZFwiLHRoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlckJvdW5kKTt2YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1NlbFN1Z2dlc3Rpb25zXCIpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGkpO3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhTcGVsbENoZWNrU2VsU3VnZ0RpY3RcIik7by5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsaCk7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tQcmV2aWV3QXJlYVwiKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGcpO307cmV0dXJuIGs7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkVkZ2VQcmludERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmKXtkLmNhbGwodGhpcyk7dmFyIGc9dGhpczt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5FZGdlUHJpbnREaWFsb2csRWxlbWVudElEOlwiZWRnZVByaW50RGlhbG9nXCIsV2lkdGg6NDAwLFRpdGxlUmVzb3VyY2VOYW1lOlwiRURHRV9QUklOVF9ESUFMT0dfVElUTEVcIixCdXR0b25zOntDYW5jZWw6e3RleHQ6XCJDYW5jZWxcIixjbGljazpmdW5jdGlvbigpe2cuY2xvc2UodGhpcyk7fSxpZDpcImJ0bkNhbmNlbF9cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEfX19O3RoaXMucHJpbnRIYW5kbGVyVXJsPWY7fWUucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKGYpe3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRnZVByaW50RGlhbG9nX2Rvd25sb2FkTGlua1wiKTtnLmRvd25sb2FkPVwicHJpbnRfcmVzdWx0LnBkZlwiO2cuaHJlZj10aGlzLnByaW50SGFuZGxlclVybDt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGgpe3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRURHRV9QUklOVF9ESUFMT0dfVEVYVFwiKTtmLmlubmVySFRNTD1oLkVER0VfUFJJTlRfRElBTE9HX1RFWFQ7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFREdFX1BSSU5UX0RJQUxPR19ET1dOTE9BRF9MSU5LX1RFWFRcIik7Zy5pbm5lckhUTUw9aC5FREdFX1BSSU5UX0RJQUxPR19ET1dOTE9BRF9MSU5LX1RFWFQ7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaCk7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZD17fTtiLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGcsZCk7ZnVuY3Rpb24gZyhoKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nLEVsZW1lbnRJRDpcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiUEVSTUlTU0lPTlNBRERVU0VSX0RMR19USVRMRVwifTt0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZD10aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLnN0YXRlPWg7dGhpcy5yZWdpc3RlcmVkVXNlck5hbWVIaW50VGV4dD1cIlwiO31nLnByb3RvdHlwZS5hcHBseURpYWxvZ1N0YXRlPWZ1bmN0aW9uKHgpe3ZhciB2PXRoaXMsbyxuO3ZhciB5PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX3R4dE5ld1VzZXJcIik7dmFyIGs9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfYnRuRGVsZXRlXCIpO3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2J0bkFkZFwiKTt2YXIgcT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19sYlVzZXJzXCIpO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrdi5kaWFsb2dDb250YWluZXJJRCk7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfY2JSZWdVc2Vyc1wiKTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19yb3dMYmxOZXdVc2VyXCIpO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX3Jvd05ld1VzZXJcIik7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfcm93TGJsUmVnVXNlcnNcIik7dmFyIHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfcm93UmVnVXNlcnNcIik7aWYoeC51c2VyTmFtZSE9PW51bGwpe3kudmFsdWU9eC51c2VyTmFtZTt9aWYoeC51c2VyTmFtZXMpe2koeC51c2VyTmFtZXMpO31pZih4LnJlZ2lzdGVyZWRVc2VyTmFtZXMpe2lmKHgucmVnaXN0ZXJlZFVzZXJOYW1lcy5sZW5ndGgpe2goeC5yZWdpc3RlcmVkVXNlck5hbWVzKTt9ZWxzZXtzLnN0eWxlLmRpc3BsYXk9dS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO319aWYoeC5kZWxldGVCdXR0b24pe2IuZW5hYmxlQnV0dG9uKGsseC5kZWxldGVCdXR0b24uRW5hYmxlZCk7fWlmKHguYWRkQnV0dG9uKXtiLmVuYWJsZUJ1dHRvbihqLHguYWRkQnV0dG9uLkVuYWJsZWQpO31pZih4Lm9rQnV0dG9uKXtiLmVuYWJsZUJ1dHRvbihsLHgub2tCdXR0b24uRW5hYmxlZCk7fWlmKHguc2VsZWN0ZWRJbmRleCE9PW51bGwpe3coeC5zZWxlY3RlZEluZGV4KTt9aWYoKHguYWxsb3dBZGRpdGlvbmFsIT09bnVsbCkmJiF4LmFsbG93QWRkaXRpb25hbCl7ci5zdHlsZS5kaXNwbGF5PXQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9ZnVuY3Rpb24gaShCKXt2YXIgeixBO3EuaW5uZXJIVE1MPVwiXCI7Zm9yKHo9MDt6PEIubGVuZ3RoOysreil7QT1CW3pdO289ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtxLmFwcGVuZENoaWxkKG8pO28uZGF0YXNldC5pbmRleD16O28uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscCk7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtvLmFwcGVuZENoaWxkKG4pO24udGV4dENvbnRlbnQ9QTt9fWZ1bmN0aW9uIHcoeil7ZigpO2lmKHo+LTEpe3ZhciBBPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjcGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2xiVXNlcnMgZGl2XCIpO2lmKHo8QS5sZW5ndGgpe0Fbel0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO319fWZ1bmN0aW9uIHAoeil7ZigpO3ouY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZCxiLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQuU2VsZWN0ZWRJbmRleENoYW5nZWQsMCwwLHtpbmRleDpwYXJzZUludCh6LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleCwxMCl9KTt9ZnVuY3Rpb24gaChBKXt2YXIgejtpZighQS5sZW5ndGgpe3JldHVybjt9ej1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uYXBwZW5kQ2hpbGQoeik7ei5kaXNhYmxlZD10cnVlO3ouc2VsZWN0ZWQ9dHJ1ZTt6LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ei5zdHlsZS5jb2xvcj1cIiNBQUFcIjt6LnRleHRDb250ZW50PXYucmVnaXN0ZXJlZFVzZXJOYW1lSGludFRleHQ7QS5mb3JFYWNoKGZ1bmN0aW9uKEIpe3o9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTttLmFwcGVuZENoaWxkKHopO3oudGV4dENvbnRlbnQ9Qjt9KTttLnNlbGVjdGVkSW5kZXg9MDt9fTtnLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihpKXt2YXIgaD17ZGlhbG9nUmVzdWx0OnRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkRpYWxvZ1Jlc3VsdCxiLkhUTUxEaWFsb2dUeXBlLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZywwLDAsaCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ1VwZGF0ZWRcIix0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZCk7YShpKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX07ZnVuY3Rpb24gZShoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLGIuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZC5EZWxldGVCdXR0b25DbGlja2VkKTt9ZnVuY3Rpb24gZigpe3ZhciBoPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjcGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2xiVXNlcnMgZGl2XCIpO1tdLmZvckVhY2guY2FsbChoLGZ1bmN0aW9uKGkpe2kuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO30pO31nLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBvPXRoaXM7aCgpO3ZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX3R4dE5ld1VzZXJcIik7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfY2JSZWdVc2Vyc1wiKTttLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixuKTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19idG5BZGRcIik7aS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGspO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2J0bkRlbGV0ZVwiKTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHEpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHEpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixzKTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHIpO2kuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaik7dGhpcy5hcHBseURpYWxvZ1N0YXRlKHRoaXMuc3RhdGUpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dVcGRhdGVkXCIsdGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyQm91bmQpO2Z1bmN0aW9uIHEodCl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZCxiLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQuVXNlck5hbWVDaGFuZ2VkLDAsMCx7dXNlck5hbWU6cC52YWx1ZX0pO31mdW5jdGlvbiBzKHQpe3ZhciB1PXQua2V5Q29kZXx8dC53aGljaHx8MDtzd2l0Y2godSl7Y2FzZSBiLktleUNvZGUuRW50ZXI6aWYoIWkuZGlzYWJsZWQpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQsYi5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLkFkZEJ1dHRvbkNsaWNrZWQpO3QucHJldmVudERlZmF1bHQoKTt9YnJlYWs7fX1mdW5jdGlvbiBrKHQpe3ModCk7fWZ1bmN0aW9uIHIoKXtmKCk7Yi5lbmFibGVCdXR0b24obCxmYWxzZSk7fWZ1bmN0aW9uIGoodCl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZCxiLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQuQWRkQnV0dG9uQ2xpY2tlZCk7cC5mb2N1cygpO31mdW5jdGlvbiBoKCl7dmFyIHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dcIikucGFyZW50RWxlbWVudDt2YXIgdT12LnF1ZXJ5U2VsZWN0b3IoXCJkaXYudHh1aS1kaWFsb2ctYnV0dG9ucGFuZSA+IC50eHVpLWRpYWxvZy1idXR0b25zZXRcIik7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTt1LmFwcGVuZENoaWxkKHQpO3QudHlwZT1cImJ1dHRvblwiO3QuaWQ9XCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfYnRuRGVsZXRlXCI7dC5jbGFzc0xpc3QuYWRkKFwidHh1aS1idXR0b25cIik7dC5jbGFzc0xpc3QuYWRkKFwidHh1aS1idXR0b24tdGV4dC1vbmx5XCIpO3QuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGVmYXVsdFwiKTt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt0LmFwcGVuZENoaWxkKHcpO3cuY2xhc3NMaXN0LmFkZChcInR4dWktYnV0dG9uLXRleHRcIik7dy50ZXh0Q29udGVudD1vLnN0cmluZ1Jlc291cmNlcy5QRVJNSVNTSU9OU0FERFVTRVJfRExHX0JUTl9ERUxFVEU7dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlKTt9ZnVuY3Rpb24gbih0KXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLGIuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZC5SZWdpc3RlcmVkVXNlclNlbGVjdGVkLDAsMCx7dXNlck5hbWU6bS52YWx1ZX0pO20uc2VsZWN0ZWRJbmRleD0wO319O2cucHJvdG90eXBlLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXI9ZnVuY3Rpb24oaCl7dGhpcy5hcHBseURpYWxvZ1N0YXRlKGguZGV0YWlsKTt9O2cucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGgpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUEVSTUlTU0lPTlNBRERVU0VSX0RMR19MQkxfTkVXX1VTRVJcIikudGV4dENvbnRlbnQ9aC5QRVJNSVNTSU9OU0FERFVTRVJfRExHX0xCTF9ORVdfVVNFUjtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlBFUk1JU1NJT05TQUREVVNFUl9ETEdfTEJMX1VTRVJTXCIpLnRleHRDb250ZW50PWguUEVSTUlTU0lPTlNBRERVU0VSX0RMR19MQkxfVVNFUlM7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfYnRuQWRkXCIpLnRleHRDb250ZW50PWguUEVSTUlTU0lPTlNBRERVU0VSX0RMR19CVE5fQUREO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUEVSTUlTU0lPTlNBRERVU0VSX0RMR19MQkxfUkVHX1VTRVJTXCIpLnRleHRDb250ZW50PWguUEVSTUlTU0lPTlNBRERVU0VSX0RMR19MQkxfUkVHX1VTRVJTO3RoaXMucmVnaXN0ZXJlZFVzZXJOYW1lSGludFRleHQ9aC5QRVJNSVNTSU9OU0FERFVTRVJfRExHX1JFR19VU0VSU19ISU5UO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGgpO3RoaXMuc3RyaW5nUmVzb3VyY2VzPWg7fTtyZXR1cm4gZzt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nLEVsZW1lbnRJRDpcIm1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19DQVBUSU9OXCJ9O3RoaXMuZm9ybUZpZWxkcz1mLmZvcm1GaWVsZHM7dGhpcy5pbnN0cnVjdGlvbnM9Zi5jb25kaXRpb25hbEluc3RydWN0aW9uczt0aGlzLmRlbGV0ZWQ9W107dGhpcy5kaWFsb2dEYXRhLmRlbGV0ZWQ9W107dGhpcy5kaWFsb2dEYXRhLmluc3RydWN0aW9ucz1udWxsO31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dGhpcy5kaWFsb2dEYXRhLmluc3RydWN0aW9ucz10aGlzLmluc3RydWN0aW9uczt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlZD10aGlzLmRlbGV0ZWQ7fX07ZS5wcm90b3R5cGUucG9wdWxhdGVTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nX3NlbEluc3RydWN0aW9uc1wiKTtoLmlubmVySFRNTD1cIlwiO3RoaXMuaW5zdHJ1Y3Rpb25zLmZvckVhY2goZnVuY3Rpb24oail7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtpLnZhbHVlPWkudGV4dD1pLnRpdGxlPWoubmFtZTtoLmFwcGVuZENoaWxkKGkpO30pO2guc2VsZWN0ZWRJbmRleD0wO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfRURJVFwiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0RFTEVURVwiKTtiLmVuYWJsZUJ1dHRvbihnLCh0aGlzLmluc3RydWN0aW9ucy5sZW5ndGg+MCkpO2IuZW5hYmxlQnV0dG9uKGYsKHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aD4wKSk7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBtPXRoaXM7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYW5hZ2VDb25kaXRpb25hbEluc3RydWN0aW9uc0RpYWxvZ19zZWxJbnN0cnVjdGlvbnNcIik7dGhpcy5wb3B1bGF0ZVNlbGVjdCgpO3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfTkVXXCIpO3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfRURJVFwiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0RFTEVURVwiKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGkpO2ouYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsayk7Zi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixnKTtiLmVuYWJsZUJ1dHRvbihqLCh0aGlzLmZvcm1GaWVsZHMubGVuZ3RoPjApKTtmdW5jdGlvbiBrKG8pe3ZhciBwPW0uaW5zdHJ1Y3Rpb25zLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci5uYW1lO30pO3ZhciBuPW5ldyBiLkNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2cobS5mb3JtRmllbGRzLHAscSk7bi5zaG93TW9kYWwoKTtmdW5jdGlvbiBxKHIpe20uaW5zdHJ1Y3Rpb25zLnB1c2gocik7bS5wb3B1bGF0ZVNlbGVjdCgpO319ZnVuY3Rpb24gaShvKXt2YXIgcD1tLmluc3RydWN0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZTt9KTtpZighbC52YWx1ZSl7cmV0dXJuO312YXIgcj1tLmluc3RydWN0aW9ucy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1sLnZhbHVlO30pO3ZhciBxPWNsb25lT2JqZWN0KHIpO3ZhciBuPW5ldyBiLkNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2cobS5mb3JtRmllbGRzLHAscyxxKTtuLnNob3dNb2RhbCgpO2Z1bmN0aW9uIHModSl7Zm9yKHZhciB0PTA7dDxtLmluc3RydWN0aW9ucy5sZW5ndGg7Kyt0KXtpZihtLmluc3RydWN0aW9uc1t0XS5uYW1lPT09dS5uYW1lT2xkKXttLmRlbGV0ZWQucHVzaCh1Lm5hbWVPbGQpO20uaW5zdHJ1Y3Rpb25zLnNwbGljZSh0LDEsdSk7bS5wb3B1bGF0ZVNlbGVjdCgpO2JyZWFrO319fX1mdW5jdGlvbiBnKG4pe3ZhciBvO2lmKCFsLnZhbHVlKXtyZXR1cm47fWZvcihvPTA7bzxtLmluc3RydWN0aW9ucy5sZW5ndGg7KytvKXt2YXIgcD1tLmluc3RydWN0aW9uc1tvXTtpZihwLm5hbWU9PT1sLnZhbHVlKXttLmRlbGV0ZWQucHVzaChwLm5hbWUpO20uaW5zdHJ1Y3Rpb25zLnNwbGljZShvLDEpO20ucG9wdWxhdGVTZWxlY3QoKTticmVhazt9fX19O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfSVRFTVNcIikudGV4dChmLklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0lURU1TKTthKFwiI0lEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX05FV1wiKS50ZXh0KGYuSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfTkVXKTthKFwiI0lEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0VESVRcIikudGV4dChmLklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0VESVQpO2EoXCIjSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfREVMRVRFXCIpLnRleHQoZi5JRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19ERUxFVEUpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkluc2VydEJvb2ttYXJrRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5JbnNlcnRCb29rbWFya0RpYWxvZyxFbGVtZW50SUQ6XCJpbnNlcnRCb29rbWFya0RpYWxvZ1wiLFdpZHRoOlwiYXV0b1wiLFRpdGxlUmVzb3VyY2VOYW1lOmYuY2FwdGlvblJlc0lEfTt0aGlzLmV4aXN0aW5nPWYuZXhpc3Rpbmc7dGhpcy5lZGl0PWYuZWRpdDt0aGlzLnRhcmdldD0oZi5lZGl0JiYoZi5hdElucHV0UG9zfHxmLmV4aXN0aW5nKSk/Zi5hdElucHV0UG9zfHxmLmV4aXN0aW5nWzBdOnt0YXJnZXROYW1lOlwiXCIsaGFzaENvZGU6MCxkZWxldGVhYmxlOnRydWV9O31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ19jYkRlbGV0ZWFibGVcIik7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ190eHRUYXJnZXROYW1lXCIpO3RoaXMuZGlhbG9nRGF0YS50YXJnZXROYW1lPWcudmFsdWUudHJpbSgpO3RoaXMuZGlhbG9nRGF0YS50YXJnZXRIYXNoQ29kZT10aGlzLnRhcmdldC5oYXNoQ29kZTt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlYWJsZT1mLmNoZWNrZWQ7fX07ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLGg7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ190eHRUYXJnZXROYW1lXCIpO3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zZXJ0Qm9va21hcmtEaWFsb2dfc2VsVGFyZ2V0TmFtZVwiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2NiRGVsZXRlYWJsZVwiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO2wudmFsdWU9dGhpcy50YXJnZXQudGFyZ2V0TmFtZS50cmltKCk7Yi5lbmFibGVCdXR0b24oZiwhIWwudmFsdWUpO2wuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsbSk7bC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbSk7Zy5jaGVja2VkPXRoaXMudGFyZ2V0LmRlbGV0ZWFibGU7dGhpcy5leGlzdGluZy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtoLnRleHQ9bi50YXJnZXROYW1lO2gudmFsdWU9bi5oYXNoQ29kZTtqLmFkZChoKTt9KTtpZih0aGlzLnRhcmdldC5oYXNoQ29kZSl7ai52YWx1ZT10aGlzLnRhcmdldC5oYXNoQ29kZTt9ai5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsayk7ZnVuY3Rpb24gbSgpe2IuZW5hYmxlQnV0dG9uKGYsISFsLnZhbHVlLnRyaW0oKSk7fWZ1bmN0aW9uIGsoKXt2YXIgbj1pLmV4aXN0aW5nLmZpbmQoZnVuY3Rpb24obyl7cmV0dXJuIG8uaGFzaENvZGU9PWoudmFsdWU7fSk7bC52YWx1ZT1uLnRhcmdldE5hbWU7Yi5lbmFibGVCdXR0b24oZik7aWYoaS5lZGl0KXtpLnRhcmdldD1uO2cuY2hlY2tlZD1uLmRlbGV0ZWFibGU7fX19O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGkpe3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zZXJ0Qm9va21hcmtEaWFsb2dfbGJsVGFyZ2V0TmFtZVwiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2xibFNlbFRhcmdldE5hbWVcIik7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ19sYmxEZWxldGVhYmxlXCIpO2guaW5uZXJUZXh0PWkuSURfSU5TRVJUQk9PS01BUktfTkFNRTtnLmlubmVyVGV4dD1pLklEX0lOU0VSVEJPT0tNQVJLX05BTUVTX0lOU0VSVDtmLmlubmVyVGV4dD1pLklEX0lOU0VSVEJPT0tNQVJLX0RFTEVUQUJMRTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhpKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5EZWxldGVCb29rbWFya3NEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkRlbGV0ZUJvb2ttYXJrc0RpYWxvZyxFbGVtZW50SUQ6XCJkZWxldGVCb29rbWFya3NEaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIklEX0RFTEVURUJPT0tNQVJLU19DQVBUSU9OXCJ9O3RoaXMuYm9va21hcmtzPWYuYm9va21hcmtzO3RoaXMuYXRJbnB1dFBvcz1mLmF0SW5wdXRQb3M7dGhpcy5kZWxldGVkSGFzaENvZGVzPVtdO31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dGhpcy5kaWFsb2dEYXRhLmRlbGV0ZWRIYXNoQ29kZXM9dGhpcy5kZWxldGVkSGFzaENvZGVzO319O2UucHJvdG90eXBlLnBvcHVsYXRlU2VsZWN0PWZ1bmN0aW9uKGYpe2YuaW5uZXJIVE1MPVwiXCI7dGhpcy5ib29rbWFya3MuZm9yRWFjaChmdW5jdGlvbihoKXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2cudGV4dD1nLnRpdGxlPWgudGFyZ2V0TmFtZTtnLnZhbHVlPWgudGFyZ2V0SGFzaENvZGU7Zi5hZGQoZyk7fSk7aWYodGhpcy5hdElucHV0UG9zKXtmLnZhbHVlPXRoaXMuYXRJbnB1dFBvcy50YXJnZXRIYXNoQ29kZTt9ZWxzZXtmLnNlbGVjdGVkSW5kZXg9MDt9fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBsPXRoaXM7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVCb29rbWFya3NEaWFsb2dfc2VsQm9va21hcmtzXCIpO3RoaXMucG9wdWxhdGVTZWxlY3Qoaik7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVCb29rbWFya3NEaWFsb2dfYnRuR290b1wiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19idG5EZWxldGVcIik7aC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixpKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGcpO2ouYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGspO2Z1bmN0aW9uIGkoKXtpZihqLnZhbHVlKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Hb1RvSXRlbSxiLkl0ZW1UeXBlLkRvY3VtZW50VGFyZ2V0LDAsMCx7aGFzaGNvZGU6cGFyc2VJbnQoai52YWx1ZSwxMCl9KTt9fWZ1bmN0aW9uIGcoKXt2YXIgbT1wYXJzZUludChqLnZhbHVlLDEwKTtqLnJlbW92ZShqLnNlbGVjdGVkSW5kZXgpO2IuZW5hYmxlQnV0dG9uKGYsZmFsc2UpO2IuZW5hYmxlQnV0dG9uKGgsZmFsc2UpO2lmKCFsLmRlbGV0ZWRIYXNoQ29kZXMuZmluZChmdW5jdGlvbihuKXtyZXR1cm4gbj09bTt9KSl7bC5kZWxldGVkSGFzaENvZGVzLnB1c2gobSk7fX1mdW5jdGlvbiBrKCl7dmFyIG09ai5zZWxlY3RlZEluZGV4Pi0xO2IuZW5hYmxlQnV0dG9uKGYsbSk7Yi5lbmFibGVCdXR0b24oaCxtKTt9fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihpKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19sYmxCb29rbWFya3NcIik7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVCb29rbWFya3NEaWFsb2dfYnRuR290b1wiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19idG5EZWxldGVcIik7aC5pbm5lclRleHQ9aS5JRF9ERUxFVEVCT09LTUFSS1NfTEFCRUw7Zy5pbm5lclRleHQ9aS5JRF9ERUxFVEVCT09LTUFSS1NfR09UTztmLmlubmVyVGV4dD1pLklEX0RFTEVURUJPT0tNQVJLU19ERUxFVEU7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaSk7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkO2IuQWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoZyxmKTtmdW5jdGlvbiBnKGosaSxoKXtmLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuQWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nLEVsZW1lbnRJRDpcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ1wiLFdpZHRoOlwiYXV0b1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfQ0FQVElPTlwifTt0aGlzLmluc3RydWN0aW9uPWk7dGhpcy5maWVsZFR5cGU9aDt0aGlzLl89e307dGhpcy5fLnN1Y2Nlc3NIYW5kbGVyPWo7fWcucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGgpe3RyeXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXtpZih0aGlzLl8uc3VjY2Vzc0hhbmRsZXIpe3RoaXMuXy5zdWNjZXNzSGFuZGxlcih0aGlzLmluc3RydWN0aW9uKTt9fX1maW5hbGx5e2EoaCkuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO319O2cucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIHE9dGhpczt2YXIgbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfbGJsRW5hYmxlRWxzZVBhdGhcIik7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2NiSXNJbml0aWFsXCIpO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19jYlJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlXCIpO3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19jYkVuYWJsZUVsc2VQYXRoXCIpO3ZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nX3NlbEVsc2VWYWx1ZVwiKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ19idG5JdGVtc1wiKTt2YXIgcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ190eHRFbHNlVmFsdWVcIik7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNhZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2cgaW1nLmFib3V0SWNvblwiKTtbXS5mb3JFYWNoLmNhbGwobixmdW5jdGlvbih1KXt1LnNyYz1iLmltYWdlUmVzb3VyY2VzLnNtYWxsLmFib3V0O30pO3N3aXRjaCh0aGlzLmluc3RydWN0aW9uLnR5cGUpe2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0SXRlbXM6by5pbm5lclRleHQ9ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX1NFVElURU1TO2guc3R5bGUuZGlzcGxheT1cIlwiO2IuZW5hYmxlQnV0dG9uKGgsdGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aCk7aC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixpKTticmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldFZhbHVlOnN3aXRjaCh0aGlzLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuQ2hlY2tGb3JtRmllbGQ6YyhwLFt7dGV4dDpkLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0VMU0VfSU5TVFJVQ1RJT05fQ0hFQ0tFRCx2YWx1ZTpcIlRydWVcIn0se3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX1VOQ0hFQ0tFRCx2YWx1ZTpcIkZhbHNlXCJ9XSk7cC52YWx1ZT10aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZTtwLnN0eWxlLmRpc3BsYXk9XCJcIjtwLmRpc2FibGVkPSF0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO2RlZmF1bHQ6cy52YWx1ZT10aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZTtzLmRpc2FibGVkPSF0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO3MuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdCk7cy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdCk7cy5zdHlsZS5kaXNwbGF5PVwiXCI7YnJlYWs7fWJyZWFrO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNFbmFibGVkOmMocCxbe3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX0FMTE9XRklMTElOLHZhbHVlOlwiVHJ1ZVwifSx7dGV4dDpkLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0VMU0VfSU5TVFJVQ1RJT05fREVOWUZJTExJTix2YWx1ZTpcIkZhbHNlXCJ9XSk7cC52YWx1ZT10aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZTtwLnN0eWxlLmRpc3BsYXk9XCJcIjtwLmRpc2FibGVkPSF0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNWYWx1ZVZhbGlkOmMocCxbe3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX1NFVFZBTFVFQVNWQUxJRCx2YWx1ZTpcIlRydWVcIn0se3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX1NFVFZBTFVFQVNJTlZBTElELHZhbHVlOlwiRmFsc2VcIn1dKTtwLnZhbHVlPXRoaXMuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlO3Auc3R5bGUuZGlzcGxheT1cIlwiO3AuZGlzYWJsZWQ9IXRoaXMuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg7YnJlYWs7fWwuY2hlY2tlZD10aGlzLmluc3RydWN0aW9uLmlzSW5pdGlhbDtqLmNoZWNrZWQ9dGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDttLmNoZWNrZWQ9dGhpcy5pbnN0cnVjdGlvbi5yZWFjdHNUb0Zvcm1GaWVsZENoYW5nZTtsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbih1KXtxLmluc3RydWN0aW9uLmlzSW5pdGlhbD1sLmNoZWNrZWQ7fSk7bS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24odSl7cS5pbnN0cnVjdGlvbi5yZWFjdHNUb0Zvcm1GaWVsZENoYW5nZT1tLmNoZWNrZWQ7fSk7ai5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsayk7cC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIscik7ZnVuY3Rpb24gayh1KXtxLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoPWouY2hlY2tlZDtzd2l0Y2gocS5pbnN0cnVjdGlvbi50eXBlKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldEl0ZW1zOmIuZW5hYmxlQnV0dG9uKGgscS5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aCk7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZTpzd2l0Y2gocS5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnAuZGlzYWJsZWQ9IXEuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg7YnJlYWs7ZGVmYXVsdDpzLmRpc2FibGVkPSFxLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO31icmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZDpjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZDpwLmRpc2FibGVkPSFxLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO319ZnVuY3Rpb24gcih1KXtxLmluc3RydWN0aW9uLmVsc2VWYWx1ZT1wLnZhbHVlO31mdW5jdGlvbiB0KHUpe3EuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlPXMudmFsdWUudHJpbSgpO31mdW5jdGlvbiBpKHYpe3ZhciB3PXEuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlfHxbXTt2YXIgeD13LmpvaW4oXCI7XCIpO3ZhciB1PW5ldyBiLklucHV0Qm94RGlhbG9nKGQuVVNSX0lOUF9GT1JNX0ZJRUxEX0lURU1TX1RJVExFLHgsZC5VU1JfSU5QX0ZPUk1fRklFTERfSVRFTVNfTEFCRUwpO3Uuc2hvd01vZGFsKGZ1bmN0aW9uKHkpe3c9eS5zcGxpdChcIjtcIikubWFwKGZ1bmN0aW9uKHope3JldHVybiB6LnRyaW0oKTt9KS5maWx0ZXIoZnVuY3Rpb24oeil7cmV0dXJuICEhejt9KTtxLmluc3RydWN0aW9uLmVsc2VWYWx1ZT13O30pO319O2cucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKG8pe2Q9bzt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfbGJsSW5pdGlhbEluc3RyXCIpO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19sYmxFbmFibGVFbHNlUGF0aFwiKTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfaWNvQWJvdXRJbml0aWFsSW5zdHJcIik7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2xibFJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlXCIpO3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19pY29BYm91dFJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlXCIpO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nX2ljb0Fib3V0VmFsdWVcIik7dmFyIHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2dfdHh0RWxzZVZhbHVlXCIpO3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nX2J0bkl0ZW1zXCIpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKG8pO20uaW5uZXJUZXh0PW8uSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfSVNfSU5JVElBTF9JTlNUUlVDVElPTjtsLmlubmVyVGV4dD1vLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0VMU0VfSU5TVFJVQ1RJT047aS50aXRsZT1vLlRPT0xUSVBfSVNfSU5JVElBTF9JTlNUUlVDVElPTi5yZXBsYWNlKC9cXFxcci9nLFwiXCIpO24uaW5uZXJUZXh0PW8uSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfSEFORExFX0ZPUk1fRklFTERfQ0hBTkdFRDtqLnRpdGxlPW8uVE9PTFRJUF9JU19GT1JNX0ZJRUxEX0NIQU5HRV9JTlNUUlVDVElPTi5yZXBsYWNlKC9cXFxcci9nLFwiXCIpO2sudGl0bGU9by5UT09MVElQX0lTX0VMU0VfSU5TVFJVQ1RJT04ucmVwbGFjZSgvXFxcXHIvZyxcIlwiKTtwLnBsYWNlaG9sZGVyPW8uSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9FTVBUWVZBTFVFO2guaW5uZXJUZXh0PW8uSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9CVVRUT047fTtyZXR1cm4gZzt9KShiLkhUTUxEaWFsb2cpO2Z1bmN0aW9uIGMoZixoKXt2YXIgZztoLmZvckVhY2goZnVuY3Rpb24oaSl7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2cudGV4dD1pLnRleHQ7Zy52YWx1ZT1pLnZhbHVlO2YuYWRkKGcpO30pO31yZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKG4sYSl7dmFyIGI9bi5fcHJpdmF0ZT1uLl9wcml2YXRlfHx7fTt2YXIgbTt2YXIgZzt2YXIgazt2YXIgajt2YXIgcDt2YXIgYzt2YXIgbz1PYmplY3QuZnJlZXplKHtDaGVja1N0YXRlOlwiQ2hlY2tTdGF0ZVwiLE5vVmFsdWU6XCJOb1ZhbHVlXCIsQ3VzdG9tVGV4dDpcIkN1c3RvbVRleHRcIixSZWdleDpcIlJlZ2V4XCIsU3BlY2lmaWNJdGVtOlwiU3BlY2lmaWNJdGVtXCIsQW55SXRlbTpcIkFueUl0ZW1cIixEYXRlOlwiRGF0ZVwiLFllYXI6XCJZZWFyXCIsTW9udGg6XCJNb250aFwiLERheU9mTW9udGg6XCJEYXlPZk1vbnRoXCIsV2Vla2RheTpcIldlZWtkYXlcIn0pO2IuSW5zdHJ1Y3Rpb25UeXBlPU9iamVjdC5mcmVlemUoe0lzRW5hYmxlZDpcIklzRW5hYmxlZFwiLElzVmFsdWVWYWxpZDpcIklzVmFsdWVWYWxpZFwiLFNldFZhbHVlOlwiU2V0VmFsdWVcIixTZXRJdGVtczpcIlNldEl0ZW1zXCIsfSk7dmFyIGQ9e0NoZWNrRm9ybUZpZWxkOltdLFRleHRGb3JtRmllbGQ6W10sU2VsZWN0aW9uRm9ybUZpZWxkOltdLERhdGVGb3JtRmllbGQ6W119O3ZhciBpPXtDaGVja0Zvcm1GaWVsZDpbXSxUZXh0Rm9ybUZpZWxkOltdLFNlbGVjdGlvbkZvcm1GaWVsZDpbXSxEYXRlRm9ybUZpZWxkOltdfTt2YXIgZT1PYmplY3QuZnJlZXplKHtJczpcIklzXCIsSXNBTGlzdEl0ZW06XCJJc0FMaXN0SXRlbVwiLElzTm90OlwiSXNOb3RcIixJc05vdEFMaXN0SXRlbTpcIklzTm90QUxpc3RJdGVtXCIsTWF0Y2hlc1JlZ2V4OlwiTWF0Y2hlc1JlZ2V4XCIsRG9lc05vdE1hdGNoUmVnZXg6XCJEb2VzTm90TWF0Y2hSZWdleFwiLENvbnRhaW5zOlwiQ29udGFpbnNcIixTdGFydHNXaXRoOlwiU3RhcnRzV2l0aFwiLEVuZHNXaXRoOlwiRW5kc1dpdGhcIixEb2VzTm90Q29udGFpbjpcIkRvZXNOb3RDb250YWluXCIsRG9lc05vdFN0YXJ0V2l0aDpcIkRvZXNOb3RTdGFydFdpdGhcIixEb2VzTm90RW5kV2l0aDpcIkRvZXNOb3RFbmRXaXRoXCIsSXNHcmVhdGVyVGhhbjpcIklzR3JlYXRlclRoYW5cIixJc0dyZWF0ZXJUaGFuT3JFcXVhbDpcIklzR3JlYXRlclRoYW5PckVxdWFsXCIsSXNMZXNzVGhhbjpcIklzTGVzc1RoYW5cIixJc0xlc3NUaGFuT3JFcXVhbDpcIklzTGVzc1RoYW5PckVxdWFsXCJ9KTtiLkZvcm1GaWVsZFR5cGU9T2JqZWN0LmZyZWV6ZSh7VGV4dEZvcm1GaWVsZDpcIlRleHRGb3JtRmllbGRcIixDaGVja0Zvcm1GaWVsZDpcIkNoZWNrRm9ybUZpZWxkXCIsU2VsZWN0aW9uRm9ybUZpZWxkOlwiU2VsZWN0aW9uRm9ybUZpZWxkXCIsRGF0ZUZvcm1GaWVsZDpcIkRhdGVGb3JtRmllbGRcIn0pO2IuQ29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZz0oZnVuY3Rpb24ocSl7X19leHRlbmRzKHIscSk7ZnVuY3Rpb24gcih0LHMsdix1KXtxLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuQ29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZyxFbGVtZW50SUQ6XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NBUFRJT05cIn07dGhpcy5pbnN0cnVjdGlvbj11PXV8fHtuYW1lOlwiXCIsbmFtZU9sZDpcIlwiLGNvbmRpdGlvbnM6W251bGxdLGluc3RydWN0aW9uczpbbnVsbF19O3RoaXMuZm9ybUZpZWxkcz10PXR8fFtdO3RoaXMuZXhpc3RpbmdOYW1lcz1zO3RoaXMuY29uZGl0aW9uUm93cz1bXTt0aGlzLmluc3RydWN0aW9uUm93cz1bXTt0aGlzLl89e307dGhpcy5fLnN1Y2Nlc3NIYW5kbGVyPXY7fXIucHJvdG90eXBlLnVwZGF0ZUluc3RydWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHM9dGhpczt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfdHh0TmFtZVwiKTt0aGlzLmluc3RydWN0aW9uLm5hbWU9dC52YWx1ZS50cmltKCk7aWYoIXRoaXMuaW5zdHJ1Y3Rpb24ubmFtZU9sZCl7dGhpcy5pbnN0cnVjdGlvbi5uYW1lT2xkPXRoaXMuaW5zdHJ1Y3Rpb24ubmFtZTt9dGhpcy5pbnN0cnVjdGlvbi5jb25kaXRpb25zPVtdO3RoaXMuY29uZGl0aW9uUm93cy5mb3JFYWNoKGZ1bmN0aW9uKHUpe3MuaW5zdHJ1Y3Rpb24uY29uZGl0aW9ucy5wdXNoKHUuZ2V0SW5mbygpKTt9KTt0aGlzLmluc3RydWN0aW9uLmluc3RydWN0aW9ucz1bXTt0aGlzLmluc3RydWN0aW9uUm93cy5mb3JFYWNoKGZ1bmN0aW9uKHUpe3MuaW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb25zLnB1c2godS5nZXRJbmZvKCkpO30pO307ci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24ocyl7dHJ5e2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMudXBkYXRlSW5zdHJ1Y3Rpb24oKTtpZih0aGlzLl8uc3VjY2Vzc0hhbmRsZXIpe3RoaXMuXy5zdWNjZXNzSGFuZGxlcih0aGlzLmluc3RydWN0aW9uKTt9fX1maW5hbGx5e2EocykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO319O3IucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIHU9dGhpczt0aGlzLnR4dE5hbWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX3R4dE5hbWVcIik7dGhpcy5idG5PSz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO3RoaXMudHh0TmFtZS52YWx1ZT10aGlzLmluc3RydWN0aW9uLm5hbWU7Yi5lbmFibGVCdXR0b24odS5idG5PSywhIXRoaXMuaW5zdHJ1Y3Rpb24ubmFtZSk7dGhpcy50eHROYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix2KTt0aGlzLnR4dE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdik7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2RpdkNvbmRpdGlvbnMgPiB0YWJsZVwiKTt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfZGl2QWN0aW9ucyA+IHRhYmxlXCIpO3RoaXMucG9wdWxhdGVUYWJsZShzLGYsdGhpcy5pbnN0cnVjdGlvbi5jb25kaXRpb25zLHRoaXMuY29uZGl0aW9uUm93cyk7dGhpcy5wb3B1bGF0ZVRhYmxlKHQsaCx0aGlzLmluc3RydWN0aW9uLmluc3RydWN0aW9ucyx0aGlzLmluc3RydWN0aW9uUm93cyk7ZnVuY3Rpb24gdigpe3ZhciB4PXUudHh0TmFtZS52YWx1ZS50cmltKCk7dmFyIHc9KHg9PT11Lmluc3RydWN0aW9uLm5hbWVPbGQpfHwhdS5leGlzdGluZ05hbWVzLmZpbmQoZnVuY3Rpb24oeSl7cmV0dXJuIHk9PT14O30pO2lmKCF3KXt1LnR4dE5hbWUuY2xhc3NMaXN0LmFkZChcImludmFsaWRUZXh0XCIpO3UudHh0TmFtZS50aXRsZT1tLkVSUl9DT05ESVRJT05BTElOU1RSVUNUSU9OX05BTUVfVU5JUVVFTkVTUzt9ZWxzZXt1LnR4dE5hbWUuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWRUZXh0XCIpO3UudHh0TmFtZS50aXRsZT1cIlwiO31pZih3KXt3PSEheDt9Yi5lbmFibGVCdXR0b24odS5idG5PSyx3KTt9fTtyLnByb3RvdHlwZS5wb3B1bGF0ZVRhYmxlPWZ1bmN0aW9uKHUsRCx4LEMpe3ZhciBFPXRoaXMsdix5O2Zvcih2PTA7djx4Lmxlbmd0aDsrK3Ype3ZhciB3PXhbdl07dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO3ZhciBzPWNsb25lT2JqZWN0KHcpO3k9bmV3IEQocyx0aGlzLmZvcm1GaWVsZHMsdCx2PT09MCk7eS5hZGRFdmVudExpc3RlbmVyKFwiaXNWYWxpZENoYW5nZWRcIixBKTt5LmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRCdXR0b25DbGlja2VkXCIseik7eS5hZGRFdmVudExpc3RlbmVyKFwicmVtb3ZlQnV0dG9uQ2xpY2tlZFwiLEIpO0MucHVzaCh5KTt1LmFwcGVuZENoaWxkKHQpO31pZih4Lmxlbmd0aD09PTEpe0NbMF0uaXNSZW1vdmVCdXR0b25FbmFibGVkPWZhbHNlO31mdW5jdGlvbiB6KEYpe3ZhciBHPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTt2YXIgSD1uZXcgRChudWxsLEUuZm9ybUZpZWxkcyxHKTtILmFkZEV2ZW50TGlzdGVuZXIoXCJpc1ZhbGlkQ2hhbmdlZFwiLEEpO0guYWRkRXZlbnRMaXN0ZW5lcihcImFkZEJ1dHRvbkNsaWNrZWRcIix6KTtILmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmVCdXR0b25DbGlja2VkXCIsQik7aWYoQy5sZW5ndGg9PT0xKXtDWzBdLmlzUmVtb3ZlQnV0dG9uRW5hYmxlZD10cnVlO31pZihGLm5leHRTaWJsaW5nKXtmb3Iodj0wO3Y8Qy5sZW5ndGg7Kyt2KXtpZihDW3ZdLnRyPT09Ri5uZXh0U2libGluZyl7Qy5zcGxpY2UodiwwLEgpO2JyZWFrO319dS5pbnNlcnRCZWZvcmUoRyxGLm5leHRTaWJsaW5nKTt9ZWxzZXt1LmFwcGVuZENoaWxkKEcpO0MucHVzaChIKTt9fWZ1bmN0aW9uIEIoRil7Zm9yKHY9MDt2PEMubGVuZ3RoOysrdil7dmFyIEc9Q1t2XS50cjtpZihHPT09Ril7Qy5zcGxpY2UodiwxKTt1LnJlbW92ZUNoaWxkKEcpO2JyZWFrO319aWYoQy5sZW5ndGg9PT0xKXtDWzBdLmlzUmVtb3ZlQnV0dG9uRW5hYmxlZD1mYWxzZTt9aWYoRD09PWYpe0NbMF0ucmVtb3ZlTG9nT3AoKTt9fWZ1bmN0aW9uIEEoRil7Yi5lbmFibGVCdXR0b24oRS5idG5PSyxGKTt9fTtyLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihzKXttPXM7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX05BTUVcIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTkFNRSk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NPTkRJVElPTlNcIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ09ORElUSU9OUyk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0lOU1RSVUNUSU9OU1wiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9JTlNUUlVDVElPTlMpO2EoXCIjSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0ZPUk1GSUVMRFZBTFVFXCIpLnRleHQocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfRk9STUZJRUxEVkFMVUUpO2EoXCIjSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0NPTVBBUklTT05cIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19DT01QQVJJU09OKTthKFwiI0lEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19DT01QQVJFVE9cIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19DT01QQVJFVE8pO2EoXCIjSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9ORk9STUZJRUxEXCIpLnRleHQocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05GT1JNRklFTEQpO2EoXCIjSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRVwiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMocyk7aj1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQU5ELHZhbHVlOlwiQW5kXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX09SLHZhbHVlOlwiT3JcIn0sXTtkLkNoZWNrRm9ybUZpZWxkPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FUVVBTFNUTyx2YWx1ZTplLklzfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9URVFVQUxUTyx2YWx1ZTplLklzTm90fV07ZC5EYXRlRm9ybUZpZWxkPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FUVVBTFNUT0RBVEUsdmFsdWU6ZS5Jc30se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVRVUFMVE9EQVRFLHZhbHVlOmUuSXNOb3R9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTR1JFQVRFUlRIQU5EQVRFLHZhbHVlOmUuSXNHcmVhdGVyVGhhbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNHUkVBVEVSVEhBTk9SRVFVQUxEQVRFLHZhbHVlOmUuSXNHcmVhdGVyVGhhbk9yRXF1YWx9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTTEVTU1RIQU5EQVRFLHZhbHVlOmUuSXNMZXNzVGhhbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNMRVNTVEhBTk9SRVFVQUxEQVRFLHZhbHVlOmUuSXNMZXNzVGhhbk9yRXF1YWx9XTtkLlNlbGVjdGlvbkZvcm1GaWVsZD1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRVFVQUxTVE8sdmFsdWU6ZS5Jc30se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRVFVQUxTVE8rXCIgXCIrKHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0FOWUlURU0rXCJcIilbMF0udG9Mb3dlckNhc2UoKSsocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQU5ZSVRFTStcIlwiKS5zdWJzdHJpbmcoMSksdmFsdWU6ZS5Jc0FMaXN0SXRlbX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVRVUFMVE8sdmFsdWU6ZS5Jc05vdH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVRVUFMVE8rXCIgXCIrKHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0FOWUlURU0rXCJcIilbMF0udG9Mb3dlckNhc2UoKSsocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQU5ZSVRFTStcIlwiKS5zdWJzdHJpbmcoMSksdmFsdWU6ZS5Jc05vdEFMaXN0SXRlbX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTUFUQ0hFU1JFR0VYLHZhbHVlOmUuTWF0Y2hlc1JlZ2V4fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UTUFUQ0hSRUdFWCx2YWx1ZTplLkRvZXNOb3RNYXRjaFJlZ2V4fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19DT05UQUlOUyx2YWx1ZTplLkNvbnRhaW5zfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19TVEFSVFNXSVRILHZhbHVlOmUuU3RhcnRzV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU5EU1dJVEgsdmFsdWU6ZS5FbmRzV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVENPTlRBSU4sdmFsdWU6ZS5Eb2VzTm90Q29udGFpbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVFNUQVJUV0lUSCx2YWx1ZTplLkRvZXNOb3RTdGFydFdpdGh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RPRVNOT1RFTkRXSVRILHZhbHVlOmUuRG9lc05vdEVuZFdpdGh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTR1JFQVRFUlRIQU4sdmFsdWU6ZS5Jc0dyZWF0ZXJUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0dSRUFURVJUSEFOT1JFUVVBTCx2YWx1ZTplLklzR3JlYXRlclRoYW5PckVxdWFsfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0xFU1NUSEFOLHZhbHVlOmUuSXNMZXNzVGhhbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNMRVNTVEhBTk9SRVFVQUwsdmFsdWU6ZS5Jc0xlc3NUaGFuT3JFcXVhbH1dO2QuVGV4dEZvcm1GaWVsZD1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRVFVQUxTVE8sdmFsdWU6ZS5Jc30se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVRVUFMVE8sdmFsdWU6ZS5Jc05vdH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTUFUQ0hFU1JFR0VYLHZhbHVlOmUuTWF0Y2hlc1JlZ2V4fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UTUFUQ0hSRUdFWCx2YWx1ZTplLkRvZXNOb3RNYXRjaFJlZ2V4fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19DT05UQUlOUyx2YWx1ZTplLkNvbnRhaW5zfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19TVEFSVFNXSVRILHZhbHVlOmUuU3RhcnRzV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU5EU1dJVEgsdmFsdWU6ZS5FbmRzV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVENPTlRBSU4sdmFsdWU6ZS5Eb2VzTm90Q29udGFpbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVFNUQVJUV0lUSCx2YWx1ZTplLkRvZXNOb3RTdGFydFdpdGh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RPRVNOT1RFTkRXSVRILHZhbHVlOmUuRG9lc05vdEVuZFdpdGh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTR1JFQVRFUlRIQU4sdmFsdWU6ZS5Jc0dyZWF0ZXJUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0dSRUFURVJUSEFOT1JFUVVBTCx2YWx1ZTplLklzR3JlYXRlclRoYW5PckVxdWFsfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0xFU1NUSEFOLHZhbHVlOmUuSXNMZXNzVGhhbn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNMRVNTVEhBTk9SRVFVQUwsdmFsdWU6ZS5Jc0xlc3NUaGFuT3JFcXVhbH1dO2c9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBVEUsdmFsdWU6by5EYXRlfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ZRUFSLHZhbHVlOm8uWWVhcn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEgsdmFsdWU6by5Nb250aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZNT05USCx2YWx1ZTpvLkRheU9mTW9udGh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFSyx2YWx1ZTpvLldlZWtkYXl9XTtrPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF8wLHZhbHVlOlwiSmFudWFyeVwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF8xLHZhbHVlOlwiRmVicnVhcnlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfMix2YWx1ZTpcIk1hcmNoXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzMsdmFsdWU6XCJBcHJpbFwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF80LHZhbHVlOlwiTWF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzUsdmFsdWU6XCJKdW5lXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzYsdmFsdWU6XCJKdWx5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzcsdmFsdWU6XCJBdWd1c3RcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfOCx2YWx1ZTpcIlNlcHRlbWJlclwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF85LHZhbHVlOlwiT2N0b2JlclwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF8xMCx2YWx1ZTpcIk5vdmVtYmVyXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzExLHZhbHVlOlwiRGVjZW1iZXJcIn1dO3A9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS18wLHZhbHVlOlwiU3VuZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS18xLHZhbHVlOlwiTW9uZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS18yLHZhbHVlOlwiVHVlc2RheVwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19EQVlPRldFRUtfMyx2YWx1ZTpcIldlZG5lc2RheVwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19EQVlPRldFRUtfNCx2YWx1ZTpcIlRodXJzZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS181LHZhbHVlOlwiRnJpZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS182LHZhbHVlOlwiU2F0dXJkYXlcIn1dO2M9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lOU1RSVUNUSU9OX0NIRUNLRUQsdmFsdWU6XCJUcnVlXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lOU1RSVUNUSU9OX1VOQ0hFQ0tFRCx2YWx1ZTpcIkZhbHNlXCJ9XTtpLlRleHRGb3JtRmllbGQ9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9BTExPV0ZJTExJTix2YWx1ZTp7aW5zdHI6Yi5JbnN0cnVjdGlvblR5cGUuSXNFbmFibGVkLHZhbDpcIlRydWVcIn19LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9ERU5ZRklMTElOLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQsdmFsOlwiRmFsc2VcIn19LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9TRVRORVdWQUxVRSx2YWx1ZTp7aW5zdHI6Yi5JbnN0cnVjdGlvblR5cGUuU2V0VmFsdWV9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfU0VUVkFMVUVBU1ZBTElELHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQsdmFsOlwiVHJ1ZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX1NFVFZBTFVFQVNJTlZBTElELHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQsdmFsOlwiRmFsc2VcIn19XTtpLlNlbGVjdGlvbkZvcm1GaWVsZD1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX0FMTE9XRklMTElOLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQsdmFsOlwiVHJ1ZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX0RFTllGSUxMSU4sdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZCx2YWw6XCJGYWxzZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX1NFVE5FV1ZBTFVFLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZX19LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9TRVRORVdJVEVNUyx2YWx1ZTp7aW5zdHI6Yi5JbnN0cnVjdGlvblR5cGUuU2V0SXRlbXN9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfU0VUVkFMVUVBU1ZBTElELHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQsdmFsOlwiVHJ1ZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX1NFVFZBTFVFQVNJTlZBTElELHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQsdmFsOlwiRmFsc2VcIn19XTtpLkNoZWNrRm9ybUZpZWxkPWkuRGF0ZUZvcm1GaWVsZD1pLlRleHRGb3JtRmllbGQ7fTtyZXR1cm4gcjt9KShiLkhUTUxEaWFsb2cpO3ZhciBsPShmdW5jdGlvbigpe2Z1bmN0aW9uIHEocix0LHMpe3RoaXMuZm9ybUZpZWxkcz1yO3RoaXMuaXNGaXJzdFJvdz1zfHxmYWxzZTt0aGlzLnRyPXQ7dGhpcy5maWVsZD1udWxsO3RoaXMuXz17ZXZlbnRMaXN0ZW5lcnM6e30saXNWYWxpZDp0cnVlfTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KHEucHJvdG90eXBlLFwiaXNWYWxpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmlzVmFsaWQ7fSxzZXQ6ZnVuY3Rpb24ocil7aWYociE9PXRoaXMuXy5pc1ZhbGlkKXt0aGlzLl8uaXNWYWxpZD1yO3RoaXMuZmlyZUlzVmFsaWRDaGFuZ2VkRXZlbnQoKTt9fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtxLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHMscil7aWYoIXRoaXMuXy5ldmVudExpc3RlbmVyc1tzXSl7dGhpcy5fLmV2ZW50TGlzdGVuZXJzW3NdPVtdO310aGlzLl8uZXZlbnRMaXN0ZW5lcnNbc10ucHVzaChyKTt9O3EucHJvdG90eXBlLmZpcmVFdmVudD1mdW5jdGlvbihzLHIpe3ZhciB0PXRoaXMuXy5ldmVudExpc3RlbmVyc1tzXTtpZih0KXt0LmZvckVhY2goZnVuY3Rpb24odSl7dShyKTt9KTt9fTtxLnByb3RvdHlwZS5maXJlSXNWYWxpZENoYW5nZWRFdmVudD1mdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KFwiaXNWYWxpZENoYW5nZWRcIix0aGlzLl8uaXNWYWxpZCk7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocS5wcm90b3R5cGUsXCJpc0FkZEJ1dHRvbkVuYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy50ci5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuQWRkXCIpO3JldHVybiAhci5kaXNhYmxlZDt9LHNldDpmdW5jdGlvbihzKXt2YXIgcj10aGlzLnRyLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5BZGRcIik7Yi5lbmFibGVCdXR0b24ocixzKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShxLnByb3RvdHlwZSxcImlzUmVtb3ZlQnV0dG9uRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLnRyLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5SZW1cIik7cmV0dXJuICFyLmRpc2FibGVkO30sc2V0OmZ1bmN0aW9uKHMpe3ZhciByPXRoaXMudHIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiKTtiLmVuYWJsZUJ1dHRvbihyLHMpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7cS5wcm90b3R5cGUuYWRkRmllbGROYW1lU2VsZWN0PWZ1bmN0aW9uKHIscyl7dmFyIHUsdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLHg9dGhpczt0aGlzLmZvcm1GaWVsZHMuZm9yRWFjaChmdW5jdGlvbih5KXt1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7dS50ZXh0PXkubmFtZTt1LnZhbHVlPXkuaGFzaENvZGU7di5hZGQodSk7fSk7dGhpcy5maWVsZD10KHMpO3YudmFsdWU9czt2LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix3KTt0aGlzLnRyLmNlbGxzW3JdLmFwcGVuZENoaWxkKHYpO2Z1bmN0aW9uIHcoeSl7dmFyIEE9cGFyc2VJbnQodi52YWx1ZSwxMCk7dmFyIHo9dChBKTt4LmZpZWxkPXo7eC5yZXNldCgpO3guYWRkRmllbGREZXRhaWxzKCk7fWZ1bmN0aW9uIHQoeil7dmFyIHk9eC5mb3JtRmllbGRzLmZpbmQoZnVuY3Rpb24oQSl7cmV0dXJuIEEuaGFzaENvZGU9PT16O30pO2lmKCF5KXt0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCB3aXRoIGhhc2ggY29kZSBcXCdcIit6K1wiXFwnIG5vdCBmb3VuZC5cIik7fXJldHVybiB5O319O3EucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O3EucHJvdG90eXBlLmFkZEZpZWxkRGV0YWlscz1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJOT1QgSU1QTEVNRU5URURcIik7fTtxLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJOT1QgSU1QTEVNRU5URURcIik7fTtxLnByb3RvdHlwZS5nZXRJbmZvPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O3JldHVybiBxO30pKCk7dmFyIGY9KGZ1bmN0aW9uKHEpe19fZXh0ZW5kcyhzLHEpO2Z1bmN0aW9uIHMoeixBLEQsQil7cS5jYWxsKHRoaXMsQSxELEIpO3ZhciBDPXRoaXM7dGhpcy5jb25kaXRpb249ej16fHx7ZmllbGRIYXNoQ29kZTpBWzBdLmhhc2hDb2RlLHZhbHVlOlwiXCIsY29tcE9wOmQuVGV4dEZvcm1GaWVsZFswXS52YWx1ZSxjb21wT3BJbnRlcm5hbDpkLlRleHRGb3JtRmllbGRbMF0udmFsdWUsbG9nT3A6alswXS52YWx1ZSx2YWx1ZVR5cGU6by5Ob1ZhbHVlfTtELmlubmVySFRNTD1cIjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPlwiO0QuY2VsbHNbNV0uaW5uZXJIVE1MPVxcJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5BZGRcIj7inpVcXFxcdUZFMEU8L2J1dHRvbj5cXCc7RC5jZWxsc1s2XS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiPuKellxcXFx1RkUwRTwvYnV0dG9uPlxcJzt2YXIgdj1ELnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5BZGRcIik7di5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix3KTt2YXIgeD1ELnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5SZW1cIik7eC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix5KTtpZighQil7cihELmNlbGxzWzBdLHoubG9nT3ApO310aGlzLmFkZEZpZWxkTmFtZVNlbGVjdCgxLHouZmllbGRIYXNoQ29kZSk7dGhpcy5hZGRGaWVsZERldGFpbHMoKTtmdW5jdGlvbiB3KCl7Qy5maXJlRXZlbnQoXCJhZGRCdXR0b25DbGlja2VkXCIsQy50cik7fWZ1bmN0aW9uIHkoKXtDLmZpcmVFdmVudChcInJlbW92ZUJ1dHRvbkNsaWNrZWRcIixDLnRyKTt9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImxvZ2ljYWxPcGVyYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdj10aGlzLnRyLmNlbGxzWzBdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIik7cmV0dXJuIHY/di52YWx1ZTpqWzBdLnZhbHVlO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwiY29tcGFyaXNvbk9wZXJhdG9yXCIse2dldDpmdW5jdGlvbigpe3ZhciB2PXRoaXMudHIuY2VsbHNbMl0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS52YWx1ZTtzd2l0Y2godil7Y2FzZSBlLk1hdGNoZXNSZWdleDpjYXNlIGUuSXNBTGlzdEl0ZW06cmV0dXJuIGUuSXM7Y2FzZSBlLkRvZXNOb3RNYXRjaFJlZ2V4OmNhc2UgZS5Jc05vdEFMaXN0SXRlbTpyZXR1cm4gZS5Jc05vdDtkZWZhdWx0OnJldHVybiB2O319LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImNvbXBhcmlzb25PcGVyYXRvckludGVybmFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyLmNlbGxzWzJdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIikudmFsdWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJjb21wYXJpc29uVmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHYsdztzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkRhdGVGb3JtRmllbGQ6dj0odGhpcy5jb21wYXJpc29uVmFsdWVUeXBlIT09by5Ob1ZhbHVlKT80Om51bGw7YnJlYWs7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuQ2hlY2tGb3JtRmllbGQ6c3dpdGNoKHRoaXMuY29tcGFyaXNvbk9wZXJhdG9yKXtjYXNlIGUuSXM6cmV0dXJuXCJUcnVlXCI7Y2FzZSBlLklzTm90OnJldHVyblwiRmFsc2VcIjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2hlY2sgZm9ybSBmaWVsZCBjb21wYXJpc29uIG9wZXJhdG9yIFxcJ1wiK3RoaXMuY29tcGFyaXNvbk9wZXJhdG9yK1wiXFwnLiBBIGNoZWNrIGZvcm0gZmllbGQgb25seSBhbGxvd3MgdGhlIG9wZXJhdG9ycyBcXCdJc1xcJyBhbmQgXFwnSXNOb3RcXCcuXCIpO31kZWZhdWx0OnY9MzticmVhazt9aWYoIXYpe3JldHVybiBudWxsO313PXRoaXMudHIuY2VsbHNbdl0ucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO2lmKCF3KXt3PXRoaXMudHIuY2VsbHNbdl0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKTt9cmV0dXJuIHcudmFsdWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJjb21wYXJpc29uVmFsdWVUeXBlXCIse2dldDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuRGF0ZUZvcm1GaWVsZDpyZXR1cm4gdGhpcy50ci5jZWxsc1szXS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpLnZhbHVlO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnJldHVybiBvLkNoZWNrU3RhdGU7ZGVmYXVsdDpzd2l0Y2godGhpcy5jb21wYXJpc29uT3BlcmF0b3JJbnRlcm5hbCl7Y2FzZSBlLk1hdGNoZXNSZWdleDpjYXNlIGUuRG9lc05vdE1hdGNoUmVnZXg6cmV0dXJuIG8uUmVnZXg7Y2FzZSBlLklzQUxpc3RJdGVtOmNhc2UgZS5Jc05vdEFMaXN0SXRlbTpyZXR1cm4gby5BbnlJdGVtO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY29tcGFyaXNvblZhbHVlPT09XCJcIj9vLk5vVmFsdWU6by5DdXN0b21UZXh0O31icmVhazt9fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtzLnByb3RvdHlwZS5hZGRGaWVsZERldGFpbHM9ZnVuY3Rpb24oKXt0aGlzLnRyLmNlbGxzWzJdLmlubmVySFRNTD1cIlwiO3RoaXMudHIuY2VsbHNbM10uaW5uZXJIVE1MPVwiXCI7dGhpcy50ci5jZWxsc1s0XS5pbm5lckhUTUw9XCJcIjtzd2l0Y2godGhpcy5jb25kaXRpb24udmFsdWVUeXBlKXtjYXNlIG8uQ2hlY2tTdGF0ZTp0aGlzLmNoZWNrU3RhdGUoKTticmVhaztjYXNlIG8uTm9WYWx1ZTp0aGlzLm5vVmFsdWUoKTticmVhaztjYXNlIG8uU3BlY2lmaWNJdGVtOnRoaXMuY29uZGl0aW9uLnZhbHVlVHlwZT1vLkN1c3RvbVRleHQ7Y2FzZSBvLkN1c3RvbVRleHQ6Y2FzZSBvLkFueUl0ZW06dGhpcy5jdXN0b21UZXh0KCk7YnJlYWs7Y2FzZSBvLlJlZ2V4OnRoaXMuY3VzdG9tVGV4dCgpO2JyZWFrO2Nhc2Ugby5EYXRlOnRoaXMuZGF0ZSgpO2JyZWFrO2Nhc2Ugby5ZZWFyOnRoaXMueWVhcigpO2JyZWFrO2Nhc2Ugby5Nb250aDp0aGlzLm1vbnRoKCk7YnJlYWs7Y2FzZSBvLkRheU9mTW9udGg6dGhpcy5kYXlPZk1vbnRoKCk7YnJlYWs7Y2FzZSBvLldlZWtkYXk6dGhpcy53ZWVrZGF5KCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbmRpdGlvbiB2YWx1ZSB0eXBlIFxcJ1wiK3RoaXMuY29uZGl0aW9uLnZhbHVlVHlwZStcIlxcJy5cIik7fX07ZnVuY3Rpb24gcih4LHYpe3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7ai5mb3JFYWNoKGZ1bmN0aW9uKHkpe3ZhciB6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7ei50ZXh0PXkudGV4dDt6LnZhbHVlPXkudmFsdWU7dy5hZGQoeik7fSk7dy52YWx1ZT12O3guYXBwZW5kQ2hpbGQodyk7fXMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIHk9dGhpczt0aGlzLmNvbmRpdGlvbi5maWVsZEhhc2hDb2RlPXRoaXMuZmllbGQuaGFzaENvZGU7c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5UZXh0Rm9ybUZpZWxkOnooKTticmVhaztjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp2KCk7YnJlYWs7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuU2VsZWN0aW9uRm9ybUZpZWxkOngoKTticmVhaztjYXNlIGIuRm9ybUZpZWxkVHlwZS5EYXRlRm9ybUZpZWxkOncoKTticmVhazt9ZnVuY3Rpb24geigpe3kuY29uZGl0aW9uLnZhbHVlPVwiXCI7eS5jb25kaXRpb24uY29tcE9wPXkuY29uZGl0aW9uLmNvbXBPcEludGVybmFsPWQuVGV4dEZvcm1GaWVsZFswXS52YWx1ZTt5LmNvbmRpdGlvbi52YWx1ZVR5cGU9by5Ob1ZhbHVlO31mdW5jdGlvbiB2KCl7eS5jb25kaXRpb24udmFsdWU9Y1swXS52YWx1ZTt5LmNvbmRpdGlvbi5jb21wT3A9eS5jb25kaXRpb24uY29tcE9wSW50ZXJuYWw9ZC5DaGVja0Zvcm1GaWVsZFswXS52YWx1ZTt5LmNvbmRpdGlvbi52YWx1ZVR5cGU9by5DaGVja1N0YXRlO31mdW5jdGlvbiB4KCl7eS5jb25kaXRpb24udmFsdWU9XCJcIjt5LmNvbmRpdGlvbi5jb21wT3A9eS5jb25kaXRpb24uY29tcE9wSW50ZXJuYWw9ZC5TZWxlY3Rpb25Gb3JtRmllbGRbMF0udmFsdWU7eS5jb25kaXRpb24udmFsdWVUeXBlPW8uTm9WYWx1ZTt9ZnVuY3Rpb24gdygpe3ZhciBBPW5ldyBEYXRlKCk7eS5jb25kaXRpb24udmFsdWU9QS50b0xvY2FsZURhdGVTdHJpbmcoYi5nZXRDdWx0dXJlcygpLmN1bHR1cmUpO3kuY29uZGl0aW9uLmNvbXBPcD15LmNvbmRpdGlvbi5jb21wT3BJbnRlcm5hbD1kLkRhdGVGb3JtRmllbGRbMF0udmFsdWU7eS5jb25kaXRpb24udmFsdWVUeXBlPW8uRGF0ZTt9dGhpcy5pc1ZhbGlkPXRydWU7fTtzLnByb3RvdHlwZS5yZW1vdmVMb2dPcD1mdW5jdGlvbigpe3RoaXMudHIuY2VsbHNbMF0uaW5uZXJIVE1MPVwiXCI7dGhpcy5jb25kaXRpb24ubG9nT3A9alswXS52YWx1ZTt9O3MucHJvdG90eXBlLmFkZENvbXBPcHM9ZnVuY3Rpb24odil7dmFyIHo9dGhpcyx3LHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTt2LmZvckVhY2goZnVuY3Rpb24oQSl7dz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3cudGV4dD1BLnRleHQ7dy52YWx1ZT1BLnZhbHVlO3guYWRkKHcpO30pO3gudmFsdWU9dGhpcy5jb25kaXRpb24uY29tcE9wSW50ZXJuYWw7eC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIseSk7dGhpcy50ci5jZWxsc1syXS5hcHBlbmRDaGlsZCh4KTtmdW5jdGlvbiB5KEIpe3ZhciBBPXgudmFsdWUsRD1vLkN1c3RvbVRleHQ7ei5jb25kaXRpb24uY29tcE9wSW50ZXJuYWw9QTt2YXIgQz16LnRyLmNlbGxzWzNdLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPXRleHRdXCIpO2lmKCFDKXt0aHJvdyBuZXcgRXJyb3IoXCJcXCdDb21wYXJpc29uIHZhbHVlXFwnIHRleHRib3ggbm90IGZvdW5kLlwiKTt9c3dpdGNoKEEpe2Nhc2UgZS5NYXRjaGVzUmVnZXg6QT1lLklzO0Q9by5SZWdleDticmVhaztjYXNlIGUuRG9lc05vdE1hdGNoUmVnZXg6QT1lLklzTm90O0Q9by5SZWdleDticmVhaztjYXNlIGUuSXNBTGlzdEl0ZW06QT1lLklzO0Q9by5BbnlJdGVtO2JyZWFrO2Nhc2UgZS5Jc05vdEFMaXN0SXRlbTpBPWUuSXNOb3Q7RD1vLkFueUl0ZW07YnJlYWs7ZGVmYXVsdDppZigoei5jb25kaXRpb24udmFsdWVUeXBlPT09by5SZWdleCl8fCh6LmNvbmRpdGlvbi52YWx1ZVR5cGU9PT1vLkFueUl0ZW0pKXtEPW8uQ3VzdG9tVGV4dDt9YnJlYWs7fWlmKEQ9PT1vLkFueUl0ZW0pe0MudmFsdWU9XCJcIjtDLmRpc2FibGVkPXRydWU7fWVsc2V7Qy5kaXNhYmxlZD1mYWxzZTt9ei5jb25kaXRpb24uY29tcE9wPUE7ei5jb25kaXRpb24udmFsdWVUeXBlPUQ7ei52YWxpZGF0ZSgpO319O3MucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5UZXh0Rm9ybUZpZWxkOmNhc2UgYi5Gb3JtRmllbGRUeXBlLlNlbGVjdGlvbkZvcm1GaWVsZDp0aGlzLnZhbGlkYXRlQ3VzdG9tVGV4dCgpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnRoaXMudmFsaWRhdGVDaGVja1N0YXRlKCk7YnJlYWs7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuRGF0ZUZvcm1GaWVsZDp0aGlzLnZhbGlkYXRlRGF0ZSgpO2JyZWFrO319O3MucHJvdG90eXBlLnZhbGlkYXRlQ3VzdG9tVGV4dD1mdW5jdGlvbigpe3ZhciB2PXRoaXMudHIuY2VsbHNbM10ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9dGV4dF1cIik7aWYoIXYpe3Rocm93IG5ldyBFcnJvcihcIlRleHRib3ggbm90IGZvdW5kLiBDYW5ub3QgdmFsaWRhdGUgcm93LlwiKTt9dGhpcy5pc1ZhbGlkPXUodix0aGlzLmNvbmRpdGlvbi52YWx1ZVR5cGUsdGhpcy5jb25kaXRpb24uY29tcE9wKTt9O3MucHJvdG90eXBlLnZhbGlkYXRlQ2hlY2tTdGF0ZT1mdW5jdGlvbigpe3RoaXMuaXNWYWxpZD10cnVlO307cy5wcm90b3R5cGUudmFsaWRhdGVEYXRlPWZ1bmN0aW9uKCl7fTtzLnByb3RvdHlwZS5jaGVja1N0YXRlPWZ1bmN0aW9uKCl7dGhpcy5hZGRDb21wT3BzKGQuQ2hlY2tGb3JtRmllbGQpO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt2LnR5cGU9XCJ0ZXh0XCI7di5kaXNhYmxlZD10cnVlO3YudmFsdWU9bS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQ0hFQ0tFRDt0aGlzLnRyLmNlbGxzWzNdLmFwcGVuZENoaWxkKHYpO307cy5wcm90b3R5cGUubm9WYWx1ZT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuVGV4dEZvcm1GaWVsZDpjYXNlIGIuRm9ybUZpZWxkVHlwZS5TZWxlY3Rpb25Gb3JtRmllbGQ6dGhpcy5jdXN0b21UZXh0KCk7YnJlYWs7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuQ2hlY2tGb3JtRmllbGQ6dGhpcy5jaGVja1N0YXRlKCk7YnJlYWs7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuRGF0ZUZvcm1GaWVsZDp0aGlzLmRhdGUoKTticmVhazt9fTtzLnByb3RvdHlwZS5hZGREYXRlUGlja2VyQ29tcFZhbFR5cGVzPWZ1bmN0aW9uKCl7dmFyIHk9dGhpcyx2LHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di50ZXh0PW0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VNUFRZVkFMVUU7di52YWx1ZT1vLk5vVmFsdWU7dy5hZGQodik7Zy5mb3JFYWNoKGZ1bmN0aW9uKHope3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LnRleHQ9ei50ZXh0O3YudmFsdWU9ei52YWx1ZTt3LmFkZCh2KTt9KTt3LnZhbHVlPXRoaXMuY29uZGl0aW9uLnZhbHVlVHlwZTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix4KTt0aGlzLnRyLmNlbGxzWzNdLmFwcGVuZENoaWxkKHcpO2Z1bmN0aW9uIHgoeil7dmFyIEE9bmV3IERhdGUoKTt5LnRyLmNlbGxzWzRdLmlubmVySFRNTD1cIlwiO3N3aXRjaCh3LnZhbHVlKXtjYXNlIG8uTm9WYWx1ZTp5LmNvbmRpdGlvbi52YWx1ZT1udWxsO2JyZWFrO2Nhc2Ugby5EYXRlOnkuY29uZGl0aW9uLnZhbHVlPUEudG9Mb2NhbGVEYXRlU3RyaW5nKGIuZ2V0Q3VsdHVyZXMoKS5jdWx0dXJlKTt5LmFkZERhdGVWYWx1ZShtLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTVBUWVZBTFVFKTticmVhaztjYXNlIG8uWWVhcjp5LmNvbmRpdGlvbi52YWx1ZT1BLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTt5LmFkZERhdGVWYWx1ZShtLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTVBUWVZBTFVFKTticmVhaztjYXNlIG8uTW9udGg6eS5jb25kaXRpb24udmFsdWU9a1swXS52YWx1ZTt5LmFkZE1vbnRocygpO2JyZWFrO2Nhc2Ugby5EYXlPZk1vbnRoOnkuY29uZGl0aW9uLnZhbHVlPVwiMVwiO3kuYWRkRGF5c09mTW9udGgoKTticmVhaztjYXNlIG8uV2Vla2RheTp5LmNvbmRpdGlvbi52YWx1ZT1wWzBdLnZhbHVlO3kuYWRkV2Vla2RheXMoKTticmVhazt9fX07cy5wcm90b3R5cGUuYWRkRGF0ZVZhbHVlPWZ1bmN0aW9uKHYpe2lmKHRoaXMuY29uZGl0aW9uLnZhbHVlPT09bnVsbCl7cmV0dXJuO312YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dy50eXBlPVwidGV4dFwiO3cucGxhY2Vob2xkZXI9djt3LnZhbHVlPXRoaXMuY29uZGl0aW9uLnZhbHVlP3RoaXMuY29uZGl0aW9uLnZhbHVlLnRyaW0oKTpcIlwiO3RoaXMudHIuY2VsbHNbNF0uYXBwZW5kQ2hpbGQodyk7fTtzLnByb3RvdHlwZS5kYXRlPWZ1bmN0aW9uKCl7dGhpcy5hZGRDb21wT3BzKGQuRGF0ZUZvcm1GaWVsZCk7dGhpcy5hZGREYXRlUGlja2VyQ29tcFZhbFR5cGVzKCk7dGhpcy5hZGREYXRlVmFsdWUobS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRSk7fTtzLnByb3RvdHlwZS55ZWFyPWZ1bmN0aW9uKCl7dGhpcy5hZGRDb21wT3BzKGQuRGF0ZUZvcm1GaWVsZCk7dGhpcy5hZGREYXRlUGlja2VyQ29tcFZhbFR5cGVzKCk7dGhpcy5hZGREYXRlVmFsdWUobS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRSk7fTtzLnByb3RvdHlwZS5hZGRNb250aHM9ZnVuY3Rpb24oKXt2YXIgdix3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7ay5mb3JFYWNoKGZ1bmN0aW9uKHgpe3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LnRleHQ9eC50ZXh0O3YudmFsdWU9eC52YWx1ZTt3LmFkZCh2KTt9KTt3LnZhbHVlPXRoaXMuY29uZGl0aW9uLnZhbHVlO3RoaXMudHIuY2VsbHNbNF0uYXBwZW5kQ2hpbGQodyk7fTtzLnByb3RvdHlwZS5tb250aD1mdW5jdGlvbigpe3RoaXMuYWRkQ29tcE9wcyhkLkRhdGVGb3JtRmllbGQpO3RoaXMuYWRkRGF0ZVBpY2tlckNvbXBWYWxUeXBlcygpO3RoaXMuYWRkTW9udGhzKCk7fTtzLnByb3RvdHlwZS5hZGREYXlzT2ZNb250aD1mdW5jdGlvbigpe3ZhciB3LHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtmb3IodmFyIHY9MTt2PDMyOysrdil7dz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3cudGV4dD13LnZhbHVlPXY7eC5hZGQodyk7fXgudmFsdWU9dGhpcy5jb25kaXRpb24udmFsdWU7dGhpcy50ci5jZWxsc1s0XS5hcHBlbmRDaGlsZCh4KTt9O3MucHJvdG90eXBlLmRheU9mTW9udGg9ZnVuY3Rpb24oKXt0aGlzLmFkZENvbXBPcHMoZC5EYXRlRm9ybUZpZWxkKTt0aGlzLmFkZERhdGVQaWNrZXJDb21wVmFsVHlwZXMoKTt0aGlzLmFkZERheXNPZk1vbnRoKCk7fTtzLnByb3RvdHlwZS5hZGRXZWVrZGF5cz1mdW5jdGlvbigpe3ZhciB2LHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtwLmZvckVhY2goZnVuY3Rpb24oeCl7dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3YudGV4dD14LnRleHQ7di52YWx1ZT14LnZhbHVlO3cuYWRkKHYpO30pO3cudmFsdWU9dGhpcy5jb25kaXRpb24udmFsdWU7dGhpcy50ci5jZWxsc1s0XS5hcHBlbmRDaGlsZCh3KTt9O3MucHJvdG90eXBlLndlZWtkYXk9ZnVuY3Rpb24oKXt0aGlzLmFkZENvbXBPcHMoZC5EYXRlRm9ybUZpZWxkKTt0aGlzLmFkZERhdGVQaWNrZXJDb21wVmFsVHlwZXMoKTt0aGlzLmFkZFdlZWtkYXlzKCk7fTtmdW5jdGlvbiB0KHcpe2lmKCF3KXtyZXR1cm4gZmFsc2U7fXRyeXt2YXIgeD1uZXcgUmVnRXhwKHcpO3JldHVybiB0cnVlO31jYXRjaCh2KXtyZXR1cm4gZmFsc2U7fX1mdW5jdGlvbiB1KHgseSx2KXt2YXIgdztzd2l0Y2goeSl7Y2FzZSBvLlJlZ2V4Onc9dCh4LnZhbHVlKTticmVhaztkZWZhdWx0OnN3aXRjaCh2KXtjYXNlIGUuSXM6Y2FzZSBlLklzTm90Onc9dHJ1ZTticmVhaztkZWZhdWx0Onc9KHgudmFsdWUhPT1cIlwiKTticmVhazt9YnJlYWs7fWlmKHcpe3guY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWRUZXh0XCIpO31lbHNle3guY2xhc3NMaXN0LmFkZChcImludmFsaWRUZXh0XCIpO31yZXR1cm4gdzt9cy5wcm90b3R5cGUuYWRkQ3VzdG9tVGV4dFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHY9dGhpczt0aGlzLnRyLmNlbGxzWzNdLmlubmVySFRNTD1cIlwiO3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt3LnR5cGU9XCJ0ZXh0XCI7dy5wbGFjZWhvbGRlcj1tLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTVBUWVZBTFVFO3cuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIseCk7dy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIseCk7dy52YWx1ZT10aGlzLmNvbmRpdGlvbi52YWx1ZT90aGlzLmNvbmRpdGlvbi52YWx1ZS50cmltKCk6XCJcIjt0aGlzLnRyLmNlbGxzWzNdLmFwcGVuZENoaWxkKHcpO2lmKHRoaXMuY29uZGl0aW9uLnZhbHVlVHlwZT09PW8uQW55SXRlbSl7dy5kaXNhYmxlZD10cnVlO31mdW5jdGlvbiB4KHkpe3YuaXNWYWxpZD11KHcsdi5jb25kaXRpb24udmFsdWVUeXBlLHYuY29uZGl0aW9uLmNvbXBPcCk7fX07cy5wcm90b3R5cGUuY3VzdG9tVGV4dD1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuU2VsZWN0aW9uRm9ybUZpZWxkOnRoaXMuYWRkQ29tcE9wcyhkLlNlbGVjdGlvbkZvcm1GaWVsZCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmFkZENvbXBPcHMoZC5UZXh0Rm9ybUZpZWxkKTticmVhazt9dGhpcy5hZGRDdXN0b21UZXh0VmFsdWUoKTt9O3MucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oKXtyZXR1cm57ZmllbGRIYXNoQ29kZTp0aGlzLmZpZWxkLmhhc2hDb2RlLGxvZ09wOnRoaXMubG9naWNhbE9wZXJhdG9yLGNvbXBPcDp0aGlzLmNvbXBhcmlzb25PcGVyYXRvcixjb21wT3BJbnRlcm5hbDp0aGlzLmNvbXBhcmlzb25PcGVyYXRvckludGVybmFsLHZhbHVlOnRoaXMuY29tcGFyaXNvblZhbHVlLHZhbHVlVHlwZTp0aGlzLmNvbXBhcmlzb25WYWx1ZVR5cGV9O307cmV0dXJuIHM7fShsKSk7dmFyIGg9KGZ1bmN0aW9uKHEpe19fZXh0ZW5kcyhyLHEpO2Z1bmN0aW9uIHIoeix5LEIpe3EuY2FsbCh0aGlzLHksQik7dmFyIEE9dGhpczt0aGlzLmluc3RydWN0aW9uPXo9enx8e2ZpZWxkSGFzaENvZGU6eVswXS5oYXNoQ29kZSx0eXBlOmIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZCx2YWx1ZTpcIlRydWVcIixlbHNlVmFsdWU6XCJGYWxzZVwiLGlzSW5pdGlhbDp0cnVlLGhhc0Vsc2VQYXRoOnRydWUscmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U6dHJ1ZX07Qi5pbm5lckhUTUw9XCI8dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD5cIjtCLmNlbGxzWzNdLmlubmVySFRNTD1cXCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuU2V0dGluZ3NcIj4mbmJzcDs8L2J1dHRvbj5cXCc7Qi5jZWxsc1s0XS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0bkFkZFwiPuKelVxcXFx1RkUwRTwvYnV0dG9uPlxcJztCLmNlbGxzWzVdLmlubmVySFRNTD1cXCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuUmVtXCI+4p6WXFxcXHVGRTBFPC9idXR0b24+XFwnO3ZhciB3PUIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blNldHRpbmdzXCIpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIseCk7dmFyIHM9Qi5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuQWRkXCIpO3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCk7dmFyIHU9Qi5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuUmVtXCIpO3UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdik7dy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIrYi5pbWFnZVJlc291cmNlcy5zbWFsbC5hZHZhbmNlZFNldHRpbmdzK1wiKVwiO3RoaXMuYWRkRmllbGROYW1lU2VsZWN0KDAsei5maWVsZEhhc2hDb2RlKTt0aGlzLmFkZEZpZWxkRGV0YWlscygpO2Z1bmN0aW9uIHgoKXt2YXIgRD1jbG9uZU9iamVjdCh6KTt2YXIgQz1uZXcgYi5BZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2coRSxELEEuZmllbGQuZmllbGRUeXBlKTtDLnNob3dNb2RhbCgpO2Z1bmN0aW9uIEUoRil7QS5pbnN0cnVjdGlvbi5pc0luaXRpYWw9Ri5pc0luaXRpYWw7QS5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9Ri5lbHNlVmFsdWU7QS5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aD1GLmhhc0Vsc2VQYXRoO0EuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U9Ri5yZWFjdHNUb0Zvcm1GaWVsZENoYW5nZTt9fWZ1bmN0aW9uIHQoKXtBLmZpcmVFdmVudChcImFkZEJ1dHRvbkNsaWNrZWRcIixBLnRyKTt9ZnVuY3Rpb24gdigpe0EuZmlyZUV2ZW50KFwicmVtb3ZlQnV0dG9uQ2xpY2tlZFwiLEEudHIpO319T2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiaW5zdHJ1Y3Rpb25UeXBlXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHIuY2VsbHNbMV0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS52YWx1ZTt2YXIgcz1KU09OLnBhcnNlKHQpO3JldHVybiBzLmluc3RyO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiaW5zdHJ1Y3Rpb25WYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdj10aGlzLnRyLmNlbGxzWzFdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIikudmFsdWU7dmFyIHM9SlNPTi5wYXJzZSh2KTtpZihzLnZhbCl7cmV0dXJuIHMudmFsO31zd2l0Y2godGhpcy5pbnN0cnVjdGlvblR5cGUpe2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0SXRlbXM6cmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb24udmFsdWU7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZTpzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnZhciB0PXRoaXMudHIuY2VsbHNbMl0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKTtpZighdCl7dGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgZHJvcCBkb3duIGVsZW1lbnQgbm90IGZvdW5kLlwiKTt9cmV0dXJuIHQudmFsdWU7ZGVmYXVsdDp2YXIgdT10aGlzLnRyLmNlbGxzWzJdLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPXRleHRdXCIpO2lmKCF1KXt0aHJvdyBuZXcgRXJyb3IoXCJWYWx1ZSB0ZXh0Ym94IG5vdCBmb3VuZC5cIik7fXJldHVybiB1LnZhbHVlO319dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnN0cnVjdGlvbiB0eXBlIFxcJ1wiK3RoaXMuaW5zdHJ1Y3Rpb25UeXBlK1wiXFwnLlwiKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO3IucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5pbnN0cnVjdGlvbi5maWVsZEhhc2hDb2RlPXRoaXMuZmllbGQuaGFzaENvZGU7dGhpcy5yZXNldEluc3RydWN0aW9uKCk7fTtyLnByb3RvdHlwZS5yZXNldEluc3RydWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbnN0cnVjdGlvbi50eXBlPWIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZDt0aGlzLmluc3RydWN0aW9uLnZhbHVlPVwiVHJ1ZVwiO3RoaXMucmVzZXRBZGRpdGlvbmFsU2V0dGluZ3MoKTt9O3IucHJvdG90eXBlLnJlc2V0QWRkaXRpb25hbFNldHRpbmdzPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuaW5zdHJ1Y3Rpb24udHlwZSl7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQ6Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQ6dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9KHRoaXMuaW5zdHJ1Y3Rpb24udmFsdWU9PT1cIlRydWVcIik/XCJGYWxzZVwiOlwiVHJ1ZVwiO3RoaXMuaW5zdHJ1Y3Rpb24uaXNJbml0aWFsPXRydWU7dGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aD10cnVlO3RoaXMuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U9dHJ1ZTticmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldEl0ZW1zOmNhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0VmFsdWU6c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp0aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZT0odGhpcy5pbnN0cnVjdGlvbi52YWx1ZT09PVwiVHJ1ZVwiKT9cIkZhbHNlXCI6XCJUcnVlXCI7YnJlYWs7ZGVmYXVsdDp0aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZT1udWxsO2JyZWFrO310aGlzLmluc3RydWN0aW9uLmlzSW5pdGlhbD10cnVlO3RoaXMuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg9ZmFsc2U7dGhpcy5pbnN0cnVjdGlvbi5yZWFjdHNUb0Zvcm1GaWVsZENoYW5nZT10cnVlO2JyZWFrO319O3IucHJvdG90eXBlLmFkZEZpZWxkRGV0YWlscz1mdW5jdGlvbigpe3RoaXMudHIuY2VsbHNbMV0uaW5uZXJIVE1MPVwiXCI7dGhpcy50ci5jZWxsc1syXS5pbm5lckhUTUw9XCJcIjt0aGlzLmFkZEluc3RydWN0aW9ucygpO3N3aXRjaCh0aGlzLmluc3RydWN0aW9uLnR5cGUpe2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0SXRlbXM6dGhpcy5hZGRGaWVsZERldGFpbHNfc2V0SXRlbXMoKTticmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldFZhbHVlOnRoaXMuYWRkRmllbGREZXRhaWxzX3NldFZhbHVlKCk7YnJlYWs7fX07ci5wcm90b3R5cGUuYWRkSW5zdHJ1Y3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHk9dGhpcyx2LHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSx0LHM9ZmFsc2U7dmFyIHU9aVt0aGlzLmZpZWxkLmZpZWxkVHlwZV07dS5mb3JFYWNoKGZ1bmN0aW9uKEEpe3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LnRleHQ9QS50ZXh0O3YudmFsdWU9SlNPTi5zdHJpbmdpZnkoQS52YWx1ZSk7dy5hZGQodik7fSk7Zm9yKHQ9MDt0PHUubGVuZ3RoOysrdCl7dj13Lm9wdGlvbnNbdF07dmFyIHo9SlNPTi5wYXJzZSh2LnZhbHVlKTtpZih6Lmluc3RyPT09dGhpcy5pbnN0cnVjdGlvbi50eXBlKXtzd2l0Y2godGhpcy5pbnN0cnVjdGlvbi50eXBlKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZDpjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZDppZih0aGlzLmluc3RydWN0aW9uLnZhbHVlPT09ei52YWwpe3cuc2VsZWN0ZWRJbmRleD10O3M9dHJ1ZTt9YnJlYWs7ZGVmYXVsdDp3LnNlbGVjdGVkSW5kZXg9dDtzPXRydWU7YnJlYWs7fX1pZihzKXticmVhazt9fXcuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHgpO3RoaXMudHIuY2VsbHNbMV0uYXBwZW5kQ2hpbGQodyk7ZnVuY3Rpb24geChBKXt2YXIgQj1KU09OLnBhcnNlKHcudmFsdWUpO3kudHIuY2VsbHNbMl0uaW5uZXJIVE1MPVwiXCI7eS5pbnN0cnVjdGlvbi50eXBlPUIuaW5zdHI7c3dpdGNoKEIuaW5zdHIpe2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNFbmFibGVkOmNhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNWYWx1ZVZhbGlkOnkuaW5zdHJ1Y3Rpb24udmFsdWU9Qi52YWw7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRJdGVtczp5Lmluc3RydWN0aW9uLnZhbHVlPVtdO3kuYWRkRmllbGREZXRhaWxzX3NldEl0ZW1zKCk7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZTpzd2l0Y2goeS5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnkuaW5zdHJ1Y3Rpb24udmFsdWU9Y1swXS52YWx1ZTticmVhaztkZWZhdWx0OnkuaW5zdHJ1Y3Rpb24udmFsdWU9XCJcIjticmVhazt9eS5hZGRGaWVsZERldGFpbHNfc2V0VmFsdWUoKTticmVhazt9eS5yZXNldEFkZGl0aW9uYWxTZXR0aW5ncygpO319O3IucHJvdG90eXBlLmFkZEZpZWxkRGV0YWlsc19zZXRJdGVtcz1mdW5jdGlvbigpe3ZhciB1PXRoaXM7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtzLnR5cGU9XCJidXR0b25cIjtzLnRleHRDb250ZW50PW0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9CVE5fUk9XX0lOU1RSVUNUSU9OX1NQRUNJRllJVEVNUztzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpO3RoaXMudHIuY2VsbHNbMl0uYXBwZW5kQ2hpbGQocyk7ZnVuY3Rpb24gdCgpe3ZhciB3PXUuaW5zdHJ1Y3Rpb24udmFsdWUuam9pbihcIjtcIik7dmFyIHY9bmV3IGIuSW5wdXRCb3hEaWFsb2cobS5VU1JfSU5QX0ZPUk1fRklFTERfSVRFTVNfVElUTEUsdyxtLlVTUl9JTlBfRk9STV9GSUVMRF9JVEVNU19MQUJFTCk7di5zaG93TW9kYWwoZnVuY3Rpb24oeSl7dmFyIHg9eS5zcGxpdChcIjtcIikubWFwKGZ1bmN0aW9uKHope3JldHVybiB6LnRyaW0oKTt9KS5maWx0ZXIoZnVuY3Rpb24oeil7cmV0dXJuICEhejt9KTt1Lmluc3RydWN0aW9uLnZhbHVlPXg7fSk7fX07ci5wcm90b3R5cGUuYWRkRmllbGREZXRhaWxzX3NldFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHUsdyxzLHQ9dGhpcztzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtjLmZvckVhY2goZnVuY3Rpb24oeSl7cz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3MudGV4dD15LnRleHQ7cy52YWx1ZT15LnZhbHVlO3UuYWRkKHMpO30pO3UuY2xhc3NMaXN0LmFkZChcInNlbEluc3RydWN0aW9uVmFsdWVcIik7dS52YWx1ZT10aGlzLmluc3RydWN0aW9uLnZhbHVlO3UuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHYpO3RoaXMudHIuY2VsbHNbMl0uYXBwZW5kQ2hpbGQodSk7YnJlYWs7ZGVmYXVsdDp3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt3LnR5cGU9XCJ0ZXh0XCI7dy52YWx1ZT10aGlzLmluc3RydWN0aW9uLnZhbHVlO3cucGxhY2Vob2xkZXI9bS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRTt3LmNsYXNzTGlzdC5hZGQoXCJ0eHRJbnN0cnVjdGlvblZhbHVlXCIpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIseCk7dy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIseCk7dGhpcy50ci5jZWxsc1syXS5hcHBlbmRDaGlsZCh3KTticmVhazt9ZnVuY3Rpb24geCh5KXt0Lmluc3RydWN0aW9uLnZhbHVlPXcudmFsdWUudHJpbSgpO31mdW5jdGlvbiB2KHkpe3QuaW5zdHJ1Y3Rpb24udmFsdWU9dS52YWx1ZTt0Lmluc3RydWN0aW9uLmVsc2VWYWx1ZT0odS52YWx1ZT09PVwiVHJ1ZVwiKT9cIkZhbHNlXCI6XCJUcnVlXCI7fX07ci5wcm90b3R5cGUuZ2V0SW5mbz1mdW5jdGlvbigpe3JldHVybntmaWVsZEhhc2hDb2RlOnRoaXMuZmllbGQuaGFzaENvZGUsdHlwZTp0aGlzLmluc3RydWN0aW9uVHlwZSx2YWx1ZTp0aGlzLmluc3RydWN0aW9uVmFsdWUsZWxzZVZhbHVlOnRoaXMuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlLGlzSW5pdGlhbDp0aGlzLmluc3RydWN0aW9uLmlzSW5pdGlhbCxoYXNFbHNlUGF0aDp0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoLHJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlOnRoaXMuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2V9O307cmV0dXJuIHI7fShsKSk7cmV0dXJuIG47fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5GaWVsZERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmLGcpe2QuY2FsbCh0aGlzKTt0aGlzLmZpZWxkQWRhcHRlcj1mO3RoaXMudGV4dEZpZWxkPWd8fG51bGw7dGhpcy5maWVsZERhdGFSZWNlaXZlZEhhbmRsZXJCb3VuZD10aGlzLmZpZWxkRGF0YVJlY2VpdmVkSGFuZGxlci5iaW5kKHRoaXMpO31lLnByb3RvdHlwZS5maWVsZERhdGFSZWNlaXZlZEhhbmRsZXI9ZnVuY3Rpb24oZil7dmFyIGg9Zi5kZXRhaWwuZmllbGRUeXBlLGc9Zi5kZXRhaWwuZmllbGQ7aWYoIWd8fChoIT10aGlzLkRpYWxvZ0luZm8uRmllbGRUeXBlKSl7cmV0dXJuO310aGlzLnNldFZhbHVlcyhnKTt9O2UucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihnKXtpZih0aGlzLnRleHRGaWVsZCl7dmFyIGY9e3VwZGF0ZWRWYWx1ZXM6dGhpcy5nZXRWYWx1ZXMoKSx0ZXh0RmllbGQ6dGhpcy50ZXh0RmllbGR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlVwZGF0ZUZpZWxkLHRoaXMuRGlhbG9nSW5mby5GaWVsZFR5cGUsMCwwLGYpO31lbHNle2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkluc2VydEl0ZW0sYi5JdGVtVHlwZS5GaWVsZEFkYXB0ZXIsdGhpcy5EaWFsb2dJbmZvLkZpZWxkVHlwZSwwLHRoaXMuZ2V0VmFsdWVzKCkpO310aGlzLmNsb3NlKGcpO307ZS5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbihmKXtpZighdGhpcy5maWVsZEFkYXB0ZXIpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmaWVsZERhdGFSZWNlaXZlZFwiLHRoaXMuZmllbGREYXRhUmVjZWl2ZWRIYW5kbGVyQm91bmQpO319O2UucHJvdG90eXBlLmRpYWxvZ2l6ZV9iYXNlPWUucHJvdG90eXBlLmRpYWxvZ2l6ZTtlLnByb3RvdHlwZS5kaWFsb2dpemU9ZnVuY3Rpb24oZil7dGhpcy5kaWFsb2dpemVfYmFzZShmKTtpZighdGhpcy5maWVsZEFkYXB0ZXIpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmaWVsZERhdGFSZWNlaXZlZFwiLHRoaXMuZmllbGREYXRhUmVjZWl2ZWRIYW5kbGVyQm91bmQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldEl0ZW0sYi5JdGVtVHlwZS5GaWVsZEFkYXB0ZXIpO31lbHNle3RoaXMuc2V0VmFsdWVzKHRoaXMuZmllbGRBZGFwdGVyKTt9fTtlLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7fTtlLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm57fTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5JZkZpZWxkRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYsZyl7ZC5jYWxsKHRoaXMsZixnKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5JZkZpZWxkRGlhbG9nLEZpZWxkVHlwZTpiLkZpZWxkVHlwZS5JZkZpZWxkLEVsZW1lbnRJRDpcImlmRmllbGREaWFsb2dcIixXaWR0aDozODUsVGl0bGVSZXNvdXJjZU5hbWU6XCJJRl9GSUVMRF9ESUFMT0dfVElUTEVcIn07fWUucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbihmKXthKFwiI3R4dEZpZWxkTmFtZVwiKS52YWwoZi5FeHByZXNzaW9uMSk7YShcIiN0eHRDb21wYXJlVG9cIikudmFsKGYuRXhwcmVzc2lvbjIpO2EoXCIjdHh0SW5zZXJ0VGhpc1wiKS52YWwoZi5UcnVlVGV4dCk7YShcIiN0eHRPdGhlcndpc2VcIikudmFsKGYuRmFsc2VUZXh0KTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElmRmxkT3BlcmF0b3JzXCIpLnNlbGVjdGVkSW5kZXg9Zi5PcGVyYXRvcjt9O2UucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3ZhciBmPXtFeHByZXNzaW9uMTphKFwiI3R4dEZpZWxkTmFtZVwiKS52YWwoKSxFeHByZXNzaW9uMjphKFwiI3R4dENvbXBhcmVUb1wiKS52YWwoKSxUcnVlVGV4dDphKFwiI3R4dEluc2VydFRoaXNcIikudmFsKCksRmFsc2VUZXh0OmEoXCIjdHh0T3RoZXJ3aXNlXCIpLnZhbCgpLE9wZXJhdG9yOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWZGbGRPcGVyYXRvcnNcIikuc2VsZWN0ZWRJbmRleH07cmV0dXJuIGY7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0lGX0ZJRUxEX0dST1VQX0JPWCA+IGxlZ2VuZFwiKS50ZXh0KGYuSUZfRklFTERfR1JPVVBfQk9YKTthKFwiI0lGX0ZJRUxEX0xBQkVMX05BTUVcIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX05BTUUpO2EoXCIjSUZfRklFTERfTEFCRUxfQ09NUEFSSVNPTlwiKS50ZXh0KGYuSUZfRklFTERfTEFCRUxfQ09NUEFSSVNPTik7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9FUVVBTFNcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0VRVUFMUyk7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9OT1RfRVFVQUxcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX05PVF9FUVVBTCk7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9MRVNTXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9MRVNTKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVJcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVIpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fR1JFQVRFUl9PUl9FUVVBTFwiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fR1JFQVRFUl9PUl9FUVVBTCk7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9MRVNTX09SX0VRVUFMXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9MRVNTX09SX0VRVUFMKTthKFwiI0lGX0ZJRUxEX0xBQkVMX0NPTVBBUkVfVE9cIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX0NPTVBBUkVfVE8pO2EoXCIjSUZfRklFTERfTEFCRUxfSU5TRVJUX1RISVNcIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX0lOU0VSVF9USElTKTthKFwiI0lGX0ZJRUxEX0xBQkVMX09USEVSV0lTRVwiKS50ZXh0KGYuSUZfRklFTERfTEFCRUxfT1RIRVJXSVNFKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O3JldHVybiBlO30pKGIuRmllbGREaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWVyZ2VGaWVsZERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmLGcpe2QuY2FsbCh0aGlzLGYsZyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuTWVyZ2VGaWVsZERpYWxvZyxGaWVsZFR5cGU6Yi5GaWVsZFR5cGUuTWVyZ2VGaWVsZCxFbGVtZW50SUQ6XCJtZXJnZUZpZWxkRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJNRVJHRUZJRUxEX0RJQUxPR19USVRMRVwiLH07fWUucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbihmKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dEZpZWxkTmFtZVwiKS52YWx1ZT1mLk5hbWU7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNZXJnZUZpZWxkRm9ybWF0XCIpLnNlbGVjdGVkSW5kZXg9Zi5UZXh0Rm9ybWF0O2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0VGV4dEJlZm9yZVwiKS52YWx1ZT1mLlRleHRCZWZvcmU7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRUZXh0QmVmb3JlXCIpLmRpc2FibGVkPShmLlRleHRCZWZvcmUubGVuZ3RoPT0wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1RleHRCZWZvcmVcIikuY2hlY2tlZD0oZi5UZXh0QmVmb3JlLmxlbmd0aD4wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFRleHRBZnRlclwiKS52YWx1ZT1mLlRleHRBZnRlcjtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFRleHRBZnRlclwiKS5kaXNhYmxlZD0oZi5UZXh0QWZ0ZXIubGVuZ3RoPT0wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1RleHRBZnRlclwiKS5jaGVja2VkPShmLlRleHRBZnRlci5sZW5ndGg+MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHREYXRlVGltZUZvcm1hdFwiKS52YWx1ZT1mLkRhdGVUaW1lRm9ybWF0O2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0RGF0ZVRpbWVGb3JtYXRcIikuZGlzYWJsZWQ9KGYuRGF0ZVRpbWVGb3JtYXQubGVuZ3RoPT0wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0RhdGVUaW1lRm9ybWF0XCIpLmNoZWNrZWQ9KGYuRGF0ZVRpbWVGb3JtYXQubGVuZ3RoPjApO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0TnVtZXJpY0Zvcm1hdFwiKS52YWx1ZT1mLk51bWVyaWNGb3JtYXQ7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHROdW1lcmljRm9ybWF0XCIpLmRpc2FibGVkPShmLk51bWVyaWNGb3JtYXQubGVuZ3RoPT0wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa051bWVyaWNGb3JtYXRcIikuY2hlY2tlZD0oZi5OdW1lcmljRm9ybWF0Lmxlbmd0aD4wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1ByZXNlcnZlRm9ybWF0XCIpLmNoZWNrZWQ9KGYuUHJlc2VydmVGb3JtYXR0aW5nKTt9O2UucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3ZhciBmPXtOYW1lOmEoXCIjdHh0RmllbGROYW1lXCIpLnZhbCgpLFRleHRGb3JtYXQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNZXJnZUZpZWxkRm9ybWF0XCIpLnNlbGVjdGVkSW5kZXgsVGV4dEJlZm9yZTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1RleHRCZWZvcmVcIikuY2hlY2tlZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFRleHRCZWZvcmVcIikudmFsdWU6XCJcIixUZXh0QWZ0ZXI6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUZXh0QWZ0ZXJcIikuY2hlY2tlZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFRleHRBZnRlclwiKS52YWx1ZTpcIlwiLERhdGVUaW1lRm9ybWF0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrRGF0ZVRpbWVGb3JtYXRcIikuY2hlY2tlZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dERhdGVUaW1lRm9ybWF0XCIpLnZhbHVlOlwiXCIsTnVtZXJpY0Zvcm1hdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa051bWVyaWNGb3JtYXRcIikuY2hlY2tlZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dE51bWVyaWNGb3JtYXRcIikudmFsdWU6XCJcIixQcmVzZXJ2ZUZvcm1hdHRpbmc6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtQcmVzZXJ2ZUZvcm1hdFwiKS5jaGVja2VkLH07cmV0dXJuIGY7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI01FUkdFRklFTERfR1JPVVBfRklFTERfUFJPUEVSVElFUyA+IGxlZ2VuZFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9HUk9VUF9GSUVMRF9QUk9QRVJUSUVTKTthKFwiI01FUkdFRklFTERfTEFCRUxfTkFNRVwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9OQU1FKTthKFwiI01FUkdFRklFTERfTEFCRUxfVEVYVFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9URVhUKTthKFwiI01FUkdFRklFTERfTEFCRUxfRk9STUFUXCIpLnRleHQoZi5NRVJHRUZJRUxEX0xBQkVMX0ZPUk1BVCk7YShcIiNNRVJHRUZJRUxEX0ZPUk1BVF9OT05FXCIpLnRleHQoZi5NRVJHRUZJRUxEX0ZPUk1BVF9OT05FKTthKFwiI01FUkdFRklFTERfRk9STUFUX1VQUEVSXCIpLnRleHQoZi5NRVJHRUZJRUxEX0ZPUk1BVF9VUFBFUik7YShcIiNNRVJHRUZJRUxEX0ZPUk1BVF9MT1dFUlwiKS50ZXh0KGYuTUVSR0VGSUVMRF9GT1JNQVRfTE9XRVIpO2EoXCIjTUVSR0VGSUVMRF9GT1JNQVRfRklSU1RfQ0FQXCIpLnRleHQoZi5NRVJHRUZJRUxEX0ZPUk1BVF9GSVJTVF9DQVApO2EoXCIjTUVSR0VGSUVMRF9GT1JNQVRfVElUTEVfQ0FTRVwiKS50ZXh0KGYuTUVSR0VGSUVMRF9GT1JNQVRfVElUTEVfQ0FTRSk7YShcIiNNRVJHRUZJRUxEX0dST1VQX0ZJRUxEX09QVElPTlMgPiBsZWdlbmRcIikudGV4dChmLk1FUkdFRklFTERfR1JPVVBfRklFTERfT1BUSU9OUyk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX1RFWFRfQkVGT1JFXCIpLnRleHQoZi5NRVJHRUZJRUxEX0xBQkVMX1RFWFRfQkVGT1JFKTthKFwiI01FUkdFRklFTERfTEFCRUxfVEVYVF9BRlRFUlwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9URVhUX0FGVEVSKTthKFwiI01FUkdFRklFTERfTEFCRUxfREFURV9USU1FX0ZPUk1BVFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9EQVRFX1RJTUVfRk9STUFUKTthKFwiI01FUkdFRklFTERfTEFCRUxfTlVNRVJJQ19GT1JNQVRcIikudGV4dChmLk1FUkdFRklFTERfTEFCRUxfTlVNRVJJQ19GT1JNQVQpO2EoXCIjTUVSR0VGSUVMRF9DSEVDS19CT1hfUFJFU0VSVkVfRk9STUFUXCIpLnRleHQoZi5NRVJHRUZJRUxEX0NIRUNLX0JPWF9QUkVTRVJWRV9GT1JNQVQpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGope2EoXCIjdHh0VGV4dEJlZm9yZVwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhai50YXJnZXQuY2hlY2tlZCk7fWZ1bmN0aW9uIGgoail7YShcIiN0eHRUZXh0QWZ0ZXJcIikucHJvcChcImRpc2FibGVkXCIsIWoudGFyZ2V0LmNoZWNrZWQpO31mdW5jdGlvbiBmKGope2EoXCIjdHh0RGF0ZVRpbWVGb3JtYXRcIikucHJvcChcImRpc2FibGVkXCIsIWoudGFyZ2V0LmNoZWNrZWQpO31mdW5jdGlvbiBnKGope2EoXCIjdHh0TnVtZXJpY0Zvcm1hdFwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhai50YXJnZXQuY2hlY2tlZCk7fWEoXCIjY2hrVGV4dEJlZm9yZVwiKS5jbGljayhpKTthKFwiI2Noa1RleHRBZnRlclwiKS5jbGljayhoKTthKFwiI2Noa0RhdGVUaW1lRm9ybWF0XCIpLmNsaWNrKGYpO2EoXCIjY2hrTnVtZXJpY0Zvcm1hdFwiKS5jbGljayhnKTt9O3JldHVybiBlO30pKGIuRmllbGREaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWVyZ2VGaWVsZFRleHRGb3JtYXQ9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLFVwcGVyY2FzZToxLExvd2VyY2FzZToyLEZpcnN0Q2FwaXRhbDozLFRpdGxlQ2FzZTo0LH0pO2IuSW5jbHVkZVRleHRGaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEluY2x1ZGVUZXh0RmllbGQsZCk7ZnVuY3Rpb24gSW5jbHVkZVRleHRGaWVsZChmaWxlTmFtZSl7ZC5jYWxsKHRoaXMsdHJ1ZSk7dGhpcy5maWxlTmFtZT1maWxlTmFtZXx8XCJcIjt0aGlzLnRleHRGb3JtYXQ9MDt0aGlzLmJvb2ttYXJrPVwiXCI7fUluY2x1ZGVUZXh0RmllbGQucHJvdG90eXBlLnRvUGFzY2FsQ2FzZT1mdW5jdGlvbigpe3JldHVybntGaWxlbmFtZTp0aGlzLmZpbGVOYW1lLFRleHRGb3JtYXQ6dGhpcy50ZXh0Rm9ybWF0LEJvb2ttYXJrOnRoaXMuYm9va21hcmssUHJlc2VydmVGb3JtYXR0aW5nOnRoaXMucHJlc2VydmVGb3JtYXR0aW5nfTt9O3JldHVybiBJbmNsdWRlVGV4dEZpZWxkO30pKGIuRmllbGRBZGFwdGVyKTtiLkluY2x1ZGVUZXh0RmllbGREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyxmLGcpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkluY2x1ZGVUZXh0RmllbGREaWFsb2csRmllbGRUeXBlOmIuRmllbGRUeXBlLkluY2x1ZGVUZXh0RmllbGQsRWxlbWVudElEOlwiaW5jbHVkZVRleHRGaWVsZERpYWxvZ1wiLFdpZHRoOjMwMCxUaXRsZVJlc291cmNlTmFtZTpcIklOQ0xVREVURVhUX0RJQUxPR19USVRMRVwiLH07fWUucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbihmKXthKFwiI3R4dEZpbGVuYW1lXCIpLnZhbChmLkZpbGVuYW1lKTthKFwiI3R4dEJvb2ttYXJrXCIpLnZhbChmLkJvb2ttYXJrKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdFRleHRGb3JtYXRcIikuc2VsZWN0ZWRJbmRleD1mLlRleHRGb3JtYXQ7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtQcmVzRm10XCIpLmNoZWNrZWQ9Zi5QcmVzZXJ2ZUZvcm1hdHRpbmc7fTtlLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZj17RmlsZW5hbWU6YShcIiN0eHRGaWxlbmFtZVwiKS52YWwoKSxCb29rbWFyazphKFwiI3R4dEJvb2ttYXJrXCIpLnZhbCgpLFRleHRGb3JtYXQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RUZXh0Rm9ybWF0XCIpLnNlbGVjdGVkSW5kZXgsUHJlc2VydmVGb3JtYXR0aW5nOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUHJlc0ZtdFwiKS5jaGVja2VkfTtyZXR1cm4gZjt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjSU5DTFVERVRFWFRfR1JPVVBfRklFTERfT1BUSU9OUyA+IGxlZ2VuZFwiKS50ZXh0KGYuSU5DTFVERVRFWFRfR1JPVVBfRklFTERfT1BUSU9OUyk7YShcIiNJTkNMVURFVEVYVF9MQUJFTF9GSUxFTkFNRVwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTEFCRUxfRklMRU5BTUUpO2EoXCIjSU5DTFVERVRFWFRfTEFCRUxfQk9PS01BUktcIikudGV4dChmLklOQ0xVREVURVhUX0xBQkVMX0JPT0tNQVJLKTthKFwiI0lOQ0xVREVURVhUX0xBQkVMX1RFWFRfRk9STUFUXCIpLnRleHQoZi5JTkNMVURFVEVYVF9MQUJFTF9URVhUX0ZPUk1BVCk7YShcIiNJTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9OT05FXCIpLnRleHQoZi5JTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9OT05FKTthKFwiI0lOQ0xVREVURVhUX0xJU1RfRk9STUFUX1VQUEVSXCIpLnRleHQoZi5JTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9VUFBFUik7YShcIiNJTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9MT1dFUlwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfTE9XRVIpO2EoXCIjSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfRklSU1RfQ0FQXCIpLnRleHQoZi5JTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9GSVJTVF9DQVApO2EoXCIjSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfVElUTEVfQ0FTRVwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfVElUTEVfQ0FTRSk7YShcIiNJTkNMVURFVEVYVF9DSEVDS19CT1hfUFJFU0VSVkVfRk9STUFUXCIpLnRleHQoZi5JTkNMVURFVEVYVF9DSEVDS19CT1hfUFJFU0VSVkVfRk9STUFUKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RUZXh0Rm9ybWF0XCIpO2lmKGYuc2VsZWN0ZWRJbmRleDwwKXtmLnNlbGVjdGVkSW5kZXg9MDt9fTtyZXR1cm4gZTt9KShiLkZpZWxkRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkRhdGVGaWVsZERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmLGcpe2QuY2FsbCh0aGlzLGYsZyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuRGF0ZUZpZWxkRGlhbG9nLEZpZWxkVHlwZTpiLkZpZWxkVHlwZS5EYXRlRmllbGQsRWxlbWVudElEOlwiZGF0ZUZpZWxkRGlhbG9nXCIsV2lkdGg6MjgwLFRpdGxlUmVzb3VyY2VOYW1lOlwiREFURUZJRUxEX0RJQUxPR19USVRMRVwiLH07fWUucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbihmKXthKFwiI3R4dERhdGVGb3JtYXRcIikudmFsKGYuRm9ybWF0KTthKFwiI2Noa1ByZXNGbXRcIikucHJvcChcImNoZWNrZWRcIixmLlByZXNlcnZlRm9ybWF0dGluZyk7fTtlLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZj17Rm9ybWF0OmEoXCIjdHh0RGF0ZUZvcm1hdFwiKS52YWwoKSxQcmVzZXJ2ZUZvcm1hdHRpbmc6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtQcmVzRm10XCIpLmNoZWNrZWQsfTtyZXR1cm4gZjt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGgpe3ZhciBmPVtcImRkLk1NLnl5eXlcIixcImRkZGQsIGQuIE1NTU0geXl5eVwiLFwiZC4gTU1NTSB5eXl5XCIsXCJkZC5NTS55eVwiLFwieXl5eS1NTS1kZFwiLFwieXktTU0tZGRcIixcImRkLiBNTU0uIHl5eXlcIixcImRkL01NL3l5XCIsXCJNTU1NIHl5XCIsXCJNTU0teXlcIixcImRkLk1NLnl5eXkgSEg6bW1cIixcImRkLk1NLnl5eXkgSEg6bW06c3NcIixcImg6bW0gdHRcIixcImg6bW06c3MgdHRcIixcIkhIOm1tXCIsXCJISDptbTpzc1wiLF07YShcIiNEQVRFRklFTERfTEFCRUxfREFURV9GT1JNQVRTXCIpLnRleHQoaC5EQVRFRklFTERfTEFCRUxfREFURV9GT1JNQVRTKTthKFwiI0RBVEVGSUVMRF9DSEVDS19CT1hfUFJFU0VSVkVfRk9STUFUXCIpLnRleHQoaC5EQVRFRklFTERfQ0hFQ0tfQk9YX1BSRVNFUlZFX0ZPUk1BVCk7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxEYXRlRm9ybWF0c1wiKTtmLmZvckVhY2goZnVuY3Rpb24oayl7dmFyIGk9aFtrXTtpZihpKXt2YXIgaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2cuYXBwZW5kQ2hpbGQoaik7ai52YWx1ZT1rO2oudGV4dD1pO319KTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhoKTt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxEYXRlRm9ybWF0c1wiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dERhdGVGb3JtYXRcIik7aWYoZi5zZWxlY3RlZEluZGV4PDApe2Yuc2VsZWN0ZWRJbmRleD0wO31mLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBoPWYub3B0aW9uc1tmLnNlbGVjdGVkSW5kZXhdO2cudmFsdWU9aC52YWx1ZTt9KTt9O3JldHVybiBlO30pKGIuRmllbGREaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTmV4dElmRmllbGREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyxmLGcpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk5leHRJZkZpZWxkRGlhbG9nLEZpZWxkVHlwZTpiLkZpZWxkVHlwZS5OZXh0SWZGaWVsZCxFbGVtZW50SUQ6XCJpZkZpZWxkRGlhbG9nXCIsV2lkdGg6Mzg1LFRpdGxlUmVzb3VyY2VOYW1lOlwiTkVYVElGX0ZJRUxEX0RJQUxPR19USVRMRVwiLH07fWUucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbihmKXthKFwiI3R4dEZpZWxkTmFtZVwiKS52YWwoZi5FeHByZXNzaW9uMSk7YShcIiN0eHRDb21wYXJlVG9cIikudmFsKGYuRXhwcmVzc2lvbjIpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWZGbGRPcGVyYXRvcnNcIikuc2VsZWN0ZWRJbmRleD1mLk9wZXJhdG9yO307ZS5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7dmFyIGY9e0V4cHJlc3Npb24xOmEoXCIjdHh0RmllbGROYW1lXCIpLnZhbCgpLEV4cHJlc3Npb24yOmEoXCIjdHh0Q29tcGFyZVRvXCIpLnZhbCgpLE9wZXJhdG9yOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWZGbGRPcGVyYXRvcnNcIikuc2VsZWN0ZWRJbmRleCx9O3JldHVybiBmO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNJRl9GSUVMRF9HUk9VUF9CT1ggPiBsZWdlbmRcIikudGV4dChmLklGX0ZJRUxEX0dST1VQX0JPWCk7YShcIiNJRl9GSUVMRF9MQUJFTF9OQU1FXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9OQU1FKTthKFwiI0lGX0ZJRUxEX0xBQkVMX0NPTVBBUklTT05cIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX0NPTVBBUklTT04pO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fRVFVQUxTXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9FUVVBTFMpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTk9UX0VRVUFMXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9OT1RfRVFVQUwpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU1wiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTUyk7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVJfT1JfRVFVQUxcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVJfT1JfRVFVQUwpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU19PUl9FUVVBTFwiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU19PUl9FUVVBTCk7YShcIiNJRl9GSUVMRF9MQUJFTF9DT01QQVJFX1RPXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9DT01QQVJFX1RPKTthKFwiI0lGX0ZJRUxEX0xBQkVMX0lOU0VSVF9USElTXCIpLnJlbW92ZSgpO2EoXCIjdHh0SW5zZXJ0VGhpc1wiKS5yZW1vdmUoKTthKFwiI0lGX0ZJRUxEX0xBQkVMX09USEVSV0lTRVwiKS5yZW1vdmUoKTthKFwiI3R4dE90aGVyd2lzZVwiKS5yZW1vdmUoKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O3JldHVybiBlO30pKGIuRmllbGREaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWF4UHJldmlld1Jvd3NEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk1heFByZXZpZXdSb3dzRGlhbG9nLEVsZW1lbnRJRDpcIm1heFByZXZpZXdSb3dzRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsSGVpZ2h0OjEyMCxUaXRsZVJlc291cmNlTmFtZTpcIk1BWFBSRVZST1dTX0RJQUxPR19USVRMRVwiLH07dGhpcy52YWx1ZT1mO31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKGYpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMudmFsdWU9cGFyc2VJbnQoYShcIiNzcGluTnVtXCIpLnZhbCgpLDEwKTt0aGlzLmRpYWxvZ0RhdGEudmFsdWU9dGhpcy52YWx1ZTt9fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI01BWFBSRVZST1dTX0xBQkVMX05VTV9SRVNVTFRTXCIpLnRleHQoZi5NQVhQUkVWUk9XU19MQUJFTF9OVU1fUkVTVUxUUyk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe2EoXCIjc3Bpbk51bVwiKS5zcGlubmVyKHttYXg6MTAwLG1pbjoxfSk7YShcIiNzcGluTnVtXCIpLnZhbCh0aGlzLnZhbHVlKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e30sYz17VGFibGU6MCxQYXJhZ3JhcGg6MSx9O2IuSW5zZXJ0TWVyZ2VCbG9ja0RpYWxvZz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKGgsZSk7ZnVuY3Rpb24gaChtLGwpe2UuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5JbnNlcnRNZXJnZUJsb2NrRGlhbG9nLEVsZW1lbnRJRDpcImluc2VydE1lcmdlQmxvY2tEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIklOU0VSVF9NRVJHRV9CTE9DS19ESUFMT0dfVElUTEVcIn07dGhpcy5ibG9ja05hbWU9bTt0aGlzLmRiU2NoZW1lPWw7fWZ1bmN0aW9uIGcoKXt2YXIgbT1bXTt2YXIgbD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2I3RibENvbENvbnRhaW5lciBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKTtbXS5mb3JFYWNoLmNhbGwobCxmdW5jdGlvbihuKXtpZihuLmNoZWNrZWQpe20ucHVzaChuLmRhdGFzZXQuY29sdW1uTmFtZSk7fX0pO3JldHVybiBtO31oLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbD17dHlwZTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhZGlvVGFibGVSb3dcIikuY2hlY2tlZD9jLlRhYmxlOmMuUGFyYWdyYXBoLG5hbWU6dGhpcy5ibG9ja05hbWUsaGVhZGVyUm93OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrQWRkSGVhZGVyUm93XCIpLmNoZWNrZWQsY29sdW1uTmFtZXM6ZygpfTtyZXR1cm4gbDt9O2Z1bmN0aW9uIGYobil7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Nb3ZlVXBcIik7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Nb3ZlRG93blwiKTttLmRpc2FibGVkPShuLnByZXZpb3VzRWxlbWVudFNpYmxpbmc9PT1udWxsKTtsLmRpc2FibGVkPShuLm5leHRFbGVtZW50U2libGluZz09PW51bGwpO31mdW5jdGlvbiBpKG0pe3ZhciBvPW0uY3VycmVudFRhcmdldDt2YXIgbj1vLnBhcmVudEVsZW1lbnQ7Zm9yKHZhciBwPTA7cDxuLmNoaWxkcmVuLmxlbmd0aDsrK3Ape3ZhciBsPW4uY2hpbGRyZW5bcF07bC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7fW8uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO2Yobyk7dmFyIHE9ZygpLmxlbmd0aD9cImVuYWJsZVwiOlwiZGlzYWJsZVwiO2EoXCIjYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkuYnV0dG9uKHEpO31oLnByb3RvdHlwZS5jcmVhdGVDb2x1bW5DaGVja0JveGVzPWZ1bmN0aW9uKGwpe3ZhciBuPTAsbz10aGlzLG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YmxDb2xDb250YWluZXJcIik7bC5mb3JFYWNoKGZ1bmN0aW9uKHEpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtzLnN0eWxlLmNsZWFyPVwibGVmdFwiO3Muc3R5bGUud2lkdGg9XCIxMDAlXCI7cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixpLmJpbmQobykpO20uYXBwZW5kQ2hpbGQocyk7dmFyIHA9XCJjaGtDb2xOYW1lXCIrbisrLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3IuaWQ9cDtyLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO3IuZGF0YXNldC5jb2x1bW5OYW1lPXEuQ29sdW1uTmFtZTtyLnRpdGxlPXEuQ29sdW1uTmFtZTtyLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO3Iuc3R5bGUuY2xlYXI9XCJsZWZ0XCI7cy5hcHBlbmRDaGlsZChyKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7dC5zZXRBdHRyaWJ1dGUoXCJmb3JcIixwKTt0LnRleHRDb250ZW50PXEuQ29sdW1uTmFtZTt0LnRpdGxlPXEuQ29sdW1uTmFtZTt0LnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO3MuYXBwZW5kQ2hpbGQodCk7fSk7fTtoLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24obSl7dmFyIGw9dGhpcy5nZXRWYWx1ZXMoKTtpZihsLmNvbHVtbk5hbWVzLmxlbmd0aD4wKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbnNlcnRJdGVtLGIuSXRlbVR5cGUuTWVyZ2VCbG9jaywwLDAsbCk7fXRoaXMuY2xvc2UobSk7fTtoLnByb3RvdHlwZS5idG5Nb3ZlVXBDbGljaz1mdW5jdGlvbihsKXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RibENvbENvbnRhaW5lciA+IGRpdi5zZWxlY3RlZFwiKTtpZihuPT09bnVsbCl7cmV0dXJuO312YXIgbz1uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YmxDb2xDb250YWluZXJcIik7bS5yZW1vdmVDaGlsZChuKTttLmluc2VydEJlZm9yZShuLG8pO2Yobik7fTtoLnByb3RvdHlwZS5idG5Nb3ZlRG93bkNsaWNrPWZ1bmN0aW9uKGwpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGJsQ29sQ29udGFpbmVyID4gZGl2LnNlbGVjdGVkXCIpO2lmKG49PT1udWxsKXtyZXR1cm47fXZhciBvPW4ubmV4dEVsZW1lbnRTaWJsaW5nO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGJsQ29sQ29udGFpbmVyXCIpO20ucmVtb3ZlQ2hpbGQobik7bS5pbnNlcnRCZWZvcmUobixvLm5leHRFbGVtZW50U2libGluZyk7ZihuKTt9O2Z1bmN0aW9uIGsobSl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtBZGRIZWFkZXJSb3dcIik7bC5kaXNhYmxlZD0hbS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ7fWZ1bmN0aW9uIGoobSl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtBZGRIZWFkZXJSb3dcIik7bC5kaXNhYmxlZD1tLmN1cnJlbnRUYXJnZXQuY2hlY2tlZDt9aC5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgbD10aGlzLG09dGhpcy5kYlNjaGVtZS5UYWJsZXMuZmluZChmdW5jdGlvbihuKXtyZXR1cm4obi5UYWJsZU5hbWUudG9Mb3dlckNhc2UoKT09PWwuYmxvY2tOYW1lLnRvTG93ZXJDYXNlKCkpO30pO3RoaXMuY3JlYXRlQ29sdW1uQ2hlY2tCb3hlcyhtLkNvbHVtbnMpO2EoXCIjYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkuYnV0dG9uKFwiZGlzYWJsZVwiKTthKFwiI2J0bk1vdmVVcFwiKS5jbGljayhsLmJ0bk1vdmVVcENsaWNrLmJpbmQobCkpO2EoXCIjYnRuTW92ZURvd25cIikuY2xpY2sobC5idG5Nb3ZlRG93bkNsaWNrLmJpbmQobCkpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFkaW9UYWJsZVJvd1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixrKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhZGlvUGxhaW5QYXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaik7fTtoLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihsKXthKFwiI0lOU0VSVF9NRVJHRV9CTE9DS19ESUFMT0dfTEJMX1NFTF9UQkxfQ09MXCIpLnRleHQobC5JTlNFUlRfTUVSR0VfQkxPQ0tfRElBTE9HX0xCTF9TRUxfVEJMX0NPTCk7YShcIiNJTlNFUlRfTUVSR0VfQkxPQ0tfRElBTE9HX0xCTF9QTEFJTl9QQVJcIikudGV4dChsLklOU0VSVF9NRVJHRV9CTE9DS19ESUFMT0dfTEJMX1BMQUlOX1BBUik7YShcIiNJTlNFUlRfTUVSR0VfQkxPQ0tfRElBTE9HX0xCTF9UQkxfUk9XXCIpLnRleHQobC5JTlNFUlRfTUVSR0VfQkxPQ0tfRElBTE9HX0xCTF9UQkxfUk9XKTthKFwiI0lOU0VSVF9NRVJHRV9CTE9DS19ESUFMT0dfTEJMX0hEUl9ST1dcIikudGV4dChsLklOU0VSVF9NRVJHRV9CTE9DS19ESUFMT0dfTEJMX0hEUl9ST1cpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGwpO307cmV0dXJuIGg7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkVkaXREYXRhUmVsYXRpb25zRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGcsZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkVkaXREYXRhUmVsYXRpb25zRGlhbG9nLEVsZW1lbnRJRDpcImVkaXREYXRhUmVsYXRpb25zRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJFRElUX0RBVEFfUkVMU19ESUFMT0dfVElUTEVcIn07dGhpcy5yZWxhdGlvbnM9Zzt0aGlzLmRlbGV0ZWRSZWxhdGlvbnM9W107dGhpcy5kYlNjaGVtZT1mO31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dGhpcy5kaWFsb2dEYXRhLnJlbGF0aW9ucz10aGlzLnJlbGF0aW9uczt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlZFJlbGF0aW9ucz10aGlzLmRlbGV0ZWRSZWxhdGlvbnM7fX07ZS5wcm90b3R5cGUuYWRkRGF0YVJlbGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxmPW5ldyBiLkNyZWF0ZURhdGFSZWxhdGlvbkRpYWxvZyhnLmRiU2NoZW1lKTtmLnNob3dNb2RhbChmdW5jdGlvbihoKXtpZighaCl7cmV0dXJuO31nLnJlbGF0aW9ucy5wdXNoKGgpO2cucG9wdWxhdGVTZWxlY3QoKTt9KTt9O2UucHJvdG90eXBlLmRlbGV0ZVNlbGVjdGVkUmVsYXRpb249ZnVuY3Rpb24oKXt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbERhdGFSZWxhdGlvbnNcIiksbD1mLm9wdGlvbnNbZi5zZWxlY3RlZEluZGV4XSxqPXRoaXMucmVsYXRpb25zO2Zvcih2YXIgZz0wO2c8ai5sZW5ndGg7KytnKXt2YXIgaD1qW2ddLGs9aC5SZWxhdGlvbk5hbWV8fGIuZ2V0UmVsRGVzYyhoKTtpZihrPT09bC52YWx1ZSl7dGhpcy5kZWxldGVkUmVsYXRpb25zLnB1c2gobC52YWx1ZSk7ai5zcGxpY2UoZywxKTt0aGlzLnBvcHVsYXRlU2VsZWN0KCk7cmV0dXJuO319fTtlLnByb3RvdHlwZS5wb3B1bGF0ZVNlbGVjdD1mdW5jdGlvbigpe3ZhciBnPXRoaXMsZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbERhdGFSZWxhdGlvbnNcIik7Zi5pbm5lckhUTUw9XCJcIjt0aGlzLnJlbGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksaj1iLmdldFJlbERlc2MoaSk7aC52YWx1ZT1oLnRleHQ9aS5SZWxhdGlvbk5hbWV8fGo7aC50aXRsZT1qO2YuYXBwZW5kQ2hpbGQoaCk7fSk7Zi5zZWxlY3RlZEluZGV4PTA7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBoPXRoaXM7dGhpcy5wb3B1bGF0ZVNlbGVjdCgpO2Z1bmN0aW9uIGYoaSl7aC5hZGREYXRhUmVsYXRpb24oKTt9ZnVuY3Rpb24gZyhpKXtoLmRlbGV0ZVNlbGVjdGVkUmVsYXRpb24oKTt9YShcIiNFRElUX0RBVEFfUkVMU19ESUFMT0dfQlROX0FERFwiKS5jbGljayhmKTthKFwiI0VESVRfREFUQV9SRUxTX0RJQUxPR19CVE5fREVMRVRFXCIpLmNsaWNrKGcpO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNFRElUX0RBVEFfUkVMU19ESUFMT0dfTEJMX1NFTF9EQVRBX1JFTFwiKS50ZXh0KGYuRURJVF9EQVRBX1JFTFNfRElBTE9HX0xCTF9TRUxfREFUQV9SRUwpO2EoXCIjRURJVF9EQVRBX1JFTFNfRElBTE9HX0JUTl9BRERcIikudGV4dChmLkVESVRfREFUQV9SRUxTX0RJQUxPR19CVE5fQUREKTthKFwiI0VESVRfREFUQV9SRUxTX0RJQUxPR19CVE5fREVMRVRFXCIpLnRleHQoZi5FRElUX0RBVEFfUkVMU19ESUFMT0dfQlROX0RFTEVURSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQ3JlYXRlRGF0YVJlbGF0aW9uRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5DcmVhdGVEYXRhUmVsYXRpb25EaWFsb2csRWxlbWVudElEOlwiY3JlYXRlRGF0YVJlbGF0aW9uRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJDUkVBVEVfREFUQV9SRUxfRElBTE9HX1RJVExFXCIsfTt0aGlzLmRiU2NoZW1lPWY7dGhpcy5jYWxsYmFjaz1udWxsO3RoaXMubmV3UmVsYXRpb249e1JlbGF0aW9uTmFtZTpcIlwiLFBhcmVudFRhYmxlTmFtZTpcIlwiLENoaWxkVGFibGVOYW1lOlwiXCIsUGFyZW50Q29sdW1uTmFtZTpcIlwiLENoaWxkQ29sdW1uTmFtZTpcIlwifTt9ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNYWluVGFibGVcIiksZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbENoaWxkVGFibGVcIik7Zy5vbmNoYW5nZT1mdW5jdGlvbigpe2gubmV3UmVsYXRpb24uUGFyZW50VGFibGVOYW1lPXRoaXMudmFsdWU7aC5wb3B1bGF0ZUNvbHVtbk5hbWVDb250YWluZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluVGJsQ29sQ29udGFpbmVyXCIpLHRoaXMudmFsdWUsXCJwYXJlbnRcIik7fTtmLm9uY2hhbmdlPWZ1bmN0aW9uKCl7aC5uZXdSZWxhdGlvbi5DaGlsZFRhYmxlTmFtZT10aGlzLnZhbHVlO2gucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hpbGRUYmxDb2xDb250YWluZXJcIiksdGhpcy52YWx1ZSxcImNoaWxkXCIpO307dGhpcy5kYlNjaGVtZS5UYWJsZXMuZm9yRWFjaChmdW5jdGlvbihqKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2kudmFsdWU9aS50ZXh0PWkudGl0bGU9ai5UYWJsZU5hbWU7Zy5hcHBlbmRDaGlsZChpKTtmLmFwcGVuZENoaWxkKGkuY2xvbmVOb2RlKHRydWUpKTt9KTt0aGlzLnBvcHVsYXRlQ29sdW1uTmFtZUNvbnRhaW5lcnModGhpcy5kYlNjaGVtZS5UYWJsZXNbMF0uVGFibGVOYW1lKTt0aGlzLm5ld1JlbGF0aW9uLlBhcmVudFRhYmxlTmFtZT10aGlzLm5ld1JlbGF0aW9uLkNoaWxkVGFibGVOYW1lPXRoaXMuZGJTY2hlbWUuVGFibGVzWzBdLlRhYmxlTmFtZTt0aGlzLm5ld1JlbGF0aW9uLlBhcmVudENvbHVtbk5hbWU9dGhpcy5uZXdSZWxhdGlvbi5DaGlsZENvbHVtbk5hbWU9dGhpcy5kYlNjaGVtZS5UYWJsZXNbMF0uQ29sdW1uc1swXS5Db2x1bW5OYW1lO307ZS5wcm90b3R5cGUucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVycz1mdW5jdGlvbihmKXt0aGlzLnBvcHVsYXRlQ29sdW1uTmFtZUNvbnRhaW5lcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5UYmxDb2xDb250YWluZXJcIiksZixcInBhcmVudFwiKTt0aGlzLnBvcHVsYXRlQ29sdW1uTmFtZUNvbnRhaW5lcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoaWxkVGJsQ29sQ29udGFpbmVyXCIpLGYsXCJjaGlsZFwiKTt9O2UucHJvdG90eXBlLnBvcHVsYXRlQ29sdW1uTmFtZUNvbnRhaW5lcj1mdW5jdGlvbihmLGosayl7dmFyIGg9dGhpcyxnPTA7Zi5pbm5lckhUTUw9XCJcIjt2YXIgaT10aGlzLmRiU2NoZW1lLlRhYmxlcy5maW5kKGZ1bmN0aW9uKGwpe3JldHVybiBsLlRhYmxlTmFtZS50b0xvd2VyQ2FzZSgpPT09ai50b0xvd2VyQ2FzZSgpO30pO2lmKCFpKXtjb25zb2xlLmFzc2VydChpKTtyZXR1cm47fWkuQ29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGwpe3ZhciBvPWYuaWQrXCJfb3B0X1wiK2crKyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtuLmlkPW87bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKTtuLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcImdyb3VwX1wiK2spO24uZGF0YXNldC5jb2x1bW5OYW1lPWwuQ29sdW1uTmFtZTtuLmRhdGFzZXQudGFibGVSb2xlPWs7bi50aXRsZT1sLkNvbHVtbk5hbWU7bi5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtuLnN0eWxlLmNsZWFyPVwibGVmdFwiO2YuYXBwZW5kQ2hpbGQobik7bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihwKXtoLmNvbHVtblNlbGVjdGVkKHRoaXMuZGF0YXNldC5jb2x1bW5OYW1lLHRoaXMuZGF0YXNldC50YWJsZVJvbGUpO30pO2lmKGc9PTEpe24uY2hlY2tlZD10cnVlO2guY29sdW1uU2VsZWN0ZWQobC5Db2x1bW5OYW1lLGspO312YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7bS5zZXRBdHRyaWJ1dGUoXCJmb3JcIixvKTttLnRleHRDb250ZW50PWwuQ29sdW1uTmFtZTttLnRpdGxlPWwuQ29sdW1uTmFtZTttLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO2YuYXBwZW5kQ2hpbGQobSk7fSk7fTtlLnByb3RvdHlwZS5jb2x1bW5TZWxlY3RlZD1mdW5jdGlvbihmLGcpe3N3aXRjaChnKXtjYXNlXCJwYXJlbnRcIjp0aGlzLm5ld1JlbGF0aW9uLlBhcmVudENvbHVtbk5hbWU9ZjticmVhaztjYXNlXCJjaGlsZFwiOnRoaXMubmV3UmVsYXRpb24uQ2hpbGRDb2x1bW5OYW1lPWY7YnJlYWs7fX07Yi5nZXRSZWxEZXNjPWZ1bmN0aW9uKGYpe2lmKCFmKXtyZXR1cm5cIk5PIFJFTEFUSU9OIEdJVkVOXCI7fXJldHVybiBmLlBhcmVudFRhYmxlTmFtZStcXCdbXCJcXCcrZi5QYXJlbnRDb2x1bW5OYW1lK1xcJ1wiXSAtPiBcXCcrZi5DaGlsZFRhYmxlTmFtZStcXCdbXCJcXCcrZi5DaGlsZENvbHVtbk5hbWUrXFwnXCJdXFwnO307ZS5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGYpe2lmKHRoaXMuY2FsbGJhY2smJnRoaXMucmVsYXRpb25Jc1ZhbGlkKHRoaXMubmV3UmVsYXRpb24pKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFJlbE5hbWVcIik7aWYoZy52YWx1ZSl7dGhpcy5uZXdSZWxhdGlvbi5SZWxhdGlvbk5hbWU9Zy52YWx1ZTt9ZWxzZXt0aGlzLm5ld1JlbGF0aW9uLlJlbGF0aW9uTmFtZT1iLmdldFJlbERlc2ModGhpcy5uZXdSZWxhdGlvbik7fXRoaXMuY2FsbGJhY2sodGhpcy5uZXdSZWxhdGlvbik7fXRoaXMuY2xvc2UoZik7fTtlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihmKXthKGYpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTt9O2UucHJvdG90eXBlLnNob3dNb2RhbF9iYXNlPWUucHJvdG90eXBlLnNob3dNb2RhbDtlLnByb3RvdHlwZS5zaG93TW9kYWw9ZnVuY3Rpb24oZil7dGhpcy5jYWxsYmFjaz1mO3RoaXMuc2hvd01vZGFsX2Jhc2UoKTt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfTUFJTl9UQkxcIikudGV4dChmLkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX01BSU5fVEJMKTthKFwiI0NSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX01BSU5fQ09MXCIpLnRleHQoZi5DUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9NQUlOX0NPTCk7YShcIiNDUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9DSElMRF9UQkxcIikudGV4dChmLkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX0NISUxEX1RCTCk7YShcIiNDUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9DSElMRF9DT0xcIikudGV4dChmLkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX0NISUxEX0NPTCk7YShcIiNDUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9SRUxfTkFNRVwiKS50ZXh0KGYuQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfUkVMX05BTUUpO2EoXCIjdHh0UmVsTmFtZVwiKS5hdHRyKFwicGxhY2Vob2xkZXJcIixmLkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfSU5QX1JFTF9OQU1FX1BMQUNFSExEKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O2UucHJvdG90eXBlLnJlbGF0aW9uSXNWYWxpZD1mdW5jdGlvbihmKXtyZXR1cm4oZi5QYXJlbnRUYWJsZU5hbWUhPT1cIlwiKSYmKGYuQ2hpbGRUYWJsZU5hbWUhPT1cIlwiKSYmKGYuUGFyZW50Q29sdW1uTmFtZSE9PVwiXCIpJiYoZi5DaGlsZENvbHVtbk5hbWUhPT1cIlwiKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5FZGl0TWVyZ2VCbG9ja3NEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkVkaXRNZXJnZUJsb2Nrc0RpYWxvZyxFbGVtZW50SUQ6XCJlZGl0TWVyZ2VCbG9ja3NEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIkVESVRfTUVSR0VfQkxPQ0tTX0RJQUxPR19USVRMRVwifTt0aGlzLmJsb2Nrcz1mO3RoaXMuZGVsZXRlZEJsb2Nrcz1bXTt0aGlzLnJlbmFtZWRCbG9ja3M9W107fWUucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlZEJsb2Nrcz10aGlzLmRlbGV0ZWRCbG9ja3M7dGhpcy5kaWFsb2dEYXRhLnJlbmFtZWRCbG9ja3M9dGhpcy5yZW5hbWVkQmxvY2tzO307ZS5wcm90b3R5cGUucG9wdWxhdGVTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbE1lcmdlQmxvY2tzXCIpO2YuaW5uZXJIVE1MPVwiXCI7dGhpcy5ibG9ja3MuZm9yRWFjaChmdW5jdGlvbihnKXt2YXIgaD0oZy5OZXdOYW1lIT09XCJcIik/Zy5OZXdOYW1lOmcuTmFtZTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2kudmFsdWU9aS50ZXh0PWkudGl0bGU9aDtmLmFwcGVuZENoaWxkKGkpO30pO2Yuc2VsZWN0ZWRJbmRleD0wO307ZS5wcm90b3R5cGUuZ29Ub1NlbGVjdGVkQmxvY2s9ZnVuY3Rpb24oKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbE1lcmdlQmxvY2tzXCIpLGg9Zy5vcHRpb25zW2cuc2VsZWN0ZWRJbmRleF0sZj10aGlzLmJsb2Nrcy5maW5kKGZ1bmN0aW9uKGkpe3JldHVybiBpLk5hbWU9PT1oLnZhbHVlO30pO2lmKCFmKXtyZXR1cm47fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdvVG9JdGVtLGIuSXRlbVR5cGUuTWVyZ2VCbG9jaywwLDAse25hbWU6Zi5OYW1lfSk7fTtlLnByb3RvdHlwZS5yZW5hbWVTZWxlY3RlZEJsb2NrPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsTWVyZ2VCbG9ja3NcIiksbT1rLm9wdGlvbnNbay5zZWxlY3RlZEluZGV4XSxnPXRoaXMuYmxvY2tzLmZpbmQoZnVuY3Rpb24oaSl7aWYoaS5OZXdOYW1lIT09XCJcIil7cmV0dXJuIGkuTmV3TmFtZT09PW0udmFsdWU7fWVsc2V7cmV0dXJuIGkuTmFtZT09PW0udmFsdWU7fX0pO2lmKCFnKXtyZXR1cm47fWlmKGcuTmV3TmFtZSE9PVwiXCIpe2Zvcih2YXIgbD0wO2w8dGhpcy5yZW5hbWVkQmxvY2tzLmxlbmd0aDsrK2wpe3ZhciBmPXRoaXMucmVuYW1lZEJsb2Nrc1tsXTtpZihmLk5ld05hbWU9PT1nLk5ld05hbWUpe3RoaXMucmVuYW1lZEJsb2Nrcy5zcGxpY2UobCwxKTticmVhazt9fX12YXIgaD0oZy5OZXdOYW1lIT09XCJcIik/Zy5OZXdOYW1lOmcuTmFtZSxqPW5ldyBiLklucHV0Qm94RGlhbG9nKGIudmFyaW91c1N0cmluZ1Jlc291cmNlcy5JTlBVVF9CT1hfRExHX1RJVExFX1JFTkFNRV9NRVJHRV9CTE9DSyxoKTtqLnNob3dNb2RhbChmdW5jdGlvbihpKXtpZihpIT09XCJcIil7Zy5OZXdOYW1lPWk7bi5yZW5hbWVkQmxvY2tzLnB1c2goY2xvbmVPYmplY3QoZykpO24ucG9wdWxhdGVTZWxlY3QoKTt9fSk7fTtlLnByb3RvdHlwZS5kZWxldGVTZWxlY3RlZEJsb2NrPWZ1bmN0aW9uKCl7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNZXJnZUJsb2Nrc1wiKSxsPWoub3B0aW9uc1tqLnNlbGVjdGVkSW5kZXhdLGg9dGhpcy5ibG9ja3M7Zm9yKHZhciBrPTA7azxoLmxlbmd0aDsrK2spe3ZhciBmPWhba10sZz0oZi5OZXdOYW1lIT09XCJcIik/Zi5OZXdOYW1lOmYuTmFtZTtpZihnPT09bC52YWx1ZSl7dGhpcy5kZWxldGVkQmxvY2tzLnB1c2goZi5OYW1lKTtoLnNwbGljZShrLDEpO3RoaXMucG9wdWxhdGVTZWxlY3QoKTtyZXR1cm47fX19O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGk9dGhpczt0aGlzLnBvcHVsYXRlU2VsZWN0KCk7ZnVuY3Rpb24gZyhqKXtpLmdvVG9TZWxlY3RlZEJsb2NrKCk7fWZ1bmN0aW9uIGgoail7aS5yZW5hbWVTZWxlY3RlZEJsb2NrKCk7fWZ1bmN0aW9uIGYoail7aS5kZWxldGVTZWxlY3RlZEJsb2NrKCk7fWEoXCIjRURJVF9NRVJHRV9CTE9DS1NfRElBTE9HX0JUTl9HT1RPXCIpLmNsaWNrKGcpO2EoXCIjRURJVF9NRVJHRV9CTE9DS1NfRElBTE9HX0JUTl9SRU5BTUVcIikuY2xpY2soaCk7YShcIiNFRElUX01FUkdFX0JMT0NLU19ESUFMT0dfQlROX0RFTEVURVwiKS5jbGljayhmKTt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjRURJVF9NRVJHRV9CTE9DS1NfRElBTE9HX0xCTF9TRUxfQkxPQ0tTXCIpLnRleHQoZi5FRElUX01FUkdFX0JMT0NLU19ESUFMT0dfTEJMX1NFTF9CTE9DS1MpO2EoXCIjRURJVF9NRVJHRV9CTE9DS1NfRElBTE9HX0JUTl9HT1RPXCIpLnRleHQoZi5FRElUX01FUkdFX0JMT0NLU19ESUFMT0dfQlROX0dPVE8pO2EoXCIjRURJVF9NRVJHRV9CTE9DS1NfRElBTE9HX0JUTl9SRU5BTUVcIikudGV4dChmLkVESVRfTUVSR0VfQkxPQ0tTX0RJQUxPR19CVE5fUkVOQU1FKTthKFwiI0VESVRfTUVSR0VfQkxPQ0tTX0RJQUxPR19CVE5fREVMRVRFXCIpLnRleHQoZi5FRElUX01FUkdFX0JMT0NLU19ESUFMT0dfQlROX0RFTEVURSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2V0Q2hhcnREYXRhUmVsYXRpb25EaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhoLGQpO2Z1bmN0aW9uIGgoaSl7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLlNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nLEVsZW1lbnRJRDpcInNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJTRVRfQ0hBUlRfREFUQV9SRUxfRExHX1RJVExFXCJ9O3RoaXMuZGF0YVNvdXJjZT1pLkRhdGFTb3VyY2U7dGhpcy5jdXJyZW50Q2hhcnRSZWxhdGlvbj1pLkN1cnJlbnRDaGFydFJlbGF0aW9uO3RoaXMubWFpblRhYmxlPW51bGw7fWZ1bmN0aW9uIGYoail7dmFyIGk9ai50YXJnZXQ7dmFyIGs9aS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWU7dGhpcy5tYWluVGFibGU9dGhpcy5kYXRhU291cmNlLlRhYmxlcy5maW5kKGZ1bmN0aW9uKGwpe3JldHVybiBsLlRhYmxlTmFtZT09PWs7fSk7dGhpcy51cGRhdGVDaGlsZFRhYmxlRHJvcERvd24oayk7fWZ1bmN0aW9uIGUobCl7dmFyIGk9bC50YXJnZXQ7dmFyIGs9aS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWU7dmFyIGo9dGhpcy5tYWluVGFibGUuQ2hpbGRUYWJsZXMuZmluZChmdW5jdGlvbihtKXtyZXR1cm4gbS5UYWJsZU5hbWU9PT1rO30pO2coaik7fWZ1bmN0aW9uIGcoayl7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eERpYWxvZ19jYkF4aXNMYWJlbHNcIik7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eERpYWxvZ19jYlZhbHVlc1wiKTtpLmlubmVySFRNTD1cIlwiO2ouaW5uZXJIVE1MPVwiXCI7ay5Db2x1bW5zLmZvckVhY2goZnVuY3Rpb24obCl7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uaW5uZXJIVE1MPW4uaW5uZXJIVE1MPWwuQ29sdW1uTmFtZTttLnZhbHVlPW4udmFsdWU9bC5Db2x1bW5OYW1lO2kuYXBwZW5kQ2hpbGQobSk7ai5hcHBlbmRDaGlsZChuKTt9KTt9aC5wcm90b3R5cGUudXBkYXRlQ2hpbGRUYWJsZURyb3BEb3duPWZ1bmN0aW9uKGspe3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBsPXRoaXMuZGF0YVNvdXJjZS5UYWJsZXMuZmluZChmdW5jdGlvbihtKXtyZXR1cm4gbS5UYWJsZU5hbWU9PT1rO30pO2lmKCFsKXtyZXR1cm47fWkuaW5uZXJIVE1MPVwiXCI7dmFyIGo9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2wuQ2hpbGRUYWJsZXMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uaW5uZXJIVE1MPW4uVGFibGVOYW1lO20udmFsdWU9bi5UYWJsZU5hbWU7ai5hcHBlbmRDaGlsZChtKTt9KTtpLmFwcGVuZENoaWxkKGopO2cobC5DaGlsZFRhYmxlc1swXSk7fTtoLnByb3RvdHlwZS5wb3B1bGF0ZUNvbWJvYm94ZXM9ZnVuY3Rpb24oKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RGlhbG9nX2NiTWFpblRhYmxlXCIpO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0aGlzLmRhdGFTb3VyY2UuVGFibGVzLmZvckVhY2goZnVuY3Rpb24ocSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtpLmlubmVySFRNTD1xLlRhYmxlTmFtZTtpLnZhbHVlPXEuVGFibGVOYW1lO20uYXBwZW5kQ2hpbGQoaSk7fSk7bC5hcHBlbmRDaGlsZChtKTt2YXIgaj1mYWxzZTt2YXIgbz10aGlzLmRhdGFTb3VyY2UuTWFzdGVyVGFibGUuVGFibGVOYW1lO2Zvcih2YXIgbj0wO248bC5vcHRpb25zLmxlbmd0aDsrK24pe3ZhciBwPWwub3B0aW9uc1tuXS52YWx1ZTtpZihvPT09cCl7bC5zZWxlY3RlZEluZGV4PW47aj10cnVlO2JyZWFrO319aWYoIWope289dGhpcy5kYXRhU291cmNlLlRhYmxlc1swXS5UYWJsZU5hbWU7fW89bC5vcHRpb25zW2wuc2VsZWN0ZWRJbmRleF0udmFsdWU7dGhpcy5tYWluVGFibGU9dGhpcy5kYXRhU291cmNlLlRhYmxlcy5maW5kKGZ1bmN0aW9uKGkpe3JldHVybiBpLlRhYmxlTmFtZT09PW87fSk7dGhpcy51cGRhdGVDaGlsZFRhYmxlRHJvcERvd24obyk7bC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZi5iaW5kKHRoaXMpKTtrLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlLmJpbmQodGhpcykpO307aC5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JBeGlzTGFiZWxzXCIpO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JWYWx1ZXNcIik7dGhpcy5kaWFsb2dEYXRhLmNoYXJ0TmFtZT1qLm9wdGlvbnNbai5zZWxlY3RlZEluZGV4XS52YWx1ZTt0aGlzLmRpYWxvZ0RhdGEuY2hhcnRBcmVhTmFtZT1pLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZTt0aGlzLmRpYWxvZ0RhdGEuc2VyaWVzTmFtZT1rLm9wdGlvbnNbay5zZWxlY3RlZEluZGV4XS52YWx1ZTt9fTtoLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3RoaXMucG9wdWxhdGVDb21ib2JveGVzKCk7fTtoLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihpKXthKFwiI3R4RGlhbG9nX2xibE1haW5UYmxcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX01BSU5fVEJMKTthKFwiI3R4RGlhbG9nX2xibENoaWxkVGJsXCIpLnRleHQoaS5TRVRfQ0hBUlRfREFUQV9SRUxfRExHX0xCTF9DSElMRF9UQkwpO2EoXCIjdHhEaWFsb2dfbGJsQXhpc0xibHNcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX0FYSVNfTEJMUyk7YShcIiN0eERpYWxvZ19sYmxWYWx1ZXNcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX1ZBTFVFUyk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaSk7fTtyZXR1cm4gaDt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IudHhEaWFsb2c9bnVsbDtiLlNlY3Rpb25Gb3JtYXREaWFsb2dUYWI9e01hcmdpbnNBbmRQYXBlcjowLEhlYWRlcnNBbmRGb290ZXJzOjEsQ29sdW1uczoyLEJvcmRlcnM6M307Yi5UYWJsZUZvcm1hdERpYWxvZ1RhYj17RnJhbWVBbmRDb2xvcjowLFNpemVBbmRGb3JtYXR0aW5nOjF9O2IuVHhEaWFsb2c9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChnLGksZSxmLGgpe3RoaXMuZGlhbG9nVHlwZT1mO3RoaXMuaW5pdGlhbEltYWdlPWc7dGhpcy5zaXplPWk7dGhpcy5jYXB0aW9uPWU7dGhpcy5kaWFsb2dDb250YWluZXI9bnVsbDt0aGlzLmRlcHRoPWg/aC5kZXB0aCsxOjA7dGhpcy5kaWFsb2dDb250YWluZXJJRD1cInR4RGxnQ29udGFpbmVyX1wiK3RoaXMuZGVwdGg7dGhpcy5wYXJlbnREaWFsb2c9aHx8bnVsbDt0aGlzLmNoaWxkRGlhbG9nPW51bGw7dGhpcy52aWV3ZXI9bnVsbDt0aGlzLmNhcmV0U3RhdGVCdWZmZXI9bnVsbDt0aGlzLmNhcmV0U3RhdGVDaGFuZ2VkQm91bmQ9dGhpcy5jYXJldFN0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpO3RoaXMuaW1hZ2VSZWNlaXZlZEJvdW5kPXRoaXMuaW1hZ2VSZWNlaXZlZC5iaW5kKHRoaXMpO3RoaXMuaW1hZ2VSZWdpb25zVXBkYXRlZEJvdW5kPXRoaXMuaW1hZ2VSZWdpb25zVXBkYXRlZC5iaW5kKHRoaXMpO3RoaXMuZGlhbG9nQ2xvc2VkQm91bmQ9dGhpcy5kaWFsb2dDbG9zZWQuYmluZCh0aGlzKTt0aGlzLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlckJvdW5kPXRoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyLmJpbmQodGhpcyk7aWYoIXRoaXMucGFyZW50RGlhbG9nKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGlhbG9nQ2FyZXRTdGF0ZUNoYW5nZWRcIix0aGlzLmNhcmV0U3RhdGVDaGFuZ2VkQm91bmQpO319ZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSxmKXtmPWZ8fGZhbHNlO2lmKCF0aGlzLnBhcmVudERpYWxvZyl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZ0NhcmV0U3RhdGVDaGFuZ2VkXCIsdGhpcy5jYXJldFN0YXRlQ2hhbmdlZEJvdW5kKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHhEaWFsb2dJbWFnZVJlY2VpdmVkXCIsdGhpcy5pbWFnZVJlY2VpdmVkQm91bmQpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0eERpYWxvZ0ltYWdlUmVnaW9uc1VwZGF0ZWRcIix0aGlzLmltYWdlUmVnaW9uc1VwZGF0ZWRCb3VuZCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR4RGlhbG9nQ2xvc2VkXCIsdGhpcy5kaWFsb2dDbG9zZWRCb3VuZCk7fWlmKCFmKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbG9zZURpYWxvZyx0aGlzLmRlcHRoKTt9YShlKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2lmKHRoaXMuZGlhbG9nQ29udGFpbmVyKXt0aGlzLmRpYWxvZ0NvbnRhaW5lci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZGlhbG9nQ29udGFpbmVyKTt9Yi5tb3VzZU93bmVyPW51bGw7aWYoIXRoaXMucGFyZW50RGlhbG9nKXtiLnR4RGlhbG9nPW51bGw7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX1lbHNle3RoaXMucGFyZW50RGlhbG9nLmNoaWxkRGlhbG9nPW51bGw7aWYoIWIuaXNUb3VjaERldmljZSl7dGhpcy5wYXJlbnREaWFsb2cuZm9jdXMoKTt9fX07ZC5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RGlhbG9nQ29udGVudFwiKTtnLmlkPWcuaWQrXCJfXCIrdGhpcy5kZXB0aDtnLndpZHRoPXRoaXMuc2l6ZS5XaWR0aDtnLmhlaWdodD10aGlzLnNpemUuSGVpZ2h0O3RoaXMudmlld2VyPW5ldyBiLkNvbXBvbmVudFZpZXdlcihnLGIuQ29tcG9uZW50VHlwZS5UeERpYWxvZyx0aGlzLmRpYWxvZ1R5cGUsdGhpcy5kZXB0aCx0cnVlKTt0aGlzLnZpZXdlci5zZXRJbWFnZSh0aGlzLmluaXRpYWxJbWFnZSk7ZGVsZXRlIHRoaXMuaW5pdGlhbEltYWdlO2lmKHRoaXMuY2FyZXRTdGF0ZUJ1ZmZlcil7dGhpcy52aWV3ZXIuc2V0Q2FyZXRTdGF0ZSh0aGlzLmNhcmV0U3RhdGVCdWZmZXIpO3RoaXMuY2FyZXRTdGF0ZUJ1ZmZlcj1udWxsO312YXIgZj1hKFwiI3R4RGlhbG9nXCIpLGk9Zi5jc3MoXCJtYXJnaW4tbGVmdFwiKSxlPXt3aWR0aDpmLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpLGNvbG9yOmYuY3NzKFwiYm9yZGVyLWxlZnQtY29sb3JcIiksc3R5bGU6Zi5jc3MoXCJib3JkZXItbGVmdC1zdHlsZVwiKX07Zi5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIsZS53aWR0aCk7Zi5jc3MoXCJib3JkZXItYm90dG9tLXN0eWxlXCIsZS5zdHlsZSk7Zi5jc3MoXCJib3JkZXItYm90dG9tLWNvbG9yXCIsZS5jb2xvcik7Zi5jc3MoXCJtYXJnaW4tYm90dG9tXCIsaSk7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eERpYWxvZ1wiKTtoLmlkPWguaWQrXCJfXCIrdGhpcy5kZXB0aDthKFwiZGl2LnR4dWktZGlhbG9nIGJ1dHRvbi50eHVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiKS5ibHVyKCk7aWYoIWIuaXNUb3VjaERldmljZSl7dGhpcy52aWV3ZXIuZm9jdXMoKTt9fTtkLnByb3RvdHlwZS5kaWFsb2dpemU9ZnVuY3Rpb24oZSl7dmFyIGY9dGhpczt0aGlzLmRpYWxvZ0NvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTt0aGlzLmRpYWxvZ0NvbnRhaW5lci5pbm5lckhUTUw9ZS5odG1sO2EoXCIjdHhEaWFsb2dcIikuZGlhbG9nKHttb2RhbDp0cnVlLHJlc2l6YWJsZTpmYWxzZSx3aWR0aDpcImF1dG9cIixoZWlnaHQ6XCJhdXRvXCIsdGl0bGU6dGhpcy5jYXB0aW9uLGJ1dHRvbnM6e30sY2xvc2U6ZnVuY3Rpb24oKXtmLmNsb3NlKHRoaXMpO30sfSk7aWYoIXRoaXMucGFyZW50RGlhbG9nKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHhEaWFsb2dJbWFnZVJlY2VpdmVkXCIsdGhpcy5pbWFnZVJlY2VpdmVkQm91bmQpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0eERpYWxvZ0ltYWdlUmVnaW9uc1VwZGF0ZWRcIix0aGlzLmltYWdlUmVnaW9uc1VwZGF0ZWRCb3VuZCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR4RGlhbG9nQ2xvc2VkXCIsdGhpcy5kaWFsb2dDbG9zZWRCb3VuZCk7fXRoaXMuZGlhbG9nUmVhZHkoKTt9O2QucHJvdG90eXBlLnNob3dDaGlsZERpYWxvZz1mdW5jdGlvbihmLGcsZSl7aWYodGhpcy5jaGlsZERpYWxvZyl7dGhpcy5jaGlsZERpYWxvZy5zaG93Q2hpbGREaWFsb2coZixnLGUpO31lbHNle3RoaXMuY2hpbGREaWFsb2c9bmV3IGQoZixnLGUsYi5UWERpYWxvZ1R5cGUuQ2hpbGREaWFsb2csdGhpcyk7dGhpcy5jaGlsZERpYWxvZy5zaG93TW9kYWwoKTt9fTtkLnByb3RvdHlwZS5jYXJldFN0YXRlQ2hhbmdlZD1mdW5jdGlvbihmKXt2YXIgZz1mLmRldGFpbDtpZih0aGlzLmRlcHRoPGcuUGFyYW0zKXt0aGlzLmNoaWxkRGlhbG9nLmNhcmV0U3RhdGVDaGFuZ2VkKGYpO31lbHNle2lmKGcuUGFyYW0yPT10aGlzLmRpYWxvZ1R5cGUpe2lmKHRoaXMudmlld2VyKXt0aGlzLnZpZXdlci5zZXRDYXJldFN0YXRlKGcuRGF0YSk7fWVsc2V7dGhpcy5jYXJldFN0YXRlQnVmZmVyPWcuRGF0YTt9fX19O2QucHJvdG90eXBlLmRpYWxvZ0Nsb3NlZD1mdW5jdGlvbihmKXt2YXIgZz1mLmRldGFpbDtpZih0aGlzLmRlcHRoPGcubmVzdGluZ0RlcHRoKXtpZih0aGlzLmNoaWxkRGlhbG9nKXt0aGlzLmNoaWxkRGlhbG9nLmRpYWxvZ0Nsb3NlZChmKTt9fWVsc2V7aWYoZy5kaWFsb2dUeXBlPT10aGlzLmRpYWxvZ1R5cGUpe3RoaXMuY2xvc2UoYShcIiN0eERpYWxvZ19cIit0aGlzLmRlcHRoKSx0cnVlKTt9fX07ZC5wcm90b3R5cGUuaW1hZ2VSZWNlaXZlZD1mdW5jdGlvbihmKXt2YXIgZz1mLmRldGFpbDtpZih0aGlzLmRlcHRoPGcuUGFyYW0zKXt0aGlzLmNoaWxkRGlhbG9nLmltYWdlUmVjZWl2ZWQoZik7fWVsc2V7aWYoZy5QYXJhbTI9PXRoaXMuZGlhbG9nVHlwZSl7aWYodGhpcy52aWV3ZXIpe3RoaXMudmlld2VyLnNldEltYWdlKGcuRGF0YSk7fX19fTtkLnByb3RvdHlwZS5pbWFnZVJlZ2lvbnNVcGRhdGVkPWZ1bmN0aW9uKGYpe3ZhciBnPWYuZGV0YWlsO2lmKHRoaXMuZGVwdGg8Zy5QYXJhbTMpe3RoaXMuY2hpbGREaWFsb2cuaW1hZ2VSZWdpb25zVXBkYXRlZChmKTt9ZWxzZXtpZihnLlBhcmFtMj09dGhpcy5kaWFsb2dUeXBlKXt0aGlzLnZpZXdlci51cGRhdGVJbWFnZVJlZ2lvbnMoZy5EYXRhLnRpbGVzKTt9fX07ZC5wcm90b3R5cGUucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyPWZ1bmN0aW9uKGYpe2lmKGYuZGV0YWlsLmRpYWxvZ1R5cGU9PWIuSFRNTERpYWxvZ1R5cGUuVHhEaWFsb2dGcmFtZSl7dGhpcy5kaWFsb2dpemUoZi5kZXRhaWwucmVzb3VyY2VzKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlhbG9nUmVzb3VyY2VzUmVjZWl2ZWRcIix0aGlzLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlckJvdW5kKTt9fTtkLnByb3RvdHlwZS5nZXRBY3RpdmVWaWV3ZXI9ZnVuY3Rpb24oKXtpZighdGhpcy5jaGlsZERpYWxvZyl7cmV0dXJuIHRoaXMudmlld2VyO31lbHNle3JldHVybiB0aGlzLmNoaWxkRGlhbG9nLmdldEFjdGl2ZVZpZXdlcigpO319O2QucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2hpbGREaWFsb2cpe3RoaXMudmlld2VyLmZvY3VzKCk7fWVsc2V7dGhpcy5jaGlsZERpYWxvZy5mb2N1cygpO319O2QucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXtpZighdGhpcy5jaGlsZERpYWxvZyl7dGhpcy52aWV3ZXIuYmx1cigpO31lbHNle3RoaXMuY2hpbGREaWFsb2cuYmx1cigpO319O2QucHJvdG90eXBlLnNob3dNb2RhbD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5pZD10aGlzLmRpYWxvZ0NvbnRhaW5lcklEO2UuYXBwZW5kQ2hpbGQoZik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRpYWxvZ1Jlc291cmNlc1JlY2VpdmVkXCIsdGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXJCb3VuZCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuR2V0RGlhbG9nUmVzb3VyY2VzLGIuSFRNTERpYWxvZ1R5cGUuVHhEaWFsb2dGcmFtZSk7fTtyZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O2IuQ29sb3JQYWxldHRlPVs0Mjc4MTkwMDgwLDQyODgyMzAxNDQsNDI4MTU0NTQ3Miw0Mjc4MjAzMTM2LDQyNzgyMDMyMzgsNDI3ODE5MDIwOCw0MjgxNTQ1NjI1LDQyODE1NDU1MjMsNDI4NjU3ODY4OCw0Mjk0OTI3ODcyLDQyODY2MTE0NTYsNDI3ODIyMjg0OCw0Mjc4MjIyOTc2LDQyNzgxOTAzMzUsNDI4NDkwMTAxNyw0Mjg2NjExNTg0LDQyOTQ5MDE3NjAsNDI5NDk0MDkyOCw0Mjg4MjY5MzEyLDQyODE1NzE2ODYsNDI4MTU4NDg0NCw0MjgxNTU4NzgzLDQyODY1Nzg4MTYsNDI4ODI1NjQwOSw0Mjk0OTAyMDE1LDQyOTQ5NTM5ODQsNDI5NDk2NzA0MCw0Mjc4MjU1MzYwLDQyNzgyNTU2MTUsNDI3ODI0MjU1OSw0Mjg4MjMwMjQ2LDQyOTA4MjIzMzYsNDI5NDk0MTEzMiw0Mjk0OTU0MTM3LDQyOTQ5NjcxOTMsNDI5MTYyNDkwOCw0MjkxNjI0OTU5LDQyODgyNjk1NjcsNDI5MTU5ODg0Nyw0Mjk0OTY3Mjk1XTtmdW5jdGlvbiBjKGYsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCI7aS5zdHlsZS53aWR0aD1cIjE2cHhcIjtpLnN0eWxlLmhlaWdodD1cIjE2cHhcIjtpLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO2kuc3R5bGUuY2xlYXI9ZT9cImxlZnRcIjpcIm5vbmVcIjtpLnN0eWxlLnBhZGRpbmc9XCIycHhcIjtpLnN0eWxlLm1hcmdpbkxlZnQ9ZT9cIjNweFwiOlwiMnB4XCI7aS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtpLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7aC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCI7aC5zdHlsZS53aWR0aD1cIjE0cHhcIjtoLnN0eWxlLmhlaWdodD1cIjE0cHhcIjtoLnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCBsaWdodGdyYXlcIjtoLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7aC5zdHlsZS5iYWNrZ3JvdW5kPWguc3R5bGUuY29sb3I9Yi50b0NTU0NvbG9yKGYpO2gudGV4dENvbnRlbnQ9XCIuXCI7Zy5hcHBlbmRDaGlsZChoKTtpLmFwcGVuZENoaWxkKGcpO3ZhciBqPWIudG9Db2xvck9iamVjdChmKTtpLnR4Q29sb3I9ajtpLmRhdGFzZXQudGFnPUpTT04uc3RyaW5naWZ5KGopO3JldHVybiBpO31iLm1ha2VTbWFsbENvbG9yQnV0dG9ucz1mdW5jdGlvbigpe3ZhciBnLGgsZT1bXTtmb3IoaD0wO2g8NTsrK2gpe2ZvcihnPTA7Zzw4OysrZyl7dmFyIGs9KDgqaCkrZzt2YXIgZj1iLkNvbG9yUGFsZXR0ZVtrXTtlLnB1c2goYyhmLChnPT0wKSkpO319cmV0dXJuIGU7fTtiLk1pbkNvbG9yUGlja2VyTWVudVdpZHRoPTE4MDtiLmdlbmVyYXRlQ29sb3JQYWxldHRlPWZ1bmN0aW9uKGgsail7dmFyIGcsZTtqPWp8fDA7aWYoIWgpe3JldHVybjt9aC5zdHlsZS5taW5XaWR0aD1iLk1pbkNvbG9yUGlja2VyTWVudVdpZHRoK1wicHhcIjtqPU1hdGgubWluKGguY2hpbGRyZW4ubGVuZ3RoLTEsaik7ZT1iLm1ha2VTbWFsbENvbG9yQnV0dG9ucygpO2ZvcihnPShlLmxlbmd0aC0xKTtnPj0wOy0tZyl7dmFyIGY9ZVtnXTtoLmluc2VydEJlZm9yZShmLGguY2hpbGRyZW5bal0pO319O2IudG9DU1NDb2xvcj1mdW5jdGlvbihnKXt2YXIgZT1iLnRvQ29sb3JPYmplY3QoZyksZj1cInJnYmEoXCIrZS5yK1wiLCBcIitlLmcrXCIsIFwiK2UuYitcIiwgXCIrKGUuYS8yNTUpK1wiKVwiO3JldHVybiBmO307Yi50b0NvbG9yT2JqZWN0PWZ1bmN0aW9uKGYpe3ZhciBlPXthOihmPj4+MjQpLHI6KGY+Pj4xNikmMjU1LGc6KGY+Pj44KSYyNTUsYjpmJjI1NX07cmV0dXJuIGU7fTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1kLnJpYmJvblBlcm1pc3Npb25zVGFiPWQucmliYm9uUGVybWlzc2lvbnNUYWJ8fHt9O2IucmliYm9uUGVybWlzc2lvbnNUYWI9e2FsbG93QWRkaXRpb25hbFVzZXJOYW1lczp0cnVlLHJlZ2lzdGVyZWRVc2VyTmFtZXM6W119O2IuUmliYm9uVGFiVHlwZT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcImFsbG93QWRkaXRpb25hbFVzZXJOYW1lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5yaWJib25QZXJtaXNzaW9uc1RhYi5hbGxvd0FkZGl0aW9uYWxVc2VyTmFtZXM7fSxzZXQ6ZnVuY3Rpb24oYWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzKXtpZih0eXBlb2YgYWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2V0UmliYm9uVGFiUHJvcGVydHksYi5SaWJib25UYWJUeXBlLlJpYmJvblBlcm1pc3Npb25zVGFiLDAsMCx7cHJvcGVydHlOYW1lOlwiYWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzXCIsdmFsdWU6YWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzfSk7Yi5yaWJib25QZXJtaXNzaW9uc1RhYi5hbGxvd0FkZGl0aW9uYWxVc2VyTmFtZXM9YWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsXCJyZWdpc3RlcmVkVXNlck5hbWVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLnJpYmJvblBlcm1pc3Npb25zVGFiLnJlZ2lzdGVyZWRVc2VyTmFtZXM7fSxzZXQ6ZnVuY3Rpb24ocmVnaXN0ZXJlZFVzZXJOYW1lcyl7aWYoKHJlZ2lzdGVyZWRVc2VyTmFtZXM9PT1udWxsKXx8KHJlZ2lzdGVyZWRVc2VyTmFtZXMuY29uc3RydWN0b3IhPT1BcnJheSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJyZWdpc3RlcmVkVXNlck5hbWVzXCIgbXVzdCBiZSBhbiBhcnJheS5cXCcpO31yZWdpc3RlcmVkVXNlck5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoKHR5cGVvZiBlIT09XCJzdHJpbmdcIikmJiEoZSBpbnN0YW5jZW9mIFN0cmluZykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJyZWdpc3RlcmVkVXNlck5hbWVzXCIgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLlxcJyk7fX0pO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldFJpYmJvblRhYlByb3BlcnR5LGIuUmliYm9uVGFiVHlwZS5SaWJib25QZXJtaXNzaW9uc1RhYiwwLDAse3Byb3BlcnR5TmFtZTpcInJlZ2lzdGVyZWRVc2VyTmFtZXNcIix2YWx1ZTpyZWdpc3RlcmVkVXNlck5hbWVzfSk7Yi5yaWJib25QZXJtaXNzaW9uc1RhYi5yZWdpc3RlcmVkVXNlck5hbWVzPXJlZ2lzdGVyZWRVc2VyTmFtZXM7fSxlbnVtZXJhYmxlOnRydWV9KTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTtiLnJpYmJvblN0cmluZ1Jlc291cmNlcz17fTtiLnNldFJpYmJvblN0cmluZ3M9ZnVuY3Rpb24oKXt2YXIgZz1iLnJpYmJvblN0cmluZ1Jlc291cmNlcztmb3IodmFyIGYgaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShmKSl7aWYodHlwZW9mIGdbZl09PT1cInN0cmluZ1wiKXtnW2ZdPWdbZl0ucmVwbGFjZSgvXFxcXHI/XFxcXG4vZyxcIjxicj5cIik7fX19Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFiRmlsZVwiKTtpZihlKXtlLnRleHRDb250ZW50PWUuZGF0YXNldC50ZXh0PWcuUklCQk9OX01OVV9GSUxFX1RJVExFO31jKFwiZmlsZU1udUl0ZW1OZXdcIixnLlJJQkJPTl9NTlVfRklMRV9ORVcpO2MoXCJmaWxlTW51SXRlbU9wZW5cIixnLlJJQkJPTl9NTlVfRklMRV9PUEVOKTtjKFwiZmlsZU1udUl0ZW1TYXZlXCIsZy5SSUJCT05fTU5VX0ZJTEVfU0FWRSk7YyhcImZpbGVNbnVJdGVtU2F2ZUFzXCIsZy5SSUJCT05fTU5VX0ZJTEVfU0FWRV9BUyk7YyhcImZpbGVNbnVJdGVtUHJpbnRUb1BERlwiLGcuUklCQk9OX01OVV9GSUxFX1BSSU5UKTtjKFwiZmlsZU1udUl0ZW1PcHRpb25zXCIsZy5SSUJCT05fTU5VX0ZJTEVfT1BUSU9OUyk7fTtmdW5jdGlvbiBjKGgsaSl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaCk7aWYoIWYpe3JldHVybjt9dmFyIGU9Zi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGFyZ2UtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO2lmKCFlLmxlbmd0aCl7Y29uc29sZS5lcnJvcihcIk1lbnUgaXRlbSBjYXB0aW9uIGNvbnRhaW5lciBkaXYgbm90IGZvdW5kLlwiKTtyZXR1cm47fXZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJQXCIpO2cudGV4dENvbnRlbnQ9aTtlWzBdLmFwcGVuZENoaWxkKGcpO31yZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGFsLGEpe3ZhciBkPWFsLl9wcml2YXRlPWFsLl9wcml2YXRlfHx7fTt2YXIgYj1udWxsO2QuQXBwbGljYXRpb25Nb2RlPU9iamVjdC5mcmVlemUoe05vcm1hbDowLE1haWxNZXJnZVByZXZpZXc6MSx9KTtkLkVkaXRNb2RlPU9iamVjdC5mcmVlemUoe0VkaXQ6MSxSZWFkQW5kU2VsZWN0OjIsUmVhZE9ubHk6MyxVc2VQYXNzd29yZDoyMDQ4fSk7ZC5NZW51VHlwZT1PYmplY3QuZnJlZXplKHtJbnNlcnRTaGFwZXM6MSxJbnNlcnRDaGFydDoyfSk7ZC5SaWJib25NZW51SXRlbVR5cGU9T2JqZWN0LmZyZWV6ZSh7RGVmYXVsdDowLENhdGVnb3J5OjEsU3ltYm9sOjIsQ29sb3JQaWNrZXI6MyxUYWJsZVdpemFyZDo0LENoZWNrTWFyazo1LEltYWdlVXBsb2FkZXI6NixMaXN0VHlwZV9CdWxsZXQ6NyxMaXN0VHlwZV9OdW1iZXI6OH0pO2QuUmliYm9uR3JvdXBFbGVtZW50VHlwZT17fTtkLlJpYmJvbkNvbnRyb2xUeXBlPXt9O2QuUmliYm9uTWVudUl0ZW1TaXplPXt9O2QuUmliYm9uQnV0dG9uU2l6ZT17fTtkLlJpYmJvbk1lbnVFdmVudFR5cGU9e307ZC5SaWJib25CdXR0b25TaXplPXt9O2QuUmliYm9uQnV0dG9uRXZlbnRUeXBlPXt9O2QuUmliYm9uQ29udHJvbFN0YXRlVHlwZT17fTtkLlJpYmJvbkJ1dHRvblN0YXRlVHlwZT17fTtkLlJpYmJvbk1lbnVJdGVtQm9yZGVyPXt9O2QuUmliYm9uTWVudUl0ZW1TdGF0ZVR5cGU9e307ZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlPXt9O2QuUmliYm9uVGV4dEJveFN0YXRlVHlwZT17fTtkLkxpc3RCb3hFdmVudFR5cGU9e307ZC5MaXN0SXRlbVN0YXRlVHlwZT17fTtkLkxpc3RCb3hTdGF0ZVR5cGU9e307ZC5JbnB1dENvbnRyb2xFdmVudFR5cGU9e307ZC5Db21ib0JveFN0YXRlVHlwZT17fTtkLkNvbWJvQm94Q29tbWFuZD17fTtkLkltYWdlS2luZD17fTtkLmpRdWVyeU1lbnVzPXt9O3ZhciBjPVtdO3ZhciBmPVwiXCI7ZC5hcHBNb2RlPWQuQXBwbGljYXRpb25Nb2RlLk5vcm1hbDt2YXIgZz0wO3ZhciBlPW51bGw7ZC5pc1JpYmJvblZpc2libGU9dHJ1ZTtkLmlzUmliYm9uQmFyUmVtb3ZlZD1mYWxzZTtkLmVkaXRNb2RlQ3VyPWQuRWRpdE1vZGUuRWRpdDt2YXIgaD1cIlwiO2QuUGxhY2Vob2xkZXJJbWFnZT1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtTmdZQUFBQUFNQUFTc0pUWVFBQUFBQVNVVk9SSzVDWUlJPVwiO2Z1bmN0aW9uIFQoKXt2YXIgYW49ZnVuY3Rpb24oKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5OZXdGaWxlKTtkLnN3aXRjaFRhYnMoYShcIiN0YWJEZWZhdWx0XCIpKTthKFwiI2ZpbGVNbnVJdGVtU2F2ZVwiKS5hZGRDbGFzcyhcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fTtpZihkLmRvY3VtZW50RGlydHkpe2QuZmlsZVNhdmVRdWVzdGlvbihhbik7fWVsc2V7YW4oKTt9fWQuaW5pdFJpYmJvbj1mdW5jdGlvbigpe2QuZmlsZU1lbnU9YShcIiNmaWxlTWVudVwiKS5tZW51KCkuaGlkZSgpO2EoXCIjZmlsZU1lbnVcIikub24oXCJtZW51c2VsZWN0XCIsVSk7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmVxdWVzdFJpYmJvblRhYnMpO307ZnVuY3Rpb24gVShhbixhbyl7c3dpdGNoKGFvLml0ZW0uY29udGV4dC5pZCl7Y2FzZVwiZmlsZU1udUl0ZW1PcGVuXCI6ZC5vcGVuRmlsZSgpO2JyZWFrO2Nhc2VcImZpbGVNbnVJdGVtU2F2ZVwiOmFjKCk7YnJlYWs7Y2FzZVwiZmlsZU1udUl0ZW1TYXZlQXNcIjphZCgpO2JyZWFrO2Nhc2VcImZpbGVNbnVJdGVtTmV3XCI6VCgpO2JyZWFrO2Nhc2VcImZpbGVNbnVJdGVtUHJpbnRUb1BERlwiOmQucHJpbnQoKTticmVhaztjYXNlXCJmaWxlTW51SXRlbU9wdGlvbnNcIjphaygpO2JyZWFrO319ZC5vcGVuRmlsZT1mdW5jdGlvbihhcCxhbil7YXA9YXB8fGQuRmlsZVR5cGUuRG9jdW1lbnQ7YW49YW58fGQuQ29tbWFuZC5PcGVuRmlsZTt2YXIgYW89ZnVuY3Rpb24oKXt2YXIgYXE9bmV3IGQuT3BlbkZpbGVEaWFsb2coZC5Db21tYW5kLk9wZW5GaWxlLGFwKTthcS5zaG93TW9kYWwoKTt9O2lmKChhcD09ZC5GaWxlVHlwZS5Eb2N1bWVudCkmJmQuZG9jdW1lbnREaXJ0eSl7ZC5maWxlU2F2ZVF1ZXN0aW9uKGFvKTt9ZWxzZXthbygpO319O2Z1bmN0aW9uIGFjKCl7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuU2F2ZSk7fWZ1bmN0aW9uIGFkKCl7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuU2hvd0RpYWxvZyxkLkRpYWxvZ0NhdGVnb3J5LkhUTUxEaWFsb2csZC5IVE1MRGlhbG9nVHlwZS5TYXZlRG9jdW1lbnRBc0RpYWxvZyk7fWZ1bmN0aW9uIFYoYW4pe2lmKGFuLmF0dHIoXCJpZFwiKT09XCJ0YWJGaWxlXCIpe2FqKGFuKTtyZXR1cm4gZmFsc2U7fWVsc2V7ZC5zd2l0Y2hUYWJzKGFuKTt9fWZ1bmN0aW9uIGFqKGFvKXtkLmhpZGVBbGxPdGhlck1lbnVzKCk7dmFyIGFuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZU1lbnVcIik7aWYoIWFuKXtyZXR1cm47fWQuY2FsY01lbnVXaWR0aHMoYW4pO2QuZmlsZU1lbnUuc2hvdygpLnBvc2l0aW9uKHtteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLG9mOmFvfSk7YShkb2N1bWVudCkub25lKFwiY2xpY2tcIixmdW5jdGlvbigpe2QuZmlsZU1lbnUuaGlkZSgpO30pO31mdW5jdGlvbiBhaygpe2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlNob3dEaWFsb2csZC5EaWFsb2dDYXRlZ29yeS5IVE1MRGlhbG9nLGQuSFRNTERpYWxvZ1R5cGUuT3B0aW9uc0RpYWxvZyk7fWZ1bmN0aW9uIE0oYW8pe3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTtpZihhbi5jbGllbnRXaWR0aD4zMil7cmV0dXJuIGFuLmNsaWVudFdpZHRoO31yZXR1cm4gMDt9ZC51cGRhdGVSaWJib25UYWJDb250ZW50T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIGFvPU0oZik7aWYoKGc8MCkmJihhbytnKTxkLmNsaWVudFNpemUuV2lkdGgpe3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTt2YXIgYXA9TWF0aC5taW4oMCwoZC5jbGllbnRTaXplLldpZHRoLWFvKSk7YW4uc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiK2FwK1wicHgsIDBweClcIjtnPWFwO319O2QudXBkYXRlUmliYm9uU2Nyb2xsQXJyb3dzPWZ1bmN0aW9uKCl7dmFyIGF1PU0oZik7dmFyIGFwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25TY3JvbGxCdXR0b25SaWdodFwiKTt2YXIgYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvblNjcm9sbEJ1dHRvbkxlZnRcIik7dmFyIGF0PWFwLmNsaWVudFdpZHRoO3ZhciBhbz1kLmNsaWVudFNpemUuV2lkdGgtYXQ7YXAuc3R5bGUubGVmdD1hbytcInB4XCI7dmFyIGFxPShnPDApO3ZhciBhcj0oZC5jbGllbnRTaXplLldpZHRoPChhdStnKSk7YW4uc3R5bGUub3BhY2l0eT1hcT9cIlwiOjA7YXAuc3R5bGUub3BhY2l0eT1hcj9cIlwiOjA7fTtkLnVwZGF0ZVJpYmJvbkhpZGVCdXR0b25Qb3M9ZnVuY3Rpb24oKXt2YXIgYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eEJ0blJpYmJvbkhpZGVcIik7dmFyIGFwPWFuLmNsaWVudFdpZHRoO3ZhciBhbz1kLmNsaWVudFNpemUuV2lkdGgtYXAtNTthbi5zdHlsZS5sZWZ0PWFvK1wicHhcIjt9O2QuYWRhcHRSaWJib25UYWJXaWR0aHM9ZnVuY3Rpb24oKXt2YXIgYXQsYXksYXo9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdiNyaWJib25iYXIgPiB1bC50YWJzID4gbGkgPiBhXCIpLGFyPTIyLGFuLGF1LGF2LGFvLGF3LGFwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpLGFxPWFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGF6PVtdLmZpbHRlci5jYWxsKGF6LGZ1bmN0aW9uKGFCKXtyZXR1cm4gYUIuc3R5bGUuZGlzcGxheSE9PVwibm9uZVwiO30pO2lmKCFhenx8YXoubGVuZ3RoPT09MCl7cmV0dXJuO31hei5zb3J0KGZ1bmN0aW9uKGFCLGFDKXtyZXR1cm4gYUIub2Zmc2V0TGVmdC1hQy5vZmZzZXRMZWZ0O30pO2FvPWQuY2xpZW50U2l6ZS5XaWR0aC1hcjthdz1helthei5sZW5ndGgtMV07YUEoKTtpZihhdj5hbyl7Zm9yKGF0PWF6Lmxlbmd0aC0xO2F0Pj0wOy0tYXQpe2F5PWF6W2F0XTthQSgpO2lmKGF2PmFvKXtheCgpO31lbHNle2JyZWFrO319fWVsc2V7Zm9yKGF0PTA7YXQ8YXoubGVuZ3RoOysrYXQpe2F5PWF6W2F0XTtpZighYXkuZGF0YXNldC53YXNTaHJ1bmspe2NvbnRpbnVlO31hQSgpO2lmKGF2PGFvKXtheS50ZXh0Q29udGVudD1heS5kYXRhc2V0LnRleHQ7YUEoKTtpZihhdj5hbyl7YXgoKTticmVhazt9ZGVsZXRlIChheS5kYXRhc2V0Lndhc1NocnVuayk7YXkudGl0bGU9XCJcIjt9fX1mdW5jdGlvbiBheCgpe2lmKCFheS5kYXRhc2V0LnRleHQpe3JldHVybjt9YXkudGV4dENvbnRlbnQ9YXkuZGF0YXNldC50ZXh0LnN1YnN0cmluZygwLDEpK1wi4oCmXCI7YXkudGl0bGU9YXkuZGF0YXNldC50ZXh0O2F5LmRhdGFzZXQud2FzU2hydW5rPXRydWU7fWZ1bmN0aW9uIGFBKCl7YW49YXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YXU9YW4ubGVmdC1hcS5sZWZ0O2F2PWF1K2FuLndpZHRoO319O2QucmVzZXRSaWJib25UYWJDb250ZW50UG9zPWZ1bmN0aW9uKCl7Zz0wO3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTthbi5zdHlsZS50cmFuc2Zvcm09bnVsbDtkLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO307ZnVuY3Rpb24gYWgoYXApe3ZhciBhbyxhbj1udWxsO2FvPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmliYm9uYmFyID4gdWwudGFicyA+IGxpID4gYVtyZWw9XFwnXCIrYXArXCJcXCddXCIpO2lmKGFvKXthbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhbyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC1jb2xvclwiKTt9YW89ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0eFJpYmJvbkNvbnRlbnRBcmVhXCIpO2FvLnN0eWxlLmJvcmRlclRvcD0oYW4hPT1udWxsKT9cIjFweCBzb2xpZCBcIithbjpcIlwiO31kLlJpYmJvblRhYkluZGV4Q2hhbmdlZEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBhbihuYW1lKXt0aGlzLm5hbWU9bmFtZTt9cmV0dXJuIGFuO30pKCk7ZC5zd2l0Y2hUYWJzPWZ1bmN0aW9uKGFwKXtkLnNob3dSaWJib25CYXIodHJ1ZSk7YShcIiN0eFJpYmJvblRhYkNvbnRlbnRDb250YWluZXIgZGl2LnRhYi1jb250ZW50XCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIik7YShcIiNyaWJib25iYXIgdWwudGFicyBhXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7dmFyIGFvPWFwLmF0dHIoXCJyZWxcIik7YShcIiNcIithbykuY3NzKFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpO2FwLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7YWgoYW8pO2Y9YW87ZC5yZXNldFJpYmJvblRhYkNvbnRlbnRQb3MoKTtkLnNldERsZ0xhdW5jaGVyUG9zKCk7dmFyIGFxPWFwLmF0dHIoXCJpZFwiKTtpZihhcSE9PWgpe3ZhciBhbj1uZXcgZC5SaWJib25UYWJJbmRleENoYW5nZWRFdmVudEFyZ3MoYXEpO2QuZmlyZUV2ZW50KGQuRXZlbnROYW1lLnJpYmJvblRhYkluZGV4Q2hhbmdlZCxhbik7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uVGFiQ2hhbmdlZCwwLDAsMCx7dGFiSUQ6YXF9KTtoPWFxO319O2Z1bmN0aW9uIE4oYW4pe3JldHVybihhbi5vZmZzZXRQYXJlbnQ9PT1udWxsKTt9ZC5zZXREbGdMYXVuY2hlclBvcz1mdW5jdGlvbigpe3ZhciBhbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnJpYmJvbi1ncm91cCBpbWcudHhEaWFsb2dMYXVuY2hlclwiKTt2YXIgYXQ9ZC5pc1RvdWNoRGV2aWNlPygtMSk6MTtpZihkLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRmlyZWZveFwiKXthdCs9Mzt9Zm9yKHZhciBhcT0wO2FxPGFvLmxlbmd0aDsrK2FxKXt2YXIgYW49YW9bYXFdO3ZhciBhcD1hbi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO2lmKCFOKGFuKSYmIWFuLnN0eWxlLm1hcmdpbkxlZnQpe3ZhciBhcj1wYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGFuLnBhcmVudEVsZW1lbnQpLnBhZGRpbmdMZWZ0LDEwKTt2YXIgYXU9YW4ucGFyZW50RWxlbWVudC5jbGllbnRXaWR0aDthbi5zdHlsZS5tYXJnaW5MZWZ0PWF1LWFuLmNsaWVudFdpZHRoLWFyLTErXCJweFwiO2FuLnN0eWxlLm1hcmdpblRvcD0tKGQucmliYm9uQmFySGVpZ2h0LWFwLm9mZnNldFRvcCkrYXQrXCJweFwiO2FuLnN0eWxlLm9wYWNpdHk9XCJcIjt9fX07ZC5yaWJib25UYWJzTG9hZGVkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChkLnNldERsZ0xhdW5jaGVyUG9zLDEwMDApO2FnKCk7ZC5zZXRSaWJib25TdHJpbmdzKCk7ZC51cGRhdGVSaWJib25TY3JvbGxBcnJvd3MoKTtkLmZpcmVFdmVudChkLkV2ZW50TmFtZS5yaWJib25UYWJzTG9hZGVkKTt9O2Z1bmN0aW9uIGFnKCl7dmFyIGFuO2FuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZU1udUl0ZW1OZXcgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGFuKXthbi5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5uZXdwYWdlO31hbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbGVNbnVJdGVtT3BlbiBkaXYubGFyZ2UtbWVudS1pdGVtLWltYWdlLWNvbnRhaW5lciBpbWdcIik7aWYoYW4pe2FuLnNyYz1kLmltYWdlUmVzb3VyY2VzLmxhcmdlLm9wZW47fWFuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZU1udUl0ZW1TYXZlIGRpdi5sYXJnZS1tZW51LWl0ZW0taW1hZ2UtY29udGFpbmVyIGltZ1wiKTtpZihhbil7YW4uc3JjPWQuaW1hZ2VSZXNvdXJjZXMubGFyZ2Uuc2F2ZTt9YW49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbVNhdmVBcyBkaXYubGFyZ2UtbWVudS1pdGVtLWltYWdlLWNvbnRhaW5lciBpbWdcIik7aWYoYW4pe2FuLnNyYz1kLmltYWdlUmVzb3VyY2VzLmxhcmdlLnNhdmVhczt9YW49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbVByaW50VG9QREYgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGFuKXthbi5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5wcmludDt9YW49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbU9wdGlvbnMgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGFuKXthbi5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5vcHRpb25zO312YXIgYW89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgZGl2LnNpZGViYXIgaW1nLmNsb3NlYnRuXCIpO1tdLmZvckVhY2guY2FsbChhbyxmdW5jdGlvbihhcCl7YXAuc3JjPWQuaW1hZ2VSZXNvdXJjZXMuc21hbGwuY2xvc2U7fSk7YW89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgZGl2LnNpZGViYXIgaW1nLnJlZnJlc2hidG5cIik7W10uZm9yRWFjaC5jYWxsKGFvLGZ1bmN0aW9uKGFwKXthcC5zcmM9ZC5pbWFnZVJlc291cmNlcy5zbWFsbC5yZWZyZXNoO30pO2FuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhBcnJvd1JpYmJvbkhpZGVXcmFwcGVyXCIpO2lmKGFuKXthbi5zcmM9ZC5pbWFnZVJlc291cmNlcy5zbWFsbC5jaGV2cm9uX3VwO319ZC5zZXRFZGl0TW9kZT1mdW5jdGlvbihhbil7ZC5lZGl0TW9kZUN1cj1hbjt9O2Z1bmN0aW9uIGFtKGFuKXt2YXIgYW89YW4uZGV0YWlsO2lmKGFvLnNob3cmJiFiKXtiPW5ldyBkLldhaXREaWFsb2coKTtiLnNob3dNb2RhbChhby5yZXNvdXJjZXMpO31lbHNle2lmKCFhby5zaG93JiZiKXtiLmNsb3NlKGEoXCIjd2FpdERpYWxvZ1wiKSk7Yj1udWxsO319fWZ1bmN0aW9uIGFhKGFyLGF0KXtpZihhciYmKGFyLnN0eWxlLm9wYWNpdHkhPT1cIlwiKSl7cmV0dXJuO312YXIgYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvblRhYkNvbnRlbnRDb250YWluZXJcIik7dmFyIGFvPWFuLmNsaWVudFdpZHRoO3ZhciBhcT0oYW8rZyktZC5jbGllbnRTaXplLldpZHRoO3ZhciBhcD0tTWF0aC5taW4oYXEsZC5jbGllbnRTaXplLldpZHRoKTtpZihhdCl7YW4uc3R5bGUudHJhbnNpdGlvbj1cInRyYW5zZm9ybSAwc1wiO31hbi5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGcrYXApK1wicHgsIDBweClcIjtnKz1hcDtkLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO2lmKGF0KXthbi5zdHlsZS50cmFuc2l0aW9uPVwiXCI7fX1mdW5jdGlvbiBaKGFxLGFyKXtpZihhcSYmKGFxLnN0eWxlLm9wYWNpdHkhPT1cIlwiKSl7cmV0dXJuO312YXIgYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvblRhYkNvbnRlbnRDb250YWluZXJcIik7dmFyIGFwPS1nO3ZhciBhbz1NYXRoLm1pbihhcCxkLmNsaWVudFNpemUuV2lkdGgpO2lmKGFyKXthbi5zdHlsZS50cmFuc2l0aW9uPVwidHJhbnNmb3JtIDBzXCI7fWFuLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIisoZythbykrXCJweCwgMHB4KVwiO2crPWFvO2QudXBkYXRlUmliYm9uU2Nyb2xsQXJyb3dzKCk7aWYoYXIpe2FuLnN0eWxlLnRyYW5zaXRpb249XCJcIjt9fWZ1bmN0aW9uIFkoYW4pe3N3aXRjaChhbi50YXJnZXQuaWQpe2Nhc2VcInR4UmliYm9uU2Nyb2xsQnV0dG9uUmlnaHRcIjphYShhbi50YXJnZXQpO2JyZWFrO2Nhc2VcInR4QmxhY2tUcmlhbmdsZVJcIjppZihhbi50YXJnZXQucGFyZW50RWxlbWVudC5pZD09XCJ0eFJpYmJvblNjcm9sbEJ1dHRvblJpZ2h0XCIpe2FhKGFuLnRhcmdldC5wYXJlbnRFbGVtZW50KTt9YnJlYWs7Y2FzZVwidHhSaWJib25TY3JvbGxCdXR0b25MZWZ0XCI6Wihhbi50YXJnZXQpO2JyZWFrO2Nhc2VcInR4QmxhY2tUcmlhbmdsZUxcIjppZihhbi50YXJnZXQucGFyZW50RWxlbWVudC5pZD09XCJ0eFJpYmJvblNjcm9sbEJ1dHRvbkxlZnRcIil7Wihhbi50YXJnZXQucGFyZW50RWxlbWVudCk7fWJyZWFrO319ZnVuY3Rpb24gYWIoYW4pe2lmKGQuaXNSaWJib25WaXNpYmxlKXtkLnNob3dSaWJib25CYXIoZmFsc2UpO31lbHNle2Quc2hvd1JpYmJvbkJhcih0cnVlKTt9fWQuZmFkZUluUmliYm9uPWZ1bmN0aW9uKCl7dmFyIGFuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25Db3ZlclwiKTtpZighYW4pe3JldHVybjt9YW4uc3R5bGUub3BhY2l0eT1cIjBcIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YW4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChhbik7fSwxMDAwKTt9O2Quc2hvd1JpYmJvbkJhcj1mdW5jdGlvbihzaG93KXtpZih0eXBlb2Ygc2hvdz09PVwidW5kZWZpbmVkXCIpe3Nob3c9dHJ1ZTt9c2hvdz0hIXNob3c7aWYoKGQuaXNSaWJib25WaXNpYmxlPT1zaG93KXx8ZC5pc1JpYmJvbkJhclJlbW92ZWQpe3JldHVybjt9dmFyIGFxPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmliYm9uYmFyXCIpO3ZhciBhcD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JpYmJvbmJhciB1bC50YWJzXCIpO3ZhciBhbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnJpYmJvbi1ncm91cCBpbWcudHhEaWFsb2dMYXVuY2hlclwiKTt2YXIgYW87aWYoIXNob3cpe2U9e21lbnVCYWNrZ3JvdW5kOmFwLnN0eWxlLmJhY2tncm91bmQscmliYm9uQmFyT3ZlcmZsb3c6YXEuc3R5bGUub3ZlcmZsb3csfTthcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwiO2FxLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7YXEuc3R5bGUuaGVpZ2h0PWFwLmNsaWVudEhlaWdodCtcInB4XCI7ZC5yaWJib25CYXJIZWlnaHQ9YXAuY2xpZW50SGVpZ2h0O2Zvcihhbz0wO2FvPGFuLmxlbmd0aDsrK2FvKXthblthb10uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9YShcIiN0eEFycm93UmliYm9uSGlkZVdyYXBwZXJcIikuYWRkQ2xhc3MoXCJkb3duXCIpO2QuaXNSaWJib25WaXNpYmxlPWZhbHNlO31lbHNle2lmKGUhPT1udWxsKXthcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZS5tZW51QmFja2dyb3VuZDthcS5zdHlsZS5vdmVyZmxvdz1lLnJpYmJvbkJhck92ZXJmbG93O2FxLnN0eWxlLmhlaWdodD1cIlwiO2QucmliYm9uQmFySGVpZ2h0PWQuREVGQVVMVF9SSUJCT05CQVJfSEVJR0hUO2EoXCIjdHhBcnJvd1JpYmJvbkhpZGVXcmFwcGVyXCIpLnJlbW92ZUNsYXNzKFwiZG93blwiKTtmb3IoYW89MDthbzxhbi5sZW5ndGg7Kythbyl7YW5bYW9dLnN0eWxlLmRpc3BsYXk9XCJcIjt9ZC5pc1JpYmJvblZpc2libGU9dHJ1ZTt9fWQucmVzZXRSaWJib25UYWJDb250ZW50UG9zKCk7ZC5hZGFwdFZpZXdUb0NvbnRhaW5lclNpemUoKTt9O2QuYWRkUmliYm9uVGFicz1mdW5jdGlvbihhbil7YW4uZm9yRWFjaChmdW5jdGlvbihhbyl7eShhbyk7fSk7YShcInVsLnRhYnMgYVwiKS5jbGljayhmdW5jdGlvbigpe3JldHVybiBWKGEodGhpcykpO30pO2Quc3dpdGNoVGFicyhhKFwiI3RhYkRlZmF1bHRcIikpO2QuYWRhcHRSaWJib25UYWJXaWR0aHMoKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2FpdERpYWxvZ01lc3NhZ2VSZWNlaXZlZFwiLGFtKTthKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciAudHhSaWJib25TY3JvbGxBcnJvd1wiKS5jbGljayhZKTthKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciAudHhUcmlhbmdsZVwiKS5jbGljayhZKTthKFwiI3R4QnRuUmliYm9uSGlkZVwiKS5jbGljayhhYik7fTtmdW5jdGlvbiB5KGFxKXt2YXIgYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXEubmFtZSk7dmFyIGF0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjdHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyIHVsLnRhYnNcIik7aWYoIWF0KXt0aHJvdyBuZXcgRXJyb3IoXCJNc3NpbmcgcmliYm9uIHRhYiBoZWFkZXIgY29udGFpbmVyLiBDYW5ub3QgY3JlYXRlIHJpYmJvbiB0YWJzLlwiKTt9dmFyIGFwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25UYWJDb250ZW50Q29udGFpbmVyXCIpO2lmKCFhcCl7dGhyb3cgbmV3IEVycm9yKFwiTXNzaW5nIHJpYmJvbiB0YWIgY29udGVudCBjb250YWluZXIuIENhbm5vdCBjcmVhdGUgcmliYm9uIHRhYnMuXCIpO312YXIgYW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO3ZhciBhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTthci5pZD1hcS50YWJIZWFkZXJOYW1lO2FyLnJlbD1hcS5uYW1lO2FyLnRhYkluZGV4PS0xO2FyLnRleHRDb250ZW50PWFyLmRhdGFzZXQudGV4dD1hcS50aXRsZTthby5hcHBlbmRDaGlsZChhcik7YXQuYXBwZW5kQ2hpbGQoYW8pO2FuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YW4uY2xhc3NMaXN0LmFkZChcInRhYi1jb250ZW50XCIpO2FuLmlkPWFxLm5hbWU7YXAuYXBwZW5kQ2hpbGQoYW4pO2FxLmdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGF1KXtkLmFkZFJpYmJvbkdyb3VwKGFuLGF1KTt9KTtpZighYXEudmlzaWJsZSl7YShcIiNcIithci5pZCkuaGlkZSgpO31kLmFkYXB0UmliYm9uVGFiV2lkdGhzKCk7fWQuYWRkUmliYm9uR3JvdXA9ZnVuY3Rpb24oYW8sYXApe3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcC5uYW1lKTtpZighYW4pe2FuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YW4uaWQ9YXAubmFtZTthbi5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWdyb3VwXCIpO2FuLmRhdGFzZXQuYXBwbGljYXRpb25tb2Rlcz1cIjBcIjthby5hcHBlbmRDaGlsZChhbik7fWQucG9wdWxhdGVSaWJib25Hcm91cChhbixhcCk7fTtkLnBvcHVsYXRlUmliYm9uR3JvdXA9ZnVuY3Rpb24oYW8sYXIpe2FvLmlubmVySFRNTD1cIlwiO3ZhciBhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FuLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZ3JvdXAtY29udGVudFwiKTthby5hcHBlbmRDaGlsZChhbik7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXAuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1ncm91cC1sYWJlbC1jb250YWluZXJcIik7YW8uYXBwZW5kQ2hpbGQoYXApO3ZhciBhcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTthcS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWdyb3VwLWxhYmVsXCIpO2FxLmlubmVyVGV4dD1hci50aXRsZTthcC5hcHBlbmRDaGlsZChhcSk7YXIuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihhdCl7ZC5hZGRSaWJib25Hcm91cEVsZW1lbnQoYW4sYXQpO30pO2lmKGFyLmRpYWxvZ0xhdW5jaGVyKXttKGFvLGFyLmRpYWxvZ0xhdW5jaGVyKTt9aWYoIWFyLnZpc2libGUpe2FvLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fX07ZnVuY3Rpb24gbShhbyxhbil7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7YXAuY2xhc3NMaXN0LmFkZChcInR4RGlhbG9nTGF1bmNoZXJcIik7YXAuc3JjPWFuLmltYWdlRGF0YVVSTDtpZihhbi5uYW1lKXthcC5pZD1hbi5uYW1lO31hcC5zdHlsZS53aWR0aD1hcC5zdHlsZS5oZWlnaHQ9XCIxNnB4XCI7YXAuc3R5bGUub3BhY2l0eT0wO2FwLnRpdGxlPWFuLnRvb2x0aXA7YXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYXEpe2lmKHR5cGVvZiBhbi5kaWFsb2dUYWIhPT1cInVuZGVmaW5lZFwiKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5TaG93RGlhbG9nLGFuLmRpYWxvZ0NhdGVnb3J5LGFuLmRpYWxvZ0lELGFuLmRpYWxvZ1RhYik7fWVsc2V7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuU2hvd0RpYWxvZyxhbi5kaWFsb2dDYXRlZ29yeSxhbi5kaWFsb2dJRCk7fX0pO2FvLmFwcGVuZENoaWxkKGFwKTt9ZC5hZGRSaWJib25Hcm91cEVsZW1lbnQ9ZnVuY3Rpb24oYW4sYW8pe3N3aXRjaChhby5jb250cm9sVHlwZSl7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLlN0YWNrZWRCdXR0b25XcmFwcGVyOmQuYWRkU3RhY2tlZFJpYmJvbkJ1dHRvbldyYXBwZXIoYW4sYW8pO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MYXlvdXRUYWJsZTpkLmFkZFJpYmJvbkxheW91dFRhYmxlKGFuLGFvKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQnV0dG9uOnQoYW4sYW8pO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MaXN0Qm94OnAoYW4sYW8pO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5Db21ib0JveDprKGFuLGFvKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQ2hlY2tCb3g6dShhbixhbyk7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLlNtYWxsQ29udHJvbEdyb3VwOkEoYW4sYW8pO2JyZWFrO319O2Z1bmN0aW9uIEUoYW4sYW8pe2lmKCFhbil7cmV0dXJuO31mb3IodmFyIGFwIGluIGFuKXthby5zdHlsZVthcF09YW5bYXBdO319ZC5hZGRTdGFja2VkUmliYm9uQnV0dG9uV3JhcHBlcj1mdW5jdGlvbihhbixhcCl7dmFyIGFvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YW4uYXBwZW5kQ2hpbGQoYW8pO2FvLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXdyYXBwZXItc21hbGwtc3RhY2tlZC1idXR0b25zXCIpO0UoYXAuY3VzdG9tQ1NTLGFvKTthcC5idXR0b25zLmZvckVhY2goZnVuY3Rpb24oYXEpe3QoYW8sYXEpO30pO307ZC5hZGRSaWJib25MYXlvdXRUYWJsZT1mdW5jdGlvbihhbixhcCl7dmFyIGFvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtpZihhcC5yb3dzLmxlbmd0aDw9Mil7YW8uc3R5bGUuYm9yZGVyQ29sbGFwc2U9XCJzZXBhcmF0ZVwiO2FvLnN0eWxlLmJvcmRlclNwYWNpbmc9XCIwcHggNXB4XCI7fWFvLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZ3JvdXAtbGF5b3V0LXRhYmxlXCIpO0UoYXAuY3VzdG9tQ1NTLGFvKTthbi5hcHBlbmRDaGlsZChhbyk7YXAucm93cy5mb3JFYWNoKGZ1bmN0aW9uKGFxKXtvKGFvLGFxKTt9KTt9O2Z1bmN0aW9uIG8oYW8sYXApe3ZhciBhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7YW8uYXBwZW5kQ2hpbGQoYW4pO2FwLmZvckVhY2goZnVuY3Rpb24oYXEpe3ZhciBhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7YXIuc3R5bGUucGFkZGluZz1cIjBweFwiO2lmKGFxLmNvbFNwYW4+MSl7YXIuY29sU3Bhbj1hcS5jb2xTcGFuO31pZihhcS5yb3dTcGFuPjEpe2FyLnJvd1NwYW49YXEucm93U3Bhbjt9aWYoYXEuY2VsbFdpZHRoIT1udWxsKXthci5zdHlsZS53aWR0aD1hcS5jZWxsV2lkdGgrXCJweFwiO31hbi5hcHBlbmRDaGlsZChhcik7aWYoYXE9PT1udWxsKXthci5pbm5lclRleHQ9XCJcXFxcdTAwQTBcIjt9ZWxzZXt2KGFyLGFxKTt9fSk7fWZ1bmN0aW9uIHYoYW8sYW4pe3N3aXRjaChhbi5jb250cm9sVHlwZSl7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLkltYWdlOncoYW8sYW4pO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MYWJlbDp4KGFvLGFuKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuVGV4dEJveDp6KGFvLGFuKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQnV0dG9uOnQoYW8sYW4pO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MYXlvdXRUYWJsZTpkLmFkZFJpYmJvbkxheW91dFRhYmxlKGFvLGFuKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuTGlzdEJveDpwKGFvLGFuKTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQ29tYm9Cb3g6ayhhbyxhbik7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLlNtYWxsQ29udHJvbEdyb3VwOkEoYW8sYW4pO2JyZWFrO319ZnVuY3Rpb24gQShhbyxhbil7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YW8uYXBwZW5kQ2hpbGQoYXApO2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZ3JvdXAtY29udHJvbC1ncm91cFwiKTtpZihhbi5jdXN0b21DU1Mpe0UoYW4uY3VzdG9tQ1NTLGFwKTt9aWYoIWFuLmVuYWJsZWQpe2FwLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hbi5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGFxKXtkLmFkZFJpYmJvbkdyb3VwRWxlbWVudChhcCxhcSk7fSk7fWZ1bmN0aW9uIHcoYW4sYXApe3ZhciBhbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO2lmKGFwLm5hbWUpe2FvLmlkPWFwLnRhYk5hbWUrXCJfXCIrYXAubmFtZTt9aWYoIWFwLmVuYWJsZWQpe2FvLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hby5zcmM9YXAuaW1hZ2VEYXRhVVJMO2FvLnN0eWxlLnBhZGRpbmc9XCIzcHggM3B4IDBweCAzcHhcIjthby5zdHlsZS53aWR0aD1hby5zdHlsZS5oZWlnaHQ9XCIxNnB4XCI7YW4uYXBwZW5kQ2hpbGQoYW8pO31mdW5jdGlvbiB4KGFuLGFwKXt2YXIgYW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO2FvLnN0eWxlLm1hcmdpbkxlZnQ9YW8uc3R5bGUubWFyZ2luUmlnaHQ9XCIycHhcIjthby50ZXh0Q29udGVudD1hcC50ZXh0O2FvLmlkPWFwLnRhYk5hbWUrXCJfXCIrYXAubmFtZTthby5kYXRhc2V0Lm5hbWU9YXAubmFtZTtpZihhcC5mb3JfKXthby5zZXRBdHRyaWJ1dGUoXCJmb3JcIixhcC50YWJOYW1lK1wiX1wiK2FwLmZvcl8pO31pZighYXAuZW5hYmxlZCl7YW8uY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWFuLmFwcGVuZENoaWxkKGFvKTt9ZnVuY3Rpb24geihhbyxhdil7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTthcC50eXBlPWF2LmlzTnVtZXJpYz9cIm51bWJlclwiOlwidGV4dFwiO2FwLnNldEF0dHJpYnV0ZShcImZvcm1cIixcInR4Tm92YWxpZGF0ZUZvcm1cIik7aWYoYXYuaXNOdW1lcmljKXthcC5zZXRBdHRyaWJ1dGUoXCJzdGVwXCIsYXYuc3RlcHx8XCIwLjFcIik7aWYodHlwZW9mIGF2Lm1pbiE9PVwidW5kZWZpbmVkXCIpe2FwLnNldEF0dHJpYnV0ZShcIm1pblwiLGF2Lm1pbik7fWlmKHR5cGVvZiBhdi5tYXghPT1cInVuZGVmaW5lZFwiKXthcC5zZXRBdHRyaWJ1dGUoXCJtYXhcIixhdi5tYXgpO319YXAuaWQ9YXYudGFiTmFtZStcIl9cIithdi5uYW1lO2FwLmRhdGFzZXQubmFtZT1hdi5uYW1lO2lmKGF2LmlzTnVtZXJpYyl7YXAudmFsdWU9K2F2Lm51bWJlci50b0ZpeGVkKDEpO31lbHNle2lmKGF2LnRleHQpe2FwLnZhbHVlPWF2LnRleHQ7fX1pZihhdi53aWR0aCl7YXAuc3R5bGUud2lkdGg9YXYud2lkdGgrXCJweFwiO31hcC5zdHlsZS5oZWlnaHQ9XCIxNHB4XCI7YXAuc3R5bGUubWFyZ2luTGVmdD1hcC5zdHlsZS5tYXJnaW5SaWdodD1cIjJweFwiO2lmKGF2LnRleHRBbGlnbil7YXAuc3R5bGUudGV4dEFsaWduPWF2LnRleHRBbGlnbjt9aWYoYXYua2V5RG93bkNhdXNlc0NoYW5nZUV2ZW50KXthcC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChhbiwyMCk7fSk7fWFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixhbik7YXAuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsYXEpO2FwLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYXUpO2FwLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLGF0KTtpZighYXYuZW5hYmxlZCl7YXAuZGlzYWJsZWQ9dHJ1ZTt9ZnVuY3Rpb24gYXIoYXcpe3ZhciBheD17dGFiTmFtZTphdi50YWJOYW1lLHRleHRCb3hOYW1lOmF2Lm5hbWUsfTtpZihhdyl7aWYoYXYuaXNOdW1lcmljKXtheC5udW1iZXI9cGFyc2VGbG9hdChhcC52YWx1ZSk7fWVsc2V7YXgudGV4dD1hcC52YWx1ZTt9aWYoYXAuc2VsZWN0aW9uU3RhcnQpe2F4LnNlbGVjdGlvblN0YXJ0PWFwLnNlbGVjdGlvblN0YXJ0O31pZihhcC5zZWxlY3Rpb25TdGFydCl7YXguc2VsZWN0aW9uRW5kPWFwLnNlbGVjdGlvbkVuZDt9fXJldHVybiBheDt9ZnVuY3Rpb24gYW4oKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5SaWJib25UZXh0Qm94RXZlbnQsZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlLkNoYW5nZWQsMCwwLGFyKHRydWUpKTt9ZnVuY3Rpb24gYXEoKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5SaWJib25UZXh0Qm94RXZlbnQsZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlLkVudGVyZWQsMCwwLGFyKCkpO31mdW5jdGlvbiBhdSgpe2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvblRleHRCb3hFdmVudCxkLlJpYmJvblRleHRCb3hFdmVudFR5cGUuTGVmdCwwLDAsYXIoKSk7fWZ1bmN0aW9uIGF0KGF4KXt2YXIgYXc9YXIoKTthdy5rZXk9XCJcIitheC5rZXk7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uVGV4dEJveEV2ZW50LGQuUmliYm9uVGV4dEJveEV2ZW50VHlwZS5LZXlQcmVzcywwLDAsYXcpO31hby5hcHBlbmRDaGlsZChhcCk7fWZ1bmN0aW9uIHUoYXUsYW4pe3ZhciBhcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tY2hlY2tib3hcIik7YXUuYXBwZW5kQ2hpbGQoYXApO3ZhciBhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tY2hlY2tib3gtaW5wdXQtZWxlbWVudC1jb250YWluZXJcIik7YXAuYXBwZW5kQ2hpbGQoYXIpO3ZhciBhcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YXEudHlwZT1cImNoZWNrYm94XCI7YXEuaWQ9YW4udGFiTmFtZStcIl9cIithbi5uYW1lO2lmKGFuLmlzQ2hlY2tlZCl7YXEuY2hlY2tlZD1hbi5pc0NoZWNrZWQ7fWFyLmFwcGVuZENoaWxkKGFxKTthcC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYW8pO3ZhciBhdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F0LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNtYWxsLWxhYmVsLWNvbnRhaW5lclwiKTthcC5hcHBlbmRDaGlsZChhdCk7dmFyIGF2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTthdi5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbFwiKTthdi50ZXh0Q29udGVudD1hbi5sYWJlbDthdi5zZXRBdHRyaWJ1dGUoXCJmb3JcIixhcS5pZCk7aWYoIWFuLmVuYWJsZWQpe2F2LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hdC5hcHBlbmRDaGlsZChhdik7ZnVuY3Rpb24gYW8oYXgpe3ZhciBheT1heC5zcmNFbGVtZW50O3ZhciBhdz17dGFiTmFtZTphbi50YWJOYW1lLHJpYmJvbkNvbnRyb2xOYW1lOmFuLm5hbWUscHJvcGVydHlOYW1lOlwiY2hlY2tlZFwiLG5ld1ZhbHVlOmF5LmNoZWNrZWQsb2xkVmFsdWU6IWF5LmNoZWNrZWR9O2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvbkNoZWNrQm94RXZlbnQsMCwwLDAsYXcpO319ZnVuY3Rpb24gdChhcCxhbil7dmFyIGFvO3ZhciBhcT0oZC5zZXR0aW5ncyYmZC5zZXR0aW5ncy5Ob0ZpbGVTeXN0ZW1BY2Nlc3MpO2lmKGFxJiZhbi5uZWVkc0ZTQWNjZXNzKXtyZXR1cm47fXN3aXRjaChhbi5idXR0b25TaXplKXtjYXNlIGQuUmliYm9uQnV0dG9uU2l6ZS5TbWFsbDphbz1CKGFwLGFuKTticmVhaztjYXNlIGQuUmliYm9uQnV0dG9uU2l6ZS5MYXJnZTphbz1uKGFwLGFuKTticmVhazt9aWYodHlwZW9mIGFuLmNsZWFyIT09XCJ1bmRlZmluZWRcIiYmYW4uY2xlYXIhPW51bGwpe2FvLnN0eWxlLmNsZWFyPWFuLmNsZWFyO31pZighYW4udmlzaWJsZSl7YW8uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9cmV0dXJuIGFvO31mdW5jdGlvbiBCKGFyLGFuKXt2YXIgYXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthci5hcHBlbmRDaGlsZChhcCk7YXAuaWQ9YW4udGFiTmFtZStcIl9cIithbi5uYW1lO2FwLmRhdGFzZXQubmFtZT1hbi5uYW1lO2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uXCIpO2lmKGFuLnRleHQpe2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNtYWxsXCIpO31lbHNle2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXRpbnlcIik7fWlmKGFuLnRvb2x0aXApe2FwLnRpdGxlPWFuLnRvb2x0aXA7fWlmKGFuLmlzVG9nZ2xlQnV0dG9uJiZhbi50ZXh0KXthcC5jbGFzc0xpc3QuYWRkKFwicmliYm9uLXN0YWNrZWQtdG9nZ2xlLWJ1dHRvblwiKTt9aWYoIWFuLmVuYWJsZWQpe2FwLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO312YXIgYXU7aWYoIWFuLnRleHQpe2F1PWFwO2lmKGFuLmlzVG9nZ2xlQnV0dG9uJiZhbi5pc1RvZ2dsZWQpe2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319ZWxzZXthdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FwLmFwcGVuZENoaWxkKGF1KTtpZihhbi5pc1RvZ2dsZUJ1dHRvbil7YXUuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b25cIik7YXUuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tdGlueVwiKTtpZihhbi5pc1RvZ2dsZWQpe2F1LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319ZWxzZXthdS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zbWFsbC1pbWFnZS1jb250YWluZXJcIik7fX1pZighYW4uYnV0dG9uVGV4dCl7dmFyIGF0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7YXQuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc21hbGwtaW1hZ2VcIik7YXQuc3R5bGUud2lkdGg9YXQuc3R5bGUuaGVpZ2h0PVwiMTZweFwiO2lmKGFuLmltYWdlRGF0YVVSTCl7YXQuc3JjPWFuLmltYWdlRGF0YVVSTDt9ZWxzZXtpZihhbi5pbWFnZUluZm8pe3ZhciBhbz1kLmdldENhY2hlZEltYWdlRGF0YVVSTChhbi5pbWFnZUluZm8pO2lmKGFvKXthdC5zcmM9YW87fWVsc2V7YXQuc3JjPWQuUGxhY2Vob2xkZXJJbWFnZTthdC5kYXRhc2V0LnR4SW1hZ2VJbmZvPUpTT04uc3RyaW5naWZ5KGFuLmltYWdlSW5mbyk7ZC5yZXF1aXJlZEltYWdlcy5wdXNoKGFuLmltYWdlSW5mbyk7fX19YXUuYXBwZW5kQ2hpbGQoYXQpO31lbHNle3ZhciBhcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FxLnN0eWxlLmhlaWdodD1hcS5zdHlsZS53aWR0aD1cIjE2cHhcIjthcS5zdHlsZS5tYXJnaW5Ub3A9XCItM3B0XCI7YXEuc3R5bGUucGFkZGluZz1cIjBwdFwiO2FxLnN0eWxlLmZvbnRTaXplPVwiMTJwdFwiO2FxLnRleHRDb250ZW50PWFuLmJ1dHRvblRleHQ7YXUuYXBwZW5kQ2hpbGQoYXEpO312YXIgYXc9bnVsbDtpZihhbi50ZXh0KXt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthcC5hcHBlbmRDaGlsZChhdik7YXYuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc21hbGwtbGFiZWwtY29udGFpbmVyXCIpO2F3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2F2LmFwcGVuZENoaWxkKGF3KTthdy5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbFwiKTt2YXIgYXg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YXguY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tbGFiZWwtdGV4dFwiKTtheC50ZXh0Q29udGVudD1hbi50ZXh0O2F3LmFwcGVuZENoaWxkKGF4KTt9cihhcCxhdyxhbik7cmV0dXJuIGFwO31mdW5jdGlvbiBuKGFyLGFuKXtpZihhbi5ib3JkZXIpe3ZhciBhcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FyLmFwcGVuZENoaWxkKGFwKTthcC5jbGFzc0xpc3QuYWRkKFwibGFyZ2UtcmliYm9uLWJ1dHRvbi1jb250YWluZXJcIik7YXI9YXA7fXZhciBhcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FyLmFwcGVuZENoaWxkKGFxKTthcS5pZD1hbi50YWJOYW1lK1wiX1wiK2FuLm5hbWU7YXEuZGF0YXNldC5uYW1lPWFuLm5hbWU7aWYoYW4udG9vbHRpcCl7YXEudGl0bGU9YW4udG9vbHRpcDt9YXEuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b25cIik7YXEuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnXCIpO2lmKGFuLmlzVG9nZ2xlQnV0dG9uJiZhbi5pc1RvZ2dsZWQpe2FxLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO31pZighYW4uZW5hYmxlZCl7YXEuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWlmKGFuLmJvcmRlcil7YWkoYXIsYW4uYm9yZGVyKTt9dmFyIGF1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXUuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnLWltYWdlLWNvbnRhaW5lclwiKTt2YXIgYXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTthdC5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1iaWctaW1hZ2VcIik7YXQuc3R5bGUud2lkdGg9YXQuc3R5bGUuaGVpZ2h0PVwiMzJweFwiO2lmKGFuLmltYWdlRGF0YVVSTCl7YXQuc3JjPWFuLmltYWdlRGF0YVVSTDt9ZWxzZXtpZihhbi5pbWFnZUluZm8pe3ZhciBhbz1kLmdldENhY2hlZEltYWdlRGF0YVVSTChhbi5pbWFnZUluZm8pO2lmKGFvKXthdC5zcmM9YW87fWVsc2V7YXQuc3JjPWQuUGxhY2Vob2xkZXJJbWFnZTthdC5kYXRhc2V0LnR4SW1hZ2VJbmZvPUpTT04uc3RyaW5naWZ5KGFuLmltYWdlSW5mbyk7ZC5yZXF1aXJlZEltYWdlcy5wdXNoKGFuLmltYWdlSW5mbyk7fX19YXUuYXBwZW5kQ2hpbGQoYXQpO2FxLmFwcGVuZENoaWxkKGF1KTt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthcS5hcHBlbmRDaGlsZChhdik7YXYuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnLWxhYmVsLWNvbnRhaW5lclwiKTt2YXIgYXc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YXYuYXBwZW5kQ2hpbGQoYXcpO2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLWxhYmVsXCIpO3ZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtheC5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbC10ZXh0XCIpO2F4LmlubmVySFRNTD1hbi50ZXh0LnJlcGxhY2UoL1xcXFxyP1xcXFxuL2csXCI8YnI+XCIpO2F3LmFwcGVuZENoaWxkKGF4KTtyKGFxLGF3LGFuKTtyZXR1cm4gYXE7fWZ1bmN0aW9uIGFpKGFvLGFuKXtpZihhbi5MZWZ0KXthcChhbyxcIkxlZnRcIixhbi5MZWZ0KTt9aWYoYW4uVG9wKXthcChhbyxcIlRvcFwiLGFuLlRvcCk7fWlmKGFuLlJpZ2h0KXthcChhbyxcIlJpZ2h0XCIsYW4uUmlnaHQpO31pZihhbi5Cb3R0b20pe2FwKGFvLFwiQm90dG9tXCIsYW4uQm90dG9tKTt9ZnVuY3Rpb24gYXAoYXIsYXQsYXEpe2lmKGFxLkNvbG9yKXthci5zdHlsZVtcImJvcmRlclwiK2F0K1wiQ29sb3JcIl09YXEuQ29sb3I7fWlmKGFxLldpZHRoKXthci5zdHlsZVtcImJvcmRlclwiK2F0K1wiV2lkdGhcIl09YXEuV2lkdGg7fWlmKGFxLlN0eWxlKXthci5zdHlsZVtcImJvcmRlclwiK2F0K1wiU3R5bGVcIl09YXEuU3R5bGU7fWlmKGF0PT09XCJMZWZ0XCJ8fGF0PT09XCJSaWdodFwiKXthci5zdHlsZVtcIm1hcmdpblwiK2F0XT1cIjVweFwiO319fWZ1bmN0aW9uIHIoYXAsYXEsYW4pe2lmKGFuLm1lbnUpe2lmKGFxKXt2YXIgYXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YXIuY2xhc3NMaXN0LmFkZChcImRyb3AtZG93bi1hcnJvdy1sYXJnZVwiKTthci50ZXh0Q29udGVudD1cIuKWvFwiO2lmKGFuLmJ1dHRvblNpemU9PWQuUmliYm9uQnV0dG9uU2l6ZS5TbWFsbCl7YXIuc3R5bGUubWFyZ2luTGVmdD1cIjNweFwiO31hcS5hcHBlbmRDaGlsZChhcik7fWVsc2V7aWYoYXAuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmliYm9uLWJ1dHRvbi10aW55XCIpKXthcC5jbGFzc0xpc3QucmVtb3ZlKFwicmliYm9uLWJ1dHRvbi10aW55XCIpO2FwLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZHJvcGRvd24tYnV0dG9uLXRpbnlcIik7YXE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YXEudGV4dENvbnRlbnQ9XCLilrxcIjthcC5hcHBlbmRDaGlsZChhcSk7fX12YXIgYXQ9SihhcCk7ZC5hZGREcm9wRG93bk1lbnUoYW4ubWVudSxhdCk7YShcIiNcIithcC5pZCkuY2xpY2soYXUpO31lbHNle2FwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGFvKTt9ZnVuY3Rpb24gYW8oYXcpe3ZhciBhdj17YnV0dG9uTmFtZTphbi5uYW1lLHRhYk5hbWU6YW4udGFiTmFtZX07ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uQnV0dG9uRXZlbnQsZC5SaWJib25CdXR0b25FdmVudFR5cGUuQ2xpY2ssMCwwLGF2KTt9ZnVuY3Rpb24gYXUoYXcpe3ZhciBheT1hbi50YWJOYW1lK1wiX1wiK2FuLm1lbnUubmFtZTt2YXIgYXY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXkpO2QuZmlsZU1lbnUuaGlkZSgpO2QuaGlkZUFsbE90aGVyTWVudXMoKTtpZih0eXBlb2YgYXYuZGF0YXNldC50cmFuc2Zvcm1TdGF0ZUlkIT09XCJ1bmRlZmluZWRcIil7WChhdik7fUsoYW4udGFiTmFtZSxhbi5tZW51Lm5hbWUpO2lmKCFhbi5tZW51LmF1dG9TaXplKXtkLmNhbGNNZW51V2lkdGhzKGF2KTt9dmFyIGF4PWQualF1ZXJ5TWVudXNbYW4ubWVudS5uYW1lXTtheC5zaG93KCkucG9zaXRpb24oe215OlwibGVmdCB0b3BcIixhdDpcImxlZnQgYm90dG9tXCIsb2Y6YXcuY3VycmVudFRhcmdldH0pO2lmKGFuLm1lbnUubGltaXRIZWlnaHQpe2QubGltaXRNZW51SGVpZ2h0KGF5KTt9ZWxzZXtpZih0eXBlb2YgYXYuZGF0YXNldC50cmFuc2Zvcm1TdGF0ZUlkIT09XCJ1bmRlZmluZWRcIil7Rihhdik7fX1hKGRvY3VtZW50KS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYXope2lmKCEoZC5pc0luc2lkZUVsZW1lbnRXaXRoSUQoYXoudGFyZ2V0LGF5KSYmZC5pc1BhcnRPZk1lbnVJdGVtV2l0aFN1Yk1lbnUoYXoudGFyZ2V0KSkpe2F4LmhpZGUoKTthKGRvY3VtZW50KS5vZmYoYXopO319KTtyZXR1cm4gZmFsc2U7fX1mdW5jdGlvbiBLKGFwLGFvKXt2YXIgYW49e21lbnVOYW1lOmFvLHRhYk5hbWU6YXB9O2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvbk1lbnVFdmVudCxkLlJpYmJvbk1lbnVFdmVudFR5cGUuT3BlbmluZywwLDAsYW4pO31mdW5jdGlvbiBwKGFuLGFwKXt2YXIgYW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthbi5hcHBlbmRDaGlsZChhbyk7YW8uaWQ9YXAudGFiTmFtZStcIl9cIithcC5uYW1lO2FvLmRhdGFzZXQubmFtZT1hcC5uYW1lO2FvLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWJveFwiKTtpZihhcC5pdGVtc0FyZUNoZWNrYWJsZSl7YW8uY2xhc3NMaXN0LmFkZChcIml0ZW1zLWFyZS1jaGVja2FibGVcIik7fWlmKGFwLml0ZW1zQXJlU2VsZWN0YWJsZSl7YW8uY2xhc3NMaXN0LmFkZChcIml0ZW1zLWFyZS1zZWxlY3RhYmxlXCIpO31hby5kYXRhc2V0Lml0ZW1zQXJlQ2hlY2thYmxlPWFwLml0ZW1zQXJlQ2hlY2thYmxlO2FvLmRhdGFzZXQuaXRlbXNBcmVTZWxlY3RhYmxlPWFwLml0ZW1zQXJlU2VsZWN0YWJsZTthby5zdHlsZS53aWR0aD1hcC53aWR0aCtcInB4XCI7YW8uc3R5bGUuaGVpZ2h0PWFwLmhlaWdodCtcInB4XCI7VyhhbyxhcC5pdGVtcyxhcC50YWJOYW1lLGFwLm5hbWUpO31mdW5jdGlvbiBXKGFvLGF3LGF6LGF5KXt2YXIgYXEsYXg9YW8uZGF0YXNldC5pdGVtc0FyZVNlbGVjdGFibGU7YW8uaW5uZXJIVE1MPVwiXCI7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTthby5hcHBlbmRDaGlsZChhcCk7YXAuY2xhc3NMaXN0LmFkZChcImxpc3QtYm94LWl0ZW0tY29udGFpbmVyXCIpO2Zvcih2YXIgYXQ9MDthdDxhdy5sZW5ndGg7KythdCl7YW4oYXQsYXdbYXRdKTt9ZnVuY3Rpb24gYW4oYUQsYUUpe3ZhciBhQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7YXAuYXBwZW5kQ2hpbGQoYUMpO2FDLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWJveC1pdGVtXCIpO2FDLmRhdGFzZXQuaW5kZXg9YUQ7YUMuZGF0YXNldC5pdGVtVWlkPWFFLnVpZDtpZihheCl7YUMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYXYpO312YXIgYUY9YW8uaWQrXCJfY2hlY2tib3hfXCIrYUQ7aWYoYUUuaXNDaGVja2FibGUpe2FxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthQy5hcHBlbmRDaGlsZChhcSk7dmFyIGFBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTthcS5hcHBlbmRDaGlsZChhQSk7YXEuZGF0YXNldC5pdGVtVWlkPWFFLnVpZDthcS5zdHlsZS5taW5IZWlnaHQ9XCIxNHB4XCI7YUEuaWQ9YUY7YUEudHlwZT1cImNoZWNrYm94XCI7YUEuZGF0YXNldC5pbmRleD1hRDthQS5kYXRhc2V0LnRleHQ9YUUudGV4dDthQS5jaGVja2VkPWFFLmlzQ2hlY2tlZDthQS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYXUpO2FBLmRhdGFzZXQuaXRlbVVpZD1hRS51aWQ7fWFxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthQy5hcHBlbmRDaGlsZChhcSk7dmFyIGFCPWFFLmlzQ2hlY2thYmxlP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FxLmFwcGVuZENoaWxkKGFCKTtpZihhRS5pc0NoZWNrYWJsZSl7YUIuaHRtbEZvcj1hRjt9YUIuZGF0YXNldC5pdGVtVWlkPWFFLnVpZDthQi50ZXh0Q29udGVudD1hRS50ZXh0O31mdW5jdGlvbiBhdShhQyl7dmFyIGFBPWFDLmN1cnJlbnRUYXJnZXQ7dmFyIGFCPXt0YWJOYW1lOmF6LGl0ZW1JbmRleDphQS5kYXRhc2V0LmluZGV4LGxpc3RCb3hOYW1lOmF5LGlzQ2hlY2tlZDphQS5jaGVja2VkfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkl0ZW1DaGVja0NoYW5nZWQsMCwwLGFCKTt9ZnVuY3Rpb24gYXYoYUIpe2FyKCk7dmFyIGFDPWFCLmN1cnJlbnRUYXJnZXQ7dmFyIGFBPXt0YWJOYW1lOmF6LGl0ZW1JbmRleDphQy5kYXRhc2V0LmluZGV4LGxpc3RCb3hOYW1lOmF5fTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkl0ZW1DbGlja2VkLDAsMCxhQSk7fWZ1bmN0aW9uIGFyKCl7dmFyIGFBPXt0YWJOYW1lOmF6LGxpc3RCb3hOYW1lOmF5fTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkZvY3VzZWQsMCwwLGFBKTt9fWZ1bmN0aW9uIGsoYXEsYW8pe3ZhciBhcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO2FxLmFwcGVuZENoaWxkKGFwKTthcC5pZD1hby50YWJOYW1lK1wiX1wiK2FvLm5hbWU7YXAuZGF0YXNldC5uYW1lPWFvLm5hbWU7aWYoYW8ud2lkdGgpe2lmKGFvLndpZHRoPT09LTEpe2FwLnN0eWxlLndpZHRoPVwiOTAlXCI7fWVsc2V7YXAuc3R5bGUud2lkdGg9YW8ud2lkdGgrXCJweFwiO319aWYoYW8uaGVpZ2h0KXthcC5zdHlsZS5oZWlnaHQ9YW8uaGVpZ2h0K1wicHhcIjt9YXAuc3R5bGUubWFyZ2luTGVmdD1hcC5zdHlsZS5tYXJnaW5SaWdodD1cIjJweFwiO0UoYW8uY3VzdG9tQ1NTLGFwKTthcC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYW4pO2woYXAsYW8uaXRlbXMsYW8udGFiTmFtZSxhby5uYW1lKTtmdW5jdGlvbiBhbihhdCl7dmFyIGFyPXt0YWJOYW1lOmFvLnRhYk5hbWUsY29tYm9Cb3hOYW1lOmFvLm5hbWUsdmFsdWU6KGF0LnRhcmdldC52YWx1ZT09PVwibnVsbFwiKT9udWxsOmF0LnRhcmdldC52YWx1ZX07ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuSW5wdXRDb250cm9sRXZlbnQsZC5JbnB1dENvbnRyb2xFdmVudFR5cGUuQ2hhbmdlLDAsMCxhcik7fX1mdW5jdGlvbiBsKGFuLGFwLGFyLGFxKXthbi5pbm5lckhUTUw9XCJcIjt2YXIgYW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTthby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2FvLmRpc2FibGVkPXRydWU7YW4uYXBwZW5kQ2hpbGQoYW8pO2FwLmZvckVhY2goZnVuY3Rpb24oYXQpe2FvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7YW4uYXBwZW5kQ2hpbGQoYW8pO2FvLnZhbHVlPWF0LnZhbHVlO2FvLnRleHQ9YXQudGV4dDt9KTt9ZnVuY3Rpb24gYWYoYW4sYW8pe3ZhciBhcD1hbi5xdWVyeVNlbGVjdG9yQWxsKFwidHJcIik7W10uZm9yRWFjaC5jYWxsKGFwLGZ1bmN0aW9uKGFxKXthcS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7fSk7aWYoYW89PS0xKXtyZXR1cm47fWlmKGFvPj1hcC5sZW5ndGgpe2NvbnNvbGUuZXJyb3IoXFwnTGlzdCBib3ggXCJcXCcrYW4uaWQrXCI6IHNlbGVjdGVkIGl0ZW0gaW5kZXggb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm47fWFwW2FvXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fWZ1bmN0aW9uIEooYW4pe3ZhciBhbz1hbi5wYXJlbnRFbGVtZW50O3doaWxlKGFvKXtpZihhby5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YWItY29udGVudFwiKSl7cmV0dXJuIGFvO31hbz1hby5wYXJlbnRFbGVtZW50O31yZXR1cm4gbnVsbDt9ZC5hZGREcm9wRG93bk1lbnU9ZnVuY3Rpb24oYXIsYW8pe2lmKHR5cGVvZiBhci50YWJOYW1lPT09XCJ1bmRlZmluZWRcInx8YXIudGFiTmFtZT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO312YXIgYW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO2FuLmNsYXNzTGlzdC5hZGQoXCJkcm9wRG93bk1lbnVcIik7aWYoYXIubWF4SGVpZ2h0KXthbi5zdHlsZS5tYXhIZWlnaHQ9YXIubWF4SGVpZ2h0K1wicHhcIjthbi5zdHlsZS5vdmVyZmxvd1k9XCJhdXRvXCI7fXZhciBhdD1hci50YWJOYW1lK1wiX1wiK2FyLm5hbWU7YW4uaWQ9YXQ7aWYoYXIuaGFzQWx0ZXJuYXRpdmVTY3JvbGxNZXRob2Qpe0koYW4pO31xKGFuLGFyLml0ZW1zLGFyLml0ZW1TaXplLGFyLm5hbWUsdHJ1ZSk7YW8uYXBwZW5kQ2hpbGQoYW4pO3ZhciBhcD1hKFwiI1wiK2F0KS5tZW51KCkuaGlkZSgpO2QualF1ZXJ5TWVudXNbYXIubmFtZV09YXA7YXAub24oXCJtZW51c2VsZWN0XCIsYXEpO2Z1bmN0aW9uIGFxKGF2LGF4KXt2YXIgYXc9YXguaXRlbS5jb250ZXh0O3ZhciBhdT17bWVudU5hbWU6YXcuZGF0YXNldC5tZW51TmFtZSxtZW51SXRlbU5hbWU6YXcuZGF0YXNldC5tZW51SXRlbU5hbWUsdGFiTmFtZTphci50YWJOYW1lLHRhZzpudWxsfTtpZihhdy5kYXRhc2V0LnRhZyl7YXUudGFnPUpTT04ucGFyc2UoYXcuZGF0YXNldC50YWcpO31pZihhdy5kYXRhc2V0Lm1lbnVJdGVtUGFyYW1ldGVyKXthdS5wYXJhbWV0ZXI9YXcuZGF0YXNldC5tZW51SXRlbVBhcmFtZXRlcjt9ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uTWVudUV2ZW50LGQuUmliYm9uTWVudUV2ZW50VHlwZS5JdGVtU2VsZWN0LDAsMCxhdSk7fX07ZnVuY3Rpb24gcShhbixhcCxhcSxhcixhbyl7dmFyIGF0PShkLnNldHRpbmdzJiZkLnNldHRpbmdzLk5vRmlsZVN5c3RlbUFjY2Vzcyk7YXAuZm9yRWFjaChmdW5jdGlvbihhdSl7aWYoYXUubmVlZHNGU0FjY2VzcyYmYXQpe3JldHVybjt9c3dpdGNoKGF1Lml0ZW1UeXBlKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1UeXBlLkNhdGVnb3J5OmkoYW4sYXUsYXIpO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVR5cGUuU3ltYm9sOkMoYW4sYXUsYXIpO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVR5cGUuQ29sb3JQaWNrZXI6aihhbixhdSxhcSxhcik7YnJlYWs7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtVHlwZS5UYWJsZVdpemFyZDpEKGFuLGF1LGFxLGFyKTticmVhaztkZWZhdWx0OnMoYW4sYXUsYXEsYXIpO2JyZWFrO31pZih0eXBlb2YgYXUuaXRlbVR5cGU9PT1cInVuZGVmaW5lZFwiKXtjb25zb2xlLndhcm4oXFwnTWVudSBpdGVtIFwiXFwnK2F1Lm5hbWUrXFwnXCIgaGFzIG5vIGl0ZW0gdHlwZS5cXCcpO319KTt9ZnVuY3Rpb24gQyhhcCxhcSxhdCl7aWYoIWF0KXt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fXZhciBhbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksYXI7YW8uY2xhc3NMaXN0LmFkZChcIm1lbnUtaXRlbS1zeW1ib2xcIik7aWYoIWFxLmVuYWJsZWQpe2FvLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31pZihhcS5jbGVhcil7YW8uc3R5bGUuY2xlYXI9YXEuY2xlYXI7fWlmKGFxLmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLlRvcCl7YW8uc3R5bGUuYm9yZGVyVG9wPVM7fWlmKGFxLmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLkJvdHRvbSl7YW8uc3R5bGUuYm9yZGVyQm90dG9tPVM7fWlmKGFxLm5hbWUpe2FyPWFxLnRhYk5hbWUrXCJfXCIrYXEubmFtZTthby5pZD1hcjthby5kYXRhc2V0Lm1lbnVJdGVtTmFtZT1hcS5uYW1lO31pZihhcS5wYXJhbWV0ZXIpe2FvLmRhdGFzZXQubWVudUl0ZW1QYXJhbWV0ZXI9YXEucGFyYW1ldGVyO31hby5kYXRhc2V0Lm1lbnVOYW1lPWF0O3ZhciBhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTthbi50ZXh0Q29udGVudD1hcS50ZXh0O2FvLmFwcGVuZENoaWxkKGFuKTthcC5hcHBlbmRDaGlsZChhbyk7YXAuc3R5bGUud2lkdGg9XCJhdXRvXCI7fWZ1bmN0aW9uIGkoYXAsYXEsYXQpe2lmKCFhdCl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO312YXIgYW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpLGFyO2lmKCFhcS5lbmFibGVkKXthby5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9aWYoYXEuYm9yZGVyJmQuUmliYm9uTWVudUl0ZW1Cb3JkZXIuVG9wKXthby5zdHlsZS5ib3JkZXJUb3A9Uzt9aWYoYXEuYm9yZGVyJmQuUmliYm9uTWVudUl0ZW1Cb3JkZXIuQm90dG9tKXthby5zdHlsZS5ib3JkZXJCb3R0b209Uzt9aWYoYXEubmFtZSl7YXI9YXEudGFiTmFtZStcIl9cIithcS5uYW1lO2FvLmlkPWFyO2FvLmRhdGFzZXQubWVudUl0ZW1OYW1lPWFxLm5hbWU7fWlmKGFxLnBhcmFtZXRlcil7YW8uZGF0YXNldC5tZW51SXRlbVBhcmFtZXRlcj1hcS5wYXJhbWV0ZXI7fWFvLmRhdGFzZXQubWVudU5hbWU9YXQ7dmFyIGFuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2FvLmFwcGVuZENoaWxkKGFuKTthbi5hcHBlbmRDaGlsZChIKGFxLnRleHQpKTthcC5hcHBlbmRDaGlsZChhbyk7fWZ1bmN0aW9uIEgoYXApe3ZhciBhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FuLmNsYXNzTGlzdC5hZGQoXCJtZW51LWl0ZW0tY2F0ZWdvcnktaGVhZGVyXCIpO3ZhciBhbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7YW8udGV4dENvbnRlbnQ9YXA7YW4uYXBwZW5kQ2hpbGQoYW8pO3JldHVybiBhbjt9dmFyIFM9XCIxcHggc29saWQgbGlnaHRncmF5XCI7ZnVuY3Rpb24gcyhhdixheixhQyxhRSxhQil7dmFyIGF1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxhQSxhRz1cIlwiLGFEPW51bGw7aWYoIWF6LmVuYWJsZWQpe2F1LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31pZihhQz09ZC5SaWJib25NZW51SXRlbVNpemUuQXV0byl7aWYoYXouaW1hZ2VJbmZvKXtzd2l0Y2goYXouaW1hZ2VJbmZvLkltYWdlS2luZCl7Y2FzZSBkLkltYWdlS2luZC5TbWFsbF8xNngxNjphQz1kLlJpYmJvbk1lbnVJdGVtU2l6ZS5TbWFsbDticmVhaztkZWZhdWx0OmFDPWQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlO2JyZWFrO319ZWxzZXtpZihhei5zbWFsbEltYWdlRGF0YVVSTCl7YUM9ZC5SaWJib25NZW51SXRlbVNpemUuU21hbGw7fWVsc2V7aWYoYXoubGFyZ2VJbWFnZURhdGFVUkwpe2FDPWQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlO319fX1zd2l0Y2goYUMpe2Nhc2UgZC5SaWJib25NZW51SXRlbVNpemUuTGFyZ2U6YXUuY2xhc3NMaXN0LmFkZChcInR4dWktbWVudS1pdGVtLWxhcmdlXCIpO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVNpemUuU21hbGw6YXUuY2xhc3NMaXN0LmFkZChcInR4dWktbWVudS1pdGVtLXNtYWxsXCIpO2JyZWFrO31pZihhei5jbGVhcil7YXUuc3R5bGUuY2xlYXI9YXouY2xlYXI7fWlmKGF6LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLlRvcCl7YXUuc3R5bGUuYm9yZGVyVG9wPVM7fWlmKGF6LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLkJvdHRvbSl7YXUuc3R5bGUuYm9yZGVyQm90dG9tPVM7fWlmKGF6LnRvb2x0aXApe2F1LnRpdGxlPWF6LnRvb2x0aXA7fWlmKGF6Lm5hbWUpe2FBPWF6LnRhYk5hbWUrXCJfXCIrYXoubmFtZTthdS5pZD1hQTthdS5kYXRhc2V0Lm1lbnVJdGVtTmFtZT1hei5uYW1lO31pZihhei5wYXJhbWV0ZXIpe2F1LmRhdGFzZXQubWVudUl0ZW1QYXJhbWV0ZXI9YXoucGFyYW1ldGVyO31hdS5kYXRhc2V0Lm1lbnVOYW1lPWFFO3ZhciBhbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTthdS5hcHBlbmRDaGlsZChhbyk7dmFyIGFyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dmFyIGFwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3dpdGNoKGFDKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlOmFyLmNsYXNzTGlzdC5hZGQoXCJsYXJnZS1tZW51LWl0ZW0taW1hZ2UtY29udGFpbmVyXCIpO2lmKGF6LmhlYWRlcil7YXAuY2xhc3NMaXN0LmFkZChcImxhcmdlLW1lbnUtaXRlbS1sb25nLWNhcHRpb24tY29udGFpbmVyXCIpO31lbHNle2FwLmNsYXNzTGlzdC5hZGQoXCJsYXJnZS1tZW51LWl0ZW0tY2FwdGlvbi1jb250YWluZXJcIik7fWJyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVNpemUuU21hbGw6aWYoYXouaXNDaGVja2FibGUpe2FyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uXCIpO2FyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXRpbnlcIik7fWVsc2V7YXIuY2xhc3NMaXN0LmFkZChcInNtYWxsLW1lbnUtaXRlbS1pbWFnZS13cmFwcGVyXCIpO31hcC5jbGFzc0xpc3QuYWRkKFwic21hbGwtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO2JyZWFrO31pZihhei5pdGVtVHlwZT09PWQuUmliYm9uTWVudUl0ZW1UeXBlLkNoZWNrTWFyayl7YXIuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tY2hlY2ttYXJrXCIpO31pZihhei5pc0NoZWNrZWQpe2FyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO31pZihhei5zbWFsbEltYWdlRGF0YVVSTHx8YXoubGFyZ2VJbWFnZURhdGFVUkx8fGF6LmltYWdlSW5mbyl7dmFyIGFGPVwiXCIsYXk9ZmFsc2U7dmFyIGF0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7c3dpdGNoKGFDKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLlNtYWxsOmFGPVwiMTZweFwiO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVNpemUuTGFyZ2U6c3dpdGNoKGF6Lml0ZW1UeXBlKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1UeXBlLkxpc3RUeXBlX0J1bGxldDphRj1cIjQycHhcIjthRD1cIjE4cHhcIjtheT10cnVlO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVR5cGUuTGlzdFR5cGVfTnVtYmVyOmFGPVwiNzZweFwiO2FEPVwiMzZweFwiO2F5PXRydWU7YnJlYWs7ZGVmYXVsdDphRj1cIjMycHhcIjticmVhazt9YnJlYWs7fWlmKGF6LnNtYWxsSW1hZ2VEYXRhVVJMfHxhei5sYXJnZUltYWdlRGF0YVVSTCl7c3dpdGNoKGFDKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLlNtYWxsOmFHPWF6LnNtYWxsSW1hZ2VEYXRhVVJMO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVNpemUuTGFyZ2U6YUc9YXoubGFyZ2VJbWFnZURhdGFVUkw7YnJlYWs7fX1lbHNle2lmKGF6LmltYWdlSW5mbyl7dmFyIGFuPWQuZ2V0Q2FjaGVkSW1hZ2VEYXRhVVJMKGF6LmltYWdlSW5mbyk7aWYoYW4pe2FHPWFuO31lbHNle2FHPWQuUGxhY2Vob2xkZXJJbWFnZTthdC5kYXRhc2V0LnR4SW1hZ2VJbmZvPUpTT04uc3RyaW5naWZ5KGF6LmltYWdlSW5mbyk7ZC5yZXF1aXJlZEltYWdlcy5wdXNoKGF6LmltYWdlSW5mbyk7fX19YXQuc3JjPWFHO2F0LnN0eWxlLndpZHRoPWF0LnN0eWxlLmhlaWdodD1hRjtpZihheSl7YXQuc3R5bGUub3V0bGluZT1cIjFweCBzb2xpZCAjRDNEM0QzXCI7fWFyLmFwcGVuZENoaWxkKGF0KTthby5hcHBlbmRDaGlsZChhcik7fWlmKGF6LmhlYWRlcil7dmFyIGFxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTthcS50ZXh0Q29udGVudD1hei5oZWFkZXI7YXAuYXBwZW5kQ2hpbGQoYXEpO312YXIgYXc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YXcuc3R5bGUud2hpdGVTcGFjZT1cInByZVwiO2lmKGFEKXthdy5zdHlsZS5tYXJnaW5Ub3A9YUQ7fWF3LnRleHRDb250ZW50PWF6LnRleHQ7YXAuYXBwZW5kQ2hpbGQoYXcpO2FvLmFwcGVuZENoaWxkKGFwKTtpZihhei5tZW51JiZhei5tZW51Lml0ZW1zLmxlbmd0aCl7dmFyIGF4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtheC5pZD1hei50YWJOYW1lK1wiX1wiK2F6Lm1lbnUubmFtZTtpZihhei5tZW51Lmhhc0FsdGVybmF0aXZlU2Nyb2xsTWV0aG9kKXtJKGF4KTt9ZWxzZXtpZihhei5tZW51Lm1heEhlaWdodCl7YXguc3R5bGUubWF4SGVpZ2h0PWF6Lm1lbnUubWF4SGVpZ2h0K1wicHhcIjtheC5zdHlsZS5vdmVyZmxvd1k9XCJhdXRvXCI7fX1xKGF4LGF6Lm1lbnUuaXRlbXMsYXoubWVudS5pdGVtU2l6ZSxhei5tZW51Lm5hbWUsZmFsc2UpO2F1LmFwcGVuZENoaWxkKGF4KTt9aWYoKGFCIT1udWxsKSYmKGFCPGF2LmNoaWxkTm9kZXMubGVuZ3RoJiZhQj49MCkpe2F2Lmluc2VydEJlZm9yZShhdSxhdi5jaGlsZE5vZGVzW2FCXSk7fWVsc2V7YXYuYXBwZW5kQ2hpbGQoYXUpO31pZihhei5pdGVtVHlwZT09PWQuUmliYm9uTWVudUl0ZW1UeXBlLkltYWdlVXBsb2FkZXIpe2F1LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQuaW5zZXJ0TG9jYWxJbWFnZUZpbGUpO319ZC5hZGROb3JtYWxNZW51SXRlbT1zO2Z1bmN0aW9uIEkoYW4pe2FuLnN0eWxlLm92ZXJmbG93WT1cImluaXRpYWxcIjthbi5zdHlsZS5tYXhIZWlnaHQ9XCJpbml0aWFsXCI7Y1thbi5pZF09bmV3IGQuTWVudVRyYW5zZm9ybVN0YXRlKCk7YW4uZGF0YXNldC50cmFuc2Zvcm1TdGF0ZUlkPWFuLmlkO2FuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsTyk7YW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsTyk7aWYoZC5pc1RvdWNoRGV2aWNlKXthbi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLFIpO2FuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLFApO2FuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLFApO2FuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixRKTt9fWZ1bmN0aW9uIGooYXAsYXIsYXQsYXUpe3ZhciBhcSxhbz1kLm1ha2VTbWFsbENvbG9yQnV0dG9ucygpO2FwLnN0eWxlLm1pbldpZHRoPWQuTWluQ29sb3JQaWNrZXJNZW51V2lkdGgrXCJweFwiO2ZvcihhcT0wO2FxPGFvLmxlbmd0aDsrK2FxKXt2YXIgYW49YW9bYXFdO2FuLmRhdGFzZXQubWVudU5hbWU9YXU7YW4uZGF0YXNldC5tZW51SXRlbU5hbWU9YXIubmFtZTthcC5hcHBlbmRDaGlsZChhbik7fX1mdW5jdGlvbiBEKGF0LGF6LGFCLGFDKXt2YXIgYXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpLGFBLGFGLGFEO3ZhciBhRyxhRTtpZighYXouZW5hYmxlZCl7YXIuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWlmKGF6LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLlRvcCl7YXIuc3R5bGUuYm9yZGVyVG9wPVM7fWlmKGF6LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLkJvdHRvbSl7YXIuc3R5bGUuYm9yZGVyQm90dG9tPVM7fWlmKGF6Lm5hbWUpe2FBPWF6LnRhYk5hbWUrXCJfXCIrYXoubmFtZTthci5pZD1hQTthci5kYXRhc2V0Lm1lbnVJdGVtTmFtZT1hei5uYW1lO31pZihhei5wYXJhbWV0ZXIpe2FyLmRhdGFzZXQubWVudUl0ZW1QYXJhbWV0ZXI9YXoucGFyYW1ldGVyO31hci5kYXRhc2V0Lm1lbnVOYW1lPWFDO3ZhciBhcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTthci5hcHBlbmRDaGlsZChhcSk7dmFyIGFKPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YUouY2xhc3NMaXN0LmFkZChcIm1lbnUtaXRlbS1jYXRlZ29yeS1oZWFkZXJcIik7YXEuYXBwZW5kQ2hpbGQoYUopO3ZhciBhdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7dmFyIGF4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2F4LmNsYXNzTGlzdC5hZGQoXCJ0eFRibFdpekhkckZpcnN0UGFydFwiKTtheC50ZXh0Q29udGVudD1kLnJpYmJvblN0cmluZ1Jlc291cmNlcy5SSUJCT05fVEFCX0lOU0VSVF9HUlBfVEFCTEVTX0lOU19NTlVfSEVBREVSK1wiIFwiO3ZhciBheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtheS5jbGFzc0xpc3QuYWRkKFwidHhUYmxXaXpIZHJTZWNvbmRQYXJ0XCIpO2F3LmFwcGVuZENoaWxkKGF4KTthdy5hcHBlbmRDaGlsZChheSk7dmFyIGF2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXYuY2xhc3NMaXN0LmFkZChcInR4SW5zZXJ0VGFibGVXaXphcmRcIik7dmFyIGF1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTthdi5hcHBlbmRDaGlsZChhdSk7YXUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXthcCgpO30pO2F2LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oYUspe2FLLnRhcmdldC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHhUYmxXaXpIZHJTZWNvbmRQYXJ0XCIpLnRleHRDb250ZW50PVwiXCI7fSk7YXUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbihhSyl7dmFyIGFMPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYUsuY2xpZW50WCxhSy5jbGllbnRZKTtpZighYUx8fCgoYUwudGFnTmFtZSE9PVwiVERcIikmJihhTC50YWdOYW1lIT09XCJUQUJMRVwiKSYmKGFMLnRhZ05hbWUhPT1cIlRSXCIpKSl7YW8oKTt9fSk7Zm9yKGFGPTE7YUY8PTg7KythRil7dmFyIGFIPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTthdS5hcHBlbmRDaGlsZChhSCk7Zm9yKGFEPTE7YUQ8PTEwOysrYUQpe3ZhciBhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7YUguYXBwZW5kQ2hpbGQoYW4pO2FuLnR4Q29sPWFEO2FuLnR4Um93PWFGO2FuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7YXAoKTt9KTthbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oYUspe2FJKGFLLnRhcmdldC50eENvbCxhSy50YXJnZXQudHhSb3cpO30pO319YUouYXBwZW5kQ2hpbGQoYXcpO2FKLmFwcGVuZENoaWxkKGF2KTthdC5hcHBlbmRDaGlsZChhcik7ZnVuY3Rpb24gYW8oKXt2YXIgYUs9YXYucXVlcnlTZWxlY3RvckFsbChcInRkLmdsb3dpbmdcIik7W10uZm9yRWFjaC5jYWxsKGFLLGZ1bmN0aW9uKGFMKXthTC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2xvd2luZ1wiKTt9KTthRz1hRT0wO2F5LnRleHRDb250ZW50PVwiXCI7fWZ1bmN0aW9uIGFJKGFQLGFMKXthbygpO2Zvcih2YXIgYU49MDthTjxhTDsrK2FOKXt2YXIgYU89YXUucm93c1thTl07Zm9yKHZhciBhTT0wO2FNPGFQOysrYU0pe3ZhciBhSz1hTy5jZWxsc1thTV07YUsuY2xhc3NMaXN0LmFkZChcImdsb3dpbmdcIik7fX1hRz1hTDthRT1hUDtheS50ZXh0Q29udGVudD1hUCtcInhcIithTDt9ZnVuY3Rpb24gYXAoKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5UYWJsZUNvbW1hbmQsZC5UYWJsZUNvbW1hbmQuQ3JlYXRlLGFFLGFHKTthbygpO319ZC5jaGFuZ2VSaWJib25Db250cm9sU3RhdGU9ZnVuY3Rpb24oYXApe3ZhciBhbyxhcSxhbjthbz1hcC5jb250cm9sTmFtZTthbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhbyk7aWYoIWFuKXtpZihhcC50YWJOYW1lIT09bnVsbCl7YW89YXAudGFiTmFtZStcIl9cIithcC5jb250cm9sTmFtZTthbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhbyk7aWYoIWFuKXtyZXR1cm47fX1lbHNle3JldHVybjt9fXN3aXRjaChhcC5zdGF0ZVR5cGUpe2Nhc2UgZC5SaWJib25Db250cm9sU3RhdGVUeXBlLkVuYWJsZWQ6c3dpdGNoKGFuLnRhZ05hbWUpe2Nhc2VcIklOUFVUXCI6YW4uZGlzYWJsZWQ9IWFwLnZhbHVlO2JyZWFrO2RlZmF1bHQ6aWYoYXAudmFsdWUpe2FuLmNsYXNzTGlzdC5yZW1vdmUoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31lbHNle2FuLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31icmVhazt9YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xTdGF0ZVR5cGUuVmlzaWJsZTphcT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYVtyZWw9XCIrYW8rXCJdXCIpO2lmKGFxKXtpZihhcC52YWx1ZSl7YShcIiNcIithcS5pZCkuc2hvdygpO31lbHNle2EoXCIjXCIrYXEuaWQpLmhpZGUoKTtpZihhKFwiI1wiK2FvKS5pcyhcIjp2aXNpYmxlXCIpKXtkLnN3aXRjaFRhYnMoYShcIiN0YWJEZWZhdWx0XCIpKTt9fWQuYWRhcHRSaWJib25UYWJXaWR0aHMoKTt9ZWxzZXtpZihhcC52YWx1ZSl7YW4uc3R5bGUuZGlzcGxheT1cIlwiO2Quc2V0RGxnTGF1bmNoZXJQb3MoKTt9ZWxzZXthbi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKGFuLmNsYXNzTGlzdC5jb250YWlucyhcInJpYmJvbi1ncm91cFwiKSl7ZC5yZXNldFJpYmJvblRhYkNvbnRlbnRQb3MoKTt9fX1kLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO2JyZWFrO319O2QuY2hhbmdlUmliYm9uQnV0dG9uU3RhdGU9ZnVuY3Rpb24oYXIpe3ZhciBhbz1hci50YWJOYW1lK1wiX1wiK2FyLmJ1dHRvbk5hbWU7dmFyIGFuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFvKTtpZighYW4pe3JldHVybjt9c3dpdGNoKGFyLnN0YXRlVHlwZSl7Y2FzZSBkLlJpYmJvbkJ1dHRvblN0YXRlVHlwZS5Ub2dnbGVkOmlmKGFuLmNsYXNzTGlzdC5jb250YWlucyhcInJpYmJvbi1idXR0b24tYmlnXCIpKXtpZihhci52YWx1ZSl7YW4uY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fWVsc2V7YW4uY2xhc3NMaXN0LnJlbW92ZShcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fX1lbHNle3ZhciBhdD1hbi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKVswXTtpZighYXQpe2F0PWFuO31pZihhci52YWx1ZSl7YXQuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fWVsc2V7YXQuY2xhc3NMaXN0LnJlbW92ZShcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fX1icmVhaztjYXNlIGQuUmliYm9uQnV0dG9uU3RhdGVUeXBlLkltYWdlRGF0YVVSTDp2YXIgYXE9YW4ucXVlcnlTZWxlY3RvcihcImRpdiA+IGltZ1wiKTtpZihhcSl7YXEuc3JjPWFyLnZhbHVlO31icmVhaztjYXNlIGQuUmliYm9uQnV0dG9uU3RhdGVUeXBlLkJ1dHRvblRleHQ6dmFyIGFwPWFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzBdO2lmKCFhcCl7Y29uc29sZS5lcnJvcihcImNoYW5nZVJpYmJvbkJ1dHRvblN0YXRlKCk6IFRleHQgY29udGFpbmVyIGRpdiBvZiBzbWFsbCBidXR0b24gXCIrYXIuYnV0dG9uTmFtZStcIiBub3QgZm91bmQuXCIpO2JyZWFrO31hcC50ZXh0Q29udGVudD0oYXIudmFsdWUubGVuZ3RoPT0xKT9hci52YWx1ZStcIlxcXFx1RkUwRVwiOmFyLnZhbHVlO2JyZWFrO319O2QuY2hhbmdlUmliYm9uTWVudUl0ZW1TdGF0ZT1mdW5jdGlvbihhcCl7dmFyIGFvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFwLnRhYk5hbWUrXCJfXCIrYXAubWVudUl0ZW1OYW1lKTtpZighYW8pe3JldHVybjt9c3dpdGNoKGFwLnN0YXRlVHlwZSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtU3RhdGVUeXBlLklzQ2hlY2tlZDpHKGFvLGFwLnZhbHVlKTticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1TdGF0ZVR5cGUuU21hbGxJbWFnZURhdGFVUkw6dmFyIGFuPWFvLnF1ZXJ5U2VsZWN0b3IoXCJhID4gZGl2ID4gaW1nXCIpO2lmKGFuKXthbi5zcmM9YXAudmFsdWU7fWJyZWFrO319O2Z1bmN0aW9uIEcoYW8sYW4pe3ZhciBhcD1hby5xdWVyeVNlbGVjdG9yKFwiYSA+IGRpdlwiKTtpZihhbil7YXAuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fWVsc2V7YXAuY2xhc3NMaXN0LnJlbW92ZShcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fX1kLmNoYW5nZVJpYmJvblRleHRCb3hTdGF0ZT1mdW5jdGlvbihhbil7dmFyIGFwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuLnRhYk5hbWUrXCJfXCIrYW4udGV4dEJveE5hbWUpO2lmKCFhcCl7cmV0dXJuO31zd2l0Y2goYW4uc3RhdGVUeXBlKXtjYXNlIGQuUmliYm9uVGV4dEJveFN0YXRlVHlwZS5OdW1iZXI6YXAudmFsdWU9K2FuLnZhbHVlLnRvRml4ZWQoMSk7YnJlYWs7Y2FzZSBkLlJpYmJvblRleHRCb3hTdGF0ZVR5cGUuVGV4dDphcC52YWx1ZT1hbi52YWx1ZTticmVhaztjYXNlIGQuUmliYm9uVGV4dEJveFN0YXRlVHlwZS5TZWxlY3Rpb246aWYoYW4udmFsdWUudGV4dHx8KGFuLnZhbHVlLnRleHQ9PT1cIlwiKSl7YW8oKTt9ZWxzZXtpZihhbi52YWx1ZS5zZWxlY3Rpb25MZW5ndGgpe2FwLmZvY3VzKCk7YXAuc2V0U2VsZWN0aW9uUmFuZ2UoYW4udmFsdWUuc2VsZWN0aW9uU3RhcnQsYW4udmFsdWUuc2VsZWN0aW9uU3RhcnQrYW4udmFsdWUuc2VsZWN0aW9uTGVuZ3RoKTt9fWJyZWFrO31mdW5jdGlvbiBhbygpe3ZhciBheD1hcC5zZWxlY3Rpb25TdGFydDt2YXIgYXI9YXAuc2VsZWN0aW9uRW5kO3ZhciBhcT1hcC52YWx1ZTt2YXIgYXQ9YXEuc3Vic3RyaW5nKDAsYXgpK2FuLnZhbHVlLnRleHQrYXEuc3Vic3RyaW5nKGFyLGFxLmxlbmd0aCk7YXAudmFsdWU9YXQ7YXAuZm9jdXMoKTt2YXIgYXc9YXgrYW4udmFsdWUuc2VsZWN0aW9uU3RhcnQ7dmFyIGF2PWFuLnZhbHVlLnNlbGVjdGlvbkxlbmd0aDt2YXIgYXU9YXcrYXY7YXAuc2V0U2VsZWN0aW9uUmFuZ2UoYXcsYXUpO319O2QuY2hhbmdlUmliYm9uQ29tYm9Cb3hTdGF0ZT1mdW5jdGlvbihhbyl7dmFyIGFuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFvLnRhYk5hbWUrXCJfXCIrYW8ubmFtZSk7aWYoIWFuKXtyZXR1cm47fXN3aXRjaChhby5zdGF0ZVR5cGUpe2Nhc2UgZC5Db21ib0JveFN0YXRlVHlwZS5TZWxlY3RlZEl0ZW06YXAoKTticmVhaztjYXNlIGQuQ29tYm9Cb3hTdGF0ZVR5cGUuSXRlbXM6YXEoKTticmVhazt9ZnVuY3Rpb24gYXEoKXthbi5pbm5lckhUTUw9XCJcIjtsKGFuLGFvLnZhbHVlLml0ZW1zLGFvLnRhYk5hbWUsYW8ubmFtZSk7fWZ1bmN0aW9uIGFwKCl7dmFyIGF1PWFvLnZhbHVlLnNlbGVjdGVkSXRlbTt2YXIgYXQ9LTE7aWYoYXU9PT1udWxsKXthdD0wO31lbHNle2Zvcih2YXIgYXI9MDthcjxhbi5sZW5ndGg7YXIrKyl7aWYoYW5bYXJdLnZhbHVlPT09YXUuVmFsdWUpe2F0PWFyO2JyZWFrO319fWlmKGF0IT0tMSl7YW4uc2VsZWN0ZWRJbmRleD1hdDt9fX07ZC5wcm9jZXNzUmliYm9uQ29tYm9Cb3hDb21tYW5kPWZ1bmN0aW9uKGFwKXt2YXIgYW89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXAudGFiTmFtZStcIl9cIithcC5uYW1lKTtpZighYW8pe3JldHVybjt9c3dpdGNoKGFwLmNvbW1hbmQpe2Nhc2UgZC5Db21ib0JveENvbW1hbmQuQWRkSXRlbTphbihhcC52YWx1ZSk7YnJlYWs7Y2FzZSBkLkNvbWJvQm94Q29tbWFuZC5BZGRJdGVtczphcC52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKGFxKXthbihhcSk7fSk7YnJlYWs7Y2FzZSBkLkNvbWJvQm94Q29tbWFuZC5DbGVhcjphby5pbm5lckhUTUw9XCJcIjticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJVbmtub3duIGNvbWJvYm94IGNvbW1hbmQgaW4gX3ByaXZhdGUucHJvY2Vzc1JpYmJvbkNvbWJvQm94Q29tbWFuZCgpOiBcIithcC5jb21tYW5kKTticmVhazt9ZnVuY3Rpb24gYW4oYXIpe3ZhciBhcT1bXS5maW5kLmNhbGwoYW8ub3B0aW9ucyxmdW5jdGlvbihhdCl7cmV0dXJuIGF0LnRleHQ9PT1hci50ZXh0O30pO2lmKCFhcSl7YXE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTthcS52YWx1ZT1hci52YWx1ZTthcS50ZXh0PWFyLnRleHQ7YW8uYXBwZW5kQ2hpbGQoYXEpO31pZihhci5oaWRkZW4pe2FxLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7YXEuZGlzYWJsZWQ9dHJ1ZTt9ZWxzZXthcS5zdHlsZS5kaXNwbGF5PVwiXCI7YXEuZGlzYWJsZWQ9ZmFsc2U7fX19O2QuY2hhbmdlTGlzdEl0ZW1TdGF0ZT1mdW5jdGlvbihhcSl7dmFyIGFvPWFxLnRhYk5hbWUrXCJfXCIrYXEubGlzdEJveE5hbWU7c3dpdGNoKGFxLnN0YXRlVHlwZSl7Y2FzZSBkLkxpc3RJdGVtU3RhdGVUeXBlLklzQ2hlY2tlZDphbigpO2JyZWFrO2Nhc2UgZC5MaXN0SXRlbVN0YXRlVHlwZS5UZXh0OmFyKCk7YnJlYWs7Y2FzZSBkLkxpc3RJdGVtU3RhdGVUeXBlLkVkaXRhYmxlOmFwKCk7YnJlYWs7fWZ1bmN0aW9uIGFuKCl7dmFyIGF1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIrYW8rXCIgaW5wdXRbdHlwZT1jaGVja2JveF1cIik7dmFyIGF0PVtdLmZpbmQuY2FsbChhdSxmdW5jdGlvbihhdil7cmV0dXJuIGF2LmRhdGFzZXQuaXRlbVVpZD09PWFxLnVpZDt9KTtpZighYXQpe2NvbnNvbGUuZXJyb3IoXFwnY2hlY2tJdGVtKCk6IENoZWNrIGJveCBmb3IgaXRlbSB3aXRoIHVpZCBcIlxcJythcS51aWQrXFwnXCIgbm90IGZvdW5kIGluIGxpc3QgYm94IFwiXFwnK2FxLmxpc3RCb3hOYW1lK1xcJ1wiLlxcJyk7cmV0dXJuO31hdC5jaGVja2VkPWFxLnZhbHVlO31mdW5jdGlvbiBhcigpe3ZhciBhdT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2FvK1wiIHRkIGxhYmVsLCAjXCIrYW8rXCIgdGQgZGl2XCIpO3ZhciBhdD1bXS5maW5kLmNhbGwoYXUsZnVuY3Rpb24oYXYpe3JldHVybiBhdi5kYXRhc2V0Lml0ZW1VaWQ9PT1hcS51aWQ7fSk7aWYoIWF0KXtjb25zb2xlLmVycm9yKFxcJ3NldEl0ZW1UZXh0KCk6IEl0ZW0gd2l0aCB1aWQgXCJcXCcrYXEudWlkK1xcJ1wiIG5vdCBmb3VuZCBpbiBsaXN0IGJveCBcIlxcJythcS5saXN0Qm94TmFtZStcXCdcIi5cXCcpO3JldHVybjt9aWYoYXQudGFnTmFtZT09PVwiTEFCRUxcIil7YXQudGV4dD1hcS52YWx1ZTt9ZWxzZXtpZihhdC50YWdOYW1lPT09XCJESVZcIil7YXQudGV4dENvbnRlbnQ9YXEudmFsdWU7fWVsc2V7Y29uc29sZS5lcnJvcihcXCdjaGFuZ2VMaXN0SXRlbVN0YXRlKCksIHNldEl0ZW1UZXh0KCk6IFVuZXhwZWN0ZWQgdGFnIFwiXFwnK2F0LnRhZ05hbWUrXFwnXCIuXFwnKTt9fX1mdW5jdGlvbiBhcCgpe2lmKCFhcS52YWx1ZSl7Y29uc29sZS5lcnJvcihcImNoYW5nZUxpc3RJdGVtU3RhdGUoKSwgbWFrZUxpc3RJdGVtRWRpdGFibGUoKTogTWFraW5nIGl0ZW1zIHJlYWQgb25seSBhZ2FpbiBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTtyZXR1cm47fXZhciBhdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcS50YWJOYW1lK1wiX1wiK2FxLmxpc3RCb3hOYW1lKTtpZighYXcpe3JldHVybjt9YUMoKTt2YXIgYUE9YXcucXVlcnlTZWxlY3RvckFsbChcInRyXCIpO1tdLmZvckVhY2guY2FsbChhQSxmdW5jdGlvbihhRSl7YUUuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO30pO3ZhciBhej1bXS5maW5kLmNhbGwoYUEsZnVuY3Rpb24oYUUpe3JldHVybiBhRS5kYXRhc2V0Lml0ZW1VaWQ9PT1hcS51aWQ7fSk7aWYoIWF6KXtjb25zb2xlLmVycm9yKFxcJ2NoYW5nZUxpc3RJdGVtU3RhdGUoKSwgbWFrZUxpc3RJdGVtRWRpdGFibGUoKTogbGlzdCBpdGVtIHdpdGggdWlkIFwiXFwnK2FxLnVpZCtcXCdcIiBub3QgZm91bmQuXFwnKTtyZXR1cm47fXZhciBheD1hei5jaGlsZHJlblswXSxheT1heC5jaGlsZHJlblswXTtpZihheS50YWdOYW1lPT09XCJJTlBVVFwiKXtyZXR1cm47fWF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXkpO3ZhciBhdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YXQudHlwZT1cInRleHRcIjthdC5zZXRBdHRyaWJ1dGUoXCJmb3JtXCIsXCJ0eE5vdmFsaWRhdGVGb3JtXCIpO2F0LnN0eWxlLndpZHRoPVwiOTglXCI7YXQudmFsdWU9YXkudGV4dENvbnRlbnQ7YXguYXBwZW5kQ2hpbGQoYXQpO2F0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYXUpO2F0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYXYpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthdC5mb2N1cygpO30sMTAwKTtmdW5jdGlvbiBhdSgpe2F0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYXYpO2FCKCk7aWYoYXQudmFsdWUpe2lmKGF0LnZhbHVlIT09YXkudGV4dENvbnRlbnQpe2F5LnRleHRDb250ZW50PVwiXCI7fWFEKCk7fX1mdW5jdGlvbiBhdihhRSl7c3dpdGNoKGFFLmtleSl7Y2FzZVwiRXNjXCI6Y2FzZVwiRXNjYXBlXCI6YXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIixhdSk7YUIoKTticmVhaztjYXNlXCJFbnRlclwiOmF0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYXUpO2FCKCk7aWYoYXQudmFsdWUhPT1heS50ZXh0Q29udGVudCl7YXkudGV4dENvbnRlbnQ9XCJcIjt9YUQoKTticmVhazt9fWZ1bmN0aW9uIGFEKGFGKXt2YXIgYUU9e3RhYk5hbWU6YXEudGFiTmFtZSxsaXN0Qm94TmFtZTphcS5saXN0Qm94TmFtZSx0ZXh0OmF0LnZhbHVlLGl0ZW1VaWQ6YXouZGF0YXNldC5pdGVtVWlkfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkl0ZW1UZXh0Q2hhbmdlZCwwLDAsYUUpO31mdW5jdGlvbiBhQigpe2F0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXQpO2F4LmFwcGVuZENoaWxkKGF5KTt9ZnVuY3Rpb24gYUMoKXt2YXIgYUY9YXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGFFPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNhbnZhc1wiKTt2YXIgYUc9YUUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoYUYucmlnaHQ+YUcucmlnaHQpe2FhKG51bGwsdHJ1ZSk7fWVsc2V7aWYoYUYubGVmdDxhRy5sZWZ0KXtaKG51bGwsdHJ1ZSk7fX19fX07ZC5jaGFuZ2VMaXN0Qm94U3RhdGU9ZnVuY3Rpb24oYW8pe3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhby50YWJOYW1lK1wiX1wiK2FvLm5hbWUpO2lmKCFhbil7cmV0dXJuO31zd2l0Y2goYW8uc3RhdGVUeXBlKXtjYXNlIGQuTGlzdEJveFN0YXRlVHlwZS5JdGVtczpXKGFuLGFvLnZhbHVlLGFvLnRhYk5hbWUsYW8ubmFtZSxhby5pdGVtc0FyZUNoZWNrYWJsZSxhby5pdGVtc0FyZVNlbGVjdGFibGUpO2JyZWFrO2Nhc2UgZC5MaXN0Qm94U3RhdGVUeXBlLlNlbGVjdGVkSW5kZXg6YWYoYW4sYW8udmFsdWUpO2JyZWFrO319O2QuY2FsY01lbnVXaWR0aHM9ZnVuY3Rpb24oYXApe2lmKCFhcHx8IWFwLmNoaWxkcmVuKXtyZXR1cm47fXZhciBhdj1bXTtmb3IodmFyIGFyPTA7YXI8YXAuY2hpbGRyZW4ubGVuZ3RoOysrYXIpe3ZhciBhbz1hcC5jaGlsZHJlblthcl07aWYoYW8udGFnTmFtZT09PVwiTElcIil7Zm9yKHZhciBhdD0wO2F0PGFvLmNoaWxkcmVuLmxlbmd0aDsrK2F0KXt2YXIgYW49YW8uY2hpbGRyZW5bYXRdO2lmKGFuLnRhZ05hbWU9PT1cIlVMXCIpe2F2LnB1c2goYW4pO319fX1mb3IoYXI9MDthcjxhdi5sZW5ndGg7Kythcil7dmFyIGF1PWF2W2FyXTtkLmNhbGNNZW51V2lkdGhzKGF1KTt9YXAuc3R5bGUud2lkdGg9YXEoYXApK1wicHhcIjtmdW5jdGlvbiBhcShhQSl7dmFyIGFKPTAsYU0sYU4sYXgsYXosYUQsYUIsYUssYXk7dmFyIGF3PWFFKGFBKT8yNzoxMDtmb3IodmFyIGFHPTA7YUc8YUEuY2hpbGRyZW4ubGVuZ3RoOysrYUcpe2FEPWFBLmNoaWxkcmVuW2FHXTtpZighYUQuY2hpbGRyZW4ubGVuZ3RoKXtjb250aW51ZTt9YUI9YUQuY2hpbGRyZW5bMF07aWYoYUIubm9kZU5hbWUhPT1cIkFcIil7Y29udGludWU7fWFLPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJUQUJMRVwiKTthSy5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCI7YUsuc3R5bGUubGVmdD1cIi05OTk5cHhcIjthSy5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCI7YUsuc3R5bGUuYm9yZGVyQ29sbGFwc2U9XCJjb2xsYXBzZVwiO2FOPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJUUlwiKTthSy5hcHBlbmRDaGlsZChhTik7Zm9yKHZhciBhSD0wO2FIPGFCLmNoaWxkTm9kZXMubGVuZ3RoOysrYUgpe2F4PWFCLmNoaWxkTm9kZXNbYUhdO2lmKGF4Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBhTD1heC5xdWVyeVNlbGVjdG9yKFwiZGl2LnR4SW5zZXJ0VGFibGVXaXphcmQgPiB0YWJsZVwiKTtpZihhTCl7YXg9YUw7YXc9LTE7fX1hej0oYXggaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk/Z2V0Q29tcHV0ZWRTdHlsZShheCk6Z2V0Q29tcHV0ZWRTdHlsZShhQik7YU09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlREXCIpO2FNLnN0eWxlLmZvbnRGYW1pbHk9YXouZm9udEZhbWlseTthTS5zdHlsZS5mb250U2l6ZT1hei5mb250U2l6ZTtheT1heC5jbG9uZU5vZGUodHJ1ZSk7aWYoYXkgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7YXkuc3R5bGUuZm9udEZhbWlseT1hei5mb250RmFtaWx5O2F5LnN0eWxlLmZvbnRTaXplPWF6LmZvbnRTaXplO2lmKGF5LnRhZ05hbWU9PT1cIlRBQkxFXCIpe2F5LnN0eWxlLndpZHRoPWF6LndpZHRoO319c3dpdGNoKGF5Lm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmlmKChheS50YWdOYW1lPT09XCJESVZcIikmJihheS5jbGFzc0xpc3QuY29udGFpbnMoXCJtZW51LWl0ZW0tY2F0ZWdvcnktaGVhZGVyXCIpKSl7YnJlYWs7fXZhciBhRj1heS5xdWVyeVNlbGVjdG9yQWxsKFwiaDFcIik7Zm9yKHZhciBhST0wO2FJPGFGLmxlbmd0aDsrK2FJKXthRlthSV0uc3R5bGUuZm9udFNpemU9YXouZm9udFNpemU7YUZbYUldLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCI7fWFNLmFwcGVuZENoaWxkKGF5KTthTi5hcHBlbmRDaGlsZChhTSk7YnJlYWs7Y2FzZSBOb2RlLlRFWFRfTk9ERTphTS50ZXh0Q29udGVudD1heS5kYXRhO2FOLmFwcGVuZENoaWxkKGFNKTticmVhazt9fXZhciBhQz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTthQy5hcHBlbmRDaGlsZChhSyk7dmFyIGFPPWFLLmNsaWVudFdpZHRoK2F3O2FKPU1hdGgubWF4KGFKLGFPKTthQy5yZW1vdmVDaGlsZChhSyk7fXJldHVybiBhSjtmdW5jdGlvbiBhRShhUCl7cmV0dXJuKGFQLnN0eWxlLm92ZXJmbG93WT09PVwiYXV0b1wiKXx8KGFQLnN0eWxlLm92ZXJmbG93WT09PVwic2Nyb2xsXCIpO319fTtkLmhpZGVBbGxPdGhlck1lbnVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhbiBpbiBkLmpRdWVyeU1lbnVzKXtkLmpRdWVyeU1lbnVzW2FuXS5oaWRlKCk7fX07ZC5saW1pdE1lbnVIZWlnaHQ9ZnVuY3Rpb24oYXEpe3ZhciBhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcSk7YW4uc3R5bGUuaGVpZ2h0PVwiXCI7dmFyIGFvPWFuLmNsaWVudEhlaWdodDt2YXIgYXA9ZC5jbGllbnRTaXplLkhlaWdodC1kLnJpYmJvbkJhckhlaWdodC1kLlN0YXR1c0JhckhlaWdodC1kLlNjcm9sbGJhcldpZHRoO2lmKGFwPGFvKXthbi5zdHlsZS5oZWlnaHQ9YXArXCJweFwiO2FuLnN0eWxlLm92ZXJmbG93WT1cImF1dG9cIjt9fTtkLk1lbnVUcmFuc2Zvcm1TdGF0ZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiBhbigpe3RoaXMuc2Nyb2xsRW5hYmxlZD1mYWxzZTt0aGlzLmRlbHRhWT0wO3RoaXMubWF4RGVsdGE9MDt0aGlzLnRvdWNoSW5Qcm9ncmVzcz1mYWxzZTt0aGlzLnRvdWNoUHJldj1udWxsO3RoaXMuZGVsdGFGYWN0b3I9MTt0aGlzLmRpcmVjdGlvbj1udWxsO31hbi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEVuYWJsZWQ9ZmFsc2U7dGhpcy5kZWx0YVk9dGhpcy5tYXhEZWx0YT0wO3RoaXMudG91Y2hJblByb2dyZXNzPWZhbHNlO3RoaXMudG91Y2hQcmV2PW51bGw7dGhpcy5kaXJlY3Rpb249bnVsbDt9O3JldHVybiBhbjt9KSgpO2Z1bmN0aW9uIEwoYW4pe2lmKCFhbil7dGhyb3cgbmV3IEVycm9yKFxcJ0FyZ3VtZW50IFwibWVudVwiIGlzIG51bGwuXFwnKTt9dmFyIGFvPWFuLmRhdGFzZXQudHJhbnNmb3JtU3RhdGVJZDtpZighYW8pe3Rocm93IG5ldyBFcnJvcihcIk1lbnUgdHJhbnNmb3JtIC8gc2Nyb2xsIHN0YXRlIGlkIG5vdCBmb3VuZCBpbiBlbGVtZW50IGRhdGFzZXQuXCIpO31yZXR1cm4gY1thb107fWZ1bmN0aW9uIGFlKGFxLGFuLGFyKXt2YXIgYW89bnVsbDtpZighYXIuc2Nyb2xsRW5hYmxlZCl7cmV0dXJuO31pZihhci5kaXJlY3Rpb249PT1udWxsKXthcCgpO31pZihhci5kaXJlY3Rpb249PT1udWxsKXtjb25zb2xlLmVycm9yKFwiU3ViIG1lbnUgc2Nyb2xsIGRpcmVjdGlvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBmb3IgdW5rbm93biByZWFzb25zLlwiKTthci5kaXJlY3Rpb249LTE7fXN3aXRjaChhci5kaXJlY3Rpb24pe2Nhc2UgMTphci5kZWx0YVk9TWF0aC5taW4oTWF0aC5tYXgoKGFyLmRlbHRhWSthbiksMCksYXIubWF4RGVsdGEpO2JyZWFrO2Nhc2UgLTE6YXIuZGVsdGFZPU1hdGgubWluKE1hdGgubWF4KChhci5kZWx0YVkrYW4pLC1hci5tYXhEZWx0YSksMCk7YnJlYWs7fWFxLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwcHgsIFwiK2FyLmRlbHRhWStcInB4KVwiO2Z1bmN0aW9uIGFwKCl7dmFyIGF4PWF0KGFxKTtpZihheD09MCl7YXIuZGlyZWN0aW9uPS0xO31lbHNle3ZhciBhdz1hcS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207aWYoYXg9PTEpe3ZhciBhdj1hcS5wYXJlbnRFbGVtZW50O2lmKGF2LnRhZ05hbWU9PT1cIkxJXCIpe2FvPShhdy1hdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pO319ZWxzZXthbz1hdy1hdShhcSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO31pZihhbyE9PW51bGwpe2FyLmRpcmVjdGlvbj0oYW88PTIpPzE6LTE7fX1mdW5jdGlvbiBhdChhQSl7dmFyIGF6PTA7dmFyIGFCPWF1KGFBKTt2YXIgYXk9YUIhPW51bGw7aWYoYXkpe2F6PWF0KGFCKSsxO31yZXR1cm4gYXo7fWZ1bmN0aW9uIGF1KGF6KXt2YXIgYUE9YXoucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O3ZhciBheT1hQSYmYUEudGFnTmFtZT09PVwiVUxcIjtpZihheSl7cmV0dXJuIGFBO31lbHNle3JldHVybiBudWxsO319fX1mdW5jdGlvbiBPKGFvKXt2YXIgYXA9TChhby5jdXJyZW50VGFyZ2V0KTt2YXIgYW49KChhby53aGVlbERlbHRhfHwtKGFvLmRldGFpbCo0MCkpLzQpKmFwLmRlbHRhRmFjdG9yO2FlKGFvLmN1cnJlbnRUYXJnZXQsYW4sYXApO2lmKGFvLmNhbmNlbGFibGUpe2FvLnByZXZlbnREZWZhdWx0KCk7fWFvLnN0b3BQcm9wYWdhdGlvbigpO31mdW5jdGlvbiBSKGFuKXt2YXIgYW89TChhbi5jdXJyZW50VGFyZ2V0KTthby50b3VjaEluUHJvZ3Jlc3M9KGFuLnRvdWNoZXMubGVuZ3RoPT0xKTtpZihhby50b3VjaEluUHJvZ3Jlc3Mpe2FvLnRvdWNoUHJldj1kLmNsb25lVG91Y2goYW4udG91Y2hlc1swXSk7fWFuLnN0b3BQcm9wYWdhdGlvbigpO31mdW5jdGlvbiBQKGFuKXt2YXIgYW89TChhbi5jdXJyZW50VGFyZ2V0KTthby50b3VjaEluUHJvZ3Jlc3M9ZmFsc2U7YW8udG91Y2hQcmV2PW51bGw7YW4uc3RvcFByb3BhZ2F0aW9uKCk7fWZ1bmN0aW9uIFEoYW8pe3ZhciBhcD1MKGFvLmN1cnJlbnRUYXJnZXQpO2lmKCFhcC50b3VjaEluUHJvZ3Jlc3Mpe3JldHVybjt9aWYoYW8udG91Y2hlcy5sZW5ndGghPTEpe2FwLnRvdWNoSW5Qcm9ncmVzcz1mYWxzZTtyZXR1cm47fXZhciBhbj1hby5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZLWFwLnRvdWNoUHJldi5jbGllbnRZO2FwLnRvdWNoUHJldj1kLmNsb25lVG91Y2goYW8uY2hhbmdlZFRvdWNoZXNbMF0pO2FlKGFvLmN1cnJlbnRUYXJnZXQsYW4sYXApO2lmKGFvLmNhbmNlbGFibGUpe2FvLnByZXZlbnREZWZhdWx0KCk7fWFvLnN0b3BQcm9wYWdhdGlvbigpO31mdW5jdGlvbiBGKGFyLGFwKXthcD0hIWFwO3ZhciBhbz1hci5jbGllbnRIZWlnaHQ7dmFyIGFxPWQuY2xpZW50U2l6ZS5IZWlnaHQtZC5yaWJib25CYXJIZWlnaHQtZC5TdGF0dXNCYXJIZWlnaHQ7dmFyIGF0O3RyeXthdD1MKGFyKTt9Y2F0Y2goYW4pe2NbYXIuaWRdPW5ldyBkLk1lbnVUcmFuc2Zvcm1TdGF0ZSgpO2F0PWNbYXIuaWRdO31pZigoYW8+YXEpfHxhcCl7YXQuc2Nyb2xsRW5hYmxlZD10cnVlO2F0Lm1heERlbHRhPWFwP2FvOihhby1hcSk7fWVsc2V7YXQucmVzZXQoKTt9aWYoIWFwKXt2YXIgYXU9YXIucXVlcnlTZWxlY3RvckFsbChcInVsXCIpO1tdLmZvckVhY2guY2FsbChhdSxmdW5jdGlvbihhdil7YXYuc3R5bGUuZGlzcGxheT1cIlwiO30pO1tdLmZvckVhY2guY2FsbChhdSxmdW5jdGlvbihhdil7Rihhdix0cnVlKTt9KTtbXS5mb3JFYWNoLmNhbGwoYXUsZnVuY3Rpb24oYXYpe2F2LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fSk7fX1mdW5jdGlvbiBYKGFvKXtmb3IodmFyIGFuIGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkoYW4pKXtjW2FuXS5yZXNldCgpO319YW8uc3R5bGUudHJhbnNmb3JtPVwiXCI7dmFyIGFwPWFvLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ1bFwiKTtbXS5mb3JFYWNoLmNhbGwoYXAsZnVuY3Rpb24oYXEpe2FxLnN0eWxlLnRyYW5zZm9ybT1cIlwiO30pO31yZXR1cm4gYWw7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihmLGEpe3ZhciBiPWYuX3ByaXZhdGU9Zi5fcHJpdmF0ZXx8e307Yi5TdWJUZXh0UGFydENvbW1hbmQ9T2JqZWN0LmZyZWV6ZSh7R2V0QWxsOjEsU2V0UHJvcGVydHk6MixHZXRJdGVtOjMsQWRkSXRlbTo0LFJlbW92ZUl0ZW06NSxTY3JvbGxUbzo2LH0pO2IuU3ViVGV4dFBhcnRQcm9wZXJ0eT1PYmplY3QuZnJlZXplKHtOYW1lOjEsU3RhcnQ6MixMZW5ndGg6MyxJRDo0LEhpZ2hsaWdodENvbG9yOjUsSGlnaGxpZ2h0TW9kZTo2fSk7Yi5IaWdobGlnaHRNb2RlPU9iamVjdC5mcmVlemUoe05ldmVyOjEsQWN0aXZhdGVkOjIsQWx3YXlzOjN9KTtiLkFkZFJlc3VsdD1PYmplY3QuZnJlZXplKHtFcnJvcjowLFN1Y2Nlc3NmdWw6MSxOb1NlbGVjdGlvbjoyLFNlbGVjdGlvblRvb0NvbXBsZXg6MyxQb3NpdGlvbkludmFsaWQ6NCxBbHJlYWR5RXhpc3RzOjUsT3ZlcmxhcHBpbmc6NyxDb21iaW5lZDo4LH0pO2IuQ29sb3I9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29sb3IocixnLGIsYSl7aWYoYT09PXVuZGVmaW5lZCl7YT0yNTU7fWlmKChyPT09dW5kZWZpbmVkKXx8KGc9PT11bmRlZmluZWQpfHwoYj09PXVuZGVmaW5lZCl8fChyPDApfHwocj4yNTUpfHwoZzwwKXx8KGc+MjU1KXx8KGI8MCl8fChiPjI1NSl8fChhPDApfHwoYT4yNTUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiciwgZywgYW5kIGIgcGFyYW1ldGVycyBtdXN0IGJlIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1LlwiKTt9dGhpcy5yPU1hdGgucm91bmQocik7dGhpcy5nPU1hdGgucm91bmQoZyk7dGhpcy5iPU1hdGgucm91bmQoYik7dGhpcy5hPU1hdGgucm91bmQoYSk7fXJldHVybiBDb2xvcjt9KSgpO2IuTGVnYWN5U3ViVGV4dFBhcnQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3ViVGV4dFBhcnQoc2VydmVyU3ViVGV4dFBhcnRPYmplY3Qpe3RoaXMuX3N1YlRleHRQYXJ0PXNlcnZlclN1YlRleHRQYXJ0T2JqZWN0O3ZhciBnPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7bmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX3N1YlRleHRQYXJ0Lm5hbWU7fSxzZXQ6ZnVuY3Rpb24obmFtZSl7aWYobmFtZT09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31nLl9zdWJUZXh0UGFydC5uYW1lPW5hbWU7dmFyIGg9e3N1YlRleHRQYXJ0OmcuX3N1YlRleHRQYXJ0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydCxiLlN1YlRleHRQYXJ0Q29tbWFuZC5TZXRQcm9wZXJ0eSxiLlN1YlRleHRQYXJ0UHJvcGVydHkuTmFtZSwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxpZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX3N1YlRleHRQYXJ0LmlkO30sc2V0OmZ1bmN0aW9uKGlkKXtpZihpZD09PXVuZGVmaW5lZCl7aWQ9MDt9aWYoIWlzSW50ZWdlcihpZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpZFwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31nLl9zdWJUZXh0UGFydC5pZD1pZDt2YXIgaD17c3ViVGV4dFBhcnQ6Zy5fc3ViVGV4dFBhcnR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGIuU3ViVGV4dFBhcnRDb21tYW5kLlNldFByb3BlcnR5LGIuU3ViVGV4dFBhcnRQcm9wZXJ0eS5JRCwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxoaWdobGlnaHRDb2xvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX3N1YlRleHRQYXJ0LmhpZ2hsaWdodENvbG9yO30sc2V0OmZ1bmN0aW9uKGhpZ2hsaWdodENvbG9yKXtpZihoaWdobGlnaHRDb2xvcj09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZighaGlnaGxpZ2h0Q29sb3IuaGFzT3duUHJvcGVydHkoXCJyXCIpfHwhaGlnaGxpZ2h0Q29sb3IuaGFzT3duUHJvcGVydHkoXCJnXCIpfHwhaGlnaGxpZ2h0Q29sb3IuaGFzT3duUHJvcGVydHkoXCJiXCIpfHwhaGlnaGxpZ2h0Q29sb3IuaGFzT3duUHJvcGVydHkoXCJhXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGNvbG9yIG9iamVjdCBtdXN0IGhhdmUgdGhlIHByb3BlcnRpZXMgXFwnclxcJywgXFwnZ1xcJywgXFwnYlxcJyBhbmQgXFwnYVxcJy5cIik7fWlmKCFpc0ludGVnZXIoaGlnaGxpZ2h0Q29sb3Iucil8fCFpc0ludGVnZXIoaGlnaGxpZ2h0Q29sb3IuZyl8fCFpc0ludGVnZXIoaGlnaGxpZ2h0Q29sb3IuYil8fCFpc0ludGVnZXIoaGlnaGxpZ2h0Q29sb3IuYSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJBbGwgY29sb3IgY2hhbm5lbCB2YWx1ZXMgbXVzdCBiZSBpbnRlZ2VycyBiZXR3ZWVuIDAgYW5kIDI1NS5cIik7fWcuX3N1YlRleHRQYXJ0LmhpZ2hsaWdodENvbG9yPWhpZ2hsaWdodENvbG9yO3ZhciBoPXtzdWJUZXh0UGFydDpnLl9zdWJUZXh0UGFydH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsYi5TdWJUZXh0UGFydENvbW1hbmQuU2V0UHJvcGVydHksYi5TdWJUZXh0UGFydFByb3BlcnR5LkhpZ2hsaWdodENvbG9yLDAsaCk7fSxlbnVtZXJhYmxlOnRydWV9LGhpZ2hsaWdodE1vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5oaWdobGlnaHRNb2RlO30sc2V0OmZ1bmN0aW9uKGhpZ2hsaWdodE1vZGUpe2lmKGhpZ2hsaWdodE1vZGU9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYoIWlzSW50ZWdlcihoaWdobGlnaHRNb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImhpZ2hsaWdodE1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5IaWdobGlnaHRNb2RlLlxcJyk7fWcuX3N1YlRleHRQYXJ0LmhpZ2hsaWdodE1vZGU9aGlnaGxpZ2h0TW9kZTt2YXIgaD17c3ViVGV4dFBhcnQ6Zy5fc3ViVGV4dFBhcnR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGIuU3ViVGV4dFBhcnRDb21tYW5kLlNldFByb3BlcnR5LGIuU3ViVGV4dFBhcnRQcm9wZXJ0eS5IaWdobGlnaHRNb2RlLDAsaCk7fSxlbnVtZXJhYmxlOnRydWV9LHRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC50ZXh0O30sZW51bWVyYWJsZTp0cnVlfSxudW1iZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5udW1iZXI7fSxlbnVtZXJhYmxlOnRydWV9LHN0YXJ0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fc3ViVGV4dFBhcnQuc3RhcnQ7fSxlbnVtZXJhYmxlOnRydWV9LGxlbmd0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX3N1YlRleHRQYXJ0Lmxlbmd0aDt9LGVudW1lcmFibGU6dHJ1ZX0sbmVzdGVkTGV2ZWw6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5uZXN0ZWRMZXZlbDt9LGVudW1lcmFibGU6dHJ1ZX0sfSk7fVN1YlRleHRQYXJ0LnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbigpe3ZhciBnPXtzdWJUZXh0UGFydDp0aGlzLl9zdWJUZXh0UGFydH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsYi5TdWJUZXh0UGFydENvbW1hbmQuU2Nyb2xsVG8sMCwwLGcpO307cmV0dXJuIFN1YlRleHRQYXJ0O30pKCk7Yi5wcm9jZXNzU3ViVGV4dFBhcnREYXRhTWVzc2FnZT1mdW5jdGlvbihpKXt2YXIgZz1pLkRhdGEuQ29udGVudDt2YXIgaD1pLkRhdGEuRXhjTXNnO3N3aXRjaChnLlN1YlRleHRQYXJ0Q29tbWFuZCl7Y2FzZSBiLlN1YlRleHRQYXJ0Q29tbWFuZC5HZXRBbGw6ZChnLGgpO2JyZWFrO2Nhc2UgYi5TdWJUZXh0UGFydENvbW1hbmQuQWRkSXRlbTpjKGcsaCk7YnJlYWs7Y2FzZSBiLlN1YlRleHRQYXJ0Q29tbWFuZC5SZW1vdmVJdGVtOmUoZyxoKTticmVhazt9fTtmdW5jdGlvbiBkKGksayl7dmFyIGc9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MuZ2V0U3ViVGV4dFBhcnRzLnNoaWZ0KCk7aWYoZz09PXVuZGVmaW5lZCl7cmV0dXJuO31pZihrKXt0aHJvdyBuZXcgRXJyb3Ioayk7fXZhciBoPVtdO2kuU3ViVGV4dFBhcnRzLmZvckVhY2goZnVuY3Rpb24obCl7aC5wdXNoKG5ldyBiLkxlZ2FjeVN1YlRleHRQYXJ0KGwpKTt9KTt0cnl7ZyhoKTt9Y2F0Y2goail7fX1mdW5jdGlvbiBjKGgsail7dmFyIGc9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MuYWRkU3ViVGV4dFBhcnQuc2hpZnQoKTtpZihnPT09dW5kZWZpbmVkKXtyZXR1cm47fWlmKGope3Rocm93IG5ldyBFcnJvcihqKTt9dHJ5e2coaC5BZGRSZXN1bHQpO31jYXRjaChpKXt9fWZ1bmN0aW9uIGUoaCxqKXt2YXIgZz1iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5yZW1vdmVTdWJUZXh0UGFydC5zaGlmdCgpO2lmKGc9PT11bmRlZmluZWQpe3JldHVybjt9aWYoail7dGhyb3cgbmV3IEVycm9yKGopO310cnl7ZyhoLlJlbW92ZWQpO31jYXRjaChpKXt9fXJldHVybiBmO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZixhKXt2YXIgYj1mLl9wcml2YXRlPWYuX3ByaXZhdGV8fHt9O3ZhciBlPWYuUHJvb2Zpbmc9Zi5Qcm9vZmluZ3x8e307Yi5TcGVsbENoZWNrQ29tbWFuZD1PYmplY3QuZnJlZXplKHtMb2FkVXNlckRpY3Rpb25hcnk6MSxBZGRXb3JkVG9Vc2VyRGljdDoyLFJlbW92ZVdvcmRGcm9tVXNlckRpY3Q6MyxDbGllbnRTYXZlVXNlckRpY3Rpb25hcnk6NCxSZW1vdmVVc2VyRGljdGlvbmFyeTo1LENsaWVudEdldFVzZXJEaWN0SW5mbzo2fSk7Yi5wcm9vZmluZ1Rhc2tDYWxsYmFja3M9e3NhdmVVc2VyRGljdGlvbmFyeTpbXSxnZXRVc2VyRGljdGlvbmFyeUluZm86W119O2IuVXNlckRpY3Rpb25hcnlJbmZvPShmdW5jdGlvbigpe2Z1bmN0aW9uIFVzZXJEaWN0aW9uYXJ5SW5mbyhpbmZvKXtmb3IodmFyIGcgaW4gaW5mbyl7dGhpc1tnXT1pbmZvW2ddO319cmV0dXJuIFVzZXJEaWN0aW9uYXJ5SW5mbzt9KSgpO2UubG9hZFVzZXJEaWN0aW9uYXJ5PWZ1bmN0aW9uKG5hbWUsd29yZHMsbGFuZ3VhZ2Upe2lmKCFuYW1lfHwodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcIm5hbWVcIiBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZy5cXCcpO31pZigobGFuZ3VhZ2U9PT11bmRlZmluZWQpfHwodHlwZW9mIGxhbmd1YWdlIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJsYW5ndWFnZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9aWYod29yZHM9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYod29yZHMuY29uc3RydWN0b3IhPT1BcnJheSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcIndvcmRzXCIgbXVzdCBiZSBhbiBhcnJheS5cXCcpO313b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2lmKCh0eXBlb2YgaCE9PVwic3RyaW5nXCIpJiYhKGggaW5zdGFuY2VvZiBTdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wid29yZHNcIiBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuXFwnKTt9fSk7dmFyIGc9e3dvcmRzOndvcmRzLG5hbWU6bmFtZSxsYW5nOmxhbmd1YWdlfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrLGIuU3BlbGxDaGVja0NvbW1hbmQuTG9hZFVzZXJEaWN0aW9uYXJ5LDAsMCxnKTt9O2UuYWRkV29yZFRvVXNlckRpY3Rpb25hcnk9ZnVuY3Rpb24obmFtZSx3b3JkKXtpZighbmFtZXx8KHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9aWYod29yZD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZighd29yZHx8KHR5cGVvZiB3b3JkIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ3b3JkXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9dmFyIGc9e3dvcmQ6d29yZCxuYW1lOm5hbWV9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2ssYi5TcGVsbENoZWNrQ29tbWFuZC5BZGRXb3JkVG9Vc2VyRGljdCwwLDAsZyk7fTtlLnJlbW92ZVdvcmRGcm9tVXNlckRpY3Rpb25hcnk9ZnVuY3Rpb24obmFtZSx3b3JkKXtpZighbmFtZXx8KHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9aWYod29yZD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZighd29yZHx8KHR5cGVvZiB3b3JkIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ3b3JkXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9dmFyIGc9e3dvcmQ6d29yZCxuYW1lOm5hbWV9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2ssYi5TcGVsbENoZWNrQ29tbWFuZC5SZW1vdmVXb3JkRnJvbVVzZXJEaWN0LDAsMCxnKTt9O2Uuc2F2ZVVzZXJEaWN0aW9uYXJ5PWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2spe2lmKCFuYW1lfHwodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcIm5hbWVcIiBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZy5cXCcpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9Yi5wcm9vZmluZ1Rhc2tDYWxsYmFja3Muc2F2ZVVzZXJEaWN0aW9uYXJ5LnB1c2goY2FsbGJhY2spO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2ssYi5TcGVsbENoZWNrQ29tbWFuZC5DbGllbnRTYXZlVXNlckRpY3Rpb25hcnksMCwwLHtuYW1lOm5hbWV9KTt9O2UucmVtb3ZlVXNlckRpY3Rpb25hcnk9ZnVuY3Rpb24obmFtZSl7aWYoIW5hbWV8fCh0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibmFtZVwiIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nLlxcJyk7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2ssYi5TcGVsbENoZWNrQ29tbWFuZC5SZW1vdmVVc2VyRGljdGlvbmFyeSwwLDAse25hbWU6bmFtZX0pO307ZS5nZXRVc2VyRGljdGlvbmFyeUluZm89ZnVuY3Rpb24oY2FsbGJhY2spe2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31iLnByb29maW5nVGFza0NhbGxiYWNrcy5nZXRVc2VyRGljdGlvbmFyeUluZm8ucHVzaChjYWxsYmFjayk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVjayxiLlNwZWxsQ2hlY2tDb21tYW5kLkNsaWVudEdldFVzZXJEaWN0SW5mbyk7fTtiLnByb2Nlc3NTcGVsbENoZWNrQ29tbWFuZFJlc3BvbnNlPWZ1bmN0aW9uKGope3ZhciBpPWouRGF0YS5FeGNNc2c7dmFyIGc9ai5EYXRhLkNvbnRlbnQuY29tbWFuZDt2YXIgaD1qLkRhdGEuQ29udGVudC5jb250ZW50O3N3aXRjaChnKXtjYXNlIGIuU3BlbGxDaGVja0NvbW1hbmQuQ2xpZW50U2F2ZVVzZXJEaWN0aW9uYXJ5OmQoaCxpKTticmVhaztjYXNlIGIuU3BlbGxDaGVja0NvbW1hbmQuQ2xpZW50R2V0VXNlckRpY3RJbmZvOmMoaCxpKTticmVhazt9fTtmdW5jdGlvbiBkKGgsail7dmFyIGc9Yi5wcm9vZmluZ1Rhc2tDYWxsYmFja3Muc2F2ZVVzZXJEaWN0aW9uYXJ5LnNoaWZ0KCk7aWYoZz09PXVuZGVmaW5lZCl7cmV0dXJuO31pZihqKXt0aHJvdyBuZXcgRXJyb3Ioaik7fXRyeXtnKGgubmFtZSxoLndvcmRzKTt9Y2F0Y2goaSl7fX1mdW5jdGlvbiBjKGgsail7dmFyIGc9Yi5wcm9vZmluZ1Rhc2tDYWxsYmFja3MuZ2V0VXNlckRpY3Rpb25hcnlJbmZvLnNoaWZ0KCk7aWYoZz09PXVuZGVmaW5lZCl7cmV0dXJuO31pZihqKXt0aHJvdyBuZXcgRXJyb3Ioaik7fXZhciBrPVtdO2guaW5mby5mb3JFYWNoKGZ1bmN0aW9uKGwpe2sucHVzaChuZXcgYi5Vc2VyRGljdGlvbmFyeUluZm8obCkpO30pO3RyeXtnKGspO31jYXRjaChpKXt9fXJldHVybiBmO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2MuZG9jdW1lbnRQZXJtaXNzaW9ucz1jLmRvY3VtZW50UGVybWlzc2lvbnN8fHt9O2IuZG9jdW1lbnRQZXJtaXNzaW9ucz17cmVhZE9ubHk6dHJ1ZSxhbGxvd0NvcHk6dHJ1ZSxhbGxvd0Zvcm1hdHRpbmc6dHJ1ZSxhbGxvd0Zvcm1hdHRpbmdTdHlsZXM6dHJ1ZSxhbGxvd1ByaW50aW5nOnRydWUsYWxsb3dFZGl0aW5nRm9ybUZpZWxkczp0cnVlfTtiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5kb2N1bWVudFBlcm1pc3Npb25zLFwicmVhZE9ubHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jdW1lbnRQZXJtaXNzaW9ucy5yZWFkT25seTt9LHNldDpmdW5jdGlvbihyZWFkT25seSl7aWYodHlwZW9mIHJlYWRPbmx5IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2V0RG9jdW1lbnRQZXJtaXNzaW9ucyxiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5SZWFkT25seSxyZWFkT25seT8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMuZG9jdW1lbnRQZXJtaXNzaW9ucyxcImFsbG93Q29weVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93Q29weTt9LHNldDpmdW5jdGlvbihhbGxvd0NvcHkpe2lmKHR5cGVvZiBhbGxvd0NvcHkhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TZXREb2N1bWVudFBlcm1pc3Npb25zLGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93Q29weSxhbGxvd0NvcHk/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLmRvY3VtZW50UGVybWlzc2lvbnMsXCJhbGxvd0Zvcm1hdHRpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd0Zvcm1hdHRpbmc7fSxzZXQ6ZnVuY3Rpb24oYWxsb3dGb3JtYXR0aW5nKXtpZih0eXBlb2YgYWxsb3dGb3JtYXR0aW5nIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2V0RG9jdW1lbnRQZXJtaXNzaW9ucyxiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd0Zvcm1hdHRpbmcsYWxsb3dGb3JtYXR0aW5nPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5kb2N1bWVudFBlcm1pc3Npb25zLFwiYWxsb3dGb3JtYXR0aW5nU3R5bGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dGb3JtYXR0aW5nU3R5bGVzO30sc2V0OmZ1bmN0aW9uKGFsbG93Rm9ybWF0dGluZ1N0eWxlcyl7aWYodHlwZW9mIGFsbG93Rm9ybWF0dGluZ1N0eWxlcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldERvY3VtZW50UGVybWlzc2lvbnMsYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dGb3JtYXR0aW5nU3R5bGVzLGFsbG93Rm9ybWF0dGluZ1N0eWxlcz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMuZG9jdW1lbnRQZXJtaXNzaW9ucyxcImFsbG93UHJpbnRpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd1ByaW50aW5nO30sc2V0OmZ1bmN0aW9uKGFsbG93UHJpbnRpbmcpe2lmKHR5cGVvZiBhbGxvd1ByaW50aW5nIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2V0RG9jdW1lbnRQZXJtaXNzaW9ucyxiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd1ByaW50aW5nLGFsbG93UHJpbnRpbmc/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLmRvY3VtZW50UGVybWlzc2lvbnMsXCJhbGxvd0VkaXRpbmdGb3JtRmllbGRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dFZGl0aW5nRm9ybUZpZWxkczt9LHNldDpmdW5jdGlvbihkKXtpZih0eXBlb2YgZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldERvY3VtZW50UGVybWlzc2lvbnMsYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dFZGl0aW5nRm9ybUZpZWxkcyxkPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtiLnNldERvY3VtZW50UGVybWlzc2lvbj1mdW5jdGlvbihkKXt2YXIgZT1kLlBhcmFtMTt2YXIgZj0oZC5QYXJhbTIhPT0wKTtzd2l0Y2goZSl7Y2FzZSBiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5SZWFkT25seTpiLmRvY3VtZW50UGVybWlzc2lvbnMucmVhZE9ubHk9ZjticmVhaztjYXNlIGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93Q29weTpiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dDb3B5PWY7YnJlYWs7Y2FzZSBiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd0Zvcm1hdHRpbmc6Yi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93Rm9ybWF0dGluZz1mO2JyZWFrO2Nhc2UgYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dGb3JtYXR0aW5nU3R5bGVzOmIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd0Zvcm1hdHRpbmdTdHlsZXM9ZjticmVhaztjYXNlIGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93UHJpbnRpbmc6Yi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93UHJpbnRpbmc9ZjticmVhaztjYXNlIGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93RWRpdGluZ0Zvcm1GaWVsZHM6Yi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93RWRpdGluZ0Zvcm1GaWVsZHM9ZjticmVhazt9fTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlJpYmJvbj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBSaWJib24oKXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtzZWxlY3RlZFRhYjp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyaWJib25iYXIgdWwudGFicyBhW3JlbF0uc2VsZWN0ZWRcIik7aWYoZCl7cmV0dXJuIGQuZ2V0QXR0cmlidXRlKFwiaWRcIik7fWVsc2V7cmV0dXJuXCJcIjt9fSxzZXQ6ZnVuY3Rpb24odGFiTmFtZSl7aWYodHlwZW9mIHRhYk5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBnPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjcmliYm9uYmFyIHVsLnRhYnMgYVtyZWxdXCIpO3ZhciBmPWZhbHNlO2Zvcih2YXIgZD0wO2Q8Zy5sZW5ndGg7KytkKXt2YXIgZT1nW2RdO2lmKChlLmlkPT09dGFiTmFtZSkmJihlLnN0eWxlLmRpc3BsYXkhPT1cIm5vbmVcIikpe2Y9dHJ1ZTticmVhazt9fWlmKCFmKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUmliYm9uVGFiRG9lc05vdEV4aXN0KTt9Yi5zd2l0Y2hUYWJzKGEoXCIjXCIrdGFiTmFtZSkpO30sZW51bWVyYWJsZTp0cnVlfX0pO31SaWJib24ucHJvdG90eXBlLm1pbmltaXplPWZ1bmN0aW9uKCl7Yi5zaG93UmliYm9uQmFyKGZhbHNlKTt9O1JpYmJvbi5wcm90b3R5cGUuZXhwYW5kPWZ1bmN0aW9uKCl7Yi5zaG93UmliYm9uQmFyKHRydWUpO307cmV0dXJuIFJpYmJvbjt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRXZlbnRNYW5hZ2VyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoKXt0aGlzLmNhbGxiYWNrcz17fTt9ZC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe2lmKCFldmVudE5hbWUpe3Rocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwYXJhbWV0ZXJzLlwiKTt9aWYodHlwZW9mIGV2ZW50TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiZXZlbnROYW1lXCIgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuXFwnKTt9aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJjYWxsYmFja1wiIG11c3QgYmUgb2YgdHlwZSBcImZ1bmN0aW9uXCIuXFwnKTt9dGhpcy5jYWxsYmFja3NbZXZlbnROYW1lXT10aGlzLmNhbGxiYWNrc1tldmVudE5hbWVdfHxbXTt2YXIgZT10aGlzLmNhbGxiYWNrc1tldmVudE5hbWVdO3ZhciBmPWUuaW5kZXhPZihjYWxsYmFjayk7aWYoZj09LTEpe2UucHVzaChjYWxsYmFjayk7fX07ZC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe2lmKCFldmVudE5hbWUpe3Rocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwYXJhbWV0ZXJzLlwiKTt9aWYodHlwZW9mIGV2ZW50TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiZXZlbnROYW1lXCIgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuXFwnKTt9aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJjYWxsYmFja1wiIG11c3QgYmUgb2YgdHlwZSBcImZ1bmN0aW9uXCIuXFwnKTt9aWYoIXRoaXMuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpe3JldHVybjt9dmFyIGY9dGhpcy5jYWxsYmFja3NbZXZlbnROYW1lXTt0cnl7dmFyIGg9Zi5pbmRleE9mKGNhbGxiYWNrKTtpZihoPi0xKXtmLnNwbGljZShoLDEpO2lmKGYubGVuZ3RoPT0wKXtkZWxldGUgdGhpcy5jYWxsYmFja3NbZXZlbnROYW1lXTt9fX1jYXRjaChnKXt9fTtkLnByb3RvdHlwZS5maXJlRXZlbnQ9ZnVuY3Rpb24oayxqKXtpZighdGhpcy5jYWxsYmFja3MuaGFzT3duUHJvcGVydHkoaykpe3JldHVybjt9dmFyIGc9dGhpcy5jYWxsYmFja3Nba107Zm9yKHZhciBsPTA7bDxnLmxlbmd0aDsrK2wpe3ZhciBmPWdbbF07dHJ5e2Yoaik7fWNhdGNoKGgpe319fTtyZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRXZlbnRTdWJzY3JpYmVyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoKXt0aGlzLl89e2V2ZW50TWFuYWdlcjpuZXcgYi5FdmVudE1hbmFnZXIoKX07fWQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZixlKXtpZighZSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgZSE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuXy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihmLGUpO307ZC5wcm90b3R5cGUuZmlyZUV2ZW50PWZ1bmN0aW9uKGYsZSl7Zj1cIlwiK2Y7dGhpcy5fLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoZixlKTt9O2QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZixlKXtpZihmIT1iLlRYRXZlbnROYW1lcy5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcil7dGhpcy5fLmV2ZW50TWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSk7fX07cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk1lbWJlclR5cGU9T2JqZWN0LmZyZWV6ZSh7UHJvcGVydHk6MSxNZXRob2Q6Mn0pO2IuTWVtYmVySW5mbz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGUsZil7aWYodHlwZW9mIGUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWV0aG9kIG5hbWUgbXVzdCBiZSBhIHN0cmluZy5cIik7fWlmKHR5cGVvZiBmIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlR5cGUgbXVzdCBiZSBvbmUgb2YgdGhlIF9wcml2YXRlLk1lbWJlclR5cGUgdmFsdWVzLlwiKTt9dGhpcy5uYW1lPWU7dGhpcy50eXBlPWY7fWQuY3JlYXRlSW5zdGFuY2U9ZnVuY3Rpb24oZSxnLGYpe3N3aXRjaChnKXtjYXNlIGIuTWVtYmVyVHlwZS5NZXRob2Q6cmV0dXJuIGIuTWV0aG9kSW5mby5jcmVhdGVJbnN0YW5jZShlLGYpO2Nhc2UgYi5NZW1iZXJUeXBlLlByb3BlcnR5OnJldHVybiBuZXcgYi5Qcm9wZXJ0eUluZm8oZSwoZiYmZi5sZW5ndGgpP2ZbMF06bnVsbCk7fXRocm93IG5ldyBFcnJvcihcIk1lbWJlckluZm8uY3JlYXRlSW5zdGFuY2UoKTogVW5rbm93biBtZW1iZXIgdHlwZSBcIitnK1wiLlwiKTt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5NZXRob2RJbmZvPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYsZyl7ZC5jYWxsKHRoaXMsZixiLk1lbWJlclR5cGUuTWV0aG9kKTt0aGlzLnBhcmFtZXRlcnM9KHR5cGVvZiBnIT09XCJ1bmRlZmluZWRcIik/ZzpbXTt9ZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbihnLGgpe2lmKHR5cGVvZiBnIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJtZXRob2ROYW1lXCIgaGFzIGludmFsaWQgdHlwZS5cXCcpO312YXIgaj1bXTtpZih0eXBlb2YgaCE9PVwidW5kZWZpbmVkXCIpe2Zvcih2YXIgZj0wO2Y8aC5sZW5ndGg7ZisrKXtpZih0eXBlb2YgaFtmXSE9PVwidW5kZWZpbmVkXCIpe2oucHVzaChuZXcgYi5QYXJhbWV0ZXJJbmZvKGhbZl0pKTt9fX1yZXR1cm4gbmV3IGIuTWV0aG9kSW5mbyhnLGopO307cmV0dXJuIGU7fSkoYi5NZW1iZXJJbmZvKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlBhcmFtZXRlckluZm89KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChlKXtpZih0eXBlb2YgZT09PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IEVycm9yKFwiQSBtZXRob2QgcGFyYW1ldGVyIG11c3Qgbm90IGJlIGEgZnVuY3Rpb24uXCIpO310aGlzLnZhbHVlPWU7fXJldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Qcm9wZXJ0eUluZm89KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyxmLGIuTWVtYmVyVHlwZS5Qcm9wZXJ0eSk7dGhpcy52YWx1ZT0odHlwZW9mIGchPT1cInVuZGVmaW5lZFwiKT9nOm51bGw7fXJldHVybiBlO30pKGIuTWVtYmVySW5mbyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5DYWxsRGlyZWN0aW9uPU9iamVjdC5mcmVlemUoe05vbmU6MCxHZXQ6MSxTZXQ6Mn0pO2IuVFhFdmVudE5hbWVzPU9iamVjdC5mcmVlemUoe0FjY2Vzc1RleHRDb250cm9sTWVtYmVyOlwiYWNjZXNzVGV4dENvbnRyb2xNZW1iZXJcIn0pO2IuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXI9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUZXh0Q29udHJvbENsYXNzQWRhcHRlcixkKTtmdW5jdGlvbiBUZXh0Q29udHJvbENsYXNzQWRhcHRlcihlLGYpe2QuY2FsbCh0aGlzKTtpZih0eXBlb2YgZSE9PVwibnVtYmVyXCIpe2U9MDt9aWYodHlwZW9mIGYhPT1cIm51bWJlclwiKXtmPS0xO310aGlzLl8uaGFzaGNvZGU9ZTt0aGlzLl8uaW5kZXg9Zjt9VGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIucHJvdG90eXBlLmNhbGxNZXRob2Q9ZnVuY3Rpb24oZyxlLGgsZil7aWYodHlwZW9mIGc9PT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG1ldGhvZCBuYW1lLlwiKTt9aWYoKGUhPT1udWxsKSYmKHR5cGVvZiBlIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgZSE9PVwiZnVuY3Rpb25cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZih0eXBlb2YgaD09PVwidW5kZWZpbmVkXCIpe2g9W107fWlmKChmIT09bnVsbCkmJih0eXBlb2YgZiE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGYhPT1cImZ1bmN0aW9uXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkVycm9yQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmFjY2Vzc1RleHRDb250cm9sTWVtYmVyKGcsYi5NZW1iZXJUeXBlLk1ldGhvZCxiLkNhbGxEaXJlY3Rpb24uTm9uZSxoLGUsbnVsbCxmKTt9O1RleHRDb250cm9sQ2xhc3NBZGFwdGVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0eVZhbHVlPWZ1bmN0aW9uKGcsaCxlLGYpe2lmKHR5cGVvZiBnPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwcm9wZXJ0eSBuYW1lLlwiKTt9aWYodHlwZW9mIGg9PT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZigoZSE9PW51bGwpJiYodHlwZW9mIGUhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBlIT09XCJmdW5jdGlvblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKChmIT09bnVsbCkmJih0eXBlb2YgZiE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGYhPT1cImZ1bmN0aW9uXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkVycm9yQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmFjY2Vzc1RleHRDb250cm9sTWVtYmVyKGcsYi5NZW1iZXJUeXBlLlByb3BlcnR5LGIuQ2FsbERpcmVjdGlvbi5TZXQsW2hdLGUsbnVsbCxmKTt9O1RleHRDb250cm9sQ2xhc3NBZGFwdGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eVZhbHVlPWZ1bmN0aW9uKGcsZSxmKXtpZih0eXBlb2YgZz09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBlIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYoKGYhPT1udWxsKSYmKHR5cGVvZiBmIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgZiE9PVwiZnVuY3Rpb25cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuRXJyb3JDYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuYWNjZXNzVGV4dENvbnRyb2xNZW1iZXIoZyxiLk1lbWJlclR5cGUuUHJvcGVydHksYi5DYWxsRGlyZWN0aW9uLkdldCxbXSxlLG51bGwsZik7fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuaW52b2tlVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NFdmVudD1mdW5jdGlvbihlLGYpe2lmKCEoZSBpbnN0YW5jZW9mIGIuVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NFdmVudEFyZ3MpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWlmKHR5cGVvZiBmIT09XCJ1bmRlZmluZWRcIiYmZiE9bnVsbCl7ZS5wcmVwZW5kKGYpO310aGlzLmZpcmVFdmVudChiLlRYRXZlbnROYW1lcy5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcixlKTt9O1RleHRDb250cm9sQ2xhc3NBZGFwdGVyLnByb3RvdHlwZS5hY2Nlc3NUZXh0Q29udHJvbE1lbWJlcj1mdW5jdGlvbihqLGssZyxsLGYsZSxoKXt2YXIgaT1iLk1lbWJlckluZm8uY3JlYXRlSW5zdGFuY2UoaixrLGwpO2lmKChlPT09bnVsbCl8fCh0eXBlb2YgZT09PVwidW5kZWZpbmVkXCIpKXt0aGlzLmludm9rZVRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnQobmV3IGIuVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NFdmVudEFyZ3MoaSxmLGcsaCkpO31lbHNle3RoaXMuaW52b2tlVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NFdmVudChlLGkpO319O1RleHRDb250cm9sQ2xhc3NBZGFwdGVyLnByb3RvdHlwZS5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZixnLGUpe2lmKCFnKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWlzc2luZyBwcm9wZXJ0eSBuYW1lLlwiKTt9dmFyIGg9dGhpcztmLmFkZEV2ZW50TGlzdGVuZXIoYi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXIsZnVuY3Rpb24oaSl7aC5hY2Nlc3NUZXh0Q29udHJvbE1lbWJlcihnLGIuTWVtYmVyVHlwZS5Qcm9wZXJ0eSxiLkNhbGxEaXJlY3Rpb24uR2V0LFtdLGUsaSk7fSk7fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZyxmLGgsZSl7aWYoIWYpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJNaXNzaW5nIG1ldGhvZCBuYW1lLlwiKTt9dmFyIGk9dGhpcztnLmFkZEV2ZW50TGlzdGVuZXIoYi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXIsZnVuY3Rpb24oail7aS5hY2Nlc3NUZXh0Q29udHJvbE1lbWJlcihmLGIuTWVtYmVyVHlwZS5NZXRob2QsYi5DYWxsRGlyZWN0aW9uLk5vbmUsaCxlLGopO30pO307cmV0dXJuIFRleHRDb250cm9sQ2xhc3NBZGFwdGVyO30pKGIuRXZlbnRTdWJzY3JpYmVyKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoaCxlLGYsZyl7aWYoKGU9PT1udWxsKXx8KHR5cGVvZiBlPT09XCJ1bmRlZmluZWRcIikpe2U9ZnVuY3Rpb24oKXt9O31pZih0eXBlb2YgZSE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKHR5cGVvZiBmPT09XCJ1bmRlZmluZWRcIil7Zj1iLkNhbGxEaXJlY3Rpb24uTm9uZTt9ZWxzZXtpZih0eXBlb2YgZiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiZGlyXCIgbXVzdCBiZSBvbmUgb2YgdGhlIF9wcml2YXRlLkNhbGxEaXJlY3Rpb24gdmFsdWVzLlxcJyk7fX10aGlzLm1fc2VxdWVuY2U9W2hdO3RoaXMubV9jYWxsYmFjaz1lO3RoaXMubV9kaXI9Zjt0aGlzLm1fZXJyb3JDYWxsYmFjaz1nO31kLnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnRBcmdzLnByZXBlbmQoKTogbWVtYmVySW5mbyBpcyB1bmRlZmluZWQuXCIpO310aGlzLm1fc2VxdWVuY2UudW5zaGlmdChlKTt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImNhbGxiYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fY2FsbGJhY2s7fSxlbnVtZXJhYmxlOnRydWUsfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwic2VxdWVuY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubV9zZXF1ZW5jZTt9LGVudW1lcmFibGU6dHJ1ZSx9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJjYWxsRGlyZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fZGlyO30sZW51bWVyYWJsZTp0cnVlLH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImVycm9yQ2FsbGJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubV9lcnJvckNhbGxiYWNrO30sZW51bWVyYWJsZTp0cnVlLH0pO3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc01lc3NhZ2U9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChnLGUsZil7aWYoKHR5cGVvZiBnIT09XCJzdHJpbmdcIil8fCFnKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBtZXNzYWdlIHVpZC5cIik7fWlmKCFBcnJheS5pc0FycmF5KGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VxdWVuY2UgaXMgbm90IGFuIGFycmF5LlwiKTt9aWYodHlwZW9mIGY9PT1cInVuZGVmaW5lZFwiKXtmPWIuQ2FsbERpcmVjdGlvbi5Ob25lO31lbHNle2lmKHR5cGVvZiBmIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJkaXJcIiBtdXN0IGJlIG9uZSBvZiB0aGUgX3ByaXZhdGUuQ2FsbERpcmVjdGlvbiB2YWx1ZXMuXFwnKTt9fXRoaXMubV91aWQ9Zzt0aGlzLm1fY2FsbFNlcXVlbmNlPWU7dGhpcy5tX2Rpcj1mO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2NvbW1hbmRJRDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuQ29tbWFuZC5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcjt9LGVudW1lcmFibGU6dHJ1ZX0scGFyYW0xOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX2Rpcjt9LGVudW1lcmFibGU6dHJ1ZX0scGFyYW0yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMDt9LGVudW1lcmFibGU6dHJ1ZX0scGFyYW0zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMDt9LGVudW1lcmFibGU6dHJ1ZX0sZGF0YTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NhbGxTZXF1ZW5jZTp0aGlzLm1fY2FsbFNlcXVlbmNlLG1lc3NhZ2VVSUQ6dGhpcy5tX3VpZH07fSxlbnVtZXJhYmxlOnRydWV9fSk7fXJldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QWN0aXZlRm9ybUZpZWxkQ29sb3I6XCJBY3RpdmVGb3JtRmllbGRDb2xvclwiLERhcmtTaGFkb3dDb2xvcjpcIkRhcmtTaGFkb3dDb2xvclwiLERlc2t0b3BDb2xvcjpcIkRlc2t0b3BDb2xvclwiLEZvcm1GaWVsZENvbG9yOlwiRm9ybUZpZWxkQ29sb3JcIixIZWFkZXJGb290ZXJMYWJlbENvbG9yOlwiSGVhZGVyRm9vdGVyTGFiZWxDb2xvclwiLEhlYWRlckZvb3RlckxpbmVDb2xvcjpcIkhlYWRlckZvb3RlckxpbmVDb2xvclwiLExpZ2h0U2hhZG93Q29sb3I6XCJMaWdodFNoYWRvd0NvbG9yXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtSZXNldERhcmtTaGFkb3dDb2xvcjpcIlJlc2V0RGFya1NoYWRvd0NvbG9yXCIsUmVzZXREZXNrdG9wQ29sb3I6XCJSZXNldERlc2t0b3BDb2xvclwiLFJlc2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvcjpcIlJlc2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvclwiLFJlc2V0SGVhZGVyRm9vdGVyTGluZUNvbG9yOlwiUmVzZXRIZWFkZXJGb290ZXJMaW5lQ29sb3JcIixSZXNldExpZ2h0U2hhZG93Q29sb3I6XCJSZXNldExpZ2h0U2hhZG93Q29sb3JcIn0pO2IuRGlzcGxheUNvbG9ycz0oZnVuY3Rpb24oZil7X19leHRlbmRzKERpc3BsYXlDb2xvcnMsZik7ZnVuY3Rpb24gRGlzcGxheUNvbG9ycygpe2YuY2FsbCh0aGlzKTt9RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0QWN0aXZlRm9ybUZpZWxkQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZlRm9ybUZpZWxkQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXRBY3RpdmVGb3JtRmllbGRDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BY3RpdmVGb3JtRmllbGRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnNldERhcmtTaGFkb3dDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5EYXJrU2hhZG93Q29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXREYXJrU2hhZG93Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGFya1NoYWRvd0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0RGVza3RvcENvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRlc2t0b3BDb2xvcixjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLmdldERlc2t0b3BDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5EZXNrdG9wQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5zZXRGb3JtRmllbGRDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb3JtRmllbGRDb2xvcixjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLmdldEZvcm1GaWVsZENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvcm1GaWVsZENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IZWFkZXJGb290ZXJMYWJlbENvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuZ2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IZWFkZXJGb290ZXJMYWJlbENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0SGVhZGVyRm9vdGVyTGluZUNvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhlYWRlckZvb3RlckxpbmVDb2xvcixjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLmdldEhlYWRlckZvb3RlckxpbmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IZWFkZXJGb290ZXJMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5zZXRMaWdodFNoYWRvd0NvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkxpZ2h0U2hhZG93Q29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXRMaWdodFNoYWRvd0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxpZ2h0U2hhZG93Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5yZXNldERhcmtTaGFkb3dDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldERhcmtTaGFkb3dDb2xvcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnJlc2V0RGVza3RvcENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlJlc2V0RGVza3RvcENvbG9yLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUucmVzZXRIZWFkZXJGb290ZXJMYWJlbENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlJlc2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnJlc2V0SGVhZGVyRm9vdGVyTGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlJlc2V0SGVhZGVyRm9vdGVyTGluZUNvbG9yLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUucmVzZXRMaWdodFNoYWRvd0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlJlc2V0TGlnaHRTaGFkb3dDb2xvcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBEaXNwbGF5Q29sb3JzO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQ29sbGVjdGlvblByb3BlcnR5TmFtZT1PYmplY3QuZnJlZXplKHtDdXJyZW50OlwiQ3VycmVudFwiLENhbkFkZDpcIkNhbkFkZFwiLENhblJlbW92ZTpcIkNhblJlbW92ZVwiLENvdW50OlwiQ291bnRcIn0pO2IuQ29sbGVjdGlvbk1ldGhvZE5hbWU9T2JqZWN0LmZyZWV6ZSh7QWRkOlwiQWRkXCIsQ2xlYXI6XCJDbGVhclwiLEdldEl0ZW06XCJHZXRJdGVtXCIsR2V0QWRhcHRlckJ5SGFzaGNvZGU6XCJHZXRBZGFwdGVyQnlIYXNoY29kZVwiLFJlbW92ZTpcIlJlbW92ZVwiLE1vdmVOZXh0OlwiTW92ZU5leHRcIixSZXNldDpcIlJlc2V0XCIsRWxlbWVudEF0OlwiRWxlbWVudEF0XCJ9KTtiLkNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIENvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldENvdW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ291bnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtDb2xsZWN0aW9uLnByb3RvdHlwZS5lbGVtZW50QXQ9ZnVuY3Rpb24oaW5kZXgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5FbGVtZW50QXQsZnVuY3Rpb24oZyl7dmFyIGY9KGchPT1udWxsKT9lLl9hZGFwdChnKTpudWxsO2NhbGxiYWNrKGYpO30sW2luZGV4XSxlcnJvckNhbGxiYWNrKTt9O0NvbGxlY3Rpb24ucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGY9dGhpcyxlO3RoaXMuZ2V0Q291bnQoZnVuY3Rpb24oZyl7Zm9yKGU9MDtlPGc7KytlKXtmLmVsZW1lbnRBdChlLChmdW5jdGlvbihoKXtyZXR1cm4gZnVuY3Rpb24oaSl7Y2FsbGJhY2soaSxoLGcpO307fSkoZSksZXJyb3JDYWxsYmFjayk7fX0sZXJyb3JDYWxsYmFjayk7fTtDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiTk9UIElNUExFTUVOVEVELiBPdmVycmlkZSB0aGlzIG1ldGhvZCBpbiB5b3VyIGRlcml2ZWQgY2xhc3MuXCIpO307cmV0dXJuIENvbGxlY3Rpb247fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QWxsRnJhbWVMaW5lczpcIkFsbEZyYW1lTGluZXNcIixCb2xkOlwiQm9sZFwiLEJvdHRvbUFsaWduZWQ6XCJCb3R0b21BbGlnbmVkXCIsQm90dG9tRGlzdGFuY2U6XCJCb3R0b21EaXN0YW5jZVwiLEJvdHRvbUZyYW1lTGluZTpcIkJvdHRvbUZyYW1lTGluZVwiLEJveEZyYW1lOlwiQm94RnJhbWVcIixCdWxsZXRDaGFyYWN0ZXI6XCJCdWxsZXRDaGFyYWN0ZXJcIixCdWxsZXRlZExpc3Q6XCJCdWxsZXRlZExpc3RcIixDZW50ZXJlZDpcIkNlbnRlcmVkXCIsRm9udEZhbWlseTpcIkZvbnRGYW1pbHlcIixGb250U2l6ZTpcIkZvbnRTaXplXCIsRnJhbWVGaWxsQ29sb3I6XCJGcmFtZUZpbGxDb2xvclwiLEZyYW1lTGluZUNvbG9yOlwiRnJhbWVMaW5lQ29sb3JcIixGcmFtZUxpbmVXaWR0aDpcIkZyYW1lTGluZVdpZHRoXCIsSGFuZ2luZ0luZGVudDpcIkhhbmdpbmdJbmRlbnRcIixJbm5lckhvcml6b250YWxGcmFtZUxpbmVzOlwiSW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lc1wiLElubmVyVmVydGljYWxGcmFtZUxpbmVzOlwiSW5uZXJWZXJ0aWNhbEZyYW1lTGluZXNcIixJdGFsaWM6XCJJdGFsaWNcIixKdXN0aWZpZWQ6XCJKdXN0aWZpZWRcIixMZWZ0QWxpZ25lZDpcIkxlZnRBbGlnbmVkXCIsTGVmdEZyYW1lTGluZTpcIkxlZnRGcmFtZUxpbmVcIixMZWZ0SW5kZW50OlwiTGVmdEluZGVudFwiLExlZnRUb1JpZ2h0OlwiTGVmdFRvUmlnaHRcIixMaW5lU3BhY2luZzpcIkxpbmVTcGFjaW5nXCIsTnVtYmVyZWRMaXN0OlwiTnVtYmVyZWRMaXN0XCIsTnVtYmVyZWRMaXN0Rm9ybWF0OlwiTnVtYmVyZWRMaXN0Rm9ybWF0XCIsTnVtYmVyRm9ybWF0czpcIk51bWJlckZvcm1hdHNcIixSaWdodEFsaWduZWQ6XCJSaWdodEFsaWduZWRcIixSaWdodEZyYW1lTGluZTpcIlJpZ2h0RnJhbWVMaW5lXCIsUmlnaHRJbmRlbnQ6XCJSaWdodEluZGVudFwiLFJpZ2h0VG9MZWZ0OlwiUmlnaHRUb0xlZnRcIixTdHJpa2VvdXQ6XCJTdHJpa2VvdXRcIixTdHJ1Y3R1cmVkTGlzdDpcIlN0cnVjdHVyZWRMaXN0XCIsU3RydWN0dXJlZExpc3RGb3JtYXQ6XCJTdHJ1Y3R1cmVkTGlzdEZvcm1hdFwiLFN0eWxlTmFtZTpcIlN0eWxlTmFtZVwiLFN0eWxlTmFtZXM6XCJTdHlsZU5hbWVzXCIsU3Vic2NyaXB0OlwiU3Vic2NyaXB0XCIsU3VwZXJzY3JpcHQ6XCJTdXBlcnNjcmlwdFwiLFRleHRCYWNrQ29sb3I6XCJUZXh0QmFja0NvbG9yXCIsVGV4dENvbG9yOlwiVGV4dENvbG9yXCIsVG9wQWxpZ25lZDpcIlRvcEFsaWduZWRcIixUb3BEaXN0YW5jZTpcIlRvcERpc3RhbmNlXCIsVG9wRnJhbWVMaW5lOlwiVG9wRnJhbWVMaW5lXCIsVW5kZXJsaW5lOlwiVW5kZXJsaW5lXCIsVW5kZXJsaW5lU3R5bGU6XCJVbmRlcmxpbmVTdHlsZVwiLFVuZGVybGluZVN0eWxlczpcIlVuZGVybGluZVN0eWxlc1wiLFZlcnRpY2FsbHlDZW50ZXJlZDpcIlZlcnRpY2FsbHlDZW50ZXJlZFwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7R2V0Rm9udEZhbWlsaWVzOlwiR2V0Rm9udEZhbWlsaWVzXCIsR2V0Rm9udFNpemVzOlwiR2V0Rm9udFNpemVzXCJ9KTtiLklucHV0Rm9ybWF0PShmdW5jdGlvbihmKXtfX2V4dGVuZHMoSW5wdXRGb3JtYXQsZik7ZnVuY3Rpb24gSW5wdXRGb3JtYXQoKXtmLmNhbGwodGhpcyk7fUlucHV0Rm9ybWF0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7aWYoYi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXI9PWV2ZW50TmFtZSl7dGhpcy5fLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxjYWxsYmFjayk7cmV0dXJuIHRydWU7fWVsc2V7aWYoYi5zdWJzY3JpYmVUb0V2ZW50KGV2ZW50TmFtZSxiLkV2ZW50Q2F0ZWdvcnkuSW5wdXRGb3JtYXQpKXt0aGlzLl8uZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGNhbGxiYWNrKTtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fLmV2ZW50TWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxjYWxsYmFjayk7aWYoIXRoaXMuXy5ldmVudE1hbmFnZXIuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSl8fHRoaXMuXy5ldmVudE1hbmFnZXIuY2FsbGJhY2tzW2V2ZW50TmFtZV0ubGVuZ3RoPT0wKXtiLnVuc3Vic2NyaWJlRnJvbUV2ZW50KGV2ZW50TmFtZSxiLkV2ZW50Q2F0ZWdvcnkuSW5wdXRGb3JtYXQpO319O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRBbGxGcmFtZUxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFsbEZyYW1lTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0QWxsRnJhbWVMaW5lcz1mdW5jdGlvbihhbGxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBhbGxGcmFtZUxpbmVzIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5BbGxGcmFtZUxpbmVzLGFsbEZyYW1lTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Qm9sZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEJvbGQ9ZnVuY3Rpb24oYm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm9sZCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQm9sZCxib2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEJvdHRvbUFsaWduZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm90dG9tQWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRCb3R0b21BbGlnbmVkPWZ1bmN0aW9uKGJvdHRvbUFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbUFsaWduZWQhPVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJvdHRvbUFsaWduZWQsYm90dG9tQWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCb3R0b21EaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRCb3R0b21EaXN0YW5jZT1mdW5jdGlvbihib3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm90dG9tRGlzdGFuY2UhPVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQm90dG9tRGlzdGFuY2UsYm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Qm94RnJhbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm94RnJhbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Qm94RnJhbWU9ZnVuY3Rpb24oYm94RnJhbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJveEZyYW1lIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Cb3hGcmFtZSxib3hGcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCdWxsZXRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQnVsbGV0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldENoYXJhY3Rlcj1mdW5jdGlvbihidWxsZXRDaGFyYWN0ZXIsZyxoKXtpZih0eXBlb2YgYnVsbGV0Q2hhcmFjdGVyIT1cInN0cmluZ1wiJiZidWxsZXRDaGFyYWN0ZXIubGVuZ3RoPjApe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQnVsbGV0Q2hhcmFjdGVyLGJ1bGxldENoYXJhY3RlclswXSxnLGgpO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEJ1bGxldGVkTGlzdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CdWxsZXRlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0QnVsbGV0ZWRMaXN0PWZ1bmN0aW9uKGJ1bGxldGVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYnVsbGV0ZWRMaXN0IT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CdWxsZXRlZExpc3QsYnVsbGV0ZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldENlbnRlcmVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNlbnRlcmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldENlbnRlcmVkPWZ1bmN0aW9uKGNlbnRlcmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjZW50ZXJlZCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQ2VudGVyZWQsY2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Rm9udEZhbWlseT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb250RmFtaWx5LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEZvbnRGYW1pbHk9ZnVuY3Rpb24oZm9udEZhbWlseSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9udEZhbWlseSE9XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb250RmFtaWx5LGZvbnRGYW1pbHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0RnJhbWVGaWxsQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRnJhbWVGaWxsQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0RnJhbWVGaWxsQ29sb3I9ZnVuY3Rpb24oZnJhbWVGaWxsQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZyYW1lRmlsbENvbG9yIT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZyYW1lRmlsbENvbG9yLGZyYW1lRmlsbENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lTGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZyYW1lTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lTGluZUNvbG9yPWZ1bmN0aW9uKGZyYW1lTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZUxpbmVDb2xvciE9XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5GcmFtZUxpbmVDb2xvcixmcmFtZUxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRGcmFtZUxpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5GcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRGcmFtZUxpbmVXaWR0aD1mdW5jdGlvbihmcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZnJhbWVMaW5lV2lkdGghPVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRnJhbWVMaW5lV2lkdGgsZnJhbWVMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0SGFuZ2luZ0luZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IYW5naW5nSW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEhhbmdpbmdJbmRlbnQ9ZnVuY3Rpb24oaGFuZ2luZ0luZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaGFuZ2luZ0luZGVudCE9XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IYW5naW5nSW5kZW50LGhhbmdpbmdJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0SW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jbm5lckhvcml6b250YWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldElubmVySG9yaXpvbnRhbEZyYW1lTGluZXM9ZnVuY3Rpb24oaW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcyE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcyxpbm5lckhvcml6b250YWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldElubmVyVmVydGljYWxGcmFtZUxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklubmVyVmVydGljYWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldElubmVyVmVydGljYWxGcmFtZUxpbmVzPWZ1bmN0aW9uKGlubmVyVmVydGljYWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbm5lclZlcnRpY2FsRnJhbWVMaW5lcyE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSW5uZXJWZXJ0aWNhbEZyYW1lTGluZXMsaW5uZXJWZXJ0aWNhbEZyYW1lTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0SXRhbGljPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRJdGFsaWM9ZnVuY3Rpb24oaXRhbGljLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpdGFsaWMhPVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkl0YWxpYyxpdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0SnVzdGlmaWVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkp1c3RpZmllZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRKdXN0aWZpZWQ9ZnVuY3Rpb24oanVzdGlmaWVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBqdXN0aWZpZWQhPVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkp1c3RpZmllZCxqdXN0aWZpZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEFsaWduZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdEFsaWduZWQ9ZnVuY3Rpb24obGVmdEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnRBbGlnbmVkIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MZWZ0QWxpZ25lZCxsZWZ0QWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRMZWZ0RnJhbWVMaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlZnRGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdEZyYW1lTGluZT1mdW5jdGlvbihsZWZ0RnJhbWVMaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsZWZ0RnJhbWVMaW5lIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MZWZ0RnJhbWVMaW5lLGxlZnRGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEluZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZWZ0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldExlZnRJbmRlbnQ9ZnVuY3Rpb24obGVmdEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVmdEluZGVudCE9XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MZWZ0SW5kZW50LGxlZnRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdFRvUmlnaHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdFRvUmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdFRvUmlnaHQ9ZnVuY3Rpb24obGVmdFRvUmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnRUb1JpZ2h0IT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MZWZ0VG9SaWdodCxsZWZ0VG9SaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRMaW5lc3BhY2luZz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRMaW5lc3BhY2luZz1mdW5jdGlvbihsaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGluZVNwYWNpbmchPVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGluZVNwYWNpbmcsbGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TnVtYmVyZWRMaXN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcmVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXROdW1iZXJlZExpc3Q9ZnVuY3Rpb24oaXNOdW1iZXJlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzTnVtYmVyZWRMaXN0IT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5OdW1iZXJlZExpc3QsaXNOdW1iZXJlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TnVtYmVyZWRMaXN0Rm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXROdW1iZXJlZExpc3RGb3JtYXQ9ZnVuY3Rpb24obnVtYmVyZWRMaXN0Rm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBudW1iZXJlZExpc3RGb3JtYXQhPVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyZWRMaXN0Rm9ybWF0LG51bWJlcmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXROdW1iZXJGb3JtYXRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlckZvcm1hdHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0UmlnaHRBbGlnbmVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlJpZ2h0QWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRSaWdodEFsaWduZWQ9ZnVuY3Rpb24oaXNSaWdodEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzUmlnaHRBbGlnbmVkIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5SaWdodEFsaWduZWQsaXNSaWdodEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0UmlnaHRGcmFtZUxpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUmlnaHRGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0UmlnaHRGcmFtZUxpbmU9ZnVuY3Rpb24oaGFzUmlnaHRGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhhc1JpZ2h0RnJhbWVMaW5lIT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5SaWdodEZyYW1lTGluZSxoYXNSaWdodEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRSaWdodEluZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5SaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRSaWdodEluZGVudD1mdW5jdGlvbihyaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHRJbmRlbnQhPVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuUmlnaHRJbmRlbnQscmlnaHRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0UmlnaHRUb0xlZnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUmlnaHRUb0xlZnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0UmlnaHRUb0xlZnQ9ZnVuY3Rpb24ocmlnaHRUb0xlZnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHJpZ2h0VG9MZWZ0IT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5SaWdodFRvTGVmdCxyaWdodFRvTGVmdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdHJpa2VvdXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RyaWtlb3V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFN0cmlrZW91dD1mdW5jdGlvbihoYXNTdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhhc1N0cmlrZW91dCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3RyaWtlb3V0LGhhc1N0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkTGlzdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHJ1Y3R1cmVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdHJ1Y3R1cmVkTGlzdD1mdW5jdGlvbihpc1N0cnVjdHVyZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpc1N0cnVjdHVyZWRMaXN0IT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdHJ1Y3R1cmVkTGlzdCxpc1N0cnVjdHVyZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN0cnVjdHVyZWRMaXN0Rm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0cnVjdHVyZWRMaXN0Rm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFN0cnVjdHVyZWRMaXN0Rm9ybWF0PWZ1bmN0aW9uKHN0cnVjdHVyZWRMaXN0Rm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHJ1Y3R1cmVkTGlzdEZvcm1hdCE9XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdHJ1Y3R1cmVkTGlzdEZvcm1hdCxzdHJ1Y3R1cmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdHlsZU5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFN0eWxlTmFtZT1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdHlsZU5hbWUsc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN0eWxlTmFtZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3R5bGVOYW1lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdWJzY3JpcHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3Vic2NyaXB0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFN1YnNjcmlwdD1mdW5jdGlvbihzdWJzY3JpcHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN1YnNjcmlwdCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3Vic2NyaXB0LHN1YnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdXBlcnNjcmlwdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdXBlcnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdXBlcnNjcmlwdD1mdW5jdGlvbihzdXBlcnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3VwZXJzY3JpcHQhPVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlN1cGVyc2NyaXB0LHN1cGVyc2NyaXB0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRUZXh0QmFja0NvbG9yPWZ1bmN0aW9uKHRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRCYWNrQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRleHRCYWNrQ29sb3IsdGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRUZXh0Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFRleHRDb2xvcj1mdW5jdGlvbih0ZXh0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dENvbG9yLHRleHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRUb3BBbGlnbmVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRvcEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VG9wQWxpZ25lZD1mdW5jdGlvbihpc1RvcEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoISh0eXBlb2YgaXNUb3BBbGlnbmVkPT1cImJvb2xlYW5cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVG9wQWxpZ25lZCxpc1RvcEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVG9wRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24odG9wRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoISh0eXBlb2YgdG9wRGlzdGFuY2U9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRvcERpc3RhbmNlLHRvcERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFRvcEZyYW1lTGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Ub3BGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VG9wRnJhbWVMaW5lPWZ1bmN0aW9uKHRvcEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighKHR5cGVvZiB0b3BGcmFtZUxpbmU9PVwiYm9vbGVhblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Ub3BGcmFtZUxpbmUsdG9wRnJhbWVMaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFVuZGVybGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5VbmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VW5kZXJsaW5lPWZ1bmN0aW9uKHVuZGVybGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighKHR5cGVvZiB1bmRlcmxpbmU9PVwiYm9vbGVhblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5VbmRlcmxpbmUsdW5kZXJsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlVuZGVybGluZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKGZvbnRVbmRlcmxpbmVTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9udFVuZGVybGluZVN0eWxlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5VbmRlcmxpbmVTdHlsZSxmb250VW5kZXJsaW5lU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0VmVydGljYWxseUNlbnRlcmVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlZlcnRpY2FsbHlDZW50ZXJlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRWZXJ0aWNhbGx5Q2VudGVyZWQ9ZnVuY3Rpb24odmVydGljYWxseUNlbnRlcmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCEodHlwZW9mIHZlcnRpY2FsbHlDZW50ZXJlZD09XCJib29sZWFuXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlZlcnRpY2FsbHlDZW50ZXJlZCx2ZXJ0aWNhbGx5Q2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oZm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvbnRTaXplIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb250U2l6ZSxmb250U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRGb250RmFtaWxpZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuR2V0Rm9udEZhbWlsaWVzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN1cHBvcnRlZFVuZGVybGluZVN0eWxlcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoZC5VbmRlcmxpbmVTdHlsZXMsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkRm9udFNpemVzPWZ1bmN0aW9uKGNhbGxiYWNrLGZvbnRGYW1pbHksZyl7aWYodHlwZW9mIGZvbnRGYW1pbHkhPT1cInVuZGVmaW5lZFwiKXtpZih0eXBlb2YgZm9udEZhbWlseSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0Rm9udFNpemVzLGNhbGxiYWNrLFtmb250RmFtaWx5XSxnKTt9ZWxzZXt0aGlzLmNhbGxNZXRob2QoYy5HZXRGb250U2l6ZXMsY2FsbGJhY2ssW10sZyk7fX07SW5wdXRGb3JtYXQucHJvdG90eXBlLmFjdGl2YXRlRXZlbnQ9ZnVuY3Rpb24oaSxnLGgpe3RoaXMuY2FsbE1ldGhvZChcIkFjdGl2YXRlRXZlbnRcIixnLFtpXSxoKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5kZWFjdGl2YXRlRXZlbnQ9ZnVuY3Rpb24oaSxnLGgpe3RoaXMuY2FsbE1ldGhvZChcIkRlYWN0aXZhdGVFdmVudFwiLGcsW2ldLGgpO307cmV0dXJuIElucHV0Rm9ybWF0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuaXNDb2xvcj1mdW5jdGlvbihnKXt2YXIgZj1uZXcgT3B0aW9uKCkuc3R5bGU7Zi5jb2xvcj1nLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGYuY29sb3I9PWcudG9Mb3dlckNhc2UoKXx8Yi5pc1ZhbGlkSGV4Q29sb3IoZyk7fTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtCdWxsZXRDaGFyYWN0ZXI6XCJCdWxsZXRDaGFyYWN0ZXJcIixCdWxsZXRTaXplOlwiQnVsbGV0U2l6ZVwiLEZpcnN0TnVtYmVyOlwiRmlyc3ROdW1iZXJcIixGb250TmFtZTpcIkZvbnROYW1lXCIsRm9ybWF0Q2hhcmFjdGVyOlwiRm9ybWF0Q2hhcmFjdGVyXCIsSGFuZ2luZ0luZGVudDpcIkhhbmdpbmdJbmRlbnRcIixMZWZ0SW5kZW50OlwiTGVmdEluZGVudFwiLExldmVsOlwiTGV2ZWxcIixOdW1iZXJGb3JtYXQ6XCJOdW1iZXJGb3JtYXRcIixSZXN0YXJ0TnVtYmVyaW5nOlwiUmVzdGFydE51bWJlcmluZ1wiLFRleHRBZnRlck51bWJlcjpcIlRleHRBZnRlck51bWJlclwiLFRleHRCZWZvcmVOdW1iZXI6XCJUZXh0QmVmb3JlTnVtYmVyXCIsVHlwZTpcIlR5cGVcIix9KTtiLkxpc3RGb3JtYXQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhMaXN0Rm9ybWF0LGUpO2Z1bmN0aW9uIExpc3RGb3JtYXQoKXtlLmNhbGwodGhpcyk7fUxpc3RGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldENoYXJhY3Rlcj1mdW5jdGlvbihidWxsZXRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJ1bGxldENoYXJhY3RlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0Q2hhcmFjdGVyLGJ1bGxldENoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldFNpemU9ZnVuY3Rpb24oc2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc2l6ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0U2l6ZSxzaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0Rmlyc3ROdW1iZXI9ZnVuY3Rpb24oZmlyc3ROdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZpcnN0TnVtYmVyIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GaXJzdE51bWJlcixmaXJzdE51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldEZvbnROYW1lPWZ1bmN0aW9uKGZvbnROYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb250TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRm9udE5hbWUsZm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5zZXRGb3JtYXRDaGFyYWN0ZXI9ZnVuY3Rpb24oZm9ybWF0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JtYXRDaGFyYWN0ZXIhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZvcm1hdENoYXJhY3Rlcixmb3JtYXRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5zZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5IYW5naW5nSW5kZW50LGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldExlZnRJbmRlbnQ9ZnVuY3Rpb24oaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxlZnRJbmRlbnQsaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0TGV2ZWw9ZnVuY3Rpb24obGV2ZWwsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxldmVsIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MZXZlbCxsZXZlbCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldE51bWJlckZvcm1hdD1mdW5jdGlvbihudW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG51bWJlckZvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTnVtYmVyRm9ybWF0LG51bWJlckZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFJlc3RhcnROdW1iZXJpbmc9ZnVuY3Rpb24ocmVzdGFydE51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmVzdGFydE51bWJlcmluZyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJlc3RhcnROdW1iZXJpbmcscmVzdGFydE51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFRleHRBZnRlck51bWJlcj1mdW5jdGlvbih0ZXh0QWZ0ZXJOdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRBZnRlck51bWJlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEFmdGVyTnVtYmVyLHRleHRBZnRlck51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFRleHRCZWZvcmVOdW1iZXI9ZnVuY3Rpb24odGV4dEJlZm9yZU51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dEJlZm9yZU51bWJlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEJlZm9yZU51bWJlcix0ZXh0QmVmb3JlTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0VHlwZT1mdW5jdGlvbih0eXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0eXBlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UeXBlLHR5cGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRCdWxsZXRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldEJ1bGxldFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldEZpcnN0TnVtYmVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZpcnN0TnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0Rm9udE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRGb3JtYXRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRm9ybWF0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0SGFuZ2luZ0luZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5IYW5naW5nSW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEluZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZWZ0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGV2ZWwsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXROdW1iZXJGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTnVtYmVyRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0UmVzdGFydE51bWJlcmluZz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5SZXN0YXJ0TnVtYmVyaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0VGV4dEFmdGVyTnVtYmVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlRleHRBZnRlck51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldFRleHRCZWZvcmVOdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEJlZm9yZU51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBMaXN0Rm9ybWF0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuTGlzdEZvcm1hdC5BdHRyaWJ1dGU9e0xldmVsOjEsTGVmdEluZGVudDoyLEZvcm1hdENoYXJhY3Rlcjo0LE51bWJlckZvcm1hdDo4LEZpcnN0TnVtYmVyOjE2LENoYXJCZWZvcmVOdW1iZXI6MzIsQ2hhckFmdGVyTnVtYmVyOjY0LFJlc3RhcnROdW1iZXJpbmc6MTI4LEJ1bGxldENoYXJhY3RlcjoyNTYsQnVsbGV0U2l6ZTo1MTIsSGFuZ2luZ0luZGVudDoxMDI0LFR5cGU6MjA0OCxUZXh0QmVmb3JlTnVtYmVyOjQwOTYsVGV4dEFmdGVyTnVtYmVyOjgxOTIsRm9udE5hbWU6MTYzODQsQWxsOjMyNzY3LH07cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5NZXJnZUZpZWxkPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKG5hbWUpe2QuY2FsbCh0aGlzLHRydWUpO3RoaXMubmFtZT1uYW1lfHxcIk1FUkdFRklFTERcIjt0aGlzLnRleHQ9XCLCq1wiK3RoaXMubmFtZStcIsK7XCI7dGhpcy50ZXh0Rm9ybWF0PTA7dGhpcy50ZXh0QmVmb3JlPVwiXCI7dGhpcy50ZXh0QWZ0ZXI9XCJcIjt0aGlzLmRhdGVUaW1lRm9ybWF0PVwiXCI7dGhpcy5udW1lcmljRm9ybWF0PVwiXCI7fWUucHJvdG90eXBlLnRvUGFzY2FsQ2FzZT1mdW5jdGlvbigpe3JldHVybntOYW1lOnRoaXMubmFtZSxUZXh0OnRoaXMudGV4dCxUZXh0Rm9ybWF0OnRoaXMudGV4dEZvcm1hdCxUZXh0QmVmb3JlOnRoaXMudGV4dEJlZm9yZSxUZXh0QWZ0ZXI6dGhpcy50ZXh0QWZ0ZXIsRGF0ZVRpbWVGb3JtYXQ6dGhpcy5kYXRlVGltZUZvcm1hdCxOdW1lcmljRm9ybWF0OnRoaXMubnVtZXJpY0Zvcm1hdCxQcmVzZXJ2ZUZvcm1hdHRpbmc6dGhpcy5wcmVzZXJ2ZUZvcm1hdHRpbmd9O307cmV0dXJuIGU7fSkoYi5GaWVsZEFkYXB0ZXIpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0JvdHRvbURpc3RhbmNlOlwiQm90dG9tRGlzdGFuY2VcIixCb3R0b21MaW5lQ29sb3I6XCJCb3R0b21MaW5lQ29sb3JcIixCb3R0b21MaW5lV2lkdGg6XCJCb3R0b21MaW5lV2lkdGhcIixGaXJzdFBhZ2VPbmx5OlwiRmlyc3RQYWdlT25seVwiLExlZnREaXN0YW5jZTpcIkxlZnREaXN0YW5jZVwiLExlZnRMaW5lQ29sb3I6XCJMZWZ0TGluZUNvbG9yXCIsTGVmdExpbmVXaWR0aDpcIkxlZnRMaW5lV2lkdGhcIixNZWFzdXJlRnJvbVRleHQ6XCJNZWFzdXJlRnJvbVRleHRcIixPbWl0Rmlyc3RQYWdlOlwiT21pdEZpcnN0UGFnZVwiLFJpZ2h0RGlzdGFuY2U6XCJSaWdodERpc3RhbmNlXCIsUmlnaHRMaW5lQ29sb3I6XCJSaWdodExpbmVDb2xvclwiLFJpZ2h0TGluZVdpZHRoOlwiUmlnaHRMaW5lV2lkdGhcIixTdXJyb3VuZEZvb3RlcjpcIlN1cnJvdW5kRm9vdGVyXCIsU3Vycm91bmRIZWFkZXI6XCJTdXJyb3VuZEhlYWRlclwiLFRvcERpc3RhbmNlOlwiVG9wRGlzdGFuY2VcIixUb3BMaW5lQ29sb3I6XCJUb3BMaW5lQ29sb3JcIixUb3BMaW5lV2lkdGg6XCJUb3BMaW5lV2lkdGhcIix9KTtiLlBhZ2VCb3JkZXI9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhQYWdlQm9yZGVyLGUpO2Z1bmN0aW9uIFBhZ2VCb3JkZXIoKXtlLmNhbGwodGhpcyk7fVBhZ2VCb3JkZXIucHJvdG90eXBlLmdldEJvdHRvbURpc3RhbmNlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbURpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0Qm90dG9tTGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbUxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldEJvdHRvbUxpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Cb3R0b21MaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRGaXJzdFBhZ2VPbmx5PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZpcnN0UGFnZU9ubHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRMZWZ0RGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0TGVmdExpbmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZWZ0TGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0TGVmdExpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZWZ0TGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0TWVhc3VyZUZyb21UZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLk1lYXN1cmVGcm9tVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldE9taXRGaXJzdFBhZ2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuT21pdEZpcnN0UGFnZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldFJpZ2h0RGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHREaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldFJpZ2h0TGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0TGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0UmlnaHRMaW5lV2lkdGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHRMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRTdXJyb3VuZEZvb3Rlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5TdXJyb3VuZEZvb3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldFN1cnJvdW5kSGVhZGVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlN1cnJvdW5kSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVG9wRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRUb3BMaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVG9wTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0VG9wTGluZVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlRvcExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldEJvdHRvbURpc3RhbmNlPWZ1bmN0aW9uKGJvdHRvbURpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib3R0b21EaXN0YW5jZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tRGlzdGFuY2UsYm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRCb3R0b21MaW5lQ29sb3I9ZnVuY3Rpb24oYm90dG9tTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib3R0b21MaW5lQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbUxpbmVDb2xvcixib3R0b21MaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRCb3R0b21MaW5lV2lkdGg9ZnVuY3Rpb24oYm90dG9tTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib3R0b21MaW5lV2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbUxpbmVXaWR0aCxib3R0b21MaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRGaXJzdFBhZ2VPbmx5PWZ1bmN0aW9uKGZpcnN0UGFnZU9ubHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZpcnN0UGFnZU9ubHkhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GaXJzdFBhZ2VPbmx5LGZpcnN0UGFnZU9ubHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRMZWZ0RGlzdGFuY2U9ZnVuY3Rpb24obGVmdERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsZWZ0RGlzdGFuY2UhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxlZnREaXN0YW5jZSxsZWZ0RGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRMZWZ0TGluZUNvbG9yPWZ1bmN0aW9uKGxlZnRMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnRMaW5lQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxlZnRMaW5lQ29sb3IsbGVmdExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldExlZnRMaW5lV2lkdGg9ZnVuY3Rpb24obGVmdExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVmdExpbmVXaWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdExpbmVXaWR0aCxsZWZ0TGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0TWVhc3VyZUZyb21UZXh0PWZ1bmN0aW9uKG1lYXN1cmVGcm9tVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbWVhc3VyZUZyb21UZXh0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTWVhc3VyZUZyb21UZXh0LG1lYXN1cmVGcm9tVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldE9taXRGaXJzdFBhZ2U9ZnVuY3Rpb24ob21pdEZpcnN0UGFnZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygb21pdEZpcnN0UGFnZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLk9taXRGaXJzdFBhZ2Usb21pdEZpcnN0UGFnZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFJpZ2h0RGlzdGFuY2U9ZnVuY3Rpb24ocmlnaHREaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHREaXN0YW5jZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHREaXN0YW5jZSxyaWdodERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0UmlnaHRMaW5lQ29sb3I9ZnVuY3Rpb24ocmlnaHRMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHJpZ2h0TGluZUNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5SaWdodExpbmVDb2xvcixyaWdodExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFJpZ2h0TGluZVdpZHRoPWZ1bmN0aW9uKHJpZ2h0TGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiByaWdodExpbmVXaWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHRMaW5lV2lkdGgscmlnaHRMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRTdXJyb3VuZEZvb3Rlcj1mdW5jdGlvbihzdXJyb3VuZEZvb3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3Vycm91bmRGb290ZXIhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5TdXJyb3VuZEZvb3RlcixzdXJyb3VuZEZvb3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFN1cnJvdW5kSGVhZGVyPWZ1bmN0aW9uKHN1cnJvdW5kSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdXJyb3VuZEhlYWRlciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlN1cnJvdW5kSGVhZGVyLHN1cnJvdW5kSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24odG9wRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRvcERpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Ub3BEaXN0YW5jZSx0b3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFRvcExpbmVDb2xvcj1mdW5jdGlvbih0b3BMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRvcExpbmVDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVG9wTGluZUNvbG9yLHRvcExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFRvcExpbmVXaWR0aD1mdW5jdGlvbih0b3BMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRvcExpbmVXaWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVG9wTGluZVdpZHRoLHRvcExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYWdlQm9yZGVyO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuUGFnZUJvcmRlci5BdHRyaWJ1dGU9e0xlZnRMaW5lV2lkdGg6MSxUb3BMaW5lV2lkdGg6MixSaWdodExpbmVXaWR0aDo0LEJvdHRvbUxpbmVXaWR0aDo4LExlZnRMaW5lQ29sb3I6MTYsVG9wTGluZUNvbG9yOjMyLFJpZ2h0TGluZUNvbG9yOjY0LEJvdHRvbUxpbmVDb2xvcjoxMjgsTGVmdERpc3RhbmNlOjI1NixUb3BEaXN0YW5jZTo1MTIsUmlnaHREaXN0YW5jZToxMDI0LEJvdHRvbURpc3RhbmNlOjIwNDgsTWVhc3VyZUZyb21UZXh0OjQwOTYsRmlyc3RQYWdlT25seTo4MTkyLE9taXRGaXJzdFBhZ2U6MTYzODQsU3Vycm91bmRIZWFkZXI6MzI3NjgsU3Vycm91bmRGb290ZXI6NjU1MzYsQWxsOjEzMTA3MSx9O3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0JvdHRvbTpcIkJvdHRvbVwiLExlZnQ6XCJMZWZ0XCIsUmlnaHQ6XCJSaWdodFwiLFRvcDpcIlRvcFwiLH0pO2IuUGFnZU1hcmdpbnM9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhQYWdlTWFyZ2lucyxlKTtmdW5jdGlvbiBQYWdlTWFyZ2lucygpe2UuY2FsbCh0aGlzKTt9UGFnZU1hcmdpbnMucHJvdG90eXBlLmdldEJvdHRvbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Cb3R0b20sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlTWFyZ2lucy5wcm90b3R5cGUuZ2V0VG9wPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlRvcCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VNYXJnaW5zLnByb3RvdHlwZS5nZXRSaWdodD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5SaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VNYXJnaW5zLnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkxlZnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlTWFyZ2lucy5wcm90b3R5cGUuc2V0Qm90dG9tPWZ1bmN0aW9uKGJvdHRvbSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm90dG9tIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Cb3R0b20sYm90dG9tLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZU1hcmdpbnMucHJvdG90eXBlLnNldFRvcD1mdW5jdGlvbih0b3AsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRvcCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVG9wLHRvcCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VNYXJnaW5zLnByb3RvdHlwZS5zZXRSaWdodD1mdW5jdGlvbihyaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0LHJpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZU1hcmdpbnMucHJvdG90eXBlLnNldExlZnQ9ZnVuY3Rpb24obGVmdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVmdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdCxsZWZ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFBhZ2VNYXJnaW5zO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuUGFnZU1hcmdpbnMuQXR0cmlidXRlPXtMZWZ0OjEsVG9wOjIsUmlnaHQ6NCxCb3R0b206OCxBbGw6MTUsfTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtIZWlnaHQ6XCJIZWlnaHRcIixXaWR0aDpcIldpZHRoXCIsfSk7Yi5QYWdlU2l6ZT0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFBhZ2VTaXplLGUpO2Z1bmN0aW9uIFBhZ2VTaXplKCl7ZS5jYWxsKHRoaXMpO31QYWdlU2l6ZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkhlaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VTaXplLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5XaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VTaXplLnByb3RvdHlwZS5zZXRIZWlnaHQ9ZnVuY3Rpb24oaGVpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoZWlnaHQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkhlaWdodCxoZWlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlU2l6ZS5wcm90b3R5cGUuc2V0V2lkdGg9ZnVuY3Rpb24od2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5XaWR0aCx3aWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYWdlU2l6ZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtiLlBhZ2VTaXplLkF0dHJpYnV0ZT17V2lkdGg6MSxIZWlnaHQ6MixBbGw6Myx9O3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0Fic29sdXRlTGluZVNwYWNpbmc6XCJBYnNvbHV0ZUxpbmVTcGFjaW5nXCIsQWxpZ25tZW50OlwiQWxpZ25tZW50XCIsQmFja0NvbG9yOlwiQmFja0NvbG9yXCIsQm90dG9tRGlzdGFuY2U6XCJCb3R0b21EaXN0YW5jZVwiLERpcmVjdGlvbjpcIkRpcmVjdGlvblwiLEZyYW1lOlwiRnJhbWVcIixGcmFtZURpc3RhbmNlOlwiRnJhbWVEaXN0YW5jZVwiLEZyYW1lTGluZUNvbG9yOlwiRnJhbWVMaW5lQ29sb3JcIixGcmFtZUxpbmVXaWR0aDpcIkZyYW1lTGluZVdpZHRoXCIsRnJhbWVTdHlsZTpcIkZyYW1lU3R5bGVcIixIYW5naW5nSW5kZW50OlwiSGFuZ2luZ0luZGVudFwiLEp1c3RpZmljYXRpb246XCJKdXN0aWZpY2F0aW9uXCIsS2VlcExpbmVzVG9nZXRoZXI6XCJLZWVwTGluZXNUb2dldGhlclwiLEtlZXBXaXRoTmV4dDpcIktlZXBXaXRoTmV4dFwiLExlZnRJbmRlbnQ6XCJMZWZ0SW5kZW50XCIsTGluZVNwYWNpbmc6XCJMaW5lU3BhY2luZ1wiLFBhZ2VCcmVha0JlZm9yZTpcIlBhZ2VCcmVha0JlZm9yZVwiLFJpZ2h0SW5kZW50OlwiUmlnaHRJbmRlbnRcIixUYWJQb3NpdGlvbnM6XCJUYWJQb3NpdGlvbnNcIixUYWJUeXBlczpcIlRhYlR5cGVzXCIsVG9wRGlzdGFuY2U6XCJUb3BEaXN0YW5jZVwiLFdpZG93T3JwaGFuTGluZXM6XCJXaWRvd09ycGhhbkxpbmVzXCIsfSk7Yi5QYXJhZ3JhcGhGb3JtYXQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhQYXJhZ3JhcGhGb3JtYXQsZSk7ZnVuY3Rpb24gUGFyYWdyYXBoRm9ybWF0KCl7ZS5jYWxsKHRoaXMpO31QYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEFic29sdXRlTGluZVNwYWNpbmc9ZnVuY3Rpb24oYWJzb2x1dGVMaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYWJzb2x1dGVMaW5lU3BhY2luZyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQWJzb2x1dGVMaW5lU3BhY2luZyxhYnNvbHV0ZUxpbmVTcGFjaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRBbGlnbm1lbnQ9ZnVuY3Rpb24oYWxpZ25tZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBhbGlnbm1lbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkFsaWdubWVudCxhbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEJhY2tDb2xvcj1mdW5jdGlvbihiYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJhY2tDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQmFja0NvbG9yLGJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oYm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbURpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Cb3R0b21EaXN0YW5jZSxib3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0RGlyZWN0aW9uPWZ1bmN0aW9uKGRpcmVjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZGlyZWN0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5EaXJlY3Rpb24sZGlyZWN0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRGcmFtZT1mdW5jdGlvbihmcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZnJhbWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lLGZyYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRGcmFtZURpc3RhbmNlPWZ1bmN0aW9uKGRpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkaXN0YW5jZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRGlzdGFuY2UsZGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lTGluZUNvbG9yPWZ1bmN0aW9uKGZyYW1lTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZUxpbmVDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWVMaW5lQ29sb3IsZnJhbWVMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lTGluZVdpZHRoPWZ1bmN0aW9uKGZyYW1lTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZUxpbmVXaWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWVMaW5lV2lkdGgsZnJhbWVMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lU3R5bGU9ZnVuY3Rpb24oZnJhbWVTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZnJhbWVTdHlsZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWVTdHlsZSxmcmFtZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5IYW5naW5nSW5kZW50LGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0SnVzdGlmaWNhdGlvbj1mdW5jdGlvbihqdXN0aWZpY2F0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBqdXN0aWZpY2F0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5KdXN0aWZpY2F0aW9uLGp1c3RpZmljYXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEtlZXBMaW5lc1Rvc2V0aGVyPWZ1bmN0aW9uKGtlZXBMaW5lc1RvZ2V0aGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBrZWVwTGluZXNUb2dldGhlciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLktlZXBMaW5lc1RvZ2V0aGVyLGtlZXBMaW5lc1RvZ2V0aGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRLZWVwV2l0aE5leHQ9ZnVuY3Rpb24oa2VlcFdpdGhOZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBrZWVwV2l0aE5leHQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5LZWVwV2l0aE5leHQsa2VlcFdpdGhOZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRMZWZ0SW5kZW50PWZ1bmN0aW9uKGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MZWZ0SW5kZW50LGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0TGluZVNwYWNpbmc9ZnVuY3Rpb24obGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxpbmVTcGFjaW5nIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MaW5lU3BhY2luZyxsaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0UGFnZUJyZWFrQmVmb3JlPWZ1bmN0aW9uKHBhZ2VCcmVha0JlZm9yZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcGFnZUJyZWFrQmVmb3JlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUGFnZUJyZWFrQmVmb3JlLHBhZ2VCcmVha0JlZm9yZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0UmlnaHRJbmRlbnQ9ZnVuY3Rpb24ocmlnaHRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHJpZ2h0SW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5SaWdodEluZGVudCxyaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0VGFiUG9zaXRpb25zPWZ1bmN0aW9uKHRhYlBvc2l0aW9ucyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UYWJQb3NpdGlvbnMsdGFiUG9zaXRpb25zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRUYWJUeXBlcz1mdW5jdGlvbih0YWJUeXBlcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UYWJUeXBlcyx0YWJUeXBlcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24oZGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGRpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Ub3BEaXN0YW5jZSxkaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0V2lkb3dPcnBoYW5MaW5lcz1mdW5jdGlvbihsaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGluZXMhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLldpZG93T3JwaGFuTGluZXMsbGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEFic29sdXRlTGluZVNwYWNpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQWJzb2x1dGVMaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0QWxpZ25tZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0QmFja0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldERpcmVjdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5EaXJlY3Rpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRGcmFtZURpc3RhbmNlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lTGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRGcmFtZUxpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5GcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0RnJhbWVTdHlsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5GcmFtZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkhhbmdpbmdJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEp1c3RpZmljYXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuSnVzdGlmaWNhdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0S2VlcExpbmVzVG9nZXRoZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuS2VlcExpbmVzVG9nZXRoZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEtlZXBXaXRoTmV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5LZWVwV2l0aE5leHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldExlZnRJbmRlbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0TGluZVNwYWNpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFBhZ2VCcmVha0JlZm9yZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5QYWdlQnJlYWtCZWZvcmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFJpZ2h0SW5kZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRUYWJQb3NpdGlvbnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVGFiUG9zaXRpb25zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRUYWJUeXBlcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UYWJUeXBlcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0VG9wRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVG9wRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFdpZG93T3JwaGFuTGluZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuV2lkb3dPcnBoYW5MaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYXJhZ3JhcGhGb3JtYXQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5QYXJhZ3JhcGhGb3JtYXQuX2FkYXB0PWZ1bmN0aW9uKGcsZSxoKXt2YXIgZj1uZXcgYi5QYXJhZ3JhcGhGb3JtYXQoKTtnLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihmLGgpO3JldHVybiBmO307Yi5QYXJhZ3JhcGhGb3JtYXQuQXR0cmlidXRlPU9iamVjdC5mcmVlemUoe0FsaWdubWVudDoxLExlZnRJbmRlbnQ6MixSaWdodEluZGVudDo0LFRvcERpc3RhbmNlOjgsQm90dG9tRGlzdGFuY2U6MTYsTGluZVNwYWNpbmc6MzIsQWJzb2x1dGVMaW5lU3BhY2luZzo2NCxUYWJQb3NpdGlvbnM6MTI4LFRhYlR5cGVzOjI1NixGcmFtZTo1MTIsRnJhbWVTdHlsZToxMDI0LEZyYW1lTGluZVdpZHRoOjIwNDgsRnJhbWVEaXN0YW5jZTo0MDk2LEhhbmdpbmdJbmRlbnQ6ODE5MixLZWVwTGluZXNUb2dldGhlcjoxNjM4NCxLZWVwV2l0aE5leHQ6MzI3NjgsUGFnZUJyZWFrQmVmb3JlOjY1NTM2LFdpZG93T3JwaGFuTGluZXM6MTMxMDcyLERpcmVjdGlvbjoyNjIxNDQsSnVzdGlmaWNhdGlvbjo1MjQyODgsQmFja0NvbG9yOjEwNDg1NzYsRnJhbWVMaW5lQ29sb3I6MjA5NzE1MixBbGw6NDE5NDMwMyx9KTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtGb3JtYXQ6XCJGb3JtYXRcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixTdGFydDpcIlN0YXJ0XCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTZWxlY3Q6XCJTZWxlY3RcIix9KTtiLlNlY3Rpb249KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhTZWN0aW9uLGYpO2Z1bmN0aW9uIFNlY3Rpb24oZyxoKXtmLmNhbGwodGhpcyxnLGgpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoU2VjdGlvbi5wcm90b3R5cGUsXCJmb3JtYXRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGc9bmV3IGIuU2VjdGlvbkZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsZC5Gb3JtYXQpO3JldHVybiBnO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7U2VjdGlvbi5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb24ucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb24ucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU2VjdGlvbjt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlNlY3Rpb25Db2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoU2VjdGlvbkNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gU2VjdGlvbkNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVNlY3Rpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oc2VjdGlvbkJyZWFrS2luZCxjYWxsYmFjayl7aWYodHlwZW9mIHNlY3Rpb25CcmVha0tpbmQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxbc2VjdGlvbkJyZWFrS2luZF0sZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQXRUZXh0UG9zaXRpb249ZnVuY3Rpb24oc2VjdGlvbkJyZWFrS2luZCx0ZXh0UG9zaXRpb24sY2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0UG9zaXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBzZWN0aW9uQnJlYWtLaW5kIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2ssW3NlY3Rpb25CcmVha0tpbmQsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGUsZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpcztpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZigodHlwZW9mIGUhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBlIT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dmFyIGY9KHR5cGVvZiBlIT09XCJ1bmRlZmluZWRcIik/W2VdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oaCl7Y2FsbGJhY2soZy5fYWRhcHQoaCkpO30sZixlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5TZWN0aW9uKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFNlY3Rpb25Db2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QnJlYWtLaW5kOlwiQnJlYWtLaW5kXCIsQ29sdW1uRGlzdGFuY2VzOlwiQ29sdW1uRGlzdGFuY2VzXCIsQ29sdW1uTGluZUNvbG9yOlwiQ29sdW1uTGluZUNvbG9yXCIsQ29sdW1uTGluZVdpZHRoOlwiQ29sdW1uTGluZVdpZHRoXCIsQ29sdW1uczpcIkNvbHVtbnNcIixDb2x1bW5XaWR0aHM6XCJDb2x1bW5XaWR0aHNcIixFcXVhbENvbHVtbldpZHRoOlwiRXF1YWxDb2x1bW5XaWR0aFwiLExhbmRzY2FwZTpcIkxhbmRzY2FwZVwiLFBhZ2VCb3JkZXI6XCJQYWdlQm9yZGVyXCIsUGFnZU1hcmdpbnM6XCJQYWdlTWFyZ2luc1wiLFBhZ2VTaXplOlwiUGFnZVNpemVcIixSZXN0YXJ0UGFnZU51bWJlcmluZzpcIlJlc3RhcnRQYWdlTnVtYmVyaW5nXCJ9KTtiLlNlY3Rpb25Gb3JtYXQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhTZWN0aW9uRm9ybWF0LGUpO2Z1bmN0aW9uIFNlY3Rpb25Gb3JtYXQoKXtlLmNhbGwodGhpcyk7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWN0aW9uRm9ybWF0LnByb3RvdHlwZSxcInBhZ2VCb3JkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGY9bmV3IGIuUGFnZUJvcmRlcigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGYsYy5QYWdlQm9yZGVyKTtyZXR1cm4gZjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWN0aW9uRm9ybWF0LnByb3RvdHlwZSxcInBhZ2VNYXJnaW5zXCIse2dldDpmdW5jdGlvbigpe3ZhciBmPW5ldyBiLlBhZ2VNYXJnaW5zKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZixjLlBhZ2VNYXJnaW5zKTtyZXR1cm4gZjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWN0aW9uRm9ybWF0LnByb3RvdHlwZSxcInBhZ2VTaXplXCIse2dldDpmdW5jdGlvbigpe3ZhciBmPW5ldyBiLlBhZ2VTaXplKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZixjLlBhZ2VTaXplKTtyZXR1cm4gZjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldEJyZWFrS2luZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5CcmVha0tpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRDb2x1bW5EaXN0YW5jZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1uRGlzdGFuY2VzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0Q29sdW1uTGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbkxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldENvbHVtbkxpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5MaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRDb2x1bW5zPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRDb2x1bW5XaWR0aHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1uV2lkdGhzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0RXF1YWxDb2x1bW5XaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5FcXVhbENvbHVtbldpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0TGFuZHNjYXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkxhbmRzY2FwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldFJlc3RhcnRQYWdlTnVtYmVyaW5nPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJlc3RhcnRQYWdlTnVtYmVyaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuc2V0QnJlYWtLaW5kPWZ1bmN0aW9uKGJyZWFrS2luZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYnJlYWtLaW5kIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5CcmVha0tpbmQsYnJlYWtLaW5kLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuc2V0Q29sdW1uTGluZUNvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1uTGluZUNvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuc2V0Q29sdW1uTGluZVdpZHRoPWZ1bmN0aW9uKGNvbHVtbkxpbmVXaWR0aCxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY29sdW1uTGluZVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5MaW5lV2lkdGgsY29sdW1uTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuc2V0Q29sdW1ucz1mdW5jdGlvbihjb2x1bW5zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2x1bW5zIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5zLGNvbHVtbnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRDb2x1bW5XaWR0aHM9ZnVuY3Rpb24oY29sdW1uV2lkdGhzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbldpZHRocyxjb2x1bW5XaWR0aHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRFcXVhbENvbHVtbldpZHRoPWZ1bmN0aW9uKGVxdWFsQ29sdW1uV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVxdWFsQ29sdW1uV2lkdGghPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5FcXVhbENvbHVtbldpZHRoLGVxdWFsQ29sdW1uV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRMYW5kc2NhcGU9ZnVuY3Rpb24obGFuZHNjYXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsYW5kc2NhcGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MYW5kc2NhcGUsbGFuZHNjYXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuc2V0UmVzdGFydFBhZ2VOdW1iZXJpbmc9ZnVuY3Rpb24ocmVzdGFydFBhZ2VOdW1iZXJpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHJlc3RhcnRQYWdlTnVtYmVyaW5nIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUmVzdGFydFBhZ2VOdW1iZXJpbmcscmVzdGFydFBhZ2VOdW1iZXJpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU2VjdGlvbkZvcm1hdDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtiLlNlY3Rpb25Gb3JtYXQuQXR0cmlidXRlPU9iamVjdC5mcmVlemUoe0JyZWFrS2luZDoxLExhbmRzY2FwZTo0LENvbHVtbnM6OCxDb2x1bW5XaWR0aHM6MTYsQ29sdW1uRGlzdGFuY2VzOjMyLENvbHVtbkxpbmVXaWR0aDo2NCxDb2x1bW5MaW5lQ29sb3I6MTI4LEVxdWFsQ29sdW1uV2lkdGg6MjU2LFJlc3RhcnRQYWdlTnVtYmVyaW5nOjUxMixBbGw6MTAyMyx9KTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtCYXNlbGluZTpcIkJhc2VsaW5lXCIsQm9sZDpcIkJvbGRcIixDdWx0dXJlOlwiQ3VsdHVyZVwiLEZvbnROYW1lOlwiRm9udE5hbWVcIixGb250U2l6ZTpcIkZvbnRTaXplXCIsRm9yZUNvbG9yOlwiRm9yZUNvbG9yXCIsRm9ybWF0dGluZ1N0eWxlOlwiRm9ybWF0dGluZ1N0eWxlXCIsSXRhbGljOlwiSXRhbGljXCIsTGVuZ3RoOlwiTGVuZ3RoXCIsTGlzdEZvcm1hdDpcIkxpc3RGb3JtYXRcIixQYXJhZ3JhcGhGb3JtYXQ6XCJQYXJhZ3JhcGhGb3JtYXRcIixTZWN0aW9uRm9ybWF0OlwiU2VjdGlvbkZvcm1hdFwiLFN0YXJ0OlwiU3RhcnRcIixTdHJpa2VvdXQ6XCJTdHJpa2VvdXRcIixUZXh0OlwiVGV4dFwiLFRleHRCYWNrQ29sb3I6XCJUZXh0QmFja0NvbG9yXCIsVW5kZXJsaW5lOlwiVW5kZXJsaW5lXCIsQm91bmRzOlwiQm91bmRzXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtMb2FkOlwiTG9hZFwiLFNhdmU6XCJTYXZlXCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1NlbGVjdGlvbjpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9TZWxlY3Rpb25cIixJc0NvbW1vblZhbHVlU2VsZWN0ZWRfUGFyYWdyYXBoRm9ybWF0OlwiSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhcmFncmFwaEZvcm1hdFwiLElzQ29tbW9uVmFsdWVTZWxlY3RlZF9MaXN0Rm9ybWF0OlwiSXNDb21tb25WYWx1ZVNlbGVjdGVkX0xpc3RGb3JtYXRcIixJc0NvbW1vblZhbHVlU2VsZWN0ZWRfU2VjdGlvbkZvcm1hdDpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9TZWN0aW9uRm9ybWF0XCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VNYXJnaW5zOlwiSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VNYXJnaW5zXCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VTaXplOlwiSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VTaXplXCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VCb3JkZXI6XCJJc0NvbW1vblZhbHVlU2VsZWN0ZWRfUGFnZUJvcmRlclwifSk7Yi5TZWxlY3Rpb249KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhTZWxlY3Rpb24sZik7ZnVuY3Rpb24gU2VsZWN0aW9uKCl7Zi5jYWxsKHRoaXMpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0aW9uLnByb3RvdHlwZSxcImxpc3RGb3JtYXRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGc9bmV3IGIuTGlzdEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsZC5MaXN0Rm9ybWF0KTtyZXR1cm4gZzt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3Rpb24ucHJvdG90eXBlLFwicGFyYWdyYXBoRm9ybWF0XCIse2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLlBhcmFncmFwaEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsZC5QYXJhZ3JhcGhGb3JtYXQpO3JldHVybiBnO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdGlvbi5wcm90b3R5cGUsXCJzZWN0aW9uRm9ybWF0XCIse2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLlNlY3Rpb25Gb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuU2VjdGlvbkZvcm1hdCk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEJvdW5kcz1mdW5jdGlvbihib3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIShib3VuZHMuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmYm91bmRzLmhhc093blByb3BlcnR5KFwibGVuZ3RoXCIpKSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlNlbGVjdGlvbk9iamVjdFByb3BzKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQm91bmRzLGJvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0Rm9ybWF0dGluZ1N0eWxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvcm1hdHRpbmdTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0Rm9ybWF0dGluZ1N0eWxlPWZ1bmN0aW9uKGZvcm1hdHRpbmdTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9ybWF0dGluZ1N0eWxlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb3JtYXR0aW5nU3R5bGUsZm9ybWF0dGluZ1N0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRDdWx0dXJlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkN1bHR1cmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEN1bHR1cmU9ZnVuY3Rpb24oY3VsdHVyZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY3VsdHVyZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQ3VsdHVyZSxjdWx0dXJlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRCb2xkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJvbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEJvbGQ9ZnVuY3Rpb24oYm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm9sZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJvbGQsYm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0Rm9udE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEZvbnROYW1lPWZ1bmN0aW9uKGZvbnROYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb250TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9udE5hbWUsZm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldEl0YWxpYz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEl0YWxpYz1mdW5jdGlvbihpdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGl0YWxpYyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkl0YWxpYyxpdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldExlbmd0aD1mdW5jdGlvbihsZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlbmd0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldFN0YXJ0PWZ1bmN0aW9uKHN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdGFydCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsc3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldFN0cmlrZW91dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldFN0cmlrZW91dD1mdW5jdGlvbihzdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0cmlrZW91dCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlN0cmlrZW91dCxzdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0ZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0LHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldFVuZGVybGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5VbmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldFVuZGVybGluZT1mdW5jdGlvbih1bmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHVuZGVybGluZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVW5kZXJsaW5lLHVuZGVybGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0QmFzZWxpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEJhc2VsaW5lPWZ1bmN0aW9uKGJhc2VsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBiYXNlbGluZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQmFzZWxpbmUsYmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldEZvbnRTaXplPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvbnRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zZXRGb250U2l6ZT1mdW5jdGlvbihmb250U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9udFNpemUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvbnRTaXplLGZvbnRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRGb3JlQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9yZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zZXRGb3JlQ29sb3I9ZnVuY3Rpb24oZm9yZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JlQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcmVDb2xvcixmb3JlQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0VGV4dEJhY2tDb2xvcj1mdW5jdGlvbih0ZXh0QmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0QmFja0NvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0QmFja0NvbG9yLHRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmlzQ29tbW9uU2VsZWN0aW9uVmFsdWVTZWxlY3RlZD1mdW5jdGlvbihzZWxlY3Rpb25BdHRyaWJ1dGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHNlbGVjdGlvbkF0dHJpYnV0ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYy5Jc0NvbW1vblZhbHVlU2VsZWN0ZWRfU2VsZWN0aW9uLGNhbGxiYWNrLFtzZWxlY3Rpb25BdHRyaWJ1dGVdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5pc0NvbW1vblBhcmFncmFwaEZvcm1hdFZhbHVlU2VsZWN0ZWQ9ZnVuY3Rpb24ocGFyYWdyYXBoRm9ybWF0QXR0cmlidXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwYXJhZ3JhcGhGb3JtYXRBdHRyaWJ1dGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGMuSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhcmFncmFwaEZvcm1hdCxjYWxsYmFjayxbcGFyYWdyYXBoRm9ybWF0QXR0cmlidXRlXSxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuaXNDb21tb25MaXN0Rm9ybWF0VmFsdWVTZWxlY3RlZD1mdW5jdGlvbihsaXN0Rm9ybWF0QXR0cmlidXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsaXN0Rm9ybWF0QXR0cmlidXRlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChjLklzQ29tbW9uVmFsdWVTZWxlY3RlZF9MaXN0Rm9ybWF0LGNhbGxiYWNrLFtsaXN0Rm9ybWF0QXR0cmlidXRlXSxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuaXNDb21tb25TZWN0aW9uRm9ybWF0VmFsdWVTZWxlY3RlZD1mdW5jdGlvbihzZWN0aW9uRm9ybWF0QXR0cmlidXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzZWN0aW9uRm9ybWF0QXR0cmlidXRlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChjLklzQ29tbW9uVmFsdWVTZWxlY3RlZF9TZWN0aW9uRm9ybWF0LGNhbGxiYWNrLFtzZWN0aW9uRm9ybWF0QXR0cmlidXRlXSxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuaXNDb21tb25QYWdlTWFyZ2luc1ZhbHVlU2VsZWN0ZWQ9ZnVuY3Rpb24ocGFnZU1hcmdpbnNBdHRyaWJ1dGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHBhZ2VNYXJnaW5zQXR0cmlidXRlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChjLklzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlTWFyZ2lucyxjYWxsYmFjayxbcGFnZU1hcmdpbnNBdHRyaWJ1dGVdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5pc0NvbW1vblBhZ2VTaXplVmFsdWVTZWxlY3RlZD1mdW5jdGlvbihwYWdlU2l6ZUF0dHJpYnV0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcGFnZVNpemVBdHRyaWJ1dGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGMuSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VTaXplLGNhbGxiYWNrLFtwYWdlU2l6ZUF0dHJpYnV0ZV0sZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmlzQ29tbW9uUGFnZUJvcmRlclZhbHVlU2VsZWN0ZWQ9ZnVuY3Rpb24ocGFnZUJvcmRlckF0dHJpYnV0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcGFnZUJvcmRlckF0dHJpYnV0ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYy5Jc0NvbW1vblZhbHVlU2VsZWN0ZWRfUGFnZUJvcmRlcixjYWxsYmFjayxbcGFnZUJvcmRlckF0dHJpYnV0ZV0sZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oc3RyZWFtVHlwZSxiYXNlNjREYXRhLGNhbGxiYWNrLGxvYWRTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtpZighc3RyZWFtVHlwZSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0Lk5vU3RyZWFtVHlwZSk7fWlmKCFiYXNlNjREYXRhKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuTm9Eb2N1bWVudERhdGEpO31sb2FkU2V0dGluZ3M9bG9hZFNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLkxvYWQsY2FsbGJhY2ssW2Jhc2U2NERhdGEsc3RyZWFtVHlwZSxsb2FkU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2ssc2F2ZVNldHRpbmdzLGVycm9yQ2FsbGJhY2spe2lmKCFzdHJlYW1UeXBlKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuTm9TdHJlYW1UeXBlKTt9aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXNhdmVTZXR0aW5ncz1zYXZlU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGMuU2F2ZSxjYWxsYmFjayxbc3RyZWFtVHlwZSxzYXZlU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFNlbGVjdGlvbjt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtiLlNlbGVjdGlvbi5BdHRyaWJ1dGU9T2JqZWN0LmZyZWV6ZSh7QmFzZWxpbmU6MSxCb2xkOjIsSXRhbGljOjQsRm9udE5hbWU6OCxGb250U2l6ZToxNixTdHJpa2VvdXQ6MzIsVW5kZXJsaW5lOjY0LEZvcmVDb2xvcjoyNTYsVGV4dEJhY2tDb2xvcjo1MTIsU3RhcnQ6MTAyNCxMZW5ndGg6MjA0OCxUZXh0OjQwOTYsRm9ybWF0dGluZ1N0eWxlOjgxOTIsQ3VsdHVyZToxNjM4NCxBbGw6MzI3NjcsfSk7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7Q2FuTWVyZ2VDZWxsczpcIkNhbk1lcmdlQ2VsbHNcIixDYW5TcGxpdDpcIkNhblNwbGl0XCIsQ2FuU3BsaXRDZWxsczpcIkNhblNwbGl0Q2VsbHNcIixDZWxsczpcIkNlbGxzXCIsQ29sdW1uczpcIkNvbHVtbnNcIixJRDpcIklEXCIsTmVzdGVkTGV2ZWw6XCJOZXN0ZWRMZXZlbFwiLE5lc3RlZFRhYmxlczpcIk5lc3RlZFRhYmxlc1wiLE91dGVyTW9zdFRhYmxlOlwiT3V0ZXJNb3N0VGFibGVcIixPdXRlclRhYmxlOlwiT3V0ZXJUYWJsZVwiLFJvd3M6XCJSb3dzXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtNZXJnZUNlbGxzOlwiTWVyZ2VDZWxsc1wiLFNlbGVjdDpcIlNlbGVjdFwiLFNwbGl0OlwiU3BsaXRcIixTcGxpdENlbGxzOlwiU3BsaXRDZWxsc1wifSk7Yi5UYWJsZT0oZnVuY3Rpb24oZil7X19leHRlbmRzKFRhYmxlLGYpO2Z1bmN0aW9uIFRhYmxlKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlLnByb3RvdHlwZSxcImNlbGxzXCIse2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLlRhYmxlQ2VsbENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuQ2VsbHMpO3JldHVybiBnO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlLnByb3RvdHlwZSxcImNvbHVtbnNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGc9bmV3IGIuVGFibGVDb2x1bW5Db2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxkLkNvbHVtbnMpO3JldHVybiBnO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlLnByb3RvdHlwZSxcIm5lc3RlZFRhYmxlc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZz1uZXcgYi5UYWJsZUJhc2VDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxkLk5lc3RlZFRhYmxlcyk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGUucHJvdG90eXBlLFwicm93c1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZz1uZXcgYi5UYWJsZVJvd0NvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuUm93cyk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtUYWJsZS5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24oaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JRCxpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5nZXRDYW5NZXJnZUNlbGxzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhbk1lcmdlQ2VsbHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuZ2V0Q2FuU3BsaXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuU3BsaXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuZ2V0Q2FuU3BsaXRDZWxscz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5DYW5TcGxpdENlbGxzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLmdldE5lc3RlZExldmVsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk5lc3RlZExldmVsLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLmdldE91dGVyTW9zdFRhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuT3V0ZXJNb3N0VGFibGUsZnVuY3Rpb24oaSl7aWYoaSl7dmFyIGg9bmV3IGIuVGFibGUoaS5oYXNoY29kZSk7Zy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaCxkLk91dGVyTW9zdFRhYmxlKTtjYWxsYmFjayhoKTt9ZWxzZXtjYWxsYmFjayhudWxsKTt9fSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5nZXRPdXRlclRhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuT3V0ZXJUYWJsZSxmdW5jdGlvbihpKXtpZihpKXt2YXIgaD1uZXcgYi5UYWJsZShpLmhhc2hjb2RlKTtnLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihoLGQuT3V0ZXJUYWJsZSk7Y2FsbGJhY2soaCk7fWVsc2V7Y2FsbGJhY2sobnVsbCk7fX0sZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUubWVyZ2VDZWxscz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5NZXJnZUNlbGxzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuc2VsZWN0Q2VsbHM9ZnVuY3Rpb24oc3RhcnRSb3csc3RhcnRDb2x1bW4sc3RvcFJvdyxzdG9wQ29sdW1uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCEodHlwZW9mIHN0YXJ0Um93PT09XCJudW1iZXJcIiYmdHlwZW9mIHN0YXJ0Q29sdW1uPT09XCJudW1iZXJcIiYmdHlwZW9mIHN0b3BSb3c9PT1cIm51bWJlclwiJiZ0eXBlb2Ygc3RhcnRDb2x1bW49PT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9dmFyIGc9W3N0YXJ0Um93LHN0YXJ0Q29sdW1uLHN0b3BSb3csc3RvcENvbHVtbl07dGhpcy5jYWxsTWV0aG9kKGMuU2VsZWN0LGNhbGxiYWNrLGcsZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odGFibGVBZGRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0YWJsZUFkZFBvc2l0aW9uIT1iLlRhYmxlQWRkUG9zaXRpb24uQWZ0ZXImJnRhYmxlQWRkUG9zaXRpb24hPWIuVGFibGVBZGRQb3NpdGlvbi5CZWZvcmUpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBVGFibGVBZGRQb3NpdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLlNwbGl0LGNhbGxiYWNrLFt0YWJsZUFkZFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5zcGxpdENlbGxzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNwbGl0Q2VsbHMsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGU7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZUJhc2VDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVCYXNlQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBUYWJsZUJhc2VDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UYWJsZUJhc2VDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVCeUlkPWZ1bmN0aW9uKGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtpZF0sZXJyb3JDYWxsYmFjayk7fTtUYWJsZUJhc2VDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVBdElucHV0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZT10aGlzO2lmKCh0eXBlb2YgaWQ9PT1cInVuZGVmaW5lZFwiKXx8KHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW2lkXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQmFzZUNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRhYmxlKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRhYmxlQmFzZUNvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZT1PYmplY3QuZnJlZXplKHtDZWxsRm9ybWF0OlwiQ2VsbEZvcm1hdFwiLENvbHVtbjpcIkNvbHVtblwiLEZvcm11bGE6XCJGb3JtdWxhXCIsTGVuZ3RoOlwiTGVuZ3RoXCIsTmFtZTpcIk5hbWVcIixQb3NpdGlvbjpcIlBvc2l0aW9uXCIsUm93OlwiUm93XCIsU3RhcnQ6XCJTdGFydFwiLFRleHQ6XCJUZXh0XCIsV2lkdGg6XCJXaWR0aFwifSk7Yi5UYWJsZUNlbGxNZXRob2ROYW1lPU9iamVjdC5mcmVlemUoe1NlbGVjdDpcIlNlbGVjdFwifSk7Yi5UYWJsZUNlbGw9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZUNlbGwsZCk7ZnVuY3Rpb24gVGFibGVDZWxsKGUsZil7ZC5jYWxsKHRoaXMsZSxmKTt9VGFibGVDZWxsLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuVGFibGVDZWxsTWV0aG9kTmFtZS5TZWxlY3QsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldENlbGxGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGU9bmV3IGIuVGFibGVDZWxsRm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZSxiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5DZWxsRm9ybWF0KTtjYWxsYmFjayhlKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0Q29sdW1uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5Db2x1bW4sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldEZvcm11bGE9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLkZvcm11bGEsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuUG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldFJvdz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuUm93LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5XaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuc2V0Rm9ybXVsYT1mdW5jdGlvbihmb3JtdWxhLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JtdWxhIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuRm9ybXVsYSxmb3JtdWxhLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5OYW1lLG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLlBvc2l0aW9uLHBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5UZXh0LHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLnNldFdpZHRoPWZ1bmN0aW9uKHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB3aWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLldpZHRoLHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRhYmxlQ2VsbDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uPU9iamVjdC5mcmVlemUoe0xlZnQ6XCJMZWZ0XCIsUmlnaHQ6XCJSaWdodFwiLFRvcDpcIlRvcFwiLEJvdHRvbTpcIkJvdHRvbVwifSk7Yi5UYWJsZUNlbGxCb3JkZXI9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gVGFibGVDZWxsQm9yZGVyKGcsaCl7dGhpcy5fLnBvc2l0aW9uPWc7dGhpcy5fLnRhYmxlQ2VsbD1oO31UYWJsZUNlbGxCb3JkZXIucHJvdG90eXBlLmdldENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPWQodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuZ2V0UHJvcGVydHlWYWx1ZShnLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQm9yZGVyLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZz1mKHRoaXMuXy5wb3NpdGlvbik7dGFibGVDZWxsLmdldFByb3BlcnR5VmFsdWUoZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbEJvcmRlci5wcm90b3R5cGUuZ2V0VGV4dERpc3RhbmNlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPWUodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuZ2V0UHJvcGVydHlWYWx1ZShnLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQm9yZGVyLnByb3RvdHlwZS5zZXRDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBnPWQodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuc2V0UHJvcGVydHlWYWx1ZShnLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQm9yZGVyLnByb3RvdHlwZS5zZXRXaWR0aD1mdW5jdGlvbih3aWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygd2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBnPWYodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuc2V0UHJvcGVydHlWYWx1ZShnLHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQm9yZGVyLnByb3RvdHlwZS5zZXRUZXh0RGlzdGFuY2U9ZnVuY3Rpb24odGV4dERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0RGlzdGFuY2UhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBnPWUodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuc2V0UHJvcGVydHlWYWx1ZShnLHRleHREaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O2Z1bmN0aW9uIGQoZyl7c3dpdGNoKGcpe2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Cb3R0b206cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkJvdHRvbUJvcmRlckNvbG9yO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Ub3A6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlRvcEJvcmRlckNvbG9yO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5SaWdodDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuUmlnaHRCb3JkZXJDb2xvcjtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uTGVmdDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuTGVmdEJvcmRlckNvbG9yO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWJsZSBjZWxsIGJvcmRlciBwb3NpdGlvbi5cIik7fX1mdW5jdGlvbiBmKGcpe3N3aXRjaChnKXtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uQm90dG9tOnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5Cb3R0b21Cb3JkZXJXaWR0aDtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uVG9wOnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5Ub3BCb3JkZXJXaWR0aDtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uUmlnaHQ6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlJpZ2h0Qm9yZGVyV2lkdGg7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLkxlZnQ6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkxlZnRCb3JkZXJXaWR0aDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFibGUgY2VsbCBib3JkZXIgcG9zaXRpb24uXCIpO319ZnVuY3Rpb24gZShnKXtzd2l0Y2goZyl7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLkJvdHRvbTpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuQm90dG9tVGV4dERpc3RhbmNlO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Ub3A6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlRvcFRleHREaXN0YW5jZTtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uUmlnaHQ6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlJpZ2h0VGV4dERpc3RhbmNlO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5MZWZ0OnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5MZWZ0VGV4dERpc3RhbmNlO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWJsZSBjZWxsIGJvcmRlciBwb3NpdGlvbi5cIik7fX1yZXR1cm4gVGFibGVDZWxsQm9yZGVyO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZUNlbGxDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVDZWxsQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBUYWJsZUNlbGxDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UYWJsZUNlbGxDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRJbnB1dFBvc2l0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxyb3csY29sdW1uKXtpZih0eXBlb2Ygcm93IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY29sdW1uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW3Jvdyxjb2x1bW5dLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbENvbGxlY3Rpb24ucHJvdG90eXBlLmdldENhblJlbW92ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNhblJlbW92ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRhYmxlQ2VsbChmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBUYWJsZUNlbGxDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWU9T2JqZWN0LmZyZWV6ZSh7QmFja0NvbG9yOlwiQmFja0NvbG9yXCIsTnVtYmVyRm9ybWF0OlwiTnVtYmVyRm9ybWF0XCIsVGV4dFR5cGU6XCJUZXh0VHlwZVwiLFZlcnRpY2FsQWxpZ25tZW50OlwiVmVydGljYWxBbGlnbm1lbnRcIixCb3R0b21Cb3JkZXJDb2xvcjpcIkJvdHRvbUJvcmRlckNvbG9yXCIsQm90dG9tQm9yZGVyV2lkdGg6XCJCb3R0b21Cb3JkZXJXaWR0aFwiLEJvdHRvbVRleHREaXN0YW5jZTpcIkJvdHRvbVRleHREaXN0YW5jZVwiLFRvcEJvcmRlckNvbG9yOlwiVG9wQm9yZGVyQ29sb3JcIixUb3BCb3JkZXJXaWR0aDpcIlRvcEJvcmRlcldpZHRoXCIsVG9wVGV4dERpc3RhbmNlOlwiVG9wVGV4dERpc3RhbmNlXCIsTGVmdEJvcmRlckNvbG9yOlwiTGVmdEJvcmRlckNvbG9yXCIsTGVmdEJvcmRlcldpZHRoOlwiTGVmdEJvcmRlcldpZHRoXCIsTGVmdFRleHREaXN0YW5jZTpcIkxlZnRUZXh0RGlzdGFuY2VcIixSaWdodEJvcmRlckNvbG9yOlwiUmlnaHRCb3JkZXJDb2xvclwiLFJpZ2h0Qm9yZGVyV2lkdGg6XCJSaWdodEJvcmRlcldpZHRoXCIsUmlnaHRUZXh0RGlzdGFuY2U6XCJSaWdodFRleHREaXN0YW5jZVwiLH0pO2IuVGFibGVDZWxsRm9ybWF0PShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVDZWxsRm9ybWF0LGQpO2Z1bmN0aW9uIFRhYmxlQ2VsbEZvcm1hdCgpe2QuY2FsbCh0aGlzKTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUsXCJib3R0b21Cb3JkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9Yi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Cb3R0b207cmV0dXJuIG5ldyBiLlRhYmxlQ2VsbEJvcmRlcihlLHRoaXMpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUsXCJsZWZ0Qm9yZGVyXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uTGVmdDtyZXR1cm4gbmV3IGIuVGFibGVDZWxsQm9yZGVyKGUsdGhpcyk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZSxcInJpZ2h0Qm9yZGVyXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uUmlnaHQ7cmV0dXJuIG5ldyBiLlRhYmxlQ2VsbEJvcmRlcihlLHRoaXMpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUsXCJ0b3BCb3JkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9Yi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Ub3A7cmV0dXJuIG5ldyBiLlRhYmxlQ2VsbEJvcmRlcihlLHRoaXMpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5nZXRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUuZ2V0TnVtYmVyRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5OdW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLmdldFRleHRUeXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5UZXh0VHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUuZ2V0VmVydGljYWxBbGlnbm1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlZlcnRpY2FsQWxpZ25tZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5zZXRCYWNrQ29sb3I9ZnVuY3Rpb24oYmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBiYWNrQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5CYWNrQ29sb3IsYmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5zZXROdW1iZXJGb3JtYXQ9ZnVuY3Rpb24obnVtYmVyRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBudW1iZXJGb3JtYXQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5OdW1iZXJGb3JtYXQsbnVtYmVyRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5zZXRUZXh0VHlwZT1mdW5jdGlvbih0ZXh0VHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dFR5cGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5UZXh0VHlwZSx0ZXh0VHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUuc2V0VmVydGljYWxBbGlnbm1lbnQ9ZnVuY3Rpb24odmVydGljYWxBbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZlcnRpY2FsQWxpZ25tZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuVmVydGljYWxBbGlnbm1lbnQsdmVydGljYWxBbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGVDZWxsRm9ybWF0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0dyaWRMaW5lczpcIkdyaWRMaW5lc1wifSk7Yi5UYWJsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhUYWJsZUNvbGxlY3Rpb24sZSk7ZnVuY3Rpb24gVGFibGVDb2xsZWN0aW9uKCl7ZS5jYWxsKHRoaXMpO31UYWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihyb3dzLGNvbHVtbnMsaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2Ygcm93cyE9PVwibnVtYmVyXCJ8fHR5cGVvZiBjb2x1bW5zIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9dmFyIGY9KHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpP1tyb3dzLGNvbHVtbnMsaWRdOltyb3dzLGNvbHVtbnNdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxmLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZXRHcmlkTGluZXM9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuR3JpZExpbmVzLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRHcmlkTGluZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuR3JpZExpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDYW5BZGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5BZGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7dmFyIGc9dGhpcztpZigodHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgaWQhPT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9LGYsZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGVDb2xsZWN0aW9uO30pKGIuVGFibGVCYXNlQ29sbGVjdGlvbik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7Q2VsbEZvcm1hdDpcIkNlbGxGb3JtYXRcIixDb2x1bW46XCJDb2x1bW5cIixQb3NpdGlvbjpcIlBvc2l0aW9uXCIsV2lkdGg6XCJXaWR0aFwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2VsZWN0OlwiU2VsZWN0XCJ9KTtiLlRhYmxlQ29sdW1uPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGFibGVDb2x1bW4sZik7ZnVuY3Rpb24gVGFibGVDb2x1bW4oZyxoKXtmLmNhbGwodGhpcyxnLGgpO31UYWJsZUNvbHVtbi5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2spO307VGFibGVDb2x1bW4ucHJvdG90eXBlLmdldENlbGxGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9bmV3IGIuZm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxkLkNlbGxGb3JtYXQpO2NhbGxiYWNrKGcpO307VGFibGVDb2x1bW4ucHJvdG90eXBlLmdldENvbHVtbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Db2x1bW4sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbHVtbi5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbHVtbi5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24ocG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHBvc2l0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Qb3NpdGlvbixwb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5XaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uLnByb3RvdHlwZS5zZXRXaWR0aD1mdW5jdGlvbih3aWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygd2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLldpZHRoLHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRhYmxlQ29sdW1uO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGFibGVDb2x1bW5Db2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVDb2x1bW5Db2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRhYmxlQ29sdW1uQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9VGFibGVDb2x1bW5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odGFibGVBZGRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGFibGVBZGRQb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLFt0YWJsZUFkZFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGNvbHVtbil7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGY9dGhpczt2YXIgZT0odHlwZW9mIGNvbHVtbj09PVwibnVtYmVyXCIpP1tjb2x1bW5dOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sZSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q2FuUmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ2FuUmVtb3ZlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW5Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDYW5BZGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5BZGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbHVtbkNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRhYmxlQ29sdW1uKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRhYmxlQ29sdW1uQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FsbG93UGFnZUJyZWFrOlwiQWxsb3dQYWdlQnJlYWtcIixDZWxsRm9ybWF0OlwiQ2VsbEZvcm1hdFwiLElzSGVhZGVyOlwiSXNIZWFkZXJcIixNaW5pbXVtSGVpZ2h0OlwiTWluaW11bUhlaWdodFwiLFJvdzpcIlJvd1wifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2VsZWN0OlwiU2VsZWN0XCJ9KTtiLlRhYmxlUm93PShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGFibGVSb3csZik7ZnVuY3Rpb24gVGFibGVSb3coZyxoKXtmLmNhbGwodGhpcyxnLGgpO31UYWJsZVJvdy5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5nZXRDZWxsRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPW5ldyBiLlRhYmxlQ2VsbEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuQ2VsbEZvcm1hdCxjYWxsYmFjayk7Y2FsbGJhY2soZyk7fTtUYWJsZVJvdy5wcm90b3R5cGUuZ2V0Um93PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlJvdyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5nZXRBbGxvd1BhZ2VCcmVhaz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BbGxvd1BhZ2VCcmVhayxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5zZXRBbGxvd1BhZ2VCcmVhaz1mdW5jdGlvbihhbGxvd1BhZ2VCcmVhayxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYWxsb3dQYWdlQnJlYWshPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5BbGxvd1BhZ2VCcmVhayxhbGxvd1BhZ2VCcmVhayxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5nZXRJc0hlYWRlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jc0hlYWRlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5zZXRJc0hlYWRlcj1mdW5jdGlvbihpc0hlYWRlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNIZWFkZXIhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Jc0hlYWRlcixpc0hlYWRlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5nZXRNaW5pbXVtSGVpZ2h0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk1pbmltdW1IZWlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZVJvdy5wcm90b3R5cGUuc2V0TWluaW11bUhlaWdodD1mdW5jdGlvbihtaW5pbXVtSGVpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBtaW5pbXVtSGVpZ2h0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTWluaW11bUhlaWdodCxtaW5pbXVtSGVpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRhYmxlUm93O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGFibGVSb3dDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVSb3dDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRhYmxlUm93Q29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9VGFibGVSb3dDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odGFibGVBZGRQb3NpdGlvbixjb3VudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGFibGVBZGRQb3NpdGlvbiE9PVwibnVtYmVyXCJ8fHR5cGVvZiBjb3VudCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLFt0YWJsZUFkZFBvc2l0aW9uLGNvdW50XSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLHJvdyl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGY9dGhpczt2YXIgZT0odHlwZW9mIHJvdyE9PVwidW5kZWZpbmVkXCIpP1tyb3ddOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sZSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93Q29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q2FuUmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ2FuUmVtb3ZlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3dDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDYW5BZGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5BZGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZVJvd0NvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRhYmxlUm93KGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRhYmxlUm93Q29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FwcGxpY2F0aW9uRmllbGRzOlwiQXBwbGljYXRpb25GaWVsZHNcIixEb2N1bWVudExpbmtzOlwiRG9jdW1lbnRMaW5rc1wiLERvY3VtZW50VGFyZ2V0czpcIkRvY3VtZW50VGFyZ2V0c1wiLFNlbGVjdGlvbjpcIlNlbGVjdGlvblwiLFRhYmxlczpcIlRhYmxlc1wiLFRleHRGaWVsZHM6XCJUZXh0RmllbGRzXCIsVHJhY2tlZENoYW5nZXM6XCJUcmFja2VkQ2hhbmdlc1wiLEVkaXRhYmxlUmVnaW9uczpcIkVkaXRhYmxlUmVnaW9uc1wiLEh5cGVydGV4dExpbmtzOlwiSHlwZXJ0ZXh0TGlua3NcIixMaW5lczpcIkxpbmVzXCIsTWlzc3BlbGxlZFdvcmRzOlwiTWlzc3BlbGxlZFdvcmRzXCIsUGFyYWdyYXBoczpcIlBhcmFncmFwaHNcIixTdWJUZXh0UGFydHM6XCJTdWJUZXh0UGFydHNcIixUZXh0Q2hhcnM6XCJUZXh0Q2hhcnNcIix9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtGaW5kOlwiRmluZFwifSk7Yi5Gb3JtYXR0ZWRUZXh0PShmdW5jdGlvbihmKXtfX2V4dGVuZHMoRm9ybWF0dGVkVGV4dCxmKTtmdW5jdGlvbiBGb3JtYXR0ZWRUZXh0KGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHthcHBsaWNhdGlvbkZpZWxkczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9bmV3IGIuQXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuQXBwbGljYXRpb25GaWVsZHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxkb2N1bWVudFRhcmdldHM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLkRvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5Eb2N1bWVudFRhcmdldHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxkb2N1bWVudExpbmtzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaT1uZXcgYi5Eb2N1bWVudExpbmtDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaSxkLkRvY3VtZW50TGlua3MpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxlZGl0YWJsZVJlZ2lvbnM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLkVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5FZGl0YWJsZVJlZ2lvbnMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxoeXBlcnRleHRMaW5rczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9bmV3IGIuSHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuSHlwZXJ0ZXh0TGlua3MpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxsaW5lczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9bmV3IGIuTGluZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuTGluZXMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxtaXNzcGVsbGVkV29yZHM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLk1pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5NaXNzcGVsbGVkV29yZHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxwYXJhZ3JhcGhzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaT1uZXcgYi5QYXJhZ3JhcGhDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaSxkLlBhcmFncmFwaHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxzZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLlNlbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5TZWxlY3Rpb24pO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxzdWJUZXh0UGFydHM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLlN1YlRleHRQYXJ0Q29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5TdWJUZXh0UGFydHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSx0YWJsZXM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLlRhYmxlQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5UYWJsZXMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSx0ZXh0Q2hhcnM6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLlRleHRDaGFyQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5UZXh0Q2hhcnMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSx0ZXh0RmllbGRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaT1uZXcgYi5UZXh0RmllbGRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaSxkLlRleHRGaWVsZHMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSx0cmFja2VkQ2hhbmdlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9bmV3IGIuVHJhY2tlZENoYW5nZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuVHJhY2tlZENoYW5nZXMpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO31Gb3JtYXR0ZWRUZXh0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHRleHQsc3RhcnQsb3B0aW9ucyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYodHlwZW9mIHN0YXJ0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2Ygb3B0aW9ucyE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBvcHRpb25zIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2Ygb3B0aW9ucz09XCJ1bmRlZmluZWRcIil7b3B0aW9ucz0wO310aGlzLmNhbGxNZXRob2QoYy5GaW5kLGNhbGxiYWNrLFt0ZXh0LHN0YXJ0LG9wdGlvbnNdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEZvcm1hdHRlZFRleHQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGlvblN0YXRlOlwiQWN0aXZhdGlvblN0YXRlXCIsQWxsb3dVbmRvOlwiQWxsb3dVbmRvXCIsQmFja0NvbG9yOlwiQmFja0NvbG9yXCIsQmFyY29kZXM6XCJCYXJjb2Rlc1wiLEJhc2VsaW5lOlwiQmFzZWxpbmVcIixDb250cm9sQ2hhcnM6XCJDb250cm9sQ2hhcnNcIixEaXNwbGF5Q29sb3JzOlwiRGlzcGxheUNvbG9yc1wiLERyYXdpbmdzOlwiRHJhd2luZ3NcIixDYW5DaGFyYWN0ZXJGb3JtYXQ6XCJDYW5DaGFyYWN0ZXJGb3JtYXRcIixDYW5Db3B5OlwiQ2FuQ29weVwiLENhbkRvY3VtZW50Rm9ybWF0OlwiQ2FuRG9jdW1lbnRGb3JtYXRcIixDYW5FZGl0OlwiQ2FuRWRpdFwiLENhblBhcmFncmFwaEZvcm1hdDpcIkNhblBhcmFwaEZvcm1hdFwiLENhblBhc3RlOlwiQ2FuUGFzdGVcIixDYW5QcmludDpcIkNhblByaW50XCIsQ2FuUmVkbzpcIkNhblJlZG9cIixDYW5TdHlsZUZvcm1hdDpcIkNhblN0eWxlRm9ybWF0XCIsQ2FuVGFibGVGb3JtYXQ6XCJDYW5UYWJsZUZvcm1hdFwiLENhblVuZG86XCJDYW5VbmRvXCIsRG9jdW1lbnRUYXJnZXRNYXJrZXJzOlwiRG9jdW1lbnRUYXJnZXRNYXJrZXJzXCIsRHJhd2luZ01hcmtlckxpbmVzOlwiRHJhd2luZ01hcmtlckxpbmVzXCIsRWRpdE1vZGU6XCJFZGl0TW9kZVwiLEZyYW1lczpcIkZyYW1lc1wiLEltYWdlczpcIkltYWdlc1wiLElzVHJhY2tDaGFuZ2VzRW5hYmxlZDpcIklzVHJhY2tDaGFuZ2VzRW5hYmxlZFwiLFBhZ2VVbml0OlwiUGFnZVVuaXRcIixQZXJtYW5lbnRDb250cm9sQ2hhcnM6XCJQZXJtYW5lbnRDb250cm9sQ2hhcnNcIixTZWxlY3RPYmplY3RzOlwiU2VsZWN0T2JqZWN0c1wiLFJlZG9BY3Rpb25OYW1lOlwiUmVkb0FjdGlvbk5hbWVcIixUZXh0OlwiVGV4dFwiLFRleHRCYWNrQ29sb3I6XCJUZXh0QmFja0NvbG9yXCIsVGV4dEZyYW1lTWFya2VyTGluZXM6XCJUZXh0RnJhbWVNYXJrZXJMaW5lc1wiLFVuZG9BY3Rpb25OYW1lOlwiVW5kb0FjdGlvbk5hbWVcIixVc2VyTmFtZXM6XCJVc2VyTmFtZXNcIixWaWV3TW9kZTpcIlZpZXdNb2RlXCIsRm9udFVuZGVybGluZVN0eWxlOlwiRm9udFVuZGVybGluZVN0eWxlXCIsRm9yZUNvbG9yOlwiRm9yZUNvbG9yXCIsRm9ybXVsYVJlZmVyZW5jZVN0eWxlOlwiRm9ybXVsYVJlZmVyZW5jZVN0eWxlXCIsTGFuZHNjYXBlOlwiTGFuZHNjYXBlXCIsTGlzdEZvcm1hdDpcIkxpc3RGb3JtYXRcIixJbnB1dEZvcm1hdDpcIklucHV0Rm9ybWF0XCIsSW5wdXRQb3NpdGlvbjpcIklucHV0UG9zaXRpb25cIixQYWdlTWFyZ2luczpcIlBhZ2VNYXJnaW5zXCIsUGFnZVNpemU6XCJQYWdlU2l6ZVwiLFBhcmFncmFwaEZvcm1hdDpcIlBhcmFncmFwaEZvcm1hdFwiLFNlY3Rpb25zOlwiU2VjdGlvbnNcIixTZWxlY3Rpb246XCJTZWxlY3Rpb25cIixUZXh0RnJhbWVzOlwiVGV4dEZyYW1lc1wiLFRleHRQYXJ0czpcIlRleHRQYXJ0c1wiLEZvcm1GaWVsZHM6XCJGb3JtRmllbGRzXCIsSGVhZGVyc0FuZEZvb3RlcnM6XCJIZWFkZXJzQW5kRm9vdGVyc1wiLElubGluZVN0eWxlczpcIklubGluZVN0eWxlc1wiLFBhcmFncmFwaFN0eWxlczpcIlBhcmFncmFwaFN0eWxlc1wiLElzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZDpcIklzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZFwiLElzSHlwaGVuYXRpb25FbmFibGVkOlwiSXNIeXBoZW5hdGlvbkVuYWJsZWRcIixJc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZDpcIklzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkXCIsSXNTcGVsbENoZWNraW5nRW5hYmxlZDpcIklzU3BlbGxDaGVja2luZ0VuYWJsZWRcIix9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXRTdXBwb3J0ZWRQYXBlclNpemVzOlwiR2V0U3VwcG9ydGVkUGFwZXJTaXplc1wiLEdldFN1cHBvcnRlZEZvbnRzOlwiR2V0U3VwcG9ydGVkRm9udHNcIixSZXNldENvbnRlbnRzOlwiUmVzZXRDb250ZW50c1wiLFVuZG86XCJVbmRvXCIsUmVkbzpcIlJlZG9cIixab29tOlwiWm9vbVwiLENsZWFyOlwiQ2xlYXJcIixMb2FkOlwiTG9hZFwiLFNhdmU6XCJTYXZlXCIsU2VsZWN0OlwiU2VsZWN0XCIsU2VsZWN0QWxsOlwiU2VsZWN0QWxsXCIsU2VsZWN0V29yZDpcIlNlbGVjdFdvcmRcIixHZXRQYWdlczpcIkdldFBhZ2VzXCIsfSk7Yi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrcz17fTtiLlRleHRDb250cm9sPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGV4dENvbnRyb2wsZik7ZnVuY3Rpb24gVGV4dENvbnRyb2woKXtmLmNhbGwodGhpcyk7dGhpcy5hZGRFdmVudExpc3RlbmVyKGIuVFhFdmVudE5hbWVzLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyLGZ1bmN0aW9uKGwpe2oobC5jYWxsYmFjayxsLnNlcXVlbmNlLGwuY2FsbERpcmVjdGlvbixsLmVycm9yQ2FsbGJhY2spO30pO3ZhciBrPW5ldyBiLklucHV0Rm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoayxkLklucHV0Rm9ybWF0KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtiYXJjb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuQmFyY29kZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuQmFyY29kZXMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxkaXNwbGF5Q29sb3JzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5EaXNwbGF5Q29sb3JzKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkRpc3BsYXlDb2xvcnMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxmb3JtRmllbGRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5Gb3JtRmllbGRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkZvcm1GaWVsZHMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxmcmFtZXM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLkZyYW1lQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5GcmFtZXMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxoZWFkZXJzQW5kRm9vdGVyczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSGVhZGVyRm9vdGVyQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5IZWFkZXJzQW5kRm9vdGVycyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlubGluZVN0eWxlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSW5saW5lU3R5bGVDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLklubGluZVN0eWxlcyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlucHV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLklucHV0UG9zaXRpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuSW5wdXRQb3NpdGlvbik7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGltYWdlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSW1hZ2VDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkltYWdlcyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlucHV0Rm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gazt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sbGlzdEZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuTGlzdEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5MaXN0Rm9ybWF0KTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZXM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxjLkdldFBhZ2VzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZU1hcmdpbnM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VNYXJnaW5zKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlBhZ2VNYXJnaW5zKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZVNpemU6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VTaXplKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlBhZ2VTaXplKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFyYWdyYXBoRm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5QYXJhZ3JhcGhGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuUGFyYWdyYXBoRm9ybWF0KTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFyYWdyYXBoU3R5bGVzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuUGFyYWdyYXBoU3R5bGVzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sc2VjdGlvbnM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlNlY3Rpb25Db2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlNlY3Rpb25zKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sdGV4dEZyYW1lczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuVGV4dEZyYW1lQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5UZXh0RnJhbWVzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sdGV4dFBhcnRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5UZXh0UGFydENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuVGV4dFBhcnRzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTt9ZnVuY3Rpb24gaihrLHAsbCxtKXt2YXIgbj1pKHAsayxtKTt2YXIgbz1uZXcgYi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc01lc3NhZ2UobixwLGwpO2Iuc2VuZENvbW1hbmQoby5jb21tYW5kSUQsby5wYXJhbTEsby5wYXJhbTIsby5wYXJhbTMsby5kYXRhKTt9Yi5nZXRUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrPWZ1bmN0aW9uKGspe2lmKCFiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzLmhhc093blByb3BlcnR5KGspKXt0aHJvdyBuZXcgRXJyb3IoXCJfcHJpdmF0ZS5nZXRUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrKCk6IENhbGxiYWNrIHF1ZXVlIFwiK2srXCIgZG9lcyBub3QgZXhpc3QuXCIpO3JldHVybiBudWxsO312YXIgbD1iLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzW2tdO2RlbGV0ZSBiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzW2tdO3JldHVybiBsO307ZnVuY3Rpb24gZygpe3JldHVyblwiXCIrTWF0aC5mbG9vcigxMDAwMDAwMDAwKyhNYXRoLnJhbmRvbSgpKjkwMDAwMDAwMDApKTt9ZnVuY3Rpb24gaShuLGssbCl7dmFyIG09ZygpO2IuVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NDYWxsYmFja3NbbV09e2NhbGxiYWNrOmssZXJyb3JDYWxsYmFjazpsfTtyZXR1cm4gbTt9VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEFjdGl2YXRpb25TdGF0ZT1mdW5jdGlvbihhY3RpdmF0aW9uU3RhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZhdGlvblN0YXRlLGFjdGl2YXRpb25TdGF0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZhdGlvblN0YXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEFsbG93VW5kbz1mdW5jdGlvbihhbGxvd1VuZG8sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGFsbG93VW5kbyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFsbG93VW5kbyxhbGxvd1VuZG8sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0QWxsb3dVbmRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFsbG93VW5kbyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRCYWNrQ29sb3I9ZnVuY3Rpb24oaHRtbENvbG9yLGssbCl7aWYodHlwZW9mIGh0bWxDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLGh0bWxDb2xvcixrLGwpO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldEJhY2tDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0QmFzZWxpbmU9ZnVuY3Rpb24oYmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJhc2VsaW5lIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxiYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRCYXNlbGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRDb250cm9sQ2hhcnM9ZnVuY3Rpb24oY29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb250cm9sQ2hhcnMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Db250cm9sQ2hhcnMsY29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENvbnRyb2xDaGFycz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Db250cm9sQ2hhcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuQ2hhcmFjdGVyRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhbkNoYXJhY3RlckZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRDYW5Db3B5PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhbkNvcHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuRG9jdW1lbnRGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuRG9jdW1lbnRGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUGFzdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuUGFzdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUHJpbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuUHJpbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUmVkbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5DYW5SZWRvLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblN0eWxlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhblN0eWxlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblRhYmxlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhblRhYmxlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblVuZG89ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuVW5kbyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXREb2N1bWVudFRhcmdldE1hcmtlcnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRG9jdW1lbnRUYXJnZXRNYXJrZXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldERvY3VtZW50VGFyZ2V0TWFya2Vycz1mdW5jdGlvbihkb2N1bWVudE1hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkb2N1bWVudE1hcmtlckxpbmVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRG9jdW1lbnRUYXJnZXRNYXJrZXJzLGRvY3VtZW50TWFya2VyTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRJc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlbmFibGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Jc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzSHlwaGVuYXRpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzSHlwaGVuYXRpb25FbmFibGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldElzSHlwaGVuYXRpb25FbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNIeXBoZW5hdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzU3BlbGxDaGVja2luZ0VuYWJsZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSXNTcGVsbENoZWNraW5nRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNTcGVsbENoZWNraW5nRW5hYmxlZCxlbmFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0RHJhd2luZ01hcmtlckxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkRyYXdpbmdNYXJrZXJMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXREcmF3aW5nTWFya2VyTGluZXM9ZnVuY3Rpb24oZHJhd2luZ01hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkcmF3aW5nTWFya2VyTGluZXMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5EcmF3aW5nTWFya2VyTGluZXMsZHJhd2luZ01hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldEVkaXRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkVkaXRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEVkaXRNb2RlPWZ1bmN0aW9uKGVkaXRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlZGl0TW9kZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRWRpdE1vZGUsZWRpdE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Rm9udFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKGssbCl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFVuZGVybGluZVN0eWxlLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0Rm9udFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKHN0eWxlLGssbCl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFVuZGVybGluZVN0eWxlLHN0eWxlLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGssbCl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9yZUNvbG9yLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGZvcmVDb2xvcixrLGwpe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcmVDb2xvcixmb3JlQ29sb3IsayxsKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGU9ZnVuY3Rpb24oayxsKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JtdWxhUmVmZXJlbmNlU3R5bGUsayxsKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGU9ZnVuY3Rpb24obSxrLGwpe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcm11bGFSZWZlcmVuY2VTdHlsZSxtLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0TGFuZHNjYXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxhbmRzY2FwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRMYW5kc2NhcGU9ZnVuY3Rpb24oaXNMYW5kc2NhcGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzTGFuZHNjYXBlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGFuZHNjYXBlLGlzTGFuZHNjYXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzVHJhY2tDaGFuZ2VzRW5hYmxlZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jc1RyYWNrQ2hhbmdlc0VuYWJsZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0SXNUcmFja0NoYW5nZXNFbmFibGVkPWZ1bmN0aW9uKGlzVHJhY2tDaGFuZ2VzRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNUcmFja0NoYW5nZXNFbmFibGVkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNUcmFja0NoYW5nZXNFbmFibGVkLGlzVHJhY2tDaGFuZ2VzRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRQYWdlQ291bnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0UGFnZVVuaXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZVVuaXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0UGFnZVVuaXQ9ZnVuY3Rpb24ocGFnZVVuaXQsayxsKXtpZih0eXBlb2YgcGFnZVVuaXQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlBhZ2VVbml0LHBhZ2VVbml0LGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0UGVybWFuZW50Q29udHJvbENoYXJzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlBlcm1hbmVudENvbnRyb2xDaGFycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRQZXJtYW5lbnRDb250cm9sQ2hhcnM9ZnVuY3Rpb24ocGVybWFuZW50Q29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwZXJtYW5lbnRDb250cm9sQ2hhcnMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5QZXJtYW5lbnRDb250cm9sQ2hhcnMscGVybWFuZW50Q29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFJlZG9BY3Rpb25OYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlJlZG9BY3Rpb25OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFNlbGVjdE9iamVjdHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU2VsZWN0T2JqZWN0cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRTZWxlY3RPYmplY3RzPWZ1bmN0aW9uKHNlbGVjdE9iamVjdHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHNlbGVjdE9iamVjdHMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TZWxlY3RPYmplY3RzLHNlbGVjdE9iamVjdHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCx0ZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRUZXh0QmFja0NvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEJhY2tDb2xvcixjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRUZXh0RnJhbWVNYXJrZXJMaW5lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0RnJhbWVNYXJrZXJMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRUZXh0RnJhbWVNYXJrZXJMaW5lcz1mdW5jdGlvbih0ZXh0RnJhbWVNYXJrZXJMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dEZyYW1lTWFya2VyTGluZXMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0RnJhbWVNYXJrZXJMaW5lcyx0ZXh0RnJhbWVNYXJrZXJMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRVbmRvQWN0aW9uTmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5VbmRvQWN0aW9uTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRVc2VyTmFtZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVXNlck5hbWVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFZpZXdNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlZpZXdNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldFZpZXdNb2RlPWZ1bmN0aW9uKHZpZXdNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlZpZXdNb2RlLHZpZXdNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuUmVkbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlVuZG8sY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuem9vbT1mdW5jdGlvbih6b29tRmFjdG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlpvb20sY2FsbGJhY2ssW3pvb21GYWN0b3JdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLkNsZWFyLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFN1cHBvcnRlZEZvbnRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLkdldFN1cHBvcnRlZEZvbnRzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFN1cHBvcnRlZFBhcGVyU2l6ZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuR2V0U3VwcG9ydGVkUGFwZXJTaXplcyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHN0cmVhbVR5cGUsayxjYWxsYmFjayxsb2FkU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7bG9hZFNldHRpbmdzPWxvYWRTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5Mb2FkLGNhbGxiYWNrLFtrLHN0cmVhbVR5cGUsbG9hZFNldHRpbmdzXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2ssc2F2ZVNldHRpbmdzLGVycm9yQ2FsbGJhY2spe3NhdmVTZXR0aW5ncz1zYXZlU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGMuU2F2ZSxjYWxsYmFjayxbc3RyZWFtVHlwZSxzYXZlU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnJlc2V0Q29udGVudHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuUmVzZXRDb250ZW50cyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oc3RhcnQsbGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdGFydCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGxlbmd0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGMuU2VsZWN0LGNhbGxiYWNrLFtzdGFydCxsZW5ndGhdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3RBbGwsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2VsZWN0V29yZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3RXb3JkLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307ZnVuY3Rpb24gaChsLGspe2lmKGwmJnR5cGVvZiBsPT09XCJvYmplY3RcIiYmbC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtsLmZvckVhY2goZnVuY3Rpb24obSl7aWYodHlwZW9mIG0hPT1rKXtyZXR1cm4gZmFsc2U7fX0pO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fXJldHVybiBUZXh0Q29udHJvbDt9KShiLkZvcm1hdHRlZFRleHQpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2l6ZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiBTaXplKHdpZHRoLGhlaWdodCl7aWYoKHR5cGVvZiB3aWR0aCE9PVwibnVtYmVyXCIpfHwodHlwZW9mIGhlaWdodCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVycyBoYXZlIHRvIGJlIG51bWVyaWNhbCB2YWx1ZXMuXCIpO310aGlzLndpZHRoPXdpZHRoO3RoaXMuaGVpZ2h0PWhlaWdodDt9cmV0dXJuIFNpemU7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtCb3VuZHM6XCJCb3VuZHNcIixDb250YWluc0lucHV0UG9zaXRpb246XCJDb250YWluc0lucHV0UG9zaXRpb25cIixEZWxldGVhYmxlOlwiRGVsZXRlYWJsZVwiLERvdWJsZWRJbnB1dFBvc2l0aW9uOlwiRG91YmxlZElucHV0UG9zaXRpb25cIixFZGl0YWJsZTpcIkVkaXRhYmxlXCIsRm9ybWF0dGluZ0JvdW5kczpcIkZvcm1hdHRpbmdCb3VuZHNcIixIaWdobGlnaHRDb2xvcjpcIkhpZ2hsaWdodENvbG9yXCIsSGlnaGxpZ2h0TW9kZTpcIkhpZ2hsaWdodE1vZGVcIixJRDpcIklEXCIsSXNTcGVsbENoZWNraW5nRW5hYmxlZDpcIklzU3BlbGxDaGVja2luZ0VuYWJsZWRcIixMZW5ndGg6XCJMZW5ndGhcIixOYW1lOlwiTmFtZVwiLFN0YXJ0OlwiU3RhcnRcIixUZXh0OlwiVGV4dFwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2Nyb2xsVG86XCJTY3JvbGxUb1wifSk7Yi5UZXh0RmllbGQ9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhUZXh0RmllbGQsZik7ZnVuY3Rpb24gVGV4dEZpZWxkKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRDb250YWluc0lucHV0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ29udGFpbnNJbnB1dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXREZWxldGVhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkRlbGV0ZWFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldERlbGV0ZWFibGU9ZnVuY3Rpb24oZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZGVsZXRlYWJsZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRlbGV0ZWFibGUsZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0RG91YmxlZElucHV0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRG91YmxlZElucHV0UG9zaXRpb24sY2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXREb3VibGVkSW5wdXRQb3NpdGlvbj1mdW5jdGlvbihkb3VibGVkSW5wdXRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZG91YmxlZElucHV0UG9zaXRpb24hPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Eb3VibGVkSW5wdXRQb3NpdGlvbixkb3VibGVkSW5wdXRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0RWRpdGFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRWRpdGFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldEVkaXRhYmxlPWZ1bmN0aW9uKGVkaXRhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlZGl0YWJsZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkVkaXRhYmxlLGVkaXRhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRGb3JtYXR0aW5nQm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvcm1hdHRpbmdCb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldEhpZ2hsaWdodE1vZGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0TW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihoaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoaWdobGlnaHRNb2RlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbihoaWdobGlnaHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaGlnaGxpZ2h0Q29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24oaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JRCxpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0SXNTcGVsbENoZWNraW5nRW5hYmxlZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jc1NwZWxsQ2hlY2tpbmdFbmFibGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWZ1bmN0aW9uKGlzU3BlbGxDaGVja2luZ0VuYWJsZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzU3BlbGxDaGVja2luZ0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Jc1NwZWxsQ2hlY2tpbmdFbmFibGVkLGlzU3BlbGxDaGVja2luZ0VuYWJsZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbihuYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5OYW1lLG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCx0ZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBUZXh0RmllbGQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZT0oZnVuY3Rpb24oZCl7X19leHRlbmRzKFRleHRGaWVsZENvbGxlY3Rpb25CYXNlLGQpO2Z1bmN0aW9uIFRleHRGaWVsZENvbGxlY3Rpb25CYXNlKCl7ZC5jYWxsKHRoaXMpO31UZXh0RmllbGRDb2xsZWN0aW9uQmFzZS5wcm90b3R5cGUuZ2V0Q2FuQWRkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ2FuQWRkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRGaWVsZENvbGxlY3Rpb25CYXNlO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0RmllbGRDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGV4dEZpZWxkQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBUZXh0RmllbGRDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UZXh0RmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO306dW5kZWZpbmVkLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQ2xlYXIsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssaWQpe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPXRoaXM7dmFyIGU9KHR5cGVvZiBpZD09PVwibnVtYmVyXCIpP1tpZF06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fSxlLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHRleHRGaWVsZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW3RleHRGaWVsZC5fLmhhc2hjb2RlLHRleHRGaWVsZC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRleHRGaWVsZChmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBUZXh0RmllbGRDb2xsZWN0aW9uO30pKGIuVGV4dEZpZWxkQ29sbGVjdGlvbkJhc2UpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0Zvcm1hdDpcIkZvcm1hdFwiLFBhcmFtZXRlcnM6XCJQYXJhbWV0ZXJzXCIsVHlwZU5hbWU6XCJUeXBlTmFtZVwifSk7Yi5BcHBsaWNhdGlvbkZpZWxkRm9ybWF0PU9iamVjdC5mcmVlemUoe05vbmU6MCxNU1dvcmQ6NyxIaWdoRWRpdDo4LE1TV29yZFRYRm9ybUZpZWxkczoxMn0pO2IuQXBwbGljYXRpb25GaWVsZD0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEFwcGxpY2F0aW9uRmllbGQsZSk7ZnVuY3Rpb24gQXBwbGljYXRpb25GaWVsZChmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fUFwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Gb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkLnByb3RvdHlwZS5zZXRGb3JtYXQ9ZnVuY3Rpb24oZm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZvcm1hdCxmb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlBhcmFtZXRlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKHBhcmFtZXRlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUGFyYW1ldGVycyxwYXJhbWV0ZXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QXBwbGljYXRpb25GaWVsZC5wcm90b3R5cGUuZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVHlwZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkLnByb3RvdHlwZS5zZXRUeXBlTmFtZT1mdW5jdGlvbih0eXBlTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UeXBlTmFtZSx0eXBlTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLnNob3dEaWFsb2c9ZnVuY3Rpb24oKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNob3dEaWFsb2csMCwwLHt0ZXh0RmllbGQ6dGhpcy5fLmZpZWxkfSk7fTtyZXR1cm4gQXBwbGljYXRpb25GaWVsZDt9KShiLlRleHRGaWVsZCk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5BcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEFwcGxpY2F0aW9uRmllbGRDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEFwcGxpY2F0aW9uRmllbGRDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31BcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGZvcm1hdCx0eXBlTmFtZSx0ZXh0LHBhcmFtZXRlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihmb3JtYXQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9aWYodHlwZW9mIHR5cGVOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzQXJyYXlPZlR5cGUocGFyYW1ldGVycyxcInN0cmluZ1wiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFycmF5T2ZTdHJpbmdzKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO306bnVsbCxbZm9ybWF0LHR5cGVOYW1lLHRleHQscGFyYW1ldGVyc10sZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW10sZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGFwcGxpY2F0aW9uRmllbGQsa2VlcFRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGtlZXBUZXh0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2FwcGxpY2F0aW9uRmllbGQuXy5oYXNoY29kZSxhcHBsaWNhdGlvbkZpZWxkLl8uaW5kZXgsa2VlcFRleHRdLGVycm9yQ2FsbGJhY2spO307QXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLkFwcGxpY2F0aW9uRmllbGQoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gQXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGcsYSl7dmFyIGI9Zy5fcHJpdmF0ZT1nLl9wcml2YXRlfHx7fTtiLlRleHRQYXJ0Q29tbWFuZD1PYmplY3QuZnJlZXplKHtHZXRDb3VudDowLEdldFRleHRQYXJ0OjEsQWN0aXZhdGU6MixHZXRBbGw6MyxHZXRJdGVtOjQsQWNjZXNzVGV4dENvbnRyb2xNZW1iZXI6NX0pO2IuVGV4dFBhcnRUeXBlPU9iamVjdC5mcmVlemUoe1VuZGVmaW5lZDotMSxBdXRvOjAsTWFpblRleHQ6MSxIZWFkZXJGb290ZXI6MixUZXh0RnJhbWU6Myxmcm9tVHlwZU5hbWU6ZnVuY3Rpb24oaCl7c3dpdGNoKGgpe2Nhc2UgYi5UZXh0UGFydFR5cGVOYW1lLkF1dG86cmV0dXJuIHRoaXMuQXV0bztjYXNlIGIuVGV4dFBhcnRUeXBlTmFtZS5NYWluVGV4dDpyZXR1cm4gdGhpcy5NYWluVGV4dDtjYXNlIGIuVGV4dFBhcnRUeXBlTmFtZS5IZWFkZXJGb290ZXI6cmV0dXJuIHRoaXMuSGVhZGVyRm9vdGVyO2Nhc2UgYi5UZXh0UGFydFR5cGVOYW1lLlRleHRGcmFtZTpyZXR1cm4gdGhpcy5UZXh0RnJhbWU7fXJldHVybiAtMTt9fSk7Yi5UZXh0UGFydFR5cGVOYW1lPU9iamVjdC5mcmVlemUoe0F1dG86XCJhdXRvXCIsTWFpblRleHQ6XCJtYWluVGV4dFwiLEhlYWRlckZvb3RlcjpcImhlYWRlckZvb3RlclwiLFRleHRGcmFtZTpcInRleHRGcmFtZVwiLGZyb21UeXBlOmZ1bmN0aW9uKGgpe3N3aXRjaChoKXtjYXNlIGIuVGV4dFBhcnRUeXBlLkF1dG86cmV0dXJuIHRoaXMuQXV0bztjYXNlIGIuVGV4dFBhcnRUeXBlLk1haW5UZXh0OnJldHVybiB0aGlzLk1haW5UZXh0O2Nhc2UgYi5UZXh0UGFydFR5cGUuSGVhZGVyRm9vdGVyOnJldHVybiB0aGlzLkhlYWRlckZvb3RlcjtjYXNlIGIuVGV4dFBhcnRUeXBlLlRleHRGcmFtZTpyZXR1cm4gdGhpcy5UZXh0RnJhbWU7fXJldHVyblwiXCI7fX0pO3ZhciBmPU9iamVjdC5mcmVlemUoe1RhYmxlczpcIlRhYmxlc1wiLFNlbGVjdGlvbjpcIlNlbGVjdGlvblwiLFRleHRGaWVsZHM6XCJUZXh0RmllbGRzXCJ9KTt2YXIgYz1bXTtiLkxlZ2FjeVRleHRQYXJ0PShmdW5jdGlvbihoKXtfX2V4dGVuZHMoVGV4dFBhcnQsaCk7ZnVuY3Rpb24gVGV4dFBhcnQobCxqLGkpe2guY2FsbCh0aGlzLGkpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLlRYRXZlbnROYW1lcy5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcixmdW5jdGlvbihuKXt2YXIgbz1wKG4uc2VxdWVuY2Usbi5jYWxsYmFjayk7dmFyIG09bi5jYWxsRGlyZWN0aW9uO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRQYXJ0LGIuVGV4dFBhcnRDb21tYW5kLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyLDAsMCx7VGV4dFBhcnRJbmRleDpqLFRleHRQYXJ0VHlwZTpiLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUobCksY2FsbFNlcXVlbmNlOm4uc2VxdWVuY2UsbWVzc2FnZVVJRDpvLGRpcmVjdGlvbjptfSk7ZnVuY3Rpb24gcChzLHEpe3ZhciByPVwiXCIrTWF0aC5mbG9vcigxMDAwMDAwMDAwKyhNYXRoLnJhbmRvbSgpKjkwMDAwMDAwMDApKTtjW3JdPXE7cmV0dXJuIHI7fX0pO3RoaXMudHlwZT1sfHxiLlRleHRQYXJ0VHlwZU5hbWUuQXV0bzt0aGlzLmluZGV4PWp8fDA7dmFyIGs9dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtzZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3ZhciBtPW5ldyBiLlNlbGVjdGlvbigpO2suYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKG0sZi5TZWxlY3Rpb24pO3JldHVybiBtO30sc2V0OmZ1bmN0aW9uKGJvdW5kcyl7dmFyIG09bmV3IGIuU2VsZWN0aW9uKCk7ay5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobSxmLlNlbGVjdGlvbik7bS5zZXRCb3VuZHMoYm91bmRzKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9VGV4dFBhcnQucHJvdG90eXBlLmdldFRleHRGaWVsZHM9ZnVuY3Rpb24oY2FsbGJhY2ssYXRJbnB1dFBvc2l0aW9uKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MuZ2V0VGV4dEZpZWxkcy5wdXNoKGNhbGxiYWNrKTt2YXIgaj17VGV4dFBhcnRUeXBlOmIuVGV4dFBhcnRUeXBlLmZyb21UeXBlTmFtZSh0aGlzLnR5cGUpLFRleHRQYXJ0SW5kZXg6dGhpcy5pbmRleH07dmFyIGk9YXRJbnB1dFBvc2l0aW9uP2IuVGV4dEZpZWxkQ29tbWFuZC5HZXRJdGVtOmIuVGV4dEZpZWxkQ29tbWFuZC5HZXRBbGw7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGksMCwwLGopO307VGV4dFBhcnQucHJvdG90eXBlLmdldFN1YlRleHRQYXJ0cz1mdW5jdGlvbihjYWxsYmFjayxhdElucHV0UG9zaXRpb24pe2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRTdWJUZXh0UGFydHMucHVzaChjYWxsYmFjayk7dmFyIGo9e1RleHRQYXJ0VHlwZTpiLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUodGhpcy50eXBlKSxUZXh0UGFydEluZGV4OnRoaXMuaW5kZXh9O3ZhciBpPWF0SW5wdXRQb3NpdGlvbj9iLlN1YlRleHRQYXJ0Q29tbWFuZC5HZXRJdGVtOmIuU3ViVGV4dFBhcnRDb21tYW5kLkdldEFsbDtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydCxpLDAsMCxqKTt9O1RleHRQYXJ0LnByb3RvdHlwZS5hZGRTdWJUZXh0UGFydD1mdW5jdGlvbihjYWxsYmFjayxzdWJUZXh0UGFydCl7aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWIuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmFkZFN1YlRleHRQYXJ0LnB1c2goY2FsbGJhY2spO3ZhciBrPXt9O2lmKCFzdWJUZXh0UGFydC5uYW1lKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1Bhc3NlZCBTdWJUZXh0UGFydCBvYmplY3QgZG9lcyBub3QgaGF2ZSBhIFwibmFtZVwiIHByb3BlcnR5LlxcJyk7fXN1YlRleHRQYXJ0LmlkPXN1YlRleHRQYXJ0LmlkfHwwO2tbYi5TdWJUZXh0UGFydFByb3BlcnR5Lk5hbWVdPXN1YlRleHRQYXJ0Lm5hbWU7a1tiLlN1YlRleHRQYXJ0UHJvcGVydHkuSURdPXN1YlRleHRQYXJ0LmlkO2lmKCEhc3ViVGV4dFBhcnQuc3RhcnQmJiEhc3ViVGV4dFBhcnQubGVuZ3RoKXtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5TdGFydF09c3ViVGV4dFBhcnQuc3RhcnQ7a1tiLlN1YlRleHRQYXJ0UHJvcGVydHkuTGVuZ3RoXT1zdWJUZXh0UGFydC5sZW5ndGg7fWlmKCEhc3ViVGV4dFBhcnQuaGlnaGxpZ2h0Q29sb3Ipe2tbYi5TdWJUZXh0UGFydFByb3BlcnR5LkhpZ2hsaWdodENvbG9yXT1zdWJUZXh0UGFydC5oaWdobGlnaHRDb2xvcjt9aWYoISFzdWJUZXh0UGFydC5oaWdobGlnaHRNb2RlKXtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5IaWdobGlnaHRNb2RlXT1zdWJUZXh0UGFydC5oaWdobGlnaHRNb2RlO312YXIgaj17VGV4dFBhcnRUeXBlOmIuVGV4dFBhcnRUeXBlLmZyb21UeXBlTmFtZSh0aGlzLnR5cGUpLFRleHRQYXJ0SW5kZXg6dGhpcy5pbmRleCxTdWJUZXh0UGFydDprLH07dmFyIGk9Yi5TdWJUZXh0UGFydENvbW1hbmQuQWRkSXRlbTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydCxpLDAsMCxqKTt9O1RleHRQYXJ0LnByb3RvdHlwZS5yZW1vdmVTdWJUZXh0UGFydD1mdW5jdGlvbihjYWxsYmFjayxrZWVwVGV4dCxrZWVwTmVzdGVkLHN1YlRleHRQYXJ0KXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9a2VlcFRleHQ9a2VlcFRleHR8fGZhbHNlO2tlZXBOZXN0ZWQ9a2VlcE5lc3RlZHx8ZmFsc2U7Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MucmVtb3ZlU3ViVGV4dFBhcnQucHVzaChjYWxsYmFjayk7dmFyIGo9bnVsbDtpZighIXN1YlRleHRQYXJ0KXt2YXIgaz17fTtpZighc3ViVGV4dFBhcnQubmFtZSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXNzZWQgU3ViVGV4dFBhcnQgb2JqZWN0IGRvZXMgbm90IGhhdmUgYSBcIm5hbWVcIiBwcm9wZXJ0eS5cXCcpO31zdWJUZXh0UGFydC5pZD1zdWJUZXh0UGFydC5pZHx8MDtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5OYW1lXT1zdWJUZXh0UGFydC5uYW1lO2tbYi5TdWJUZXh0UGFydFByb3BlcnR5LklEXT1zdWJUZXh0UGFydC5pZDtqPXtUZXh0UGFydFR5cGU6Yi5UZXh0UGFydFR5cGUuZnJvbVR5cGVOYW1lKHRoaXMudHlwZSksVGV4dFBhcnRJbmRleDp0aGlzLmluZGV4LFN1YlRleHRQYXJ0OmssS2VlcFRleHQ6a2VlcFRleHQsS2VlcE5lc3RlZDprZWVwTmVzdGVkfTt9ZWxzZXtqPXtUZXh0UGFydFR5cGU6Yi5UZXh0UGFydFR5cGUuZnJvbVR5cGVOYW1lKHRoaXMudHlwZSksVGV4dFBhcnRJbmRleDp0aGlzLmluZGV4LEtlZXBUZXh0OmtlZXBUZXh0LEtlZXBOZXN0ZWQ6a2VlcE5lc3RlZH07fXZhciBpPWIuU3ViVGV4dFBhcnRDb21tYW5kLlJlbW92ZUl0ZW07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsaSwwLDAsaik7fTtUZXh0UGFydC5wcm90b3R5cGUuYWRkVGV4dEZpZWxkPWZ1bmN0aW9uKHRleHRGaWVsZCl7aWYoIXRleHRGaWVsZHx8KCh0ZXh0RmllbGQuY29uc3RydWN0b3IhPT1iLkxlZ2FjeUFwcGxpY2F0aW9uRmllbGQpJiYodGV4dEZpZWxkLmNvbnN0cnVjdG9yIT09Yi5MZWdhY3lUZXh0RmllbGQpKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJhcHBsaWNhdGlvbkZpZWxkXCIgY2Fubm90IGJlIG9taXR0ZWQgYW5kIG11c3QgYmUgb2YgdHlwZSBUWFRleHRDb250cm9sLkFwcGxpY2F0aW9uRmllbGQgb3IgVFhUZXh0Q29udHJvbC5UZXh0RmllbGQuXFwnKTt9dGV4dEZpZWxkLl8uZmllbGQudGV4dFBhcnQudHlwZT1iLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUodGhpcy50eXBlKTt0ZXh0RmllbGQuXy5maWVsZC50ZXh0UGFydC5pbmRleD10aGlzLmluZGV4O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuQWRkLDAsMCx7dGV4dEZpZWxkOnRleHRGaWVsZC5fLmZpZWxkfSk7fTtyZXR1cm4gVGV4dFBhcnQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5wcm9jZXNzVGV4dFBhcnREYXRhTWVzc2FnZT1mdW5jdGlvbihqKXtpZighai5EYXRhKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzVGV4dFBhcnREYXRhTWVzc2FnZSgpOiBSZWNlaXZlZCBtZXNzYWdlIGRvZXMgbm90IGNvbnRhaW4gZGF0YS5cIik7fXZhciBoPWouRGF0YS5Db250ZW50O3ZhciBpPWouRGF0YS5FeGNNc2c7c3dpdGNoKGgudGV4dFBhcnRDb21tYW5kKXtjYXNlIGIuVGV4dFBhcnRDb21tYW5kLkdldEFsbDplKGgsaSk7YnJlYWs7Y2FzZSBiLlRleHRQYXJ0Q29tbWFuZC5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcjpkKGgsaSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwicHJvY2Vzc1RleHRQYXJ0RGF0YU1lc3NhZ2UoKTogVW5rbm93biBUZXh0UGFydENvbW1hbmQgXCIraC50ZXh0UGFydENvbW1hbmQrXCIuXCIpO2JyZWFrO319O2Z1bmN0aW9uIGQoaSxqKXt2YXIgaz1pLm1lc3NhZ2VVSUQ7aWYoIWMuaGFzT3duUHJvcGVydHkoaykpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3NBY2Nlc3NUZXh0Q29udHJvbE1lbWJlclJlc3BvbnNlKCk6IENhbGxiYWNrIHF1ZXVlIFwiK2srXCIgZG9lcyBub3QgZXhpc3QuXCIpO3JldHVybiBudWxsO312YXIgaD1jW2tdO2RlbGV0ZSBjW2tdO2lmKHR5cGVvZiBoPT09XCJmdW5jdGlvblwiKXtoKGkucmVzdWx0LGo/bmV3IEVycm9yKGopOnVuZGVmaW5lZCk7fX1mdW5jdGlvbiBlKGksayl7dmFyIGg9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MuZ2V0VGV4dFBhcnRzLnNoaWZ0KCk7aWYoayl7dGhyb3cgbmV3IEVycm9yKGspO31pZihoPT09dW5kZWZpbmVkKXtyZXR1cm47fXZhciBsPVtdO2kudGV4dFBhcnRzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG09bmV3IGIuTGVnYWN5VGV4dFBhcnQoYi5UZXh0UGFydFR5cGVOYW1lLmZyb21UeXBlKG4udHlwZSksbi5pbmRleCxuLmhhc2hjb2RlKTtsLnB1c2gobSk7fSk7dHJ5e2gobCk7fWNhdGNoKGope319cmV0dXJuIGc7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGU6XCJBY3RpdmF0ZVwifSk7Yi5UZXh0UGFydENvbGxlY3Rpb249KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhUZXh0UGFydENvbGxlY3Rpb24sZSk7ZnVuY3Rpb24gVGV4dFBhcnRDb2xsZWN0aW9uKCl7ZS5jYWxsKHRoaXMpO31UZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGZvcm1hdHRlZFRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoZm9ybWF0dGVkVGV4dC5fJiZmb3JtYXR0ZWRUZXh0Ll8uaGFzaGNvZGUpe3RoaXMuY2FsbE1ldGhvZChjLkFjdGl2YXRlLGNhbGxiYWNrLFtmb3JtYXR0ZWRUZXh0Ll8uaGFzaGNvZGUsZm9ybWF0dGVkVGV4dC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9ZWxzZXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHBhc3NlZCBvYmplY3QgaXMgbm90IGEgRm9ybWF0dGVkVGV4dC5cIik7fX07VGV4dFBhcnRDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZyl7dmFyIGY7aWYoZz09PW51bGwpe3JldHVybiBudWxsO31zd2l0Y2goZy50eXBlKXtjYXNlIGIuVGV4dFBhcnRUeXBlLlVuZGVmaW5lZDpyZXR1cm4gbnVsbDtjYXNlIGIuVGV4dFBhcnRUeXBlLkhlYWRlckZvb3RlcjpmPW5ldyBiLkhlYWRlckZvb3RlcihnLmhhc2hjb2RlLGcuaW5kZXgpO2JyZWFrO2Nhc2UgYi5UZXh0UGFydFR5cGUuVGV4dEZyYW1lOmY9bmV3IGIuVGV4dEZyYW1lKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7ZGVmYXVsdDpmPW5ldyBiLkZvcm1hdHRlZFRleHQoZy5oYXNoY29kZSxnLmluZGV4KTticmVhazt9dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIFRleHRQYXJ0Q29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FjdGl2ZTpcIkFjdGl2ZVwiLENoYW5nZUtpbmQ6XCJDaGFuZ2VLaW5kXCIsQ2hhbmdlVGltZTpcIkNoYW5nZVRpbWVcIixIaWdobGlnaHRDb2xvcjpcIkhpZ2hsaWdodENvbG9yXCIsSGlnaGxpZ2h0TW9kZTpcIkhpZ2hsaWdodE1vZGVcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIixVc2VyTmFtZTpcIlVzZXJOYW1lXCIsfSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2F2ZTpcIlNhdmVcIn0pO2IuQ2hhbmdlS2luZD1PYmplY3QuZnJlZXplKHtJbnNlcnRlZFRleHQ6NDA5NixEZWxldGVkVGV4dDo4MTkyfSk7Yi5UcmFja2VkQ2hhbmdlPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVHJhY2tlZENoYW5nZSxmKTtmdW5jdGlvbiBUcmFja2VkQ2hhbmdlKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9VHJhY2tlZENoYW5nZS5wcm90b3R5cGUuZ2V0QWN0aXZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFjdGl2ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNldEFjdGl2ZT1mdW5jdGlvbihhY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGFjdGl2ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFjdGl2ZSxhY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRDaGFuZ2VLaW5kPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNoYW5nZUtpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRDaGFuZ2VUaW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNoYW5nZVRpbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGchPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5zZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGchPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VHJhY2tlZENoYW5nZS5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRVc2VyTmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Vc2VyTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVHJhY2tlZENoYW5nZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRyYWNrZWRDaGFuZ2VDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVHJhY2tlZENoYW5nZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVHJhY2tlZENoYW5nZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVRyYWNrZWRDaGFuZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odHJhY2tlZENoYW5nZSxhY2NlcHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIXRyYWNrZWRDaGFuZ2V8fCghdHJhY2tlZENoYW5nZS5oYXNPd25Qcm9wZXJ0eShcIl9cIikmJiF0cmFja2VkQ2hhbmdlLl8uaGFzT3duUHJvcGVydHkoXCJoYXNoY29kZVwiKSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuVHJhY2tlZENoYW5nZVBhcmFtVHlwZUVycm9yKTt9aWYodHlwZW9mIGFjY2VwdCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFt0cmFja2VkQ2hhbmdlLl8uaGFzaGNvZGUsdHJhY2tlZENoYW5nZS5fLmluZGV4LGFjY2VwdF0sZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxuZXh0LGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPXRoaXM7dmFyIGU9KHR5cGVvZiBuZXh0PT09XCJib29sZWFuXCIpP1tuZXh0XTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LGUsZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVHJhY2tlZENoYW5nZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0RlbGV0ZWFibGU6XCJEZWxldGVhYmxlXCIsSUQ6XCJJRFwiLE5hbWU6XCJOYW1lXCIsTnVtYmVyOlwiTnVtYmVyXCIsU3RhcnQ6XCJTdGFydFwiLFRhcmdldE5hbWU6XCJUYXJnZXROYW1lXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTY3JvbGxUbzpcIlNjcm9sbFRvXCJ9KTtiLkRvY3VtZW50VGFyZ2V0PShmdW5jdGlvbihmKXtfX2V4dGVuZHMoRG9jdW1lbnRUYXJnZXQsZik7ZnVuY3Rpb24gRG9jdW1lbnRUYXJnZXQoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31Eb2N1bWVudFRhcmdldC5wcm90b3R5cGUuZ2V0RGVsZXRlYWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5EZWxldGVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLnNldERlbGV0ZWFibGU9ZnVuY3Rpb24oZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZGVsZXRlYWJsZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRlbGV0ZWFibGUsZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbihpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklELGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsbmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLmdldFRhcmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGFyZ2V0TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRUYXJnZXROYW1lPWZ1bmN0aW9uKHRhcmdldE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRhcmdldE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRhcmdldE5hbWUsdGFyZ2V0TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBEb2N1bWVudFRhcmdldDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkRvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKERvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbixkKTtmdW5jdGlvbiBEb2N1bWVudFRhcmdldENvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fURvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHRhcmdldE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRhcmdldE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2lmKGNhbGxiYWNrKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fX06bnVsbCxbdGFyZ2V0TmFtZV0sZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFRhcmdldENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkNsZWFyLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssZSl7dmFyIGc9dGhpczt2YXIgZj0oKHR5cGVvZiBlPT09XCJudW1iZXJcIil8fCh0eXBlb2YgZT09PVwic3RyaW5nXCIpKT9bZV06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihoKXtjYWxsYmFjayhnLl9hZGFwdChoKSk7fTpudWxsLGYsZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFRhcmdldENvbGxlY3Rpb24ucHJvdG90eXBlLmdldENhbkFkZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNhbkFkZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGRvY3VtZW50VGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbZG9jdW1lbnRUYXJnZXQuXy5oYXNoY29kZSxkb2N1bWVudFRhcmdldC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuRG9jdW1lbnRUYXJnZXQoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gRG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7R2V0RG9jdW1lbnRUYXJnZXQ6XCJHZXREb2N1bWVudFRhcmdldFwiLFNldERvY3VtZW50VGFyZ2V0OlwiU2V0RG9jdW1lbnRUYXJnZXRcIn0pO2IuRG9jdW1lbnRMaW5rPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoRG9jdW1lbnRMaW5rLGUpO2Z1bmN0aW9uIERvY3VtZW50TGluayhmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fURvY3VtZW50TGluay5wcm90b3R5cGUuZ2V0RG9jdW1lbnRUYXJnZXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpcztpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYy5HZXREb2N1bWVudFRhcmdldCxmdW5jdGlvbihoKXtjYWxsYmFjayhmKGgpKTt9LFtdLGVycm9yQ2FsbGJhY2spO2Z1bmN0aW9uIGYoaSl7aWYoaT09PW51bGwpe3JldHVybiBudWxsO312YXIgaD1uZXcgYi5Eb2N1bWVudFRhcmdldChpLmhhc2hjb2RlLGkuaW5kZXgpO2cuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoaCxjLkdldERvY3VtZW50VGFyZ2V0KTtyZXR1cm4gaDt9fTtEb2N1bWVudExpbmsucHJvdG90eXBlLnNldERvY3VtZW50VGFyZ2V0PWZ1bmN0aW9uKGRvY3VtZW50VGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkb2N1bWVudFRhcmdldD09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1VbmRlZmluZWQpO310aGlzLmNhbGxNZXRob2QoYy5TZXREb2N1bWVudFRhcmdldCxjYWxsYmFjayxkb2N1bWVudFRhcmdldD09bnVsbD9bXTpbZG9jdW1lbnRUYXJnZXQuXy5oYXNoY29kZSxkb2N1bWVudFRhcmdldC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBEb2N1bWVudExpbms7fSkoYi5UZXh0RmllbGQpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRG9jdW1lbnRMaW5rQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKERvY3VtZW50TGlua0NvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gRG9jdW1lbnRMaW5rQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9RG9jdW1lbnRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHRleHQsZG9jdW1lbnRUYXJnZXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGk9dGhpcyxnLGg7dHJ5e2c9ZG9jdW1lbnRUYXJnZXQuXy5oYXNoY29kZTtoPWRvY3VtZW50VGFyZ2V0Ll8uaW5kZXg7fWNhdGNoKGYpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJObyB2YWxpZCBEb2N1bWVudFRhcmdldCBwYXNzZWQuXCIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oail7Y2FsbGJhY2soaS5fYWRhcHQoaikpO306bnVsbCxbdGV4dCxnLGhdLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkNsZWFyLGNhbGxiYWNrLFtlXSxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGY9dGhpczt2YXIgZT0odHlwZW9mIGlkPT09XCJudW1iZXJcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LGUsZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudExpbmtDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZG9jdW1lbnRMaW5rLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbZG9jdW1lbnRMaW5rLl8uaGFzaGNvZGUsZG9jdW1lbnRMaW5rLl8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuRG9jdW1lbnRMaW5rKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIERvY3VtZW50TGlua0NvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7VGFyZ2V0OlwiVGFyZ2V0XCJ9KTtiLkh5cGVydGV4dExpbms9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhIeXBlcnRleHRMaW5rLGUpO2Z1bmN0aW9uIEh5cGVydGV4dExpbmsoZixnKXtlLmNhbGwodGhpcyxmLGcpO31IeXBlcnRleHRMaW5rLnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SHlwZXJ0ZXh0TGluay5wcm90b3R5cGUuc2V0VGFyZ2V0PWZ1bmN0aW9uKHRhcmdldCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UYXJnZXQsdGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEh5cGVydGV4dExpbms7fSkoYi5UZXh0RmllbGQpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuSHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhIeXBlcnRleHRMaW5rQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBIeXBlcnRleHRMaW5rQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9SHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0ZXh0LHRhcmdldCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjaz9mdW5jdGlvbihmLGcpe2NhbGxiYWNrKGUuX2FkYXB0KGYpLGcpO306bnVsbCxbdGV4dCx0YXJnZXRdLGVycm9yQ2FsbGJhY2spO307SHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9Om51bGwsW2lkXSxlcnJvckNhbGxiYWNrKTt9O0h5cGVydGV4dExpbmtDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oSHlwZXJ0ZXh0TGluayxrZWVwVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW0h5cGVydGV4dExpbmsuXy5oYXNoY29kZSxIeXBlcnRleHRMaW5rLl8uaW5kZXgsa2VlcFRleHRdLGVycm9yQ2FsbGJhY2spO307SHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLkh5cGVydGV4dExpbmsoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gSHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5aT3JkZXI9e307Yi5EaXN0YW5jZXM9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGlzdGFuY2VzKGxlZnQsdG9wLHJpZ2h0LGJvdHRvbSl7dGhpcy5sZWZ0PWxlZnQ7dGhpcy50b3A9dG9wO3RoaXMucmlnaHQ9cmlnaHQ7dGhpcy5ib3R0b209Ym90dG9tO31yZXR1cm4gRGlzdGFuY2VzO30pKCk7Yi5GcmFtZVByb3BlcnR5TmFtZT1PYmplY3QuZnJlZXplKHtBbGlnbm1lbnQ6XCJBbGlnbm1lbnRcIixCb3VuZHM6XCJCb3VuZHNcIixJRDpcIklEXCIsSW5zZXJ0aW9uTW9kZTpcIkluc2VydGlvbk1vZGVcIixMb2NhdGlvbjpcIkxvY2F0aW9uXCIsTW92ZWFibGU6XCJNb3ZlYWJsZVwiLE5hbWU6XCJOYW1lXCIsU2l6ZTpcIlNpemVcIixTaXplYWJsZTpcIlNpemVhYmxlXCIsVGV4dERpc3RhbmNlczpcIlRleHREaXN0YW5jZXNcIixUZXh0UG9zaXRpb246XCJUZXh0UG9zaXRpb25cIn0pO2IuRnJhbWVNZXRob2ROYW1lPU9iamVjdC5mcmVlemUoe0NoYW5nZVpPcmRlcjpcIkNoYW5nZVpPcmRlclwifSk7Yi5GcmFtZUJhc2U9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhGcmFtZUJhc2UsZCk7ZnVuY3Rpb24gRnJhbWVCYXNlKGUsZil7ZC5jYWxsKHRoaXMsZSxmKTt9RnJhbWVCYXNlLnByb3RvdHlwZS5zZXRBbGlnbm1lbnQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5BbGlnbm1lbnQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldEFsaWdubWVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5BbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Cb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLnNldElEPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuSUQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldElEPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLklELGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5zZXRJbnNlcnRpb25Nb2RlPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuSW5zZXJ0aW9uTW9kZSx2YWx1ZSxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0SW5zZXJ0aW9uTW9kZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5zZXRMb2NhdGlvbj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInZhbHVlXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIodmFsdWUueCl8fCFpc0ludGVnZXIodmFsdWUueSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDb29yZGluYXRlcyBtdXN0IGJlIGludGVnZXJzLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTG9jYXRpb24sdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Mb2NhdGlvbixmdW5jdGlvbihmKXt2YXIgZT1udWxsO2lmKGYpe2U9bmV3IGIuUG9pbnQoZi54LGYueSk7fWNhbGxiYWNrKGUpO30sZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLnNldE1vdmVhYmxlPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLk1vdmVhYmxlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5nZXRNb3ZlYWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Nb3ZlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLk5hbWUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInZhbHVlXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ3aWR0aFwiIGFuZCBcImhlaWdodFwiLlxcJyk7fWlmKCFpc0ludGVnZXIodmFsdWUud2lkdGgpfHwhaXNJbnRlZ2VyKHZhbHVlLmhlaWdodCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJEaW1lbnNpb25zIG11c3QgYmUgaW50ZWdlcnMuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5TaXplLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemUsZnVuY3Rpb24oZil7dmFyIGU9bnVsbDtpZihmKXtlPW5ldyBiLlNpemUoZi5XaWR0aCxmLkhlaWdodCk7fWNhbGxiYWNrKGUpO30sZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLnNldFNpemVhYmxlPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemVhYmxlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5nZXRTaXplYWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5TaXplYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0VGV4dERpc3RhbmNlcz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighdmFsdWUuaGFzT3duUHJvcGVydHkoXCJsZWZ0XCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ0b3BcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInJpZ2h0XCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJib3R0b21cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcImxlZnRcIiwgXCJ0b3BcIiwgXCJyaWdodFwiIGFuZCBcImJvdHRvbVwiLlxcJyk7fWlmKCFpc0ludGVnZXIodmFsdWUubGVmdCl8fCFpc0ludGVnZXIodmFsdWUudG9wKXx8IWlzSW50ZWdlcih2YWx1ZS5yaWdodCl8fCFpc0ludGVnZXIodmFsdWUuYm90dG9tKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRleHQgZGlzdGFuY2VzIG11c3QgYmUgaW50ZWdlcnMuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5UZXh0RGlzdGFuY2VzLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5nZXRUZXh0RGlzdGFuY2VzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlRleHREaXN0YW5jZXMsZnVuY3Rpb24oZil7dmFyIGU9bnVsbDtpZihmKXtlPW5ldyBiLkRpc3RhbmNlcyhmLmxlZnQsZi50b3AsZi5yaWdodCxmLmJvdHRvbSk7fWNhbGxiYWNrKGUpO30sZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldFRleHRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5UZXh0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmNoYW5nZVpPcmRlcj1mdW5jdGlvbih6T3JkZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHpPcmRlciE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVNZXRob2ROYW1lLkNoYW5nZVpPcmRlcixjYWxsYmFjayxbek9yZGVyXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBGcmFtZUJhc2U7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7SGFzQ2hlY2tWYWx1ZTpcIkhhc0NoZWNrVmFsdWVcIixTaG93Q2hlY2tWYWx1ZTpcIlNob3dDaGVja1ZhbHVlXCJ9KTtiLkJhcmNvZGVUeXBlU2V0dGluZ3M9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhCYXJjb2RlVHlwZVNldHRpbmdzLGUpO2Z1bmN0aW9uIEJhcmNvZGVUeXBlU2V0dGluZ3MoKXtlLmNhbGwodGhpcyk7fUJhcmNvZGVUeXBlU2V0dGluZ3MucHJvdG90eXBlLmdldEhhc0NoZWNrVmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuSGFzQ2hlY2tWYWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVUeXBlU2V0dGluZ3MucHJvdG90eXBlLnNldEhhc0NoZWNrVmFsdWU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuSGFzQ2hlY2tWYWx1ZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVUeXBlU2V0dGluZ3MucHJvdG90eXBlLmdldFNob3dDaGVja1ZhbHVlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlNob3dDaGVja1ZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZVR5cGVTZXR0aW5ncy5wcm90b3R5cGUuc2V0U2hvd0NoZWNrVmFsdWU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuU2hvd0NoZWNrVmFsdWUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gQmFyY29kZVR5cGVTZXR0aW5nczt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtBZGRpdGlvbmFsVGV4dDpcIkFkZGl0aW9uYWxUZXh0XCIsQWxpZ25tZW50OlwiQWxpZ25tZW50XCIsQW5nbGU6XCJBbmdsZVwiLEJhY2tDb2xvcjpcIkJhY2tDb2xvclwiLEJhcmNvZGVUeXBlOlwiQmFyY29kZVR5cGVcIixCYXJjb2RlVHlwZVNldHRpbmdzOlwiQmFyY29kZVR5cGVTZXR0aW5nc1wiLEZvcmVDb2xvcjpcIkZvcmVDb2xvclwiLFNob3dUZXh0OlwiU2hvd1RleHRcIixUZXh0OlwiVGV4dFwiLFRleHRBbGlnbm1lbnQ6XCJUZXh0QWxpZ25tZW50XCIsVXBwZXJUZXh0TGVuZ3RoOlwiVXBwZXJUZXh0TGVuZ3RoXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTYXZlSW1hZ2U6XCJTYXZlSW1hZ2VcIn0pO2IuSW1hZ2VGb3JtYXQ9e0JtcDoxLEVtZjoyLEdpZjozLEpwZWc6NCxQbmc6NSxUaWZmOjYsV21mOjd9O2IuQmFyY29kZUFsaWdubWVudD17VG9wTGVmdDoxLFRvcENlbnRlcjoyLFRvcFJpZ2h0OjMsTWlkZGxlTGVmdDo0LE1pZGRsZUNlbnRlcjo1LE1pZGRsZVJpZ2h0OjYsQm90dG9tQ2VudGVyOjcsQm90dG9tTGVmdDo4LEJvdHRvbVJpZ2h0OjksfTtiLkJhcmNvZGVUZXh0QWxpZ25tZW50PXtCb3R0b206MSxUb3A6Mix9O2IuQmFyY29kZT0oZnVuY3Rpb24oZil7X19leHRlbmRzKEJhcmNvZGUsZik7ZnVuY3Rpb24gQmFyY29kZSgpe2YuY2FsbCh0aGlzKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtiYXJjb2RlVHlwZVNldHRpbmdzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZz1uZXcgYi5CYXJjb2RlVHlwZVNldHRpbmdzKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxkLkJhcmNvZGVUeXBlU2V0dGluZ3MpO3JldHVybiBnO30sZW51bWVyYWJsZTp0cnVlfX0pO31CYXJjb2RlLnByb3RvdHlwZS5nZXRBZGRpdGlvbmFsVGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BZGRpdGlvbmFsVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldEFkZGl0aW9uYWxUZXh0PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQWRkaXRpb25hbFRleHQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRBbGlnbm1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQWxpZ25tZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0QWxpZ25tZW50PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIodmFsdWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQWxpZ25tZW50LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0QW5nbGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQW5nbGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRBbmdsZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFuZ2xlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0QmFja0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldEJhY2tDb2xvcj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJhY2tDb2xvcix2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldEJhcmNvZGVUeXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJhcmNvZGVUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0QmFyY29kZVR5cGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CYXJjb2RlVHlwZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldEZvcmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JlQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRGb3JlQ29sb3I9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb3JlQ29sb3IsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRTaG93VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TaG93VGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldFNob3dUZXh0PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlNob3dUZXh0LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRleHQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRUZXh0QWxpZ25tZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRBbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRUZXh0QWxpZ25tZW50PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIodmFsdWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEFsaWdubWVudCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldFVwcGVyVGV4dExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5VcHBlclRleHRMZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRVcHBlclRleHRMZW5ndGg9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5VcHBlclRleHRMZW5ndGgsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zYXZlSW1hZ2U9ZnVuY3Rpb24oaW1hZ2VGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYy5TYXZlSW1hZ2UsY2FsbGJhY2ssW2ltYWdlRm9ybWF0XSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBCYXJjb2RlO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0hvcml6b250YWxTY2FsaW5nOlwiSG9yaXpvbnRhbFNjYWxpbmdcIixWZXJ0aWNhbFNjYWxpbmc6XCJWZXJ0aWNhbFNjYWxpbmdcIn0pO2IuSW1hZ2U9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhJbWFnZSxlKTtmdW5jdGlvbiBJbWFnZShmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fUltYWdlLnByb3RvdHlwZS5zZXRIb3Jpem9udGFsU2NhbGluZz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkhvcml6b250YWxTY2FsaW5nLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW1hZ2UucHJvdG90eXBlLmdldEhvcml6b250YWxTY2FsaW5nPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkhvcml6b250YWxTY2FsaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW1hZ2UucHJvdG90eXBlLnNldFZlcnRpY2FsU2NhbGluZz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlZlcnRpY2FsU2NhbGluZyx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ltYWdlLnByb3RvdHlwZS5nZXRWZXJ0aWNhbFNjYWxpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVmVydGljYWxTY2FsaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEltYWdlO30pKGIuRnJhbWVCYXNlKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtCYXJjb2RlOlwiQmFyY29kZVwiLEV4cG9ydENvbXByZXNzaW9uUXVhbGl0eTpcIkV4cG9ydENvbXByZXNzaW9uUXVhbGl0eVwiLEV4cG9ydFJlc29sdXRpb246XCJFeHBvcnRSZXNvbHV0aW9uXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtSZWZyZXNoOlwiUmVmcmVzaFwifSk7Yi5CYXJjb2RlRnJhbWU9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhCYXJjb2RlRnJhbWUsZik7ZnVuY3Rpb24gQmFyY29kZUZyYW1lKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtiYXJjb2RlOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaT1uZXcgYi5CYXJjb2RlKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaSxkLkJhcmNvZGUpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlfX0pO31CYXJjb2RlRnJhbWUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuUmVmcmVzaCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBCYXJjb2RlRnJhbWU7fSkoYi5GcmFtZUJhc2UpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0JhY2tDb2xvcjpcIkJhY2tDb2xvclwiLEJvcmRlcldpZHRoOlwiQm9yZGVyV2lkdGhcIixJbnRlcm5hbE1hcmdpbnM6XCJJbnRlcm5hbE1hcmdpbnNcIixUcmFuc3BhcmVuY3k6XCJUcmFuc3BhcmVuY3lcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe0FjdGl2YXRlOlwiQWN0aXZhdGVcIn0pO2IuVGV4dEZyYW1lPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGV4dEZyYW1lLGYpO2Z1bmN0aW9uIFRleHRGcmFtZShnLGgpe2YuY2FsbCh0aGlzLGcsaCk7fVRleHRGcmFtZS5wcm90b3R5cGUuc2V0QWxpZ25tZW50PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuQWxpZ25tZW50LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRBbGlnbm1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuQWxpZ25tZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRCYWNrQ29sb3I9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CYWNrQ29sb3IsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldEJvcmRlcldpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJvcmRlcldpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRCb3JkZXJXaWR0aD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJvcmRlcldpZHRoLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuQm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLklELHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0SW5zZXJ0aW9uTW9kZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkluc2VydGlvbk1vZGUsdmFsdWUsZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldEluc2VydGlvbk1vZGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuSW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0SW50ZXJuYWxNYXJnaW5zPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImxlZnRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInRvcFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwicmlnaHRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImJvdHRvbVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJ2YWx1ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwibGVmdFwiLCBcInRvcFwiLCBcInJpZ2h0XCIgYW5kIFwiYm90dG9tXCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS5sZWZ0KXx8IWlzSW50ZWdlcih2YWx1ZS50b3ApfHwhaXNJbnRlZ2VyKHZhbHVlLnJpZ2h0KXx8IWlzSW50ZWdlcih2YWx1ZS5ib3R0b20pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGV4dCBkaXN0YW5jZXMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkludGVybmFsTWFyZ2lucyx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0SW50ZXJuYWxNYXJnaW5zPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkludGVybmFsTWFyZ2lucyxmdW5jdGlvbihoKXt2YXIgZz1udWxsO2lmKGgpe2c9bmV3IGIuRGlzdGFuY2VzKGgubGVmdCxoLnRvcCxoLnJpZ2h0LGguYm90dG9tKTt9Y2FsbGJhY2soZyk7fSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0TG9jYXRpb249ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIXZhbHVlLmhhc093blByb3BlcnR5KFwieFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJ2YWx1ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKHZhbHVlLngpfHwhaXNJbnRlZ2VyKHZhbHVlLnkpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29vcmRpbmF0ZXMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkxvY2F0aW9uLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Mb2NhdGlvbixmdW5jdGlvbihpLGcpe3ZhciBoPW51bGw7aWYoaSl7aD1uZXcgYi5Qb2ludChpLlgsaS5ZKTt9Y2FsbGJhY2soaCxnKTt9LGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRNb3ZlYWJsZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Nb3ZlYWJsZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0TW92ZWFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTW92ZWFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5OYW1lLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLk5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIXZhbHVlLmhhc093blByb3BlcnR5KFwid2lkdGhcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImhlaWdodFwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJ2YWx1ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIi5cXCcpO31pZighaXNJbnRlZ2VyKHZhbHVlLndpZHRoKXx8IWlzSW50ZWdlcih2YWx1ZS5oZWlnaHQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGltZW5zaW9ucyBtdXN0IGJlIGludGVnZXJzLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5TaXplLGZ1bmN0aW9uKGgpe3ZhciBnPW51bGw7aWYoaCl7Zz1uZXcgYi5TaXplKGguV2lkdGgsaC5IZWlnaHQpO31jYWxsYmFjayhnKTt9LGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRTaXplYWJsZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5TaXplYWJsZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0U2l6ZWFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZWFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldFRleHREaXN0YW5jZXM9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIXZhbHVlLmhhc093blByb3BlcnR5KFwibGVmdFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwidG9wXCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJyaWdodFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwiYm90dG9tXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInZhbHVlXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJsZWZ0XCIsIFwidG9wXCIsIFwicmlnaHRcIiBhbmQgXCJib3R0b21cIi5cXCcpO31pZighaXNJbnRlZ2VyKHZhbHVlLmxlZnQpfHwhaXNJbnRlZ2VyKHZhbHVlLnRvcCl8fCFpc0ludGVnZXIodmFsdWUucmlnaHQpfHwhaXNJbnRlZ2VyKHZhbHVlLmJvdHRvbSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUZXh0IGRpc3RhbmNlcyBtdXN0IGJlIGludGVnZXJzLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuVGV4dERpc3RhbmNlcyx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0VGV4dERpc3RhbmNlcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5UZXh0RGlzdGFuY2VzLGZ1bmN0aW9uKGgpe3ZhciBnPW51bGw7aWYoaCl7Zz1uZXcgYi5EaXN0YW5jZXMoaC5sZWZ0LGgudG9wLGgucmlnaHQsaC5ib3R0b20pO31jYWxsYmFjayhnKTt9LGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRUZXh0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuVGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRUcmFuc3BhcmVuY3k9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UcmFuc3BhcmVuY3ksdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldFRyYW5zcGFyZW5jeT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UcmFuc3BhcmVuY3ksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLkFjdGl2YXRlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5jaGFuZ2VaT3JkZXI9ZnVuY3Rpb24oek9yZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB6T3JkZXIhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lTWV0aG9kTmFtZS5DaGFuZ2VaT3JkZXIsY2FsbGJhY2ssW3pPcmRlcl0sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGV4dEZyYW1lO30pKGIuRm9ybWF0dGVkVGV4dCk7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lPU9iamVjdC5mcmVlemUoe0FkZElubGluZTpcIkFkZElubGluZVwiLEFkZEFuY2hvcmVkOlwiQWRkQW5jaG9yZWRcIixBZGRBbmNob3JlZEF0TG9jYXRpb246XCJBZGRBbmNob3JlZEF0TG9jYXRpb25cIixBZGRBdEZpeGVkUG9zaXRpb25JbkRvY3VtZW50OlwiQWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudFwiLEFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZTpcIkFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZVwiLEFkZFdpdGhNb3VzZTpcIkFkZFdpdGhNb3VzZVwifSk7Yi5GcmFtZUJhc2VDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRnJhbWVCYXNlQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBGcmFtZUJhc2VDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31GcmFtZUJhc2VDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5DbGVhcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBGcmFtZUJhc2VDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5GcmFtZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhGcmFtZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gRnJhbWVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31GcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7dmFyIGY9dGhpcztpZigodHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgaWQhPT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJpZFwiIG11c3QgYmUgYSBudW1iZXIuXFwnKTt9dmFyIGU9KHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpP1tpZF06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihnLGgpe2NhbGxiYWNrKGYuX2FkYXB0KGcpLGgpO306dW5kZWZpbmVkLGUsZXJyb3JDYWxsYmFjayk7fTtGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1CeU5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxuYW1lKXt2YXIgZT10aGlzO2lmKHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJuYW1lXCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9OnVuZGVmaW5lZCxbbmFtZV0sZXJyb3JDYWxsYmFjayk7fTtGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihmcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2ZyYW1lLl8uaGFzaGNvZGUsZnJhbWUuXy5pbmRleF0sZXJyb3JDYWxsYmFjayk7fTtGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXt2YXIgZT1udWxsO2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9c3dpdGNoKGYuZnJhbWVUeXBlKXtjYXNlXCJCYXJjb2RlRnJhbWVcIjplPW5ldyBiLkJhcmNvZGVGcmFtZShmLmhhc2hjb2RlLGYuaW5kZXgpO2JyZWFrO2Nhc2VcIkltYWdlXCI6ZT1uZXcgYi5JbWFnZShmLmhhc2hjb2RlLGYuaW5kZXgpO2JyZWFrO2Nhc2VcIlRleHRGcmFtZVwiOmU9bmV3IGIuVGV4dEZyYW1lKGYuaGFzaGNvZGUsZi5pbmRleCk7YnJlYWs7ZGVmYXVsdDplPW5ldyBiLkZyYW1lQmFzZShmLmhhc2hjb2RlLGYuaW5kZXgpO2JyZWFrO310aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gRnJhbWVDb2xsZWN0aW9uO30pKGIuRnJhbWVCYXNlQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5CYXJjb2RlVHlwZT17fTtiLkZyYW1lSW5zZXJ0aW9uTW9kZT17fTtiLkJhcmNvZGVDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoQmFyY29kZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gQmFyY29kZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fWZ1bmN0aW9uIGUoZyxmKXtyZXR1cm4gZnVuY3Rpb24oaSl7aWYoIWYpe3JldHVybjt9dmFyIGg9aSE9PW51bGw/Zy5fYWRhcHQoaSk6bnVsbDtmKGgpO307fUJhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRJbmxpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxiYXJjb2RlVHlwZSx0ZXh0LHRleHRQb3NpdGlvbil7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYoIWlzSW50ZWdlcihiYXJjb2RlVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJiYXJjb2RlVHlwZVwiIG11c3QgYmUgb25lIG9mIHRoZSBUWFRleHRDb250cm9sLkJhcmNvZGVUeXBlIHZhbHVlcy5cXCcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYodHlwZW9mIHRleHRQb3NpdGlvbj09PVwidW5kZWZpbmVkXCIpe3RleHRQb3NpdGlvbj0tMTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkSW5saW5lLGUodGhpcyxjYWxsYmFjayksW2JhcmNvZGVUeXBlLHRleHQsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBbmNob3JlZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGJhcmNvZGVUeXBlLHRleHQsaG9yaXpvbnRhbEFsaWdubWVudCx0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZSl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYoIWlzSW50ZWdlcihiYXJjb2RlVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJiYXJjb2RlVHlwZVwiIG11c3QgYmUgb25lIG9mIHRoZSBUWFRleHRDb250cm9sLkJhcmNvZGVUeXBlIHZhbHVlcy5cXCcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcihob3Jpem9udGFsQWxpZ25tZW50KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImhvcml6b250YWxBbGlnbm1lbnRcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5Ib3Jpem9udGFsQWxpZ25tZW50LlxcJyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEFuY2hvcmVkLGUodGhpcyxjYWxsYmFjayksW2JhcmNvZGVUeXBlLHRleHQsaG9yaXpvbnRhbEFsaWdubWVudCx0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWRBdExvY2F0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssYmFyY29kZVR5cGUsdGV4dCxsb2NhdGlvbix0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZSl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYoIWlzSW50ZWdlcihiYXJjb2RlVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJiYXJjb2RlVHlwZVwiIG11c3QgYmUgb25lIG9mIHRoZSBUWFRleHRDb250cm9sLkJhcmNvZGVUeXBlIHZhbHVlcy5cXCcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoKGxvY2F0aW9uPT09bnVsbCl8fChsb2NhdGlvbj09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwibG9jYXRpb25cIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieFwiKXx8IWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJsb2NhdGlvblwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKHRleHRQb3NpdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0UG9zaXRpb25cIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBbmNob3JlZEF0TG9jYXRpb24sZSh0aGlzLGNhbGxiYWNrKSxbYmFyY29kZVR5cGUsdGV4dCxsb2NhdGlvbix0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQXRGaXhlZFBvc2l0aW9uT25QYWdlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssYmFyY29kZVR5cGUsdGV4dCxwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGUpe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCFpc0ludGVnZXIoYmFyY29kZVR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiYmFyY29kZVR5cGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgVFhUZXh0Q29udHJvbC5CYXJjb2RlVHlwZSB2YWx1ZXMuXFwnKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0ludGVnZXIocGFnZU51bWJlcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJwYWdlTnVtYmVyXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBdEZpeGVkUG9zaXRpb25PblBhZ2UsZSh0aGlzLGNhbGxiYWNrKSxbYmFyY29kZVR5cGUsdGV4dCxwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307QmFyY29kZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbkluRG9jdW1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxiYXJjb2RlVHlwZSx0ZXh0LGxvY2F0aW9uLGluc2VydGlvbk1vZGUpe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCFpc0ludGVnZXIoYmFyY29kZVR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiYmFyY29kZVR5cGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgVFhUZXh0Q29udHJvbC5CYXJjb2RlVHlwZSB2YWx1ZXMuXFwnKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBdEZpeGVkUG9zaXRpb25JbkRvY3VtZW50LGUodGhpcyxjYWxsYmFjayksW2JhcmNvZGVUeXBlLHRleHQsbG9jYXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkV2l0aE1vdXNlPWZ1bmN0aW9uKGJhcmNvZGVUeXBlLHRleHQsaW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGJhcmNvZGVUeXBlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImJhcmNvZGVUeXBlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIFRYVGV4dENvbnRyb2wuQmFyY29kZVR5cGUgdmFsdWVzLlxcJyk7fWlmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZFdpdGhNb3VzZSxjYWxsYmFjayxbYmFyY29kZVR5cGUsdGV4dCxpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssaWQpe3ZhciBnPXRoaXM7aWYoKHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGlkIT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiaWRcIiBtdXN0IGJlIGEgbnVtYmVyLlxcJyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPSh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKT9baWRdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oaCl7Y2FsbGJhY2soZy5fYWRhcHQoaCkpO30sZixlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQnlOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssbmFtZSl7dmFyIGY9dGhpcztpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fSxbbmFtZV0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGJhcmNvZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtiYXJjb2RlLl8uaGFzaGNvZGUsYmFyY29kZS5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZyl7aWYoZz09PW51bGwpe3JldHVybiBudWxsO312YXIgZj1uZXcgYi5CYXJjb2RlRnJhbWUoZy5oYXNoY29kZSxnLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGYsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZy5oYXNoY29kZSxnLmluZGV4XSk7cmV0dXJuIGY7fTtyZXR1cm4gQmFyY29kZUNvbGxlY3Rpb247fSkoYi5GcmFtZUJhc2VDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkltYWdlSW5zZXJ0aW9uTW9kZT17fTtiLkltYWdlQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEltYWdlQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBJbWFnZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fWZ1bmN0aW9uIGUoZyxmKXtyZXR1cm4gZnVuY3Rpb24oaCl7aWYoIWYpe3JldHVybjt9dmFyIGk9aCE9PW51bGw/Zy5fYWRhcHQoaCk6bnVsbDtmKGkpO307fUltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkSW5saW5lPWZ1bmN0aW9uKGltYWdlRGF0YSx0ZXh0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGltYWdlRGF0YSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkSW5saW5lLGUodGhpcyxjYWxsYmFjayksW2ltYWdlRGF0YSx0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBbmNob3JlZD1mdW5jdGlvbihpbWFnZURhdGEsaG9yaXpvbnRhbEFsaWdubWVudCx0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW1hZ2VEYXRhIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZighaXNJbnRlZ2VyKGhvcml6b250YWxBbGlnbm1lbnQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaG9yaXpvbnRhbEFsaWdubWVudFwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkhvcml6b250YWxBbGlnbm1lbnQuXFwnKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQW5jaG9yZWQsZSh0aGlzLGNhbGxiYWNrKSxbaW1hZ2VEYXRhLGhvcml6b250YWxBbGlnbm1lbnQsdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBbmNob3JlZEF0TG9jYXRpb249ZnVuY3Rpb24oaW1hZ2VEYXRhLGxvY2F0aW9uLHRleHRQb3NpdGlvbixpbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbWFnZURhdGEhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQW5jaG9yZWRBdExvY2F0aW9uLGUodGhpcyxjYWxsYmFjayksW2ltYWdlRGF0YSxsb2NhdGlvbix0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtJbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZT1mdW5jdGlvbihmLHBhZ2VOdW1iZXIsbG9jYXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZiE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcihwYWdlTnVtYmVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInBhZ2VOdW1iZXJcIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoKGxvY2F0aW9uPT09bnVsbCl8fChsb2NhdGlvbj09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwibG9jYXRpb25cIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieFwiKXx8IWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJsb2NhdGlvblwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZSxlKHRoaXMsY2FsbGJhY2spLFtmLHBhZ2VOdW1iZXIsbG9jYXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtJbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbj1JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZTtJbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbkluRG9jdW1lbnQ9ZnVuY3Rpb24oZixsb2NhdGlvbixpbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKHR5cGVvZiBmIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudCxlKHRoaXMsY2FsbGJhY2spLFtmLGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssaWQpe3ZhciBnPXRoaXM7aWYoKHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGlkIT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiaWRcIiBtdXN0IGJlIGEgbnVtYmVyLlxcJyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPSh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKT9baWRdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oaCl7Y2FsbGJhY2soZy5fYWRhcHQoaCkpO30sZixlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUJ5TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLG5hbWUpe3ZhciBmPXRoaXM7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcIm5hbWVcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sW25hbWVdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oaW1hZ2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtpbWFnZS5fLmhhc2hjb2RlLGltYWdlLl8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZyl7aWYoZz09PW51bGwpe3JldHVybiBudWxsO312YXIgZj1uZXcgYi5JbWFnZShnLmhhc2hjb2RlLGcuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZixiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtnLmhhc2hjb2RlLGcuaW5kZXhdKTtyZXR1cm4gZjt9O3JldHVybiBJbWFnZUNvbGxlY3Rpb247fSkoYi5GcmFtZUJhc2VDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRleHRGcmFtZUluc2VydGlvbk1vZGU9e307Yi5UZXh0RnJhbWVDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGV4dEZyYW1lQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBUZXh0RnJhbWVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31mdW5jdGlvbiBlKGcsZil7cmV0dXJuIGZ1bmN0aW9uKGgpe2lmKCFmKXtyZXR1cm47fXZhciBpPWghPT1udWxsP2cuX2FkYXB0KGgpOm51bGw7ZihpKTt9O31UZXh0RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRJbmxpbmU9ZnVuY3Rpb24oc2l6ZSx0ZXh0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoKHNpemU9PT1udWxsKXx8KHNpemU9PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcInNpemVcIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIXNpemUuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKXx8IXNpemUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwic2l6ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIi5cXCcpO31pZighaXNJbnRlZ2VyKHRleHRQb3NpdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0UG9zaXRpb25cIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRJbmxpbmUsZSh0aGlzLGNhbGxiYWNrKSxbc2l6ZSx0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWQ9ZnVuY3Rpb24oc2l6ZSxob3Jpem9udGFsQWxpZ25tZW50LHRleHRQb3NpdGlvbixpbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKChzaXplPT09bnVsbCl8fChzaXplPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJzaXplXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFzaXplLmhhc093blByb3BlcnR5KFwid2lkdGhcIil8fCFzaXplLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInNpemVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihob3Jpem9udGFsQWxpZ25tZW50KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImhvcml6b250YWxBbGlnbm1lbnRcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5Ib3Jpem9udGFsQWxpZ25tZW50LlxcJyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlRleHRGcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBbmNob3JlZCxlKHRoaXMsY2FsbGJhY2spLFtzaXplLGhvcml6b250YWxBbGlnbm1lbnQsdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWRBdExvY2F0aW9uPWZ1bmN0aW9uKHNpemUsbG9jYXRpb24sdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoKHNpemU9PT1udWxsKXx8KHNpemU9PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcInNpemVcIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIXNpemUuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKXx8IXNpemUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwic2l6ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIi5cXCcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlRleHRGcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBbmNob3JlZEF0TG9jYXRpb24sZSh0aGlzLGNhbGxiYWNrKSxbc2l6ZSxsb2NhdGlvbix0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25PblBhZ2U9ZnVuY3Rpb24oc2l6ZSxwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoKHNpemU9PT1udWxsKXx8KHNpemU9PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcInNpemVcIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIXNpemUuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKXx8IXNpemUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwic2l6ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIi5cXCcpO31pZighaXNJbnRlZ2VyKHBhZ2VOdW1iZXIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFnZU51bWJlclwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuVGV4dEZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZSxlKHRoaXMsY2FsbGJhY2spLFtzaXplLHBhZ2VOdW1iZXIsbG9jYXRpb24saW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25JbkRvY3VtZW50PWZ1bmN0aW9uKHNpemUsbG9jYXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZigoc2l6ZT09PW51bGwpfHwoc2l6ZT09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwic2l6ZVwiIHBhcmFtZXRlci5cXCcpO31pZighc2l6ZS5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpfHwhc2l6ZS5oYXNPd25Qcm9wZXJ0eShcImhlaWdodFwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJzaXplXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ3aWR0aFwiIGFuZCBcImhlaWdodFwiLlxcJyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudCxlKHRoaXMsY2FsbGJhY2spLFtzaXplLGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkV2l0aE1vdXNlPWZ1bmN0aW9uKGluc2VydGlvbk1vZGUsZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkV2l0aE1vdXNlLG51bGwsW2luc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZz10aGlzO2lmKCh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImlkXCIgbXVzdCBiZSBhIG51bWJlci5cXCcpO312YXIgZj0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9LGYsZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQnlOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssbmFtZSl7dmFyIGY9dGhpcztpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fSxbbmFtZV0sZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odGV4dEZyYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbdGV4dEZyYW1lLl8uaGFzaGNvZGUsdGV4dEZyYW1lLl8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuVGV4dEZyYW1lKGcuaGFzaGNvZGUsZy5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIFRleHRGcmFtZUNvbGxlY3Rpb247fSkoYi5GcmFtZUJhc2VDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtIaWdobGlnaHRDb2xvcjpcIkhpZ2hsaWdodENvbG9yXCIsSGlnaGxpZ2h0TW9kZTpcIkhpZ2hsaWdodE1vZGVcIixJRDpcIklEXCIsTGVuZ3RoOlwiTGVuZ3RoXCIsU3RhcnQ6XCJTdGFydFwiLFRleHQ6XCJUZXh0XCIsVXNlck5hbWU6XCJVc2VyTmFtZVwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2Nyb2xsVG86XCJTY3JvbGxUb1wiLFNhdmU6XCJTYXZlXCJ9KTtiLkVkaXRhYmxlUmVnaW9uPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoRWRpdGFibGVSZWdpb24sZik7ZnVuY3Rpb24gRWRpdGFibGVSZWdpb24oZyxoKXtmLmNhbGwodGhpcyxnLGgpO31FZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZyE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5nZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihnLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBnIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuZ2V0SUQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSUQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24oaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JRCxpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5nZXRVc2VyTmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Vc2VyTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5zZXRVc2VyTmFtZT1mdW5jdGlvbih1c2VybmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Vc2VyTmFtZSx1c2VybmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2ssc2F2ZVNldHRpbmdzLGVycm9yQ2FsbGJhY2spe3NhdmVTZXR0aW5ncz1zYXZlU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGMuU2F2ZSxjYWxsYmFjayxbc3RyZWFtVHlwZSxzYXZlU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLnNjcm9sbFRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNjcm9sbFRvLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEVkaXRhYmxlUmVnaW9uO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0dldEl0ZW1zOlwiR2V0SXRlbXNcIn0pO2IuRWRpdGFibGVSZWdpb25Db2xsZWN0aW9uPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoRWRpdGFibGVSZWdpb25Db2xsZWN0aW9uLGUpO2Z1bmN0aW9uIEVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbigpe2UuY2FsbCh0aGlzKTt9RWRpdGFibGVSZWdpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odXNlcm5hbWUsaWQsaixoLGYsZyl7aWYodHlwZW9mIHVzZXJuYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBqIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgaCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dmFyIGk9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsZj9mdW5jdGlvbihrKXt2YXIgbD17ZWRpdGFibGVSZWdpb246aS5fYWRhcHQoay5lZGl0YWJsZVJlZ2lvbiksYWRkUmVzdWx0OmsuYWRkUmVzdWx0fTtmKGwpO306bnVsbCxbdXNlcm5hbWUsaWQsaixoXSxnKTt9O0VkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpczt0aGlzLmNhbGxNZXRob2QoYy5HZXRJdGVtcyxjYWxsYmFjaz9mdW5jdGlvbihoKXtjYWxsYmFjayhmKGgpKTt9Om51bGwsW10sZXJyb3JDYWxsYmFjayk7ZnVuY3Rpb24gZihoKXtpZihoPT09bnVsbCl7cmV0dXJuIG51bGw7fXJldHVybiBoLm1hcChmdW5jdGlvbihpKXtyZXR1cm4gZy5fYWRhcHQoaSk7fSk7fX07RWRpdGFibGVSZWdpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZWRpdGFibGVSZWdpb24sc2VsZWN0ZWRQYXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBmPXRoaXM7aWYoKHR5cGVvZiBzZWxlY3RlZFBhcnQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBzZWxlY3RlZFBhcnQhPT1cImJvb2xlYW5cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9c2VsZWN0ZWRQYXJ0PXNlbGVjdGVkUGFydHx8ZmFsc2U7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtlZGl0YWJsZVJlZ2lvbi5fLmhhc2hjb2RlLGVkaXRhYmxlUmVnaW9uLl8uaW5kZXgsc2VsZWN0ZWRQYXJ0XSxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuRWRpdGFibGVSZWdpb24oZy5oYXNoY29kZSxnLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGYsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZy5oYXNoY29kZSxnLmluZGV4XSk7cmV0dXJuIGY7fTtyZXR1cm4gRWRpdGFibGVSZWdpb25Db2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QmFzZWxpbmU6XCJCYXNlbGluZVwiLExlbmd0aDpcIkxlbmd0aFwiLE51bWJlcjpcIk51bWJlclwiLFBhZ2U6XCJQYWdlXCIsU3RhcnQ6XCJTdGFydFwiLFRleHQ6XCJUZXh0XCIsVGV4dEJvdW5kczpcIlRleHRCb3VuZHNcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NhdmU6XCJTYXZlXCJ9KTtiLkxpbmU9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhMaW5lLGYpO2Z1bmN0aW9uIExpbmUoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31MaW5lLnByb3RvdHlwZS5nZXRCYXNlbGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpbmUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaW5lLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuZ2V0UGFnZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5QYWdlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaW5lLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaW5lLnByb3RvdHlwZS5nZXRUZXh0Qm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRCb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaW5lLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2ssc2F2ZVNldHRpbmdzLGcpe3NhdmVTZXR0aW5ncz1zYXZlU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGMuU2F2ZSxjYWxsYmFjayxbc3RyZWFtVHlwZSxzYXZlU2V0dGluZ3NdLGcpO307cmV0dXJuIExpbmU7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5MaW5lQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKExpbmVDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIExpbmVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31MaW5lQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayx0ZXh0UG9zaXRpb24sZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRQb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFt0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307TGluZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdExvY2F0aW9uPWZ1bmN0aW9uKHgseSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgeCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIHkhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbeCx5XSxlcnJvckNhbGxiYWNrKTt9O0xpbmVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5MaW5lKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIExpbmVDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7SXNEdXBsaWNhdGU6XCJJc0R1cGxpY2F0ZVwiLElzSWdub3JlZDpcIklzSWdub3JlZFwiLExlbmd0aDpcIkxlbmd0aFwiLE51bWJlcjpcIk51bWJlclwiLFN0YXJ0OlwiU3RhcnRcIixUZXh0OlwiVGV4dFwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2VsZWN0OlwiU2VsZWN0XCJ9KTtiLk1pc3NwZWxsZWRXb3JkPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoTWlzc3BlbGxlZFdvcmQsZik7ZnVuY3Rpb24gTWlzc3BlbGxlZFdvcmQoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31NaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuZ2V0SXNEdXBsaWNhdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSXNEdXBsaWNhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuZ2V0SXNJZ25vcmVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzSWdub3JlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLnNldElzRHVwbGljYXRlPWZ1bmN0aW9uKGlzRHVwbGljYXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklzRHVwbGljYXRlLGlzRHVwbGljYXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLnNldElzSWdub3JlZD1mdW5jdGlvbihpc0lnbm9yZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNJZ25vcmVkLGlzSWdub3JlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuU2VsZWN0LGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIE1pc3NwZWxsZWRXb3JkO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0dldENvdW50OlwiR2V0Q291bnRcIixHZXRJdGVtQXRJbnB1dFBvc2l0aW9uOlwiR2V0SXRlbUF0SW5wdXRQb3NpdGlvblwiLEdldEl0ZW1BdExvY2F0aW9uOlwiR2V0SXRlbUF0TG9jYXRpb25cIixHZXRJdGVtQXRUZXh0UG9zaXRpb246XCJHZXRJdGVtQXRUZXh0UG9zaXRpb25cIixJZ25vcmU6XCJJZ25vcmVcIn0pO2IuTWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoTWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uLGUpO2Z1bmN0aW9uIE1pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbigpe2UuY2FsbCh0aGlzKTt9TWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDb3VudE9mPWZ1bmN0aW9uKGtpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGtpbmQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLkdldENvdW50LGNhbGxiYWNrLFtraW5kXSxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUF0SW5wdXRQb3NpdGlvbj1mdW5jdGlvbihraW5kLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBraW5kIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYy5HZXRJdGVtQXRJbnB1dFBvc2l0aW9uLGNhbGxiYWNrLFtraW5kXSxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUF0TG9jYXRpb249ZnVuY3Rpb24oeCx5LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB4IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgeSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0SXRlbUF0TG9jYXRpb24sY2FsbGJhY2ssW3gseV0sZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdFRleHRQb3NpdGlvbj1mdW5jdGlvbih0ZXh0UG9zaXRpb24sa2luZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dFBvc2l0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2Yga2luZCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0SXRlbUF0VGV4dFBvc2l0aW9uLGNhbGxiYWNrLFt0ZXh0UG9zaXRpb24sa2luZF0sZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24ucHJvdG90eXBlLmlnbm9yZT1mdW5jdGlvbihtaXNzcGVsbGVkV29yZCxjaGFuZ2VkVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY2hhbmdlZFRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLklnbm9yZSxjYWxsYmFjayxbbWlzc3BlbGxlZFdvcmQuXy5oYXNoY29kZSxtaXNzcGVsbGVkV29yZC5fLmluZGV4LGNoYW5nZWRUZXh0XSxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKG1pc3NwZWxsZWRXb3JkLGYsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGYhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLklnbm9yZSxjYWxsYmFjayxbbWlzc3BlbGxlZFdvcmQuXy5oYXNoY29kZSxtaXNzcGVsbGVkV29yZC5fLmluZGV4LGZdLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZyl7aWYoZz09PW51bGwpe3JldHVybiBudWxsO312YXIgZj1uZXcgYi5NaXNzcGVsbGVkV29yZChnLmhhc2hjb2RlLGcuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZixiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtnLmhhc2hjb2RlLGcuaW5kZXhdKTtyZXR1cm4gZjt9O3JldHVybiBNaXNzcGVsbGVkV29yZENvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtTYXZlOlwiU2F2ZVwiLFNlbGVjdDpcIlNlbGVjdFwifSk7dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7Rm9ybWF0dGluZ1N0eWxlOlwiRm9ybWF0dGluZ1N0eWxlXCIsTGVuZ3RoOlwiTGVuZ3RoXCIsTGluZXM6XCJMaW5lc1wiLExpc3ROdW1iZXI6XCJMaXN0TnVtYmVyXCIsTGlzdE51bWJlclRleHQ6XCJMaXN0TnVtYmVyVGV4dFwiLE51bWJlcjpcIk51bWJlclwiLFN0YXJ0OlwiU3RhcnRcIixTdGFydExpbmU6XCJTdGFydExpbmVcIixUZXh0OlwiVGV4dFwiLEZvcm1hdDpcIkZvcm1hdFwiLExpc3RGb3JtYXQ6XCJMaXN0Rm9ybWF0XCIsfSk7Yi5QYXJhZ3JhcGg9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhQYXJhZ3JhcGgsZik7ZnVuY3Rpb24gUGFyYWdyYXBoKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyYWdyYXBoLnByb3RvdHlwZSxcImxpc3RGb3JtYXRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9bmV3IGIuTGlzdEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5MaXN0Rm9ybWF0KTtyZXR1cm4gaTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJhZ3JhcGgucHJvdG90eXBlLFwiZm9ybWF0XCIse2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLlBhcmFncmFwaEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGksZC5Gb3JtYXQpO3JldHVybiBpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7fVBhcmFncmFwaC5wcm90b3R5cGUuZ2V0Rm9ybWF0dGluZ1N0eWxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvcm1hdHRpbmdTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuZ2V0TGluZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLmdldExpc3ROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGlzdE51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuZ2V0TGlzdE51bWJlclRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGlzdE51bWJlclRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoLnByb3RvdHlwZS5nZXRTdGFydExpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnRMaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLnNldEZvcm1hdHRpbmdTdHlsZT1mdW5jdGlvbihmb3JtYXR0aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvcm1hdHRpbmdTdHlsZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9ybWF0dGluZ1N0eWxlLGZvcm1hdHRpbmdTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihzdHJlYW1UeXBlLGNhbGxiYWNrLHNhdmVTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtpZighc3RyZWFtVHlwZSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0Lk5vU3RyZWFtVHlwZSk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31zYXZlU2V0dGluZ3M9c2F2ZVNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLlNhdmUsY2FsbGJhY2ssW3N0cmVhbVR5cGUsc2F2ZVNldHRpbmdzXSxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYXJhZ3JhcGg7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5QYXJhZ3JhcGhDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoUGFyYWdyYXBoQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBQYXJhZ3JhcGhDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31QYXJhZ3JhcGhDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRUZXh0UG9zaXRpb249ZnVuY3Rpb24odGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdExvY2F0aW9uPWZ1bmN0aW9uKHgseSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgeCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIHkhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbeCx5XSxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlBhcmFncmFwaChmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBQYXJhZ3JhcGhDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307Yi5UZXh0RmllbGRDb21tYW5kPU9iamVjdC5mcmVlemUoe0dldEFsbDoxLFNldFByb3BlcnR5OjIsR2V0SXRlbTozLEFkZDo0LFJlbW92ZTo1LFNob3dEaWFsb2c6Nn0pO2IuVGV4dEZpZWxkUHJvcGVydHk9T2JqZWN0LmZyZWV6ZSh7VGV4dDowLFBhcmFtZXRlcnM6MSxOYW1lOjIsVHlwZU5hbWU6MyxJRDo0LERlbGV0ZWFibGU6NSxEb3VibGVkSW5wdXRQb3NpdGlvbjo2LEVkaXRhYmxlOjcsU2hvd0FjdGl2YXRlZDo4LElzU3BlbGxDaGVja2luZ0VuYWJsZWQ6OX0pO2IuUHJpdmF0ZVRleHRGaWVsZD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHR5cGVOYW1lLHRleHQscGFyYW1ldGVycyxmaWVsZFR5cGUpe3R5cGVOYW1lPXR5cGVOYW1lfHxcIlwiO3RleHQ9dGV4dHx8XCJcIjtwYXJhbWV0ZXJzPXBhcmFtZXRlcnN8fFtdO2lmKHR5cGVvZiBmaWVsZFR5cGU9PT1cInVuZGVmaW5lZFwiKXtmaWVsZFR5cGU9XCJURVhURklFTERcIjt9aWYodHlwZW9mIHR5cGVOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IEVycm9yKFxcJ1widHlwZU5hbWVcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWlmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWlmKHBhcmFtZXRlcnMuY29uc3RydWN0b3IhPT1BcnJheSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInBhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGFycmF5LlxcJyk7fXBhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbihmKXtpZigodHlwZW9mIGYhPT1cInN0cmluZ1wiKSYmIShmIGluc3RhbmNlb2YgU3RyaW5nKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInBhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuXFwnKTt9fSk7dGhpcy50eXBlTmFtZT10eXBlTmFtZTt0aGlzLmZpZWxkVGV4dD10ZXh0O3RoaXMucGFyYW1ldGVycz1wYXJhbWV0ZXJzO3RoaXMuZmllbGRUeXBlPWZpZWxkVHlwZTt0aGlzLmZpZWxkTmFtZT1cIlwiO3RoaXMuc3RhcnQ9MDt0aGlzLmxlbmd0aD0wO3RoaXMuaWQ9MDt0aGlzLmJvdW5kcz17bG9jYXRpb246e3g6MCx5OjB9LHNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9fTt0aGlzLmNvbnRhaW5zSW5wdXRQb3NpdGlvbj1mYWxzZTt0aGlzLmRlbGV0ZWFibGU9dHJ1ZTt0aGlzLmRvdWJsZWRJbnB1dFBvc2l0aW9uPWZhbHNlO3RoaXMuZWRpdGFibGU9dHJ1ZTt0aGlzLnNob3dBY3RpdmF0ZWQ9ZmFsc2U7dGhpcy5pc1NwZWxsQ2hlY2tpbmdFbmFibGVkPXRydWU7dGhpcy50ZXh0UGFydD17dHlwZTpiLlRleHRQYXJ0VHlwZS5BdXRvLGluZGV4Oi0xfTt9cmV0dXJuIGU7fSkoKTtiLkxlZ2FjeVRleHRGaWVsZD0oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gVGV4dEZpZWxkKHRleHQpe3ZhciBmO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yKXtmPWFyZ3VtZW50c1sxXTt9ZWxzZXtmPW5ldyBiLlByaXZhdGVUZXh0RmllbGQoXCJcIix0ZXh0KTt9dGhpcy5fZmllbGQ9Zjt2YXIgZz10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3RleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9maWVsZC5maWVsZFRleHQ7fSxzZXQ6ZnVuY3Rpb24odGV4dCl7aWYodGV4dD09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0XCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31nLl9maWVsZC5maWVsZFRleHQ9dGV4dDtpZihnLl9maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuX2ZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNldFByb3BlcnR5LGIuVGV4dEZpZWxkUHJvcGVydHkuVGV4dCwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxuYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuZmllbGROYW1lO30sc2V0OmZ1bmN0aW9uKG5hbWUpe2lmKG5hbWU9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yLlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31nLl9maWVsZC5maWVsZE5hbWU9bmFtZTtpZihnLl9maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuX2ZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNldFByb3BlcnR5LGIuVGV4dEZpZWxkUHJvcGVydHkuTmFtZSwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxzdGFydDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLnN0YXJ0O30sZW51bWVyYWJsZTp0cnVlfSxsZW5ndGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9maWVsZC5sZW5ndGg7fSxlbnVtZXJhYmxlOnRydWV9LGlkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuaWQ7fSxzZXQ6ZnVuY3Rpb24oaWQpe2lmKGlkPT09dW5kZWZpbmVkKXtpZD0wO31pZighaXNJbnRlZ2VyKGlkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImlkXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWcuX2ZpZWxkLmlkPWlkO2lmKGcuX2ZpZWxkLmNvbnN0cnVjdG9yPT09Yi5Qcml2YXRlVGV4dEZpZWxkKXtyZXR1cm47fXZhciBoPXt0ZXh0RmllbGQ6Zy5fZmllbGR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2V0UHJvcGVydHksYi5UZXh0RmllbGRQcm9wZXJ0eS5JRCwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSx0eXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuZmllbGRUeXBlO30sZW51bWVyYWJsZTp0cnVlfSxib3VuZHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl8uZmllbGQuYm91bmRzO30sZW51bWVyYWJsZTp0cnVlfSxjb250YWluc0lucHV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl8uZmllbGQuY29udGFpbnNJbnB1dFBvc2l0aW9uO30sZW51bWVyYWJsZTp0cnVlfSxkZWxldGVhYmxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fLmZpZWxkLmRlbGV0ZWFibGU7fSxzZXQ6ZnVuY3Rpb24oZGVsZXRlYWJsZSl7aWYoZGVsZXRlYWJsZT09PXVuZGVmaW5lZCl7ZGVsZXRlYWJsZT1mYWxzZTt9aWYodHlwZW9mIGRlbGV0ZWFibGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImRlbGV0ZWFibGVcIiBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS5cXCcpO31nLl8uZmllbGQuZGVsZXRlYWJsZT1kZWxldGVhYmxlO2lmKGcuXy5maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuXy5maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LkRlbGV0ZWFibGUsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0sZG91YmxlZElucHV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl8uZmllbGQuZG91YmxlZElucHV0UG9zaXRpb247fSxzZXQ6ZnVuY3Rpb24oZG91YmxlZElucHV0UG9zaXRpb24pe2lmKGRvdWJsZWRJbnB1dFBvc2l0aW9uPT09dW5kZWZpbmVkKXtkb3VibGVkSW5wdXRQb3NpdGlvbj1mYWxzZTt9aWYodHlwZW9mIGRvdWJsZWRJbnB1dFBvc2l0aW9uIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJkb3VibGVkSW5wdXRQb3NpdGlvblwiIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLlxcJyk7fWcuXy5maWVsZC5kb3VibGVkSW5wdXRQb3NpdGlvbj1kb3VibGVkSW5wdXRQb3NpdGlvbjtpZihnLl8uZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGg9e3RleHRGaWVsZDpnLl8uZmllbGR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2V0UHJvcGVydHksYi5UZXh0RmllbGRQcm9wZXJ0eS5Eb3VibGVkSW5wdXRQb3NpdGlvbiwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxlZGl0YWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuXy5maWVsZC5lZGl0YWJsZTt9LHNldDpmdW5jdGlvbihlZGl0YWJsZSl7aWYoZWRpdGFibGU9PT11bmRlZmluZWQpe2VkaXRhYmxlPWZhbHNlO31pZih0eXBlb2YgZWRpdGFibGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImVkaXRhYmxlXCIgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUuXFwnKTt9Zy5fLmZpZWxkLmVkaXRhYmxlPWVkaXRhYmxlO2lmKGcuXy5maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuXy5maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LkVkaXRhYmxlLDAsaCk7fSxlbnVtZXJhYmxlOnRydWV9LHNob3dBY3RpdmF0ZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl8uZmllbGQuc2hvd0FjdGl2YXRlZDt9LHNldDpmdW5jdGlvbihzaG93QWN0aXZhdGVkKXtpZihzaG93QWN0aXZhdGVkPT09dW5kZWZpbmVkKXtzaG93QWN0aXZhdGVkPWZhbHNlO31pZih0eXBlb2Ygc2hvd0FjdGl2YXRlZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wic2hvd0FjdGl2YXRlZFwiIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLlxcJyk7fWcuXy5maWVsZC5zaG93QWN0aXZhdGVkPXNob3dBY3RpdmF0ZWQ7aWYoZy5fLmZpZWxkLmNvbnN0cnVjdG9yPT09Yi5Qcml2YXRlVGV4dEZpZWxkKXtyZXR1cm47fXZhciBoPXt0ZXh0RmllbGQ6Zy5fLmZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNldFByb3BlcnR5LGIuVGV4dEZpZWxkUHJvcGVydHkuU2hvd0FjdGl2YXRlZCwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxpc1NwZWxsQ2hlY2tpbmdFbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fLmZpZWxkLmlzU3BlbGxDaGVja2luZ0VuYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24oaXNTcGVsbENoZWNraW5nRW5hYmxlZCl7aWYoaXNTcGVsbENoZWNraW5nRW5hYmxlZD09PXVuZGVmaW5lZCl7aXNTcGVsbENoZWNraW5nRW5hYmxlZD1mYWxzZTt9aWYodHlwZW9mIGlzU3BlbGxDaGVja2luZ0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImlzU3BlbGxDaGVja2luZ0VuYWJsZWRcIiBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS5cXCcpO31nLl8uZmllbGQuaXNTcGVsbENoZWNraW5nRW5hYmxlZD1pc1NwZWxsQ2hlY2tpbmdFbmFibGVkO2lmKGcuXy5maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuXy5maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LklzU3BlbGxDaGVja2luZ0VuYWJsZWQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9cmV0dXJuIFRleHRGaWVsZDt9KSgpO2IucHJvY2Vzc1RleHRGaWVsZERhdGFNZXNzYWdlPWZ1bmN0aW9uKGUpe3N3aXRjaChlLkNvbnRlbnQudGV4dEZpZWxkQ29tbWFuZCl7Y2FzZSBiLlRleHRGaWVsZENvbW1hbmQuR2V0QWxsOmMoZS5Db250ZW50LGUuRXhjTXNnKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJfcHJpdmF0ZS5wcm9jZXNzVGV4dEZpZWxkRGF0YU1lc3NhZ2UoKTogVW5rbm93biB0ZXh0IGZpZWxkIGNvbW1hbmQgXCIrZS5Db250ZW50LnRleHRGaWVsZENvbW1hbmQrXCIuXCIpO2JyZWFrO319O2Z1bmN0aW9uIGMoZyxpKXt2YXIgZj1iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRUZXh0RmllbGRzLnNoaWZ0KCk7aWYoaSl7dGhyb3cgbmV3IEVycm9yKGkpO31pZihmPT09dW5kZWZpbmVkKXtyZXR1cm47fXZhciBqPVtdO2cudGV4dEZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmZpZWxkVHlwZSl7Y2FzZVwiQVBQTElDQVRJT05GSUVMRFwiOmoucHVzaChuZXcgYi5MZWdhY3lBcHBsaWNhdGlvbkZpZWxkKG51bGwsbnVsbCxudWxsLGUpKTticmVhaztjYXNlXCJURVhURklFTERcIjpqLnB1c2gobmV3IGIuTGVnYWN5VGV4dEZpZWxkKG51bGwsZSkpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlVua25vd24gdGV4dCBmaWVsZCB0eXBlOiBcIitlLmZpZWxkVHlwZSk7YnJlYWs7fX0pO3RyeXtmKGopO31jYXRjaChoKXt9fXJldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTGVnYWN5QXBwbGljYXRpb25GaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEFwcGxpY2F0aW9uRmllbGQsZCk7ZnVuY3Rpb24gQXBwbGljYXRpb25GaWVsZCh0eXBlTmFtZSx0ZXh0LHBhcmFtZXRlcnMpe3ZhciBlO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT00KXtlPWFyZ3VtZW50c1szXTt9ZWxzZXtpZih0eXBlb2YgdHlwZU5hbWU9PT1cInVuZGVmaW5lZFwiKXt0eXBlTmFtZT1cIk1FUkdFRklFTERcIjt9aWYodHlwZW9mIHRleHQ9PT1cInVuZGVmaW5lZFwiKXt0ZXh0PVwiwqtNRVJHRUZJRUxEwrtcIjt9ZT1uZXcgYi5Qcml2YXRlVGV4dEZpZWxkKHR5cGVOYW1lLHRleHQscGFyYW1ldGVycyxcIkFQUExJQ0FUSU9ORklFTERcIik7fWQuY2FsbCh0aGlzLG51bGwsZSk7dmFyIGY9dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHt0eXBlTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuX2ZpZWxkLnR5cGVOYW1lO30sc2V0OmZ1bmN0aW9uKHR5cGVOYW1lKXtpZih0eXBlTmFtZT09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3IuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiB0eXBlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0eXBlTmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9Zi5fZmllbGQudHlwZU5hbWU9dHlwZU5hbWU7aWYoZi5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGc9e3RleHRGaWVsZDpmLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlR5cGVOYW1lLDAsZyk7fSxlbnVtZXJhYmxlOnRydWV9LHBhcmFtZXRlcnM6e2dldDpmdW5jdGlvbigpe3JldHVybiBmLl9maWVsZC5wYXJhbWV0ZXJzO30sc2V0OmZ1bmN0aW9uKHBhcmFtZXRlcnMpe2lmKHBhcmFtZXRlcnM9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYocGFyYW1ldGVycy5jb25zdHJ1Y3RvciE9PUFycmF5KXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFyYW1ldGVyc1wiIG11c3QgYmUgYW4gYXJyYXkuXFwnKTt9cGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2lmKCh0eXBlb2YgaCE9PVwic3RyaW5nXCIpJiYhKGggaW5zdGFuY2VvZiBTdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFyYW1ldGVyc1wiIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXCcpO319KTtmLl9maWVsZC5wYXJhbWV0ZXJzPXBhcmFtZXRlcnM7aWYoZi5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGc9e3RleHRGaWVsZDpmLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlBhcmFtZXRlcnMsMCxnKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9QXBwbGljYXRpb25GaWVsZC5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbigpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2hvd0RpYWxvZywwLDAse3RleHRGaWVsZDp0aGlzLl9maWVsZH0pO307cmV0dXJuIEFwcGxpY2F0aW9uRmllbGQ7fSkoYi5MZWdhY3lUZXh0RmllbGQpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRm9ybUZpZWxkPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRm9ybUZpZWxkLGQpO2Z1bmN0aW9uIEZvcm1GaWVsZChlLGYpe2QuY2FsbCh0aGlzLGUsZik7fXJldHVybiBGb3JtRmllbGQ7fSkoYi5UZXh0RmllbGQpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0FkZENoZWNrRm9ybUZpZWxkOlwiQWRkQ2hlY2tGb3JtRmllbGRcIixBZGRTZWxlY3Rpb25Gb3JtRmllbGQ6XCJBZGRTZWxlY3Rpb25Gb3JtRmllbGRcIixBZGRUZXh0Rm9ybUZpZWxkOlwiQWRkVGV4dEZvcm1GaWVsZFwiLEFkZERhdGVGb3JtRmllbGQ6XCJBZGREYXRlRm9ybUZpZWxkXCJ9KTtiLkZvcm1GaWVsZENvbGxlY3Rpb249KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhGb3JtRmllbGRDb2xsZWN0aW9uLGUpO2Z1bmN0aW9uIEZvcm1GaWVsZENvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fUZvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZENoZWNrRm9ybUZpZWxkPWZ1bmN0aW9uKGlzQ2hlY2tlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNDaGVja2VkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dmFyIGY9dGhpczt0aGlzLmNhbGxNZXRob2QoYy5BZGRDaGVja0Zvcm1GaWVsZCwodHlwZW9mIGNhbGxiYWNrPT09XCJmdW5jdGlvblwiKT9mdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fTpudWxsLFtpc0NoZWNrZWRdLGVycm9yQ2FsbGJhY2spO307Rm9ybUZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkU2VsZWN0aW9uRm9ybUZpZWxkPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVtcHR5V2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBmPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuQWRkU2VsZWN0aW9uRm9ybUZpZWxkLCh0eXBlb2YgY2FsbGJhY2s9PT1cImZ1bmN0aW9uXCIpP2Z1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9Om51bGwsW2VtcHR5V2lkdGhdLGVycm9yQ2FsbGJhY2spO307Rm9ybUZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkVGV4dEZvcm1GaWVsZD1mdW5jdGlvbihlbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlbXB0eVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO312YXIgZj10aGlzO3RoaXMuY2FsbE1ldGhvZChjLkFkZFRleHRGb3JtRmllbGQsKHR5cGVvZiBjYWxsYmFjaz09PVwiZnVuY3Rpb25cIik/ZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO306bnVsbCxbZW1wdHlXaWR0aF0sZXJyb3JDYWxsYmFjayk7fTtGb3JtRmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGREYXRlRm9ybUZpZWxkPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVtcHR5V2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBmPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuQWRkRGF0ZUZvcm1GaWVsZCwodHlwZW9mIGNhbGxiYWNrPT09XCJmdW5jdGlvblwiKT9mdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fTpudWxsLFtlbXB0eVdpZHRoXSxlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGc9dGhpczt2YXIgZj0odHlwZW9mIGlkPT09XCJudW1iZXJcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLCh0eXBlb2YgY2FsbGJhY2s9PT1cImZ1bmN0aW9uXCIpP2Z1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9Om51bGwsZixlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihmb3JtRmllbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvcm1GaWVsZD09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1VbmRlZmluZWQpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2Zvcm1GaWVsZC5fLmhhc2hjb2RlLGZvcm1GaWVsZC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihnKXtpZihnPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBmPW51bGw7c3dpdGNoKGcudHlwZSl7Y2FzZVwiQ2hlY2tGb3JtRmllbGRcIjpmPW5ldyBiLkNoZWNrRm9ybUZpZWxkKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7Y2FzZVwiU2VsZWN0aW9uRm9ybUZpZWxkXCI6Zj1uZXcgYi5TZWxlY3Rpb25Gb3JtRmllbGQoZy5oYXNoY29kZSxnLmluZGV4KTticmVhaztjYXNlXCJUZXh0Rm9ybUZpZWxkXCI6Zj1uZXcgYi5UZXh0Rm9ybUZpZWxkKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7Y2FzZVwiRGF0ZUZvcm1GaWVsZFwiOmY9bmV3IGIuRGF0ZUZvcm1GaWVsZChnLmhhc2hjb2RlLGcuaW5kZXgpO2JyZWFrO2RlZmF1bHQ6Zj1uZXcgYi5Gb3JtRmllbGQoZy5oYXNoY29kZSxnLmluZGV4KTticmVhazt9dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIEZvcm1GaWVsZENvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7VW5jaGVja2VkQ2hhcmFjdGVyOlwiVW5jaGVja2VkQ2hhcmFjdGVyXCIsQ2hlY2tlZENoYXJhY3RlcjpcIkNoZWNrZWRDaGFyYWN0ZXJcIixDaGVja2VkOlwiQ2hlY2tlZFwifSk7Yi5DaGVja0Zvcm1GaWVsZD0oZnVuY3Rpb24oZSl7X19leHRlbmRzKENoZWNrRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIENoZWNrRm9ybUZpZWxkKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9Q2hlY2tGb3JtRmllbGQucHJvdG90eXBlLmdldFVuY2hlY2tlZENoYXJhY3Rlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5VbmNoZWNrZWRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtDaGVja0Zvcm1GaWVsZC5wcm90b3R5cGUuc2V0VW5jaGVja2VkQ2hhcmFjdGVyPWZ1bmN0aW9uKGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNDaGFyYWN0ZXIoY2hhcmFjdGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFDaGFyYWN0ZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5VbmNoZWNrZWRDaGFyYWN0ZXIsY2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Q2hlY2tGb3JtRmllbGQucHJvdG90eXBlLmdldENoZWNrZWRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ2hlY2tlZENoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0NoZWNrRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRDaGVja2VkQ2hhcmFjdGVyPWZ1bmN0aW9uKGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNDaGFyYWN0ZXIoY2hhcmFjdGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFDaGFyYWN0ZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5DaGVja2VkQ2hhcmFjdGVyLGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0NoZWNrRm9ybUZpZWxkLnByb3RvdHlwZS5nZXRDaGVja2VkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNoZWNrZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtDaGVja0Zvcm1GaWVsZC5wcm90b3R5cGUuc2V0Q2hlY2tlZD1mdW5jdGlvbihpc0NoZWNrZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzQ2hlY2tlZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNoZWNrZWQsaXNDaGVja2VkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIENoZWNrRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtFbXB0eVdpZHRoOlwiRW1wdHlXaWR0aFwifSk7Yi5UZXh0Rm9ybUZpZWxkPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoVGV4dEZvcm1GaWVsZCxlKTtmdW5jdGlvbiBUZXh0Rm9ybUZpZWxkKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9VGV4dEZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0RW1wdHlXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5FbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZvcm1GaWVsZC5wcm90b3R5cGUuc2V0RW1wdHlXaWR0aD1mdW5jdGlvbihlbXB0eVdpZHRoLGNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGVtcHR5V2lkdGgpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRW1wdHlXaWR0aCxlbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRGb3JtRmllbGQ7fSkoYi5Gb3JtRmllbGQpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0VtcHR5V2lkdGg6XCJFbXB0eVdpZHRoXCIsSXNEcm9wRG93bkFycm93VmlzaWJsZTpcIklzRHJvcERvd25BcnJvd1Zpc2libGVcIixTZWxlY3RlZEluZGV4OlwiU2VsZWN0ZWRJbmRleFwiLEl0ZW1zOlwiSXRlbXNcIn0pO2IuU2VsZWN0aW9uRm9ybUZpZWxkPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoU2VsZWN0aW9uRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIFNlbGVjdGlvbkZvcm1GaWVsZChmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fVNlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0RW1wdHlXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5FbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihlbXB0eVdpZHRoKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsZW1wdHlXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0SXNEcm9wRG93bkFycm93VmlzaWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Jc0Ryb3BEb3duQXJyb3dWaXNpYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRJc0Ryb3BEb3duQXJyb3dWaXNpYmxlPWZ1bmN0aW9uKGlzRHJvcERvd25BcnJvd1Zpc2libGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzRHJvcERvd25BcnJvd1Zpc2libGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Jc0Ryb3BEb3duQXJyb3dWaXNpYmxlLGlzRHJvcERvd25BcnJvd1Zpc2libGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb25Gb3JtRmllbGQucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU2VsZWN0ZWRJbmRleCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleD1mdW5jdGlvbihpbmRleCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGluZGV4KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlNlbGVjdGVkSW5kZXgsaW5kZXgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb25Gb3JtRmllbGQucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkl0ZW1zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRJdGVtcz1mdW5jdGlvbihmLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0FycmF5T2ZUeXBlKGYsXCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBcnJheU9mU3RyaW5ncyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkl0ZW1zLGYsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU2VsZWN0aW9uRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtEYXRlOlwiRGF0ZVwiLERhdGVGb3JtYXQ6XCJEYXRlRm9ybWF0XCIsRW1wdHlXaWR0aDpcIkVtcHR5V2lkdGhcIixTdXBwb3J0ZWREYXRlRm9ybWF0czpcIlN1cHBvcnRlZERhdGVGb3JtYXRzXCJ9KTtiLkRhdGVGb3JtRmllbGQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhEYXRlRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIERhdGVGb3JtRmllbGQoZixnKXtlLmNhbGwodGhpcyxmLGcpO31EYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXREYXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXREYXRlPWZ1bmN0aW9uKHVuaXhUaW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB1bml4VGltZSE9PVwibnVtYmVyXCImJnVuaXhUaW1lIT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkRhdGUsdW5peFRpbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXREYXRlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRhdGVGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXREYXRlRm9ybWF0PWZ1bmN0aW9uKGRhdGVGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGRhdGVGb3JtYXQhPVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRGF0ZUZvcm1hdCxkYXRlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGF0ZUZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkRGF0ZUZvcm1hdHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU3VwcG9ydGVkRGF0ZUZvcm1hdHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihlbXB0eVdpZHRoKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsZW1wdHlXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBEYXRlRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtEYXRhOlwiRGF0YVwiLEhpZ2hsaWdodENvbG9yOlwiSGlnaGxpZ2h0Q29sb3JcIixIaWdobGlnaHRNb2RlOlwiSGlnaGxpZ2h0TW9kZVwiLElEOlwiSURcIixMZW5ndGg6XCJMZW5ndGhcIixOYW1lOlwiTmFtZVwiLE5lc3RlZExldmVsOlwiTmVzdGVkTGV2ZWxcIixOdW1iZXI6XCJOdW1iZXJcIixPdXRlck1vc3RTdWJUZXh0UGFydDpcIk91dGVyTW9zdFN1YlRleHRQYXJ0XCIsT3V0ZXJTdWJUZXh0UGFydDpcIk91dGVyU3ViVGV4dFBhcnRcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NhdmU6XCJTYXZlXCIsU2Nyb2xsVG86XCJTY3JvbGxUb1wifSk7Yi5TdWJUZXh0UGFydD0oZnVuY3Rpb24oZil7X19leHRlbmRzKFN1YlRleHRQYXJ0LGYpO2Z1bmN0aW9uIFN1YlRleHRQYXJ0KGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGF0YSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkRhdGEsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLnNldEhpZ2hsaWdodE1vZGU9ZnVuY3Rpb24oaGlnaGxpZ2h0TW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaGlnaGxpZ2h0TW9kZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0TW9kZSxoaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoaWdobGlnaHRDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsaGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0SUQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSUQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24oaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JRCxpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsbmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXROZXN0ZWRMZXZlbD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OZXN0ZWRMZXZlbCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldE91dGVyTW9zdFN1YlRleHRQYXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuT3V0ZXJNb3N0U3ViVGV4dFBhcnQsZnVuY3Rpb24oaSl7aWYoaSl7dmFyIGg9bmV3IGIuU3ViVGV4dFBhcnQoaS5oYXNoY29kZSk7Zy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaCxkLk91dGVyTW9zdFN1YlRleHRQYXJ0KTtjYWxsYmFjayhoKTt9ZWxzZXtjYWxsYmFjayhudWxsKTt9fSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRPdXRlclN1YlRleHRQYXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuT3V0ZXJTdWJUZXh0UGFydCxmdW5jdGlvbihpKXtpZihpKXt2YXIgaD1uZXcgYi5TdWJUZXh0UGFydChpLmhhc2hjb2RlKTtnLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihoLGQuT3V0ZXJTdWJUZXh0UGFydCk7Y2FsbGJhY2soaCk7fWVsc2V7Y2FsbGJhY2sobnVsbCk7fX0sZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuc2Nyb2xsVG89ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuU2Nyb2xsVG8sY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU3ViVGV4dFBhcnQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5TdWJUZXh0UGFydENvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhTdWJUZXh0UGFydENvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gU3ViVGV4dFBhcnRDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31TdWJUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihuYW1lLGlkLGYsbGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKGY8MSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciBcXCdzdGFydFxcJyBpcyBub3Qgb25lLWJhc2VkLlwiKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZyl7Zy5zdWJUZXh0UGFydD1lLl9hZGFwdChnLnN1YlRleHRQYXJ0KTtjYWxsYmFjayhnKTt9Om51bGwsW25hbWUsaWQsZixsZW5ndGhdLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnRDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5DbGVhcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW10sZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihzdWJUZXh0UGFydCxrZWVwVGV4dCxrZWVwTmVzdGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBrZWVwVGV4dCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWlmKHR5cGVvZiBrZWVwTmVzdGVkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9aWYoIXN1YlRleHRQYXJ0fHwhc3ViVGV4dFBhcnQuX3x8IXN1YlRleHRQYXJ0Ll8uaGFzaGNvZGUpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1JbnZhbGlkKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtzdWJUZXh0UGFydC5fLmhhc2hjb2RlLHN1YlRleHRQYXJ0Ll8uaW5kZXgsa2VlcFRleHQsa2VlcE5lc3RlZF0sZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlN1YlRleHRQYXJ0KGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFN1YlRleHRQYXJ0Q29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO2IuU3ViVGV4dFBhcnRDb2xsZWN0aW9uLkFkZFJlc3VsdD1PYmplY3QuZnJlZXplKHtFcnJvcjowLFN1Y2Nlc3NmdWw6MSxOb1NlbGVjdGlvbjoyLFNlbGVjdGlvblRvb0NvbXBsZXg6MyxQb3NpdGlvbkludmFsaWQ6NCxBbHJlYWR5RXhpc3RzOjUsT3ZlcmxhcHBpbmc6NyxDb21iaW5lZDo4LH0pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0JvdW5kczpcIkJvdW5kc1wiLENoYXI6XCJDaGFyXCIsTnVtYmVyOlwiTnVtYmVyXCJ9KTtiLlRleHRDaGFyPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoVGV4dENoYXIsZSk7ZnVuY3Rpb24gVGV4dENoYXIoZil7ZS5jYWxsKHRoaXMsZik7fVRleHRDaGFyLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENoYXIucHJvdG90eXBlLmdldENoYXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ2hhcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDaGFyLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRDaGFyO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGV4dENoYXJDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGV4dENoYXJDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRleHRDaGFyQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9VGV4dENoYXJDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oY2hhcmFjdGVyLGZvbnROYW1lLHRleHRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNDaGFyYWN0ZXIoY2hhcmFjdGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFDaGFyYWN0ZXIpO31pZih0eXBlb2YgZm9udE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxbY2hhcmFjdGVyLGZvbnROYW1lLHRleHRQb3NpdGlvbl0sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q2hhckNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZENvbnRyb2xDaGFyPWZ1bmN0aW9uKGNvbnRyb2xDaGFyLHRleHRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGNvbnRyb2xDaGFyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxbY29udHJvbENoYXIsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDaGFyQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihsb2NhdGlvbixnZXROZWFyZXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKHR5cGVvZiBnZXROZWFyZXN0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFtsb2NhdGlvbi54LGxvY2F0aW9uLnksZ2V0TmVhcmVzdF0sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q2hhckNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihudW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihudW1iZXIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtjb250cm9sQ2hhcixudW1iZXJdLGVycm9yQ2FsbGJhY2spO307VGV4dENoYXJDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5UZXh0Q2hhcihmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBUZXh0Q2hhckNvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtDb25uZWN0ZWRUb1ByZXZpb3VzOlwiQ29ubmVjdGVkVG9QcmV2aW91c1wiLERpc3RhbmNlOlwiRGlzdGFuY2VcIixUeXBlOlwiVHlwZVwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGU6XCJBY3RpdmF0ZVwiLERlYWN0aXZhdGU6XCJEZWFjdGl2YXRlXCJ9KTtiLkhlYWRlckZvb3Rlcj0oZnVuY3Rpb24oZil7X19leHRlbmRzKEhlYWRlckZvb3RlcixmKTtmdW5jdGlvbiBIZWFkZXJGb290ZXIoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31IZWFkZXJGb290ZXIucHJvdG90eXBlLmdldENvbm5lY3RlZFRvUHJldmlvdXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ29ubmVjdGVkVG9QcmV2aW91cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuc2V0Q29ubmVjdGVkVG9QcmV2aW91cz1mdW5jdGlvbihjb25uZWN0ZWRUb1ByZXZpb3VzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb25uZWN0ZWRUb1ByZXZpb3VzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQ29ubmVjdGVkVG9QcmV2aW91cyxjb25uZWN0ZWRUb1ByZXZpb3VzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SGVhZGVyRm9vdGVyLnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuc2V0RGlzdGFuY2U9ZnVuY3Rpb24oZGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihkaXN0YW5jZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5EaXN0YW5jZSxkaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SGVhZGVyRm9vdGVyLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5BY3RpdmF0ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5EZWFjdGl2YXRlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEhlYWRlckZvb3Rlcjt9KShiLkZvcm1hdHRlZFRleHQpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuSGVhZGVyRm9vdGVyQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEhlYWRlckZvb3RlckNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gSGVhZGVyRm9vdGVyQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9SGVhZGVyRm9vdGVyQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGhlYWRlckZvb3RlclR5cGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihoZWFkZXJGb290ZXJUeXBlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxbaGVhZGVyRm9vdGVyVHlwZV0sZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXJDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGhlYWRlckZvb3RlclR5cGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihoZWFkZXJGb290ZXJUeXBlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTpudWxsLFtoZWFkZXJGb290ZXJUeXBlXSxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3RlckNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihoZWFkZXJGb290ZXJUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoaGVhZGVyRm9vdGVyVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2hlYWRlckZvb3RlclR5cGVdLGVycm9yQ2FsbGJhY2spO307SGVhZGVyRm9vdGVyQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuSGVhZGVyRm9vdGVyKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIEhlYWRlckZvb3RlckNvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtCb3VuZHM6XCJCb3VuZHNcIixGb290ZXI6XCJGb290ZXJcIixIZWFkZXI6XCJIZWFkZXJcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixOdW1iZXJJblNlY3Rpb246XCJOdW1iZXJJblNlY3Rpb25cIixTZWN0aW9uOlwiU2VjdGlvblwiLFN0YXJ0OlwiU3RhcnRcIixUZXh0Qm91bmRzOlwiVGV4dEJvdW5kc1wifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2VsZWN0OlwiU2VsZWN0XCIsR2V0SW1hZ2U6XCJHZXRJbWFnZVwifSk7Yi5QYWdlPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoUGFnZSxmKTtmdW5jdGlvbiBQYWdlKGgsaSl7Zi5jYWxsKHRoaXMsaCxpKTt9UGFnZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLmdldEZvb3Rlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtnKHRoaXMsY2FsbGJhY2ssZC5Gb290ZXIsZXJyb3JDYWxsYmFjayk7fTtQYWdlLnByb3RvdHlwZS5nZXRIZWFkZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7Zyh0aGlzLGNhbGxiYWNrLGQuSGVhZGVyLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlLnByb3RvdHlwZS5nZXROdW1iZXJJblNlY3Rpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVySW5TZWN0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0U2VjdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TZWN0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlLnByb3RvdHlwZS5nZXRUZXh0Qm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRCb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtmdW5jdGlvbiBnKGwsaSxrLGope2wuZ2V0UHJvcGVydHlWYWx1ZShrLGZ1bmN0aW9uKG0pe2koaChtLGwsaykpO30saik7ZnVuY3Rpb24gaChtLHAsbyl7aWYobT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBuPW5ldyBiLkhlYWRlckZvb3RlcihtLmhhc2hjb2RlLG0uaW5kZXgpO3AuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKG4sbyk7cmV0dXJuIG47fX1QYWdlLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbihpbWFnZUZvcm1hdCx6b29tRmFjdG9yLGNvbnRlbnRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoaW1hZ2VGb3JtYXQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9aWYoIWlzSW50ZWdlcih6b29tRmFjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fWlmKCFpc0ludGVnZXIoY29udGVudHMpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0SW1hZ2UsY2FsbGJhY2ssW2ltYWdlRm9ybWF0LHpvb21GYWN0b3IsY29udGVudHNdLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYWdlO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuUGFnZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhQYWdlQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBQYWdlQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9UGFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFtdLGVycm9yQ2FsbGJhY2spO307UGFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdFRleHRQb3NpdGlvbj1mdW5jdGlvbih0ZXh0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRQb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFt0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307UGFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlBhZ2UoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gUGFnZUNvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QmFzZWxpbmU6XCJCYXNlbGluZVwiLEJhc2VTdHlsZTpcIkJhc2VTdHlsZVwiLEJvbGQ6XCJCb2xkXCIsRm9udE5hbWU6XCJGb250TmFtZVwiLEZvbnRTaXplOlwiRm9udFNpemVcIixGb3JlQ29sb3I6XCJGb3JlQ29sb3JcIixJdGFsaWM6XCJJdGFsaWNcIixOYW1lOlwiTmFtZVwiLFN0cmlrZW91dDpcIlN0cmlrZW91dFwiLFRleHRCYWNrQ29sb3I6XCJUZXh0QmFja0NvbG9yXCIsVW5kZXJsaW5lOlwiVW5kZXJsaW5lXCJ9KTtiLkZvcm1hdHRpbmdTdHlsZT0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEZvcm1hdHRpbmdTdHlsZSxlKTtmdW5jdGlvbiBGb3JtYXR0aW5nU3R5bGUoZixnKXtlLmNhbGwodGhpcyxmLGcpO31Gb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldEJhc2VsaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJhc2VsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5zZXRCYXNlbGluZT1mdW5jdGlvbihiYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGJhc2VsaW5lKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJhc2VsaW5lLGJhc2VsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRCYXNlU3R5bGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGY9dGhpczt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5CYXNlU3R5bGUsZnVuY3Rpb24oaCl7aWYoaD09PW51bGwpe2NhbGxiYWNrKG51bGwpO3JldHVybjt9dmFyIGc9bmV3IGIuRm9ybWF0dGluZ1N0eWxlKGguaGFzaGNvZGUsaC5pbmRleCk7Zi5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxjLkJhc2VTdHlsZSk7Y2FsbGJhY2soZyk7fSxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuZ2V0Qm9sZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Cb2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5zZXRCb2xkPWZ1bmN0aW9uKGlzQm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNCb2xkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQm9sZCxpc0JvbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldEZvbnROYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZvbnROYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5zZXRGb250TmFtZT1mdW5jdGlvbihmb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9udE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZvbnROYW1lLGZvbnROYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRGb250U2l6ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Gb250U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oZm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihmb250U2l6ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Gb250U2l6ZSxmb250U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuZ2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZvcmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Gb3JlQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldEl0YWxpYz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5JdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldEl0YWxpYz1mdW5jdGlvbihpc0l0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNJdGFsaWMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5JdGFsaWMsaXNJdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbihuYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5OYW1lLG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldFN0cmlrZW91dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5TdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldFN0cmlrZW91dD1mdW5jdGlvbihzdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0cmlrZW91dCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlN0cmlrZW91dCxzdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0VGV4dEJhY2tDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlN0cmlrZW91dCxjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlVuZGVybGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0VW5kZXJsaW5lPWZ1bmN0aW9uKHVuZGVybGluZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB1bmRlcmxpbmVTdHlsZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVW5kZXJsaW5lLHVuZGVybGluZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEZvcm1hdHRpbmdTdHlsZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhGb3JtYXR0aW5nU3R5bGVDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fUZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtzdHlsZU5hbWVdLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuRm9ybWF0dGluZ1N0eWxlKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIEZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7SXNJbmhlcml0ZWRGcm9tUGFyYWdyYXBoOlwiSXNJbmhlcml0ZWRGcm9tUGFyYWdyYXBoXCIsUmVzZXRUb1BhcmFncmFwaDpcIlJlc2V0VG9QYXJhZ3JhcGhcIn0pO2IuSW5saW5lU3R5bGU9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhJbmxpbmVTdHlsZSxlKTtmdW5jdGlvbiBJbmxpbmVTdHlsZShmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fUlubGluZVN0eWxlLnByb3RvdHlwZS5pc0luaGVyaXRlZEZyb21QYXJhZ3JhcGg9ZnVuY3Rpb24oYXR0cmlidXRlcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGF0dHJpYnV0ZXMpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGMuSXNJbmhlcml0ZWRGcm9tUGFyYWdyYXBoLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307SW5saW5lU3R5bGUucHJvdG90eXBlLnJlc2V0VG9QYXJhZ3JhcGg9ZnVuY3Rpb24oYXR0cmlidXRlcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGF0dHJpYnV0ZXMpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGMuUmVzZXRUb1BhcmFncmFwaCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBJbmxpbmVTdHlsZTt9KShiLkZvcm1hdHRpbmdTdHlsZSk7Yi5JbmxpbmVTdHlsZS5BdHRyaWJ1dGVzPU9iamVjdC5mcmVlemUoe0ZvbnROYW1lOjEsRm9udFNpemU6MixCb2xkOjQsSXRhbGljOjgsVW5kZXJsaW5lOjE2LFN0cmlrZW91dDozMixCYXNlbGluZTo2NCxGb3JlQ29sb3I6MTI4LFRleHRCYWNrQ29sb3I6MjU2LH0pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuSW5saW5lU3R5bGVDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoSW5saW5lU3R5bGVDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIElubGluZVN0eWxlQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9SW5saW5lU3R5bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9Om51bGwsW3N0eWxlTmFtZV0sZXJyb3JDYWxsYmFjayk7fTtJbmxpbmVTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTpudWxsLFtzdHlsZU5hbWVdLGVycm9yQ2FsbGJhY2spO307SW5saW5lU3R5bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5JbmxpbmVTdHlsZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBJbmxpbmVTdHlsZUNvbGxlY3Rpb247fSkoYi5Gb3JtYXR0aW5nU3R5bGVDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtGb2xsb3dpbmdTdHlsZTpcIkZvbGxvd2luZ1N0eWxlXCIsUGFyYWdyYXBoRm9ybWF0OlwiUGFyYWdyYXBoRm9ybWF0XCJ9KTtiLlBhcmFncmFwaFN0eWxlPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoUGFyYWdyYXBoU3R5bGUsZSk7ZnVuY3Rpb24gUGFyYWdyYXBoU3R5bGUoZixnKXtlLmNhbGwodGhpcyxmLGcpO31QYXJhZ3JhcGhTdHlsZS5wcm90b3R5cGUuZ2V0Rm9sbG93aW5nU3R5bGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRm9sbG93aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhTdHlsZS5wcm90b3R5cGUuc2V0Rm9sbG93aW5nU3R5bGU9ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRm9sbG93aW5nU3R5bGUsc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoU3R5bGUucHJvdG90eXBlLmdldFBhcmFncmFwaEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZj10aGlzO3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlBhcmFncmFwaEZvcm1hdCxmdW5jdGlvbihnKXtjYWxsYmFjayhiLlBhcmFncmFwaEZvcm1hdC5fYWRhcHQoZixnLGMuUGFyYWdyYXBoRm9ybWF0KSk7fSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYXJhZ3JhcGhTdHlsZTt9KShiLkZvcm1hdHRpbmdTdHlsZSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gUGFyYWdyYXBoU3R5bGVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZixnKXtjYWxsYmFjayhlLl9hZGFwdChmKSxnKTt9Om51bGwsW3N0eWxlTmFtZV0sZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTpudWxsLFtzdHlsZU5hbWVdLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoU3R5bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5QYXJhZ3JhcGhTdHlsZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb247fSkoYi5Gb3JtYXR0aW5nU3R5bGVDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlNhdmVTZXR0aW5ncz0oZnVuY3Rpb24oZCl7ZnVuY3Rpb24gU2F2ZVNldHRpbmdzKCl7dmFyIGU9e307T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7YXV0aG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5BdXRob3I7fSxzZXQ6ZnVuY3Rpb24oYXV0aG9yKXtpZih0eXBlb2YgYXV0aG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWUuQXV0aG9yPWF1dGhvcjt9LGVudW1lcmFibGU6dHJ1ZX0sY3JlYXRpb25EYXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5DcmVhdGlvbkRhdGU7fSxzZXQ6ZnVuY3Rpb24oY3JlYXRpb25EYXRlKXtpZih0eXBlb2YgY3NzU2F2ZU1vZGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuQ3JlYXRpb25EYXRlPWNyZWF0aW9uRGF0ZTt9LGVudW1lcmFibGU6dHJ1ZX0sY3JlYXRvckFwcGxpY2F0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5DcmVhdG9yQXBwbGljYXRpb247fSxzZXQ6ZnVuY3Rpb24oY3JlYXRvckFwcGxpY2F0aW9uKXtpZih0eXBlb2YgY3JlYXRvckFwcGxpY2F0aW9uIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkNyZWF0b3JBcHBsaWNhdGlvbj1jcmVhdG9yQXBwbGljYXRpb247fSxlbnVtZXJhYmxlOnRydWV9LGNzc1NhdmVNb2RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Dc3NTYXZlTW9kZTt9LHNldDpmdW5jdGlvbihjc3NTYXZlTW9kZSl7aWYodHlwZW9mIGNzc1NhdmVNb2RlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLkNzc1NhdmVNb2RlPWNzc1NhdmVNb2RlO30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnMpe2lmKHR5cGVvZiBkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLkRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnM9ZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRLZXl3b3Jkczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRLZXl3b3Jkczt9LHNldDpmdW5jdGlvbihkb2N1bWVudEtleXdvcmRzKXtpZighaXNBcnJheU9mVHlwZShkb2N1bWVudEtleXdvcmRzLFwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QXJyYXlPZlN0cmluZ3MpO31lLkRvY3VtZW50S2V5d29yZHM9ZG9jdW1lbnRLZXl3b3Jkczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudExldmVsSmF2YVNjcmlwdEFjdGlvbnM7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zKXtpZih0eXBlb2YgZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50TGV2ZWxKYXZhU2NyaXB0QWN0aW9ucz1kb2N1bWVudExldmVsSmF2YVNjcmlwdEFjdGlvbnM7fSxlbnVtZXJhYmxlOnRydWV9LGRvY3VtZW50U3ViamVjdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRTdWJqZWN0O30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50U3ViamVjdCl7aWYodHlwZW9mIGRvY3VtZW50U3ViamVjdCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9ZS5Eb2N1bWVudFN1YmplY3Q9ZG9jdW1lbnRTdWJqZWN0O30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudFRpdGxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudFRpdGxlO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50VGl0bGUpe2lmKHR5cGVvZiBkb2N1bWVudFRpdGxlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50VGl0bGU9ZG9jdW1lbnRUaXRsZTt9LGVudW1lcmFibGU6dHJ1ZX0saW1hZ2VDb21wcmVzc2lvblF1YWxpdHk6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlQ29tcHJlc3Npb25RdWFsaXR5O30sc2V0OmZ1bmN0aW9uKGltYWdlQ29tcHJlc3Npb25RdWFsaXR5KXtpZih0eXBlb2YgaW1hZ2VDb21wcmVzc2lvblF1YWxpdHkhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VDb21wcmVzc2lvblF1YWxpdHk9aW1hZ2VDb21wcmVzc2lvblF1YWxpdHk7fSxlbnVtZXJhYmxlOnRydWV9LGltYWdlRXhwb3J0RmlsdGVySW5kZXg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlRXhwb3J0RmlsdGVySW5kZXg7fSxzZXQ6ZnVuY3Rpb24oaW1hZ2VFeHBvcnRGaWx0ZXJJbmRleCl7aWYodHlwZW9mIGltYWdlRXhwb3J0RmlsdGVySW5kZXghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VFeHBvcnRGaWx0ZXJJbmRleD1pbWFnZUV4cG9ydEZpbHRlckluZGV4O30sZW51bWVyYWJsZTp0cnVlfSxpbWFnZU1heFJlc29sdXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlTWF4UmVzb2x1dGlvbjt9LHNldDpmdW5jdGlvbihpbWFnZU1heFJlc29sdXRpb24pe2lmKHR5cGVvZiBpbWFnZU1heFJlc29sdXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VNYXhSZXNvbHV0aW9uPWltYWdlTWF4UmVzb2x1dGlvbjt9LGVudW1lcmFibGU6dHJ1ZX0sbGFzdE1vZGlmaWNhdGlvbkRhdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkxhc3RNb2RpZmljYXRpb25EYXRlO30sc2V0OmZ1bmN0aW9uKGxhc3RNb2RpZmljYXRpb25EYXRlKXtpZih0eXBlb2YgbGFzdE1vZGlmaWNhdGlvbkRhdGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuTGFzdE1vZGlmaWNhdGlvbkRhdGU9bGFzdE1vZGlmaWNhdGlvbkRhdGU7fSxlbnVtZXJhYmxlOnRydWV9LG1hc3RlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5NYXN0ZXJQYXNzd29yZDt9LHNldDpmdW5jdGlvbihtYXN0ZXJQYXNzd29yZCl7aWYodHlwZW9mIG1hc3RlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLk1hc3RlclBhc3N3b3JkPW1hc3RlclBhc3N3b3JkO30sZW51bWVyYWJsZTp0cnVlfSxvbWl0dGVkQ29udGVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuT21pdHRlZENvbnRlbnQ7fSxzZXQ6ZnVuY3Rpb24ob21pdHRlZENvbnRlbnQpe2lmKHR5cGVvZiBvbWl0dGVkQ29udGVudCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5PbWl0dGVkQ29udGVudD1vbWl0dGVkQ29udGVudDt9LGVudW1lcmFibGU6dHJ1ZX0scmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuUmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDt9LHNldDpmdW5jdGlvbihyZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0KXtpZih0eXBlb2YgcmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5SZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0PXJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ7fSxlbnVtZXJhYmxlOnRydWV9LHNhdmVEb2N1bWVudEJhY2tDb2xvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuU2F2ZURvY3VtZW50QmFja0NvbG9yO30sc2V0OmZ1bmN0aW9uKHNhdmVEb2N1bWVudEJhY2tDb2xvcil7aWYodHlwZW9mIHNhdmVEb2N1bWVudEJhY2tDb2xvciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuU2F2ZURvY3VtZW50QmFja0NvbG9yPXNhdmVEb2N1bWVudEJhY2tDb2xvcjt9LGVudW1lcmFibGU6dHJ1ZX0sdXNlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Vc2VyUGFzc3dvcmQ7fSxzZXQ6ZnVuY3Rpb24odXNlclBhc3N3b3JkKXtpZih0eXBlb2YgdXNlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLlVzZXJQYXNzd29yZD11c2VyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9LH0pO31yZXR1cm4gU2F2ZVNldHRpbmdzO30pKCk7Yi5TYXZlU2V0dGluZ3MuQ3NzU2F2ZU1vZGU9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLENyZWF0ZUZpbGU6ODE5MixPdmVyd3JpdGVGaWxlOjE2Mzg0LElubGluZTozMjc2OH0pO2IuU2F2ZVNldHRpbmdzLk9taXR0ZWRDb250ZW50PU9iamVjdC5mcmVlemUoe05vbmU6MCxTdWJUZXh0UGFydHM6NjU1MzYsVHJhY2tlZENoYW5nZXM6MTMxMDcyLEVkaXRhYmxlUmVnaW9uczoyNjIxNDQsU2VjdGlvbnM6NTI0Mjg4LFRleHRGaWVsZHM6MTA0ODU3Nn0pO2IuU2F2ZVNldHRpbmdzLlJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ9T2JqZWN0LmZyZWV6ZSh7RGVmYXVsdDoxLERvY3VtZW50VGFyZ2V0czoyLFN1YlRleHRQYXJ0czozfSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Mb2FkU2V0dGluZ3M9KGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIExvYWRTZXR0aW5ncygpe3ZhciBlPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2FkZFBhcmFncmFwaDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuQWRkUGFyYWdyYXBoO30sc2V0OmZ1bmN0aW9uKGFkZFBhcmFncmFwaCl7aWYodHlwZW9mIGFkZFBhcmFncmFwaCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuQWRkUGFyYWdyYXBoPWFkZFBhcmFncmFwaDt9LGVudW1lcmFibGU6dHJ1ZX0sYXBwbGljYXRpb25GaWVsZEZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuQXBwbGljYXRpb25GaWVsZEZvcm1hdDt9LHNldDpmdW5jdGlvbihhcHBsaWNhdGlvbkZpZWxkRm9ybWF0KXtpZih0eXBlb2YgYXBwbGljYXRpb25GaWVsZEZvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5BcHBsaWNhdGlvbkZpZWxkRm9ybWF0PWFwcGxpY2F0aW9uRmllbGRGb3JtYXQ7fSxlbnVtZXJhYmxlOnRydWV9LGFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM7fSxzZXQ6ZnVuY3Rpb24oYXBwbGljYXRpb25GaWVsZFR5cGVOYW1lcyl7aWYoIWlzQXJyYXlPZlR5cGUoYXBwbGljYXRpb25GaWVsZFR5cGVOYW1lcyxzdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QXJyYXlPZlN0cmluZ3MpO31lLkFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM9YXBwbGljYXRpb25GaWVsZFR5cGVOYW1lczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczt9LHNldDpmdW5jdGlvbihkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zKXtpZih0eXBlb2YgZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9ucyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5Eb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zPWRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnM7fSxlbnVtZXJhYmxlOnRydWV9LGRvY3VtZW50QmFzZVBhdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkRvY3VtZW50QmFzZVBhdGg7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRCYXNlUGF0aCl7aWYodHlwZW9mIGRvY3VtZW50QmFzZVBhdGghPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWUuRG9jdW1lbnRCYXNlUGF0aD1kb2N1bWVudEJhc2VQYXRoO30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudFBhcnROYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudFBhcnROYW1lO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50UGFydE5hbWUpe2lmKHR5cGVvZiBkb2N1bWVudFBhcnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50UGFydE5hbWU9ZG9jdW1lbnRQYXJ0TmFtZTt9LGVudW1lcmFibGU6dHJ1ZX0saW1hZ2VTZWFyY2hQYXRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5JbWFnZVNlYXJjaFBhdGg7fSxzZXQ6ZnVuY3Rpb24oaW1hZ2VTZWFyY2hQYXRoKXtpZih0eXBlb2YgaW1hZ2VTZWFyY2hQYXRoIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkltYWdlU2VhcmNoUGF0aD1pbWFnZVNlYXJjaFBhdGg7fSxlbnVtZXJhYmxlOnRydWV9LGxvYWREb2N1bWVudEJhY2tDb2xvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuTG9hZERvY3VtZW50QmFja0NvbG9yO30sc2V0OmZ1bmN0aW9uKGxvYWREb2N1bWVudEJhY2tDb2xvcil7aWYodHlwZW9mIGxvYWREb2N1bWVudEJhY2tDb2xvciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuTG9hZERvY3VtZW50QmFja0NvbG9yPWxvYWREb2N1bWVudEJhY2tDb2xvcjt9LGVudW1lcmFibGU6dHJ1ZX0sbG9hZEh5cGVydGV4dExpbmtzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Mb2FkSHlwZXJ0ZXh0TGlua3M7fSxzZXQ6ZnVuY3Rpb24obG9hZEh5cGVydGV4dExpbmtzKXtpZih0eXBlb2YgbG9hZEh5cGVydGV4dExpbmtzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9ZS5Mb2FkSHlwZXJ0ZXh0TGlua3M9bG9hZEh5cGVydGV4dExpbmtzO30sZW51bWVyYWJsZTp0cnVlfSxsb2FkSW1hZ2VzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Mb2FkSW1hZ2VzO30sc2V0OmZ1bmN0aW9uKGxvYWRJbWFnZXMpe2lmKHR5cGVvZiBsb2FkSW1hZ2VzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9ZS5Mb2FkSW1hZ2VzPWxvYWRJbWFnZXM7fSxlbnVtZXJhYmxlOnRydWV9LGxvYWRTdWJUZXh0UGFydHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkxvYWRTdWJUZXh0UGFydHM7fSxzZXQ6ZnVuY3Rpb24obG9hZFN1YlRleHRQYXJ0cyl7aWYodHlwZW9mIGxvYWRTdWJUZXh0UGFydHMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31lLkxvYWRTdWJUZXh0UGFydHM9bG9hZFN1YlRleHRQYXJ0czt9LGVudW1lcmFibGU6dHJ1ZX0sbWFzdGVyUGFzc3dvcmQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLk1hc3RlclBhc3N3b3JkO30sc2V0OmZ1bmN0aW9uKG1hc3RlclBhc3N3b3JkKXtpZih0eXBlb2YgbWFzdGVyUGFzc3dvcmQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWUuTWFzdGVyUGFzc3dvcmQ9bWFzdGVyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9LFBERkltcG9ydFNldHRpbmdzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5QREZJbXBvcnRTZXR0aW5nczt9LHNldDpmdW5jdGlvbihQREZJbXBvcnRTZXR0aW5ncyl7aWYodHlwZW9mIFBERkltcG9ydFNldHRpbmdzIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLlBERkltcG9ydFNldHRpbmdzPVBERkltcG9ydFNldHRpbmdzO30sZW51bWVyYWJsZTp0cnVlfSxyZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5SZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0O30sc2V0OmZ1bmN0aW9uKHJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQpe2lmKHR5cGVvZiByZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLlJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ9cmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDt9LGVudW1lcmFibGU6dHJ1ZX0sdXNlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Vc2VyUGFzc3dvcmQ7fSxzZXQ6ZnVuY3Rpb24odXNlclBhc3N3b3JkKXtpZih0eXBlb2YgdXNlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLlVzZXJQYXNzd29yZD11c2VyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9fSk7fXJldHVybiBMb2FkU2V0dGluZ3M7fSkoKTtiLkxvYWRTZXR0aW5ncy5QREZJbXBvcnRTZXR0aW5ncz1PYmplY3QuZnJlZXplKHtHZW5lcmF0ZUxpbmVzOjEsR2VuZXJhdGVQYXJhZ3JhcGhzOjIsR2VuZXJhdGVUZXh0RnJhbWVzOjQsR2VuZXJhdGVYTUw6OH0pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0NhcmV0U2l6ZTpcIkNhcmV0U2l6ZVwiLENvbHVtbjpcIkNvbHVtblwiLEluYWN0aXZlTWFya2VyOlwiSW5hY3RpdmVNYXJrZXJcIixMaW5lOlwiTGluZVwiLExvY2F0aW9uOlwiTG9jYXRpb25cIixQYWdlOlwiUGFnZVwiLFBhZ2VJblNlY3Rpb246XCJQYWdlSW5TZWN0aW9uXCIsU2VjdGlvbjpcIlNlY3Rpb25cIixUZXh0UG9zaXRpb246XCJUZXh0UG9zaXRpb25cIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1Njcm9sbFRvOlwiU2Nyb2xsVG9cIn0pO2IuSW5wdXRQb3NpdGlvbj0oZnVuY3Rpb24oZil7X19leHRlbmRzKElucHV0UG9zaXRpb24sZik7ZnVuY3Rpb24gSW5wdXRQb3NpdGlvbigpe2YuY2FsbCh0aGlzKTt9SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuZ2V0Q2FyZXRTaXplPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhcmV0U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldENvbHVtbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Db2x1bW4sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRJbmFjdGl2ZU1hcmtlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JbmFjdGl2ZU1hcmtlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLnNldEluYWN0aXZlTWFya2VyPWZ1bmN0aW9uKGlzSW5hY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzSW5hY3RpdmUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JbmFjdGl2ZU1hcmtlcixpc0luYWN0aXZlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuZ2V0TGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTG9jYXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRQYWdlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlBhZ2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRQYWdlSW5TZWN0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlBhZ2VJblNlY3Rpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRTZWN0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlNlY3Rpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRUZXh0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuc2Nyb2xsVG89ZnVuY3Rpb24oZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGMuU2Nyb2xsVG8sY2FsbGJhY2ssW2ddLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIElucHV0UG9zaXRpb247fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5JbnB1dFBvc2l0aW9uLlNjcm9sbFBvc2l0aW9uPXtBdXRvOjAsTGVmdDoxLFJpZ2h0OjIsVG9wOjQsQm90dG9tOjh9O3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2xpZGVyT3JpZW50YXRpb249e1ZlcnRpY2FsOlwidmVydGljYWxcIixIb3Jpem9udGFsOlwiaG9yaXpvbnRhbFwifTtiLlNjcm9sbGJhcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGksbyxrKXt2YXIgbD10aGlzO2Z1bmN0aW9uIG4ocSl7dmFyIHM9YShxLmN1cnJlbnRUYXJnZXQpO3ZhciByPXMuZmluZChcIi50eHVpLXNsaWRlci1oYW5kbGVcIik7aWYocS50YXJnZXQhPXJbMF0pe3Euc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7fX1mdW5jdGlvbiBoKHEpe3ZhciByPWEocS5jdXJyZW50VGFyZ2V0KTt2YXIgdD0ocS5wYWdlWC1yLm9mZnNldCgpLmxlZnQpL3Iud2lkdGgoKTt2YXIgcz0oci5maW5kKFwiLnR4c2xpZGVyXCIpLnNsaWRlcihcIm9wdGlvblwiLFwidmFsdWVcIikvdGhpcy50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUuV2lkdGgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe3RoaXMudGV4dENvbnRyb2xWaWV3ZXIuZm9jdXMoKTt9aWYodD5zKXtiLnNjcm9sbERlbHRhKHtYOmIuU2Nyb2xsU3RlcCo1LFk6MH0sdGhpcy5jb21wb25lbnRUeXBlKTt9ZWxzZXtiLnNjcm9sbERlbHRhKHtYOi1iLlNjcm9sbFN0ZXAqNSxZOjB9LHRoaXMuY29tcG9uZW50VHlwZSk7fX1mdW5jdGlvbiBwKHEpe3ZhciByPWEocS5jdXJyZW50VGFyZ2V0KTt2YXIgdD0ocS5wYWdlWS1yLm9mZnNldCgpLnRvcCkvci5oZWlnaHQoKTt2YXIgcz0xLShyLmZpbmQoXCIudHhzbGlkZXJcIikuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiKS90aGlzLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZS5IZWlnaHQpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe3RoaXMudGV4dENvbnRyb2xWaWV3ZXIuZm9jdXMoKTt9aWYodD5zKXtiLnNjcm9sbERlbHRhKHtYOjAsWTpiLlNjcm9sbFN0ZXAqMTB9LHRoaXMuY29tcG9uZW50VHlwZSk7fWVsc2V7Yi5zY3JvbGxEZWx0YSh7WDowLFk6LWIuU2Nyb2xsU3RlcCoxMH0sdGhpcy5jb21wb25lbnRUeXBlKTt9fXRoaXMudXBkYXRlVmVydGljYWxTY3JvbGxiYXJTdHlsZT1mdW5jdGlvbigpe3ZhciB2PWwudHhzbGlkZXI7dmFyIHI9e3VwOmwuc2Nyb2xsYnV0dG9ucy5maWx0ZXIoXCIuc2Nyb2xsLWJ1dHRvbi11cFwiKSxkb3duOmwuc2Nyb2xsYnV0dG9ucy5maWx0ZXIoXCIuc2Nyb2xsLWJ1dHRvbi1kb3duXCIpfTt2YXIgcz12LmZpbmQoXCJhLnR4dWktc2xpZGVyLWhhbmRsZVwiKTt2YXIgdz1nKHtXaWR0aDpsLnRleHRDb250cm9sVmlld2VyLndpZHRoLEhlaWdodDpsLnRleHRDb250cm9sVmlld2VyLmhlaWdodH0pO2lmKGUobC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUsdykpe2wuanFDb250YWluZXIuaGlkZSgpO31lbHNle2wuanFDb250YWluZXIuc2hvdygpO312YXIgcT1yLnVwWzBdLmNsaWVudEhlaWdodDtsLnR4c2Nyb2xsYmFyd3JhcHBlci5oZWlnaHQobC50ZXh0Q29udHJvbFZpZXdlci5oZWlnaHQtMipxKTt2YXIgdT1sLnR4c2Nyb2xsYmFyd3JhcHBlci5oZWlnaHQoKTt2YXIgdD1NYXRoLm1heChiLk1pblNjcm9sbGJhckhhbmRsZUxlbmd0aCwody5IZWlnaHQvbC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUuSGVpZ2h0KSp1KTtzLmNzcyh7d2lkdGg6Yi5TY3JvbGxiYXJXaWR0aCxoZWlnaHQ6dCxsZWZ0OjAsbWFyZ2luQm90dG9tOi0odC8yKSx9KTt2LnNsaWRlcihcIm9wdGlvblwiLFwibWluXCIsMCk7di5zbGlkZXIoXCJvcHRpb25cIixcIm1heFwiLGwudGV4dENvbnRyb2xWaWV3ZXIuZG9jdW1lbnRTaXplLkhlaWdodCk7di5jc3Moe2hlaWdodDpsLnRleHRDb250cm9sVmlld2VyLmhlaWdodC10LSgyKnEpLG1hcmdpblRvcDp0LzJ9KTt9O3RoaXMudXBkYXRlSG9yaXpvbnRhbFNjcm9sbGJhclN0eWxlPWZ1bmN0aW9uKCl7dmFyIHc9bC50eHNsaWRlcjt2YXIgcT17bGVmdDpsLnNjcm9sbGJ1dHRvbnMuZmlsdGVyKFwiLnNjcm9sbC1idXR0b24tbGVmdFwiKSxyaWdodDpsLnNjcm9sbGJ1dHRvbnMuZmlsdGVyKFwiLnNjcm9sbC1idXR0b24tcmlnaHRcIil9O3ZhciBzPXcuZmluZChcImEudHh1aS1zbGlkZXItaGFuZGxlXCIpO3ZhciB2PWwudGV4dENvbnRyb2xWaWV3ZXIudmlld01vZGU9PWIuVmlld01vZGUuUGFnZVZpZXc/Yi5TY3JvbGxQYWRkaW5nOjA7dmFyIHg9Zyh7V2lkdGg6bC50ZXh0Q29udHJvbFZpZXdlci53aWR0aCxIZWlnaHQ6bC50ZXh0Q29udHJvbFZpZXdlci5oZWlnaHR9KTtpZihkKGwudGV4dENvbnRyb2xWaWV3ZXIuZG9jdW1lbnRTaXplLHgpKXtsLmpxQ29udGFpbmVyLmhpZGUoKTt9ZWxzZXtsLmpxQ29udGFpbmVyLnNob3coKTt9dmFyIHI9cS5sZWZ0WzBdLmNsaWVudFdpZHRoO2wudHhzY3JvbGxiYXJ3cmFwcGVyLndpZHRoKGwudGV4dENvbnRyb2xWaWV3ZXIud2lkdGgtMipyKTt2YXIgdT1sLnR4c2Nyb2xsYmFyd3JhcHBlci53aWR0aCgpO3ZhciB0PU1hdGgubWF4KGIuTWluU2Nyb2xsYmFySGFuZGxlTGVuZ3RoLCh4LldpZHRoL2wudGV4dENvbnRyb2xWaWV3ZXIuZG9jdW1lbnRTaXplLldpZHRoKSp1KTtzLmNzcyh7d2lkdGg6dCxoZWlnaHQ6Yi5TY3JvbGxiYXJXaWR0aCx0b3A6MCxtYXJnaW5MZWZ0Oi0odC8yKX0pO3cuc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5cIix2KTt3LnNsaWRlcihcIm9wdGlvblwiLFwibWF4XCIsbC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUuV2lkdGgtdik7dy5jc3Moe3dpZHRoOmwudGV4dENvbnRyb2xWaWV3ZXIud2lkdGgtdC0oMipyKSxtYXJnaW5MZWZ0OnQvMn0pO2wuanFDb250YWluZXIud2lkdGgobC50ZXh0Q29udHJvbFZpZXdlci53aWR0aCk7fTt0aGlzLnVwZGF0ZVNjcm9sbGJhclN0eWxlPWZ1bmN0aW9uKCl7aWYobC5zY3JvbGxiYXJkaXJlY3Rpb249PWIuU2xpZGVyT3JpZW50YXRpb24uVmVydGljYWwpe2wudXBkYXRlVmVydGljYWxTY3JvbGxiYXJTdHlsZSgpO31lbHNle2lmKGwuc2Nyb2xsYmFyZGlyZWN0aW9uPT1iLlNsaWRlck9yaWVudGF0aW9uLkhvcml6b250YWwpe2wudXBkYXRlSG9yaXpvbnRhbFNjcm9sbGJhclN0eWxlKCk7fX19O3RoaXMudXBkYXRlU2xpZGVyUG9zaXRpb25zPWZ1bmN0aW9uKCl7dmFyIHE9bC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemU7aWYobC5pc1NsaWRpbmcpe3JldHVybjt9aWYoIXEuV2lkdGh8fCFxLkhlaWdodCl7cmV0dXJuO312YXIgdj1sLnRleHRDb250cm9sVmlld2VyLnZpZXdNb2RlPT1iLlZpZXdNb2RlLlBhZ2VWaWV3P2IuU2Nyb2xsUGFkZGluZzowO3ZhciB3PXtXaWR0aDpsLnRleHRDb250cm9sVmlld2VyLndpZHRoLEhlaWdodDpsLnRleHRDb250cm9sVmlld2VyLmhlaWdodH07dz1nKHcsbC50ZXh0Q29udHJvbFZpZXdlci56b29tRmFjdG9yKTt2YXIgcj1xLldpZHRoLXcuV2lkdGg7dmFyIHg9cS5IZWlnaHQtdy5IZWlnaHQ7dmFyIHQ9KGwudGV4dENvbnRyb2xWaWV3ZXIudGV4dFZpZXdMb2NhdGlvbi5YK3YpL3I7dmFyIHU9bC50ZXh0Q29udHJvbFZpZXdlci50ZXh0Vmlld0xvY2F0aW9uLlkveDt2YXIgcz1sLnR4c2xpZGVyLnNsaWRlcihcIm9wdGlvblwiLFwib3JpZW50YXRpb25cIik7c3dpdGNoKHMpe2Nhc2UgYi5TbGlkZXJPcmllbnRhdGlvbi5WZXJ0aWNhbDpsLnR4c2xpZGVyLnNsaWRlcihcIm9wdGlvblwiLFwidmFsdWVcIiwoMS11KSpxLkhlaWdodCk7YnJlYWs7Y2FzZSBiLlNsaWRlck9yaWVudGF0aW9uLkhvcml6b250YWw6bC50eHNsaWRlci5zbGlkZXIoXCJvcHRpb25cIixcInZhbHVlXCIsKHQqYi5kb2N1bWVudFNpemUuV2lkdGgpLXYpO2JyZWFrO319O2Z1bmN0aW9uIG0ocSxzKXt2YXIgcj1hKHEudGFyZ2V0KTtzd2l0Y2goci5zbGlkZXIoXCJvcHRpb25cIixcIm9yaWVudGF0aW9uXCIpKXtjYXNlIGIuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbDpsLnRleHRDb250cm9sVmlld2VyLmhTY3JvbGwocy52YWx1ZSk7YnJlYWs7Y2FzZSBiLlNsaWRlck9yaWVudGF0aW9uLlZlcnRpY2FsOnZhciB0PXIuc2xpZGVyKFwib3B0aW9uXCIsXCJtYXhcIiktcy52YWx1ZTtsLnRleHRDb250cm9sVmlld2VyLnZTY3JvbGwodCk7YnJlYWs7fX1pZihrIT09Yi5TbGlkZXJPcmllbnRhdGlvbi5WZXJ0aWNhbCYmayE9PWIuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbCl7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcmllbnRhdGlvbi5cIik7fXRoaXMudGV4dENvbnRyb2xWaWV3ZXI9bzt0aGlzLnNjcm9sbGJhcmRpcmVjdGlvbj1rO3RoaXMuc2Nyb2xsU3RlcD1iLlNjcm9sbFN0ZXA7dGhpcy5qcUNvbnRhaW5lcj1pO3RoaXMuY29tcG9uZW50VHlwZT10aGlzLnRleHRDb250cm9sVmlld2VyLmNvbXBvbmVudFZpZXdlci5jb21wb25lbnRUeXBlO3RoaXMudHhzY3JvbGxiYXJ3cmFwcGVyPXRoaXMuanFDb250YWluZXIuZmluZChcIi5zY3JvbGxiYXItd3JhcHBlclwiKTt0aGlzLnR4c2Nyb2xsYmFyd3JhcHBlci51bmJpbmQoXCJrZXlkb3duXCIpO3N3aXRjaChrKXtjYXNlIGIuU2xpZGVyT3JpZW50YXRpb24uVmVydGljYWw6dGhpcy50eHNjcm9sbGJhcndyYXBwZXIuY2xpY2socC5iaW5kKHRoaXMpKTticmVhaztjYXNlIGIuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbDp0aGlzLnR4c2Nyb2xsYmFyd3JhcHBlci5jbGljayhoLmJpbmQodGhpcykpO2JyZWFrO310aGlzLnR4c2xpZGVyPXRoaXMuanFDb250YWluZXIuZmluZChcIi50eHNsaWRlclwiKTt0aGlzLnR4c2xpZGVyLm9uKFwibW91c2Vkb3duXCIsbik7dGhpcy50eHNsaWRlci5vbihcInRvdWNoc3RhcnRcIixuKTt0aGlzLmlzU2xpZGluZz1mYWxzZTt0aGlzLnR4c2xpZGVyLnNsaWRlcih7b3JpZW50YXRpb246dGhpcy5zY3JvbGxiYXJkaXJlY3Rpb24sbWluOjAsbWF4OjEwMCx2YWx1ZToxMDAsc2xpZGU6bSxzdGFydDpmdW5jdGlvbigpe2wuaXNTbGlkaW5nPXRydWU7fSxzdG9wOmZ1bmN0aW9uKCl7bC5pc1NsaWRpbmc9ZmFsc2U7fX0pO3RoaXMuc2Nyb2xsYnV0dG9ucz1pLmZpbmQoXCJkaXYuc2Nyb2xsLWJ1dHRvblwiKTt0aGlzLnNjcm9sbGJ1dHRvbnMuY2xpY2soZnVuY3Rpb24ocil7dmFyIHE7dmFyIHM9bC5zY3JvbGxTdGVwO2lmKHIudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNjcm9sbC1idXR0b24tdXBcIikpe3E9e1g6MCxZOi1zfTt9ZWxzZXtpZihyLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzY3JvbGwtYnV0dG9uLWRvd25cIikpe3E9e1g6MCxZOnN9O31lbHNle2lmKHIudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNjcm9sbC1idXR0b24tbGVmdFwiKSl7cT17WDotcyxZOjB9O31lbHNle2lmKHIudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNjcm9sbC1idXR0b24tcmlnaHRcIikpe3E9e1g6cyxZOjB9O31lbHNle3JldHVybjt9fX19bC50ZXh0Q29udHJvbFZpZXdlci5zY3JvbGxEZWx0YShxKTt9KTt0aGlzLnVwZGF0ZVNjcm9sbGJhclN0eWxlKCk7dGhpcy51cGRhdGVTbGlkZXJQb3NpdGlvbnMoKTtmdW5jdGlvbiBqKHEpe2wudXBkYXRlU2xpZGVyUG9zaXRpb25zKCk7bC51cGRhdGVTY3JvbGxiYXJTdHlsZSgpO310aGlzLnRleHRDb250cm9sVmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJkb2N1bWVudFNpemVDaGFuZ2VkXCIsaik7dGhpcy50ZXh0Q29udHJvbFZpZXdlci5hZGRFdmVudExpc3RlbmVyKFwid2lkdGhDaGFuZ2VkXCIsaik7dGhpcy50ZXh0Q29udHJvbFZpZXdlci5hZGRFdmVudExpc3RlbmVyKFwiaGVpZ2h0Q2hhbmdlZFwiLGopO31mdW5jdGlvbiBlKGgsaSl7cmV0dXJuKGguSGVpZ2h0PD1pLkhlaWdodCk7fWZ1bmN0aW9uIGQoaCxpKXtyZXR1cm4oaC5XaWR0aDw9aS5XaWR0aCk7fWZ1bmN0aW9uIGcoaSxoKXtyZXR1cm57V2lkdGg6Yi5weDJ0d2lwcyhpLldpZHRoLGgsYi5EZWZSZXMpLEhlaWdodDpiLnB4MnR3aXBzKGkuSGVpZ2h0LGgsYi5EZWZSZXMpfTt9cmV0dXJuIGY7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRYU2lkZWJhcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGUsaCl7dmFyIGk9dGhpczt0aGlzLm1pbldpZHRoPWh8fDIxMDt0aGlzLmV2ZW50TWFuYWdlcj1uZXcgYi5FdmVudE1hbmFnZXIoKTt0aGlzLmNvbnRhaW5lcj1lO3RoaXMuaXNWaXNpYmxlPWZhbHNlO2UucXVlcnlTZWxlY3RvcihcIi5jbG9zZWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2kuaGlkZSgpO30pO3RoaXMuZHJhZ0Jhcj1uZXcgYi5UWERyYWdiYXIoZSk7dGhpcy5kcmFnQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZ2VkXCIsZyk7dGhpcy5kcmFnQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnRmluaXNoZWRcIixmKTtmdW5jdGlvbiBnKGope2lmKChpLndpZHRoK2oucG9zTmV3KTxpLm1pbldpZHRoKXtqLmNhbmNlbD10cnVlO319ZnVuY3Rpb24gZihqKXt2YXIgaz1NYXRoLm1heChpLm1pbldpZHRoLGkud2lkdGgraik7aS53aWR0aD1rO2IuYXJyYW5nZUNvbnRyb2xzKCk7fX1kLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGYsZSl7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihmLGUpO307T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiaGVhZGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJUaXRsZVwiKS5pbm5lclRleHQ7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFySGVhZGVyVGl0bGVcIikuaW5uZXJUZXh0PWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiaGVhZGVyQ2hhbmdlZFwiLGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO30sc2V0OmZ1bmN0aW9uKGYpe3ZhciBlPWYtdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7dmFyIGc9cGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lcikud2lkdGgpO3RoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPShnK2UpK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyLmhlaWdodD1lO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiYmFja2dyb3VuZENvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiYmFja2dyb3VuZENvbG9yXCIsZSk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0aXRsZUZvcmVncm91bmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclRpdGxlXCIpLnN0eWxlLmNvbG9yO30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclRpdGxlXCIpLnN0eWxlLmNvbG9yPWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwidGl0bGVGb3JlZ3JvdW5kXCIsZSk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0aXRsZUZvbnRTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJUaXRsZVwiKS5zdHlsZS5mb250U2l6ZTt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJUaXRsZVwiKS5zdHlsZS5mb250U2l6ZT1lO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcInRpdGxlRm9udFNpemVcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInN1YlRpdGxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJTdWJUaXRsZVwiKS5pbm5lclRleHQ7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFySGVhZGVyU3ViVGl0bGVcIikuaW5uZXJUZXh0PWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwic2lkZWJhckhlYWRlclN1YlRpdGxlXCIsZSk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5kcmFnQmFyLmhpZGUoKTt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3RoaXMuaXNWaXNpYmxlPWZhbHNlO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcImhpZGRlblwiLHRoaXMpO307ZC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheT1cImZsZXhcIjt0aGlzLmRyYWdCYXIuc2hvdygpO3RoaXMuaXNWaXNpYmxlPXRydWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwidmlzaWJsZVwiLHRoaXMpO2MuZ2V0QmFja0NvbG9yKGZ1bmN0aW9uKGYpe2UuYmFja2dyb3VuZENvbG9yPWY7fSk7fTtyZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVFhEcmFnYmFyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZil7dGhpcy5ldmVudE1hbmFnZXI9bmV3IGIuRXZlbnRNYW5hZ2VyKCk7dGhpcy5tb3VzZVhDaGFuZ2U9MDt0aGlzLmRyYWdCYXJFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5kcmFnQmFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidHhEcmFnQmFyXCIpO3RoaXMuZWxlbVNpZGVCYXI9Zjt0aGlzLmRyYWdCYXJFbGVtZW50LmlkPWYuaWQrXCJfZHJhZ2JhclwiO3RoaXMuX2xlZnQ7Zi5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZHJhZ0JhckVsZW1lbnQpO3RoaXMuZHJhZ0JhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGQuYmluZCh0aGlzKSk7fWZ1bmN0aW9uIGQoZil7dmFyIGs9dGhpczt2YXIgaj1mLmNsaWVudFg7dmFyIGc9dGhpcy5fbGVmdDtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGkpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixoKTt0aGlzLmRyYWdCYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkcmFnZ2luZ1wiKTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJkcmFnU3RhcnRlZFwiKTtmdW5jdGlvbiBoKG0pe3ZhciBuPW0uY2xpZW50WC1qO3ZhciBsPXtwb3NOZXc6bixjYW5jZWw6ZmFsc2V9O2suZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcImRyYWdnZWRcIixsKTtpZihsLmNhbmNlbCl7cmV0dXJuO31rLmxlZnQ9KGcrbik7fWZ1bmN0aW9uIGkobCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixpKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsaCk7ay5kcmFnQmFyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7ay5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiZHJhZ0ZpbmlzaGVkXCIsbC5jbGllbnRYLWopO2sudXBkYXRlUG9zaXRpb24oKTt9fWUucHJvdG90eXBlLnVwZGF0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIiksaz1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtU2lkZUJhciksaT10aGlzLmRyYWdCYXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGo9dGhpcy5lbGVtU2lkZUJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxoPXBhcnNlRmxvYXQobC5wYWRkaW5nUmlnaHQpLGY9cGFyc2VGbG9hdChsLmJvcmRlclJpZ2h0V2lkdGgpO3RoaXMubGVmdD0oai5sZWZ0K2oud2lkdGgpLWgtZi1rLmxlZnQ7fTtlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQb3NpdGlvbigpO3RoaXMuZHJhZ0JhckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImlubGluZS1ibG9ja1wiO307ZS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZHJhZ0JhckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImxlZnRcIix7c2V0OmZ1bmN0aW9uKGYpe3RoaXMuX2xlZnQ9Zjt0aGlzLmRyYWdCYXJFbGVtZW50LnN0eWxlLmxlZnQ9ZitcInB4XCI7fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVmdDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO2UucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZyxmKXt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGcsZik7fTtyZXR1cm4gZTt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWVzc2FnZUJveERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGYsZCk7dmFyIGU9T2JqZWN0LmZyZWV6ZSh7WWVzTm86MCxPSzoxLH0pO3ZhciBnPU9iamVjdC5mcmVlemUoe05vbmU6MCxBc3RlcmlzazoxLEVycm9yOjIsRXhjbGFtYXRpb246MyxIYW5kOjQsSW5mb3JtYXRpb246NSxRdWVzdGlvbjo2LFN0b3A6NyxXYXJuaW5nOjh9KTtmdW5jdGlvbiBmKGwsayxpLGope2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5NZXNzYWdlQm94RGlhbG9nfTt0aGlzLnRpdGxlPWw7dGhpcy50ZXh0PWt8fFwiXCI7dGhpcy5idXR0b25zPWk7dGhpcy5pY29uPWo7dGhpcy5kaWFsb2dSZXN1bHQ9ZmFsc2U7dGhpcy5kaWFsb2dDb250YWluZXJJRD1cImRpYWxvZ0NvbnRhaW5lclwiK3JhbmRvbUludEZyb21JbnRlcnZhbCgxMDAwMCw5OTk5OSk7fWYucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihpKXt0aGlzLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UoaSk7fTtmLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihqKXt2YXIgaT17ZGlhbG9nUmVzdWx0OnRoaXMuZGlhbG9nUmVzdWx0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsYi5IVE1MRGlhbG9nVHlwZS5NZXNzYWdlQm94RGlhbG9nLDAsMCxpKTthKGopLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTtpZighYi5pc1RvdWNoRGV2aWNlKXtiLnRleHRWaWV3ZXIuZm9jdXMoKTt9fTtmLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGope3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXNnQm94RGxnX0ljb25cIik7aWYodGhpcy5pY29uPT1nLk5vbmUpe2sucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChrKTt9ZWxzZXtzd2l0Y2godGhpcy5pY29uKXtjYXNlIGcuSW5mb3JtYXRpb246ay5pbm5lclRleHQ9XCJcXFxcdTFGNkM4XCI7YnJlYWs7Y2FzZSBnLldhcm5pbmc6ay5pbm5lclRleHQ9XCJcXFxcdTI2QTBcIjticmVhazt9fXZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXNnQm94RGxnX1RleHRcIik7bC5pbm5lckhUTUw9dGhpcy50ZXh0O3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUJveERpYWxvZ1wiKTtpLnN0eWxlLmhlaWdodD0oaS5jbGllbnRIZWlnaHQrbC5jbGllbnRIZWlnaHQrNSkrXCJweFwiO307ZnVuY3Rpb24gaChqKXt2YXIgaTtzd2l0Y2goai5idXR0b25zKXtjYXNlIGUuT0s6aT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk9LX1wiK2ouZGlhbG9nQ29udGFpbmVySUQrXCIgc3Bhbi50eHVpLWJ1dHRvbi10ZXh0XCIpO2kudGV4dENvbnRlbnQ9Yi52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLkJUTl9PSzticmVhazt9fWYucHJvdG90eXBlLmRpYWxvZ2l6ZT1mdW5jdGlvbihrKXt2YXIgbD10aGlzO3ZhciBpPXt9O3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGlhbG9nQ29udGFpbmVySUQpO2ouaW5uZXJIVE1MPWsuaHRtbDtzd2l0Y2godGhpcy5idXR0b25zKXtjYXNlIGUuT0s6aT17T0s6e3RleHQ6XCJPS1wiLGNsaWNrOmZ1bmN0aW9uKCl7bC5PS0hhbmRsZXIodGhpcyk7fSxpZDpcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUR9fTticmVhazt9YShcIiNtZXNzYWdlQm94RGlhbG9nXCIpLmRpYWxvZyh7bW9kYWw6dHJ1ZSxyZXNpemFibGU6ZmFsc2Usd2lkdGg6XCJhdXRvXCIsaGVpZ2h0OjExMCx0aXRsZTp0aGlzLnRpdGxlfHxcIk1lc3NhZ2UgQm94XCIsYnV0dG9uczppLGNsb3NlOmZ1bmN0aW9uKCl7bC5jbG9zZSh0aGlzKTt9LG9wZW46ZnVuY3Rpb24oKXtsLmluaXQodGhpcyk7fSx9KS5rZXlwcmVzcyhmdW5jdGlvbihtKXtpZihtLmtleUNvZGU9PWEudWkua2V5Q29kZS5FTlRFUil7bC5PS0hhbmRsZXIodGhpcyk7cmV0dXJuIGZhbHNlO319KTtoKHRoaXMpO3RoaXMuaXNEaWFsb2dSZWFkeT10cnVlO307cmV0dXJuIGY7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlZpZXdNb2RlPXtQYWdlVmlldzoyNTYsTm9ybWFsOjUxMn07Yi5UZXh0Q29tcG9uZW50Vmlld2VyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSxmKXt0aGlzLmNvbXBvbmVudFZpZXdlcj1uZXcgYi5Db21wb25lbnRWaWV3ZXIoZSxmKTt0aGlzLmV2ZW50TWFuYWdlcj1uZXcgYi5FdmVudE1hbmFnZXIoKTt0aGlzLm1fZG9jdW1lbnRTaXplPXtIZWlnaHQ6MCxXaWR0aDowfTt0aGlzLm1fdGV4dFZpZXdMb2NhdGlvbj17WDowLFk6MH07dGhpcy5tX3ZpZXdNb2RlPWIuVmlld01vZGUuTm9ybWFsO3RoaXMubV96b29tRmFjdG9yPTEwMDt0aGlzLndpZHRoPXRoaXMud2lkdGg7dGhpcy5oZWlnaHQ9dGhpcy5oZWlnaHQ7fWQucHJvdG90eXBlLnNjcm9sbERlbHRhPWZ1bmN0aW9uKGUpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNjcm9sbERlbHRhLGUuWCxlLlksdGhpcy5jb21wb25lbnRWaWV3ZXIuY29tcG9uZW50VHlwZSk7fTtkLnByb3RvdHlwZS52U2Nyb2xsPWZ1bmN0aW9uKGUpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlZTY3JvbGwsZSx0aGlzLmNvbXBvbmVudFZpZXdlci5jb21wb25lbnRUeXBlKTt9O2QucHJvdG90eXBlLmhTY3JvbGw9ZnVuY3Rpb24oZSl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuSFNjcm9sbCxlLHRoaXMuY29tcG9uZW50Vmlld2VyLmNvbXBvbmVudFR5cGUpO307ZC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihmLGUpe3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInZpZXdNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fdmlld01vZGU7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5tX3ZpZXdNb2RlPWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwidmlld01vZGVDaGFuZ2VkXCIsdGhpcy5tX3ZpZXdNb2RlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImRvY3VtZW50U2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX2RvY3VtZW50U2l6ZTt9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1fZG9jdW1lbnRTaXplPWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiZG9jdW1lbnRTaXplQ2hhbmdlZFwiLGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwidGV4dFZpZXdMb2NhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX3RleHRWaWV3TG9jYXRpb247fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5tX3RleHRWaWV3TG9jYXRpb249ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ0ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZFwiLHRoaXMubV90ZXh0Vmlld0xvY2F0aW9uKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInpvb21GYWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubV96b29tRmFjdG9yO30sc2V0OmZ1bmN0aW9uKHpvb21GYWN0b3Ipe2lmKHpvb21GYWN0b3I9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihcXCdQYXJhbWV0ZXIgXCJ6b29tRmFjdG9yXCIgaXMgdW5kZWZpbmVkLlxcJyk7fWlmKCh0eXBlb2Ygem9vbUZhY3RvciE9PVwibnVtYmVyXCIpfHwoKHpvb21GYWN0b3I8MTApJiYoem9vbUZhY3Rvcj4tMSkpfHwoem9vbUZhY3RvcjwtMykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJab29tIGZhY3RvciBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyID49IDEwIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCB6b29tIGZhY3RvciB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlNwZWNpYWxab29tRmFjdG9yLlwiKTt9em9vbUZhY3Rvcj1NYXRoLnJvdW5kKHpvb21GYWN0b3IpO2lmKHpvb21GYWN0b3IhPXRoaXMubV96b29tRmFjdG9yKXt0aGlzLm1fem9vbUZhY3Rvcj16b29tRmFjdG9yO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlpvb20sem9vbUZhY3Rvcix0aGlzLmNvbXBvbmVudFZpZXdlci5jb21wb25lbnRUeXBlKTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ6b29tRmFjdG9yQ2hhbmdlZFwiLHRoaXMubV96b29tRmFjdG9yKTt9fSxlbnVtZXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5zZWxlY3RIaWRkZW5UZXh0ZmllbGRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNlbGVjdEhpZGRlblRleHRmaWVsZENvbnRlbnQoKTt9O2QucHJvdG90eXBlLnNldEhpZGRlblRleHRGaWVsZFRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNldEhpZGRlblRleHRGaWVsZFRleHQoZSk7fTtkLnByb3RvdHlwZS5tb3VzZUJ1dHRvblRvTW91c2VCdXR0b25GbGFnPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5tb3VzZUJ1dHRvblRvTW91c2VCdXR0b25GbGFnKGUpO307ZC5wcm90b3R5cGUuZ2V0TW91c2VQb3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmdldE1vdXNlUG9zKGUpO307ZC5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5ibHVyKCk7fTtkLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5mb2N1cygpO307ZC5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5kcmF3U2hhcGUoZSk7fTtkLnByb3RvdHlwZS5oaWRlU2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuaGlkZVNoYXBlKCk7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIud2lkdGg7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIud2lkdGg9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ3aWR0aENoYW5nZWRcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuaGVpZ2h0O30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY29tcG9uZW50Vmlld2VyLmhlaWdodD1lO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcImhlaWdodENoYW5nZWRcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmxlZnQ7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIubGVmdD1lO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci50b3A7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIudG9wPWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJjYXJldEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FyZXRCb3VuZHM7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5zZXRDYXJldFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5zZXRDYXJldFN0YXRlKGUpO307ZC5wcm90b3R5cGUuc2V0SW1hZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNldEltYWdlKGUpO307ZC5wcm90b3R5cGUucmVxdWVzdFVwZGF0ZUltYWdlUmVnaW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIucmVxdWVzdFVwZGF0ZUltYWdlUmVnaW9ucyhlKTt9O2QucHJvdG90eXBlLnJlcXVlc3RTY3JvbGw9ZnVuY3Rpb24oZSxmKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIucmVxdWVzdFNjcm9sbChlLGYpO307ZC5wcm90b3R5cGUudXBkYXRlSW1hZ2VSZWdpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci51cGRhdGVJbWFnZVJlZ2lvbnMoZSk7fTtkLnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24oZSxmKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2Nyb2xsKGUsZik7fTtkLnByb3RvdHlwZS5wcm9jZXNzTmV4dFF1ZXVlRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIucHJvY2Vzc05leHRRdWV1ZUVudHJ5KCk7fTtkLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNob3coKTt9O2QucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuaGlkZSgpO307ZC5wcm90b3R5cGUuc2hvd0NhcmV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNob3dDYXJldCgpO307ZC5wcm90b3R5cGUuaGlkZUNhcmV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmhpZGVDYXJldCgpO307ZC5wcm90b3R5cGUucmVmcmVzaENhcmV0TG9jYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNvbXBvbmVudFZpZXdlci5yZWZyZXNoQ2FyZXRMb2NhdGlvbigpO307ZC5wcm90b3R5cGUuYnVmZmVyQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5idWZmZXJDb250ZW50KCk7fTtkLnByb3RvdHlwZS5kcmF3QnVmZmVyZWRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmRyYXdCdWZmZXJlZENvbnRlbnQoKTt9O2QucHJvdG90eXBlLmNhbnZhc19Nb3VzZURvd249ZnVuY3Rpb24oKXt0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfTW91c2VEb3duKGV2ZW50KTt9O2QucHJvdG90eXBlLmNhbnZhc19Nb3VzZVVwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfTW91c2VVcChlKTt9O2QucHJvdG90eXBlLmNhbnZhc19DbGljaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX0NsaWNrKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX01vdXNlTW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX01vdXNlTW92ZShlKTt9O2QucHJvdG90eXBlLmNhbnZhc19Eb3VibGVDbGljaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX0RvdWJsZUNsaWNrKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX1RvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Ub3VjaFN0YXJ0KGUpO307ZC5wcm90b3R5cGUuY2FudmFzX1RvdWNoRHJhZ1RleHRWaWV3PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hEcmFnVGV4dFZpZXcoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hQaW5jaFRleHRWaWV3PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hQaW5jaFRleHRWaWV3KGUpO307ZC5wcm90b3R5cGUuY2FudmFzX1RvdWNoTW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX1RvdWNoTW92ZShlKTt9O2QucHJvdG90eXBlLmNhbnZhc19Ub3VjaE1vdmVUZXh0Vmlldz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX1RvdWNoTW92ZVRleHRWaWV3KGUpO307ZC5wcm90b3R5cGUuY2FudmFzX1RvdWNoRW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hFbmQoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hDYW5jZWw9ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX1RvdWNoQ2FuY2VsKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX01vdXNlV2hlZWw9ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX01vdXNlV2hlZWwoZSk7fTtkLnByb3RvdHlwZS5jdXJzb3JDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuY29tcG9uZW50Vmlld2VyLmN1cnNvckNoYW5nZWQoZSk7fTtkLnByb3RvdHlwZS5zaGFwZUJsaW5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNoYXBlQmxpbmsoKTt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihiYyxhKXtcInVzZSBzdHJpY3RcIjt2YXIgYz1iYy5fcHJpdmF0ZT1iYy5fcHJpdmF0ZXx8e307YmMudmVyc2lvbj1cIjI4LjBcIjtmdW5jdGlvbiBhWSgpe2RlbGV0ZSBiYy5fcHJpdmF0ZTt9Yy5pc1NTTENvbm5lY3Rpb249KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD09PVwiaHR0cHM6XCIpO3ZhciBLPTU5O2MuQ29tbWFuZD1PYmplY3QuZnJlZXplKHtJbWFnZToxLENsb3NlOjQsVW5kbzo1LE5ld0ZpbGU6NixDdXQ6MTAsQ29weToxMSxQYXN0ZToxMixSZWRvOjEzLEdldEZpbGVMaXN0OjE0LE9wZW5GaWxlOjE1LEdyb3dGb250OjE3LFNocmlua0ZvbnQ6MTgsU2V0TGFuZHNjYXBlOjE5LFByaW50VG9QREY6MjIsSW5jcmVhc2VJbmRlbnQ6MjMsRGVjcmVhc2VJbmRlbnQ6MjQsRG9jdW1lbnRTaXplQ2hhbmdlZDozMixJbnB1dFBvc2l0aW9uQ2hhbmdlZDozMyxXaW5kb3dSZXNpemVkOjM0LEhTY3JvbGw6MzUsVlNjcm9sbDozNixTY3JvbGxEZWx0YTozNyxJbnNlcnRCbGFua1BhZ2U6MzgsSW5zZXJ0QnJlYWs6MzksVGV4dFZpZXdMb2NhdGlvbjo0NCxab29tOjQ1LFRDUFNlcnZlck1lc3NhZ2U6NTAsQ29uc29sZUxvZzo1MSxJbWFnZUxvYWRlZDo1MixDbGllbnRQYXN0ZTo1MyxHZXREb2N1bWVudFRhcmdldHM6NTQsSW5zZXJ0SXRlbTo1NSxHZXRJdGVtOjU2LERlbGV0ZUl0ZW06NTcsRW5hYmxlU3BlbGxDaGVja2luZzo1OCxFbmFibGVIeXBoZW5hdGlvbjo1OSxJbnNlcnREb2N1bWVudEZpbGU6NjAsR2V0RGlhbG9nUmVzb3VyY2VzOjYxLFNldEFwcE1vZGU6NjIsTWFpbE1lcmdlUHJldk5hdjo2MyxGaW5pc2hBbmRNZXJnZTo2NCxTaG93RGlhbG9nOjY1LERpYWxvZ1Jlc3VsdDo2NixGaWVsZERpc3BsYXlNb2RlQ2hhbmdlZDo2NyxXYWl0RGlhbG9nOjY5LFNlbGVjdE1hc3RlclRhYmxlOjcwLFNldEZpZWxkRGlzcGxheU1vZGU6NzEsSGlnaGxpZ2h0TWVyZ2VGaWVsZHM6NzIsQ3Vyc29yQ2hhbmdlZDo3NixDb21wb25lbnRFdmVudDo3NyxDYXJldFN0YXRlQ2hhbmdlZDo3OCxDbG9zZURpYWxvZzo3OSxJbWFnZVJlZ2lvbnM6ODAsU2Nyb2xsOjgxLEVkaXREYXRhUmVsYXRpb25zOjgyLEVkaXRNZXJnZUJsb2Nrczo4NCxHb1RvSXRlbTo4NSxEaXNwbGF5VmlzdWFsRWxlbWVudDo4NixUYWJsZUNvbW1hbmQ6ODcsQ29udGV4dE1lbnVEYXRhOjg4LENvbnRleHRNZW51SXRlbUNsaWNrZWQ6ODksRHJhd1NoYXBlOjkwLEZpZWxkUHJvcGVydGllc0RpYWxvZzo5MSxTZXRJdGVtUHJvcGVydHk6OTIsSHlwZXJ0ZXh0TGlua0NsaWNrZWQ6OTMsU2F2ZURvY3VtZW50RmlsZTo5NCxQaW5nOjk1LFBvbmc6OTYsU3RyaW5nUmVzb3VyY2VzOjk4LFNlcnZlckV2ZW50OjEwMixTZXRDb25uZWN0aW9uSUQ6MTAzLEVuYWJsZUxhbmdEZXRlY3Q6MTA1LEl0ZW1BY3RpdmF0aW9uU3RhdGVDaGFuZ2VkRXZlbnQ6MTA2LFNhdmU6MTA4LENvbXBvbmVudEFjdGl2YXRpb25TdGF0ZToxMDksRWRpdE1vZGU6MTExLFNlbGVjdGlvbjoxMTIsQmFja0NvbG9yOjExMyxTdGF0dXNCYXJDb2xvcjoxMTQsU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQ6MTE3LEhUTUxEaWFsb2dTdGF0ZToxMTgsT3BlbkRpcmVjdG9yeToxMTksRG9jdW1lbnREaXJ0eUNoYW5nZWQ6MTIwLERvY3VtZW50U2F2ZWQ6MTIxLEVuYWJsZVNhdmVEb2N1bWVudFF1ZXN0aW9uOjEyMixDb250ZXh0TWVudXNFbmFibGVkOjEyMyxTZXRUZXh0RmllbGRzRWRpdGFibGU6MTI0LElzVG91Y2hEZXZpY2U6MTI2LFNlcnZlckNvbnNvbGVXcml0ZUxpbmU6MTI3LEltYWdlUmVzb3VyY2VzOjEyOSxDcmVhdGVUZXh0Q29udHJvbDoxMzAsU2VsZWN0QWxsOjEzMixUWFNldHRpbmdzOjEzMyxSZXNldENvbnRlbnRzOjEzNSxIaWdobGlnaHRNZXJnZUJsb2NrczoxMzYsQ2xpZW50U2VsZWN0aW9uOjEzNyxFbmFibGVMb2FkV2FpdERpYWxvZzoxMzgsQ2xpZW50VGV4dFBhcnQ6MTM5LFRyaWFsU3RyaW5nOjE0MCxDbGlwYm9hcmRNb2RlOjE0MSxUZXh0Q29udHJvbExvYWRlZDoxNDIsR2V0RmlsZURpcmVjdG9yeToxNDQsU2V0RmlsZURpcmVjdG9yeToxNDUsQ2xpZW50U2V0Rm9ybWF0dGluZ1ByaW50ZXI6MTQ2LENsaWVudEdldEZvcm1hdHRpbmdQcmludGVyOjE0NyxDbGllbnRHZXRJbnN0YWxsZWRQcmludGVyczoxNDgsVGV4dENvbnRyb2xDaGFuZ2VkOjE0OSxEcmF3aW5nQ29udHJvbEluZm86MTU0LENsaWVudFRleHRGaWVsZDoxNTcsQ2xpZW50U3ViVGV4dFBhcnQ6MTU4LFNwZWxsQ2hlY2s6MTU5LEZyYW1lRXZlbnQ6MTYwLFNldFR4UHJvcGVydHk6MTYxLFRyYW5zZmVyQ1NoYXJwVHlwZToxNjIsUmliYm9uTWVudUV2ZW50OjE2MyxSaWJib25UYWJzOjE2NCxSaWJib25CdXR0b25FdmVudDoxNjUsUmliYm9uQ29udHJvbFN0YXRlOjE2NyxSaWJib25CdXR0b25TdGF0ZToxNjgsUmliYm9uTWVudUl0ZW1TdGF0ZToxNjksUmliYm9uVGV4dEJveEV2ZW50OjE3MCxSaWJib25UZXh0Qm94U3RhdGU6MTcxLFNob3dGaWVsZERpYWxvZzoxNzMsVXBkYXRlRmllbGQ6MTc0LEZyYW1lSW5mbzoxNzUsVGhlc2F1cnVzRGlhbG9nQ29tbWFuZDoxNzYsQXBwZW5kRG9jdW1lbnRGaWxlOjE3NyxQZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kOjE3OCxMaXN0Qm94RXZlbnQ6MTc5LExpc3RJdGVtU3RhdGU6MTgwLExpc3RCb3hTdGF0ZToxODEsU2V0RG9jdW1lbnRQZXJtaXNzaW9uczoxODIsU2V0UmliYm9uVGFiUHJvcGVydHk6MTgzLFNldFVzZXJOYW1lczoxODQsVFhQcm9wZXJ0eUNoYW5nZWQ6MTg1LEFkZFRleHRGcmFtZToxODcsVFhUZXh0Q29udHJvbFJlc291cmNlczoxODgsSW5wdXRDb250cm9sRXZlbnQ6MTkwLEZhZGVJblZpZXdlcnM6MTkxLFJpYmJvblRhYkNoYW5nZWQ6MTkyLFRyYWNrQ2hhbmdlc0VuYWJsZWRTdGF0ZToxOTMsU2hvd1NpZGVCYXI6MTk0LEZhZGVJblJpYmJvbjoxOTUsUmVxdWVzdFJpYmJvblRhYnM6MTk3LFJpYmJvblRhYnNMb2FkZWQ6MTk4LEFjY2Vzc1RleHRDb250cm9sTWVtYmVyOjE5OSxPdmVybGF5Q29udHJvbENvbW1hbmQ6MjAwLEVuYWJsZVNhdmVNZW51SXRlbToyMDEsUmliYm9uQ29tYm9Cb3hDb21tYW5kOjIwMixDbGllbnRDb25uZWN0aW9uTG9zdDoyMDMsUmVjb25uZWN0aW9uU3VjY2Vzc2Z1bDoyMDQsQWJvcnRSZWNvbm5lY3Q6MjA1LEdldEltYWdlczoyMDYsVmVyc2lvbkluZm86MjA3LENsaWVudEluZm9ybWF0aW9uOjIwOCxSaWJib25Db250cm9sRXZlbnQ6MzAwLFJpYmJvbkNvbWJvQm94U3RhdGU6MzUwLFJpYmJvbkNoZWNrQm94RXZlbnQ6MzYwLFRyYWNrQ2hhbmdlc1ZpZXdlckluaXRpYXRlOjUwMCxUcmFja2VkQ2hhbmdlc1ZpZXdlclJlZnJlc2g6NTAyLFRyYWNrQ2hhbmdlc1ZpZXdlckRpc3Bvc2U6NTEwLFRyYWNrZWRDaGFuZ2VzQ291bnQ6NTE1LFNob3dIb3Jpem9udGFsUnVsZXJCYXI6NjAwLEhpZGVIb3Jpem9udGFsUnVsZXJCYXI6NjAxLFNob3dWZXJ0aWNhbFJ1bGVyQmFyOjcwMCxIaWRlVmVydGljYWxSdWxlckJhcjo3MDEsU2hvd1N0YXR1c0Jhcjo4MDAsSGlkZVN0YXR1c0Jhcjo4MDEsVGV4dENvbnRyb2xFdmVudDo4NTAsU2VsZWN0aW9uSFRNTENvbnRlbnQ6OTk5fSk7Yy5UYWJsZUNvbW1hbmQ9e1NlbGVjdEVsZW1lbnQ6MCxEZWxldGVFbGVtZW50OjEsSW5zZXJ0RWxlbWVudDoyLENlbGxBbGlnbm1lbnQ6MyxNZXJnZUNlbGxzOjQsU3BsaXRDZWxsczo1LFNwbGl0VGFibGU6NixDcmVhdGU6N307Yy5GaWxlVHlwZT17RG9jdW1lbnQ6MCxJbWFnZToxLERhdGFCYXNlOjJ9O2MuQ2hhcnRUZW1wbGF0ZVR5cGU9e307Yy5EaWFsb2dDYXRlZ29yeT17VFhEaWFsb2c6MCxIVE1MRGlhbG9nOjEsfTtjLkhUTUxEaWFsb2dUeXBlPXt9O2MuVFhEaWFsb2dUeXBlPU9iamVjdC5mcmVlemUoe1Vua25vd246MCxGb250RGlhbG9nOjEsUGFyYWdyYXBoRm9ybWF0RGlhbG9nOjIsSW5zZXJ0VGFibGVEaWFsb2c6MyxDaGlsZERpYWxvZzo0LExpc3RGb3JtYXREaWFsb2c6NSxGb3JtYXR0aW5nU3R5bGVzRGlhbG9nOjYsU2VjdGlvbkZvcm1hdERpYWxvZzo3LExhbmd1YWdlRGlhbG9nOjgsVGFibGVGb3JtYXREaWFsb2c6OSxUYWJEaWFsb2c6MTIsT2JqZWN0QXR0cmlidXRlc0RpYWxvZzoxMyxGaW5kRGlhbG9nOjE0LFJlcGxhY2VEaWFsb2c6MTUsRm9yZUNvbG9yRGlhbG9nOjE2LFRleHRCYWNrQ29sb3JEaWFsb2c6MTcsSW5zZXJ0U3ltYm9sRGlhbG9nOjE4LEZyYW1lRmlsbENvbG9yRGlhbG9nOjE5LEZyYW1lTGluZUNvbG9yRGlhbG9nOjIwLFBhZ2VDb2xvckRpYWxvZzoyMX0pO2MuVmlzdWFsRWxlbWVudD1PYmplY3QuZnJlZXplKHtDb250cm9sQ2hhcnM6MCxUZXh0RnJhbWVNYXJrZXJMaW5lczoxLEJvb2ttYXJrTWFya2VyczoyLFRhYmxlR3JpZExpbmVzOjMsRHJhd2luZ01hcmtlckxpbmVzOjQsRnJhbWVBbmNob3JzOjV9KTtjLlRhYmxlRWxlbWVudD17Q2VsbDowLENvbHVtbjoxLFJvdzoyLFdob2xlVGFibGU6Myx9O2MuQ29uc29sZUxvZ1R5cGU9e0xvZzowLERlYnVnOjEsSW5mbzoyLFdhcm46MyxFcnJvcjo0fTtjLkl0ZW1BY3RpdmF0aW9uU3RhdGU9e0RlYWN0aXZhdGVkOjAsQWN0aXZhdGVkOjF9O2MuU2VydmVyRXZlbnRUeXBlPXtUWENvbXBvbmVudHNMb2FkZWQ6MCxEb2N1bWVudExvYWRlZDoxfTt2YXIgYTk9e1ZhcmlvdXM6MCxSaWJib25TdHJpbmdzOjEsVFhUZXh0Q29udHJvbDoyfTt2YXIgdz17TW92ZWQ6MSxTaXplZDoyfTt2YXIgYj17TGVmdDpmYWxzZSxNaWRkbGU6ZmFsc2UsUmlnaHQ6ZmFsc2V9O2MudmFyaW91c1N0cmluZ1Jlc291cmNlcz17V0VCU09DS0VUX0VSUk9SX01TRzpcIkNhblxcJ3QgY29ubmVjdCB0byB0aGUgc2VydmVyLlxcXFxuUGxlYXNlIHJlZnJlc2ggdGhlIHdlYnNpdGUgdG8gcmUtY29ubmVjdC5cIixSRUNPTk5FQ1RJTkc6XCJDb25uZWN0aW9uIGxvc3QuIFJlY29ubmVjdGluZ+KAplwifTtjLlRYVGV4dENvbnRyb2xSZXNvdXJjZXM9e0lEX1RSQUNLRURDSEFOR0VTX0NBUFRJT046XCJcIixJRF9UUkFDS0VEQ0hBTkdFU19DT1VOVDpcIlwiLFRPT0xUSVBfUmVmcmVzaFRyYWNrZWRDaGFuZ2VzOlwiXCJ9O2MuaW1hZ2VSZXNvdXJjZXM9e307Yy53ZWJTb2NrZXRIYW5kbGVyVVJMPVwiXCI7Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycz1bXTtjLmRvY3VtZW50RGlydHk9ZmFsc2U7Yy5zYXZlRG9jdW1lbnRRdWVzdGlvbkVuYWJsZWQ9dHJ1ZTtjLmlnbm9yZU5leHRUZXh0Rm9jdXNSZXF1ZXN0PWZhbHNlO2MuaW5JTUVDb21wb3NpdGlvbj1mYWxzZTtjLnRyaWFsU3RyaW5nSW5mPW51bGw7Yy50cmlhbFN0cmluZ1dESWQ9bnVsbDtjLnByb29maW5nU2V0dGluZ3M9bnVsbDtjLnN1cHBvcnRlZFBhcGVyU2l6ZXM9W107Yy5GcmFtZUV2ZW50VHlwZT17fTtjLmlzVHJhY2tDaGFuZ2VzRW5hYmxlZD1mYWxzZTtjLmN1cnJlbnRGaWVsZERhdGE9e2ZpZWxkQWRhcHRlcjpudWxsLG1lcmdlRmllbGRUeXBlOm51bGwsdGV4dEZpZWxkOm51bGx9O2MucmVjb25uZWN0SW50ZXJ2YWxJRD0wO2MucmVjb25uZWN0U3RhcnRUaW1lPW51bGw7Yy5yZWNvbm5lY3RGYWlsZWQ9ZmFsc2U7Yy5uZXZlckNvbm5lY3RlZD10cnVlO2MucmVjb25uZWN0VGltZW91dD0zMDt2YXIgYVU9MTtjLkFib3J0UmVjb25uZWN0UmVhc29uPXtVbmtub3duQ29ubmVjdGlvbklEOjEsT3RoZXJDb25uZWN0aW9uRXhpc3RzOjIsfTtjLmdlbmVyYXRlZENvbm5lY3Rpb25JRD1udWxsO2MuTG9jYWxJbWFnZVN0b3JhZ2VQcmVmaXg9XCJfX1RYSW1hZ2VDYWNoZVwiO2MuTG9jYWxJbWFnZVN0b3JhZ2VLZXk9Yy5Mb2NhbEltYWdlU3RvcmFnZVByZWZpeDtjLlRYSW1hZ2VDYWNoZT1udWxsO2MucmVxdWlyZWRJbWFnZXM9W107ZnVuY3Rpb24gRigpe3ZhciBiaT0hIShcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudHx8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCk7dmFyIGJoPWMuQnJvd3NlckRldGVjdC5icm93c2VyO3JldHVybiBiaSYmKGJoIT09XCJFZGdlXCIpJiYoYmghPT1cIkV4cGxvcmVyXCIpJiYoYmghPT1cIkZpcmVmb3hcIikmJihiaCE9PVwiQ2hyb21lXCIpO31jLmlzVG91Y2hEZXZpY2U9RigpO2lmKGMuaXNUb3VjaERldmljZSl7Yy5jbGlwYm9hcmRNb2RlPWMuQ2xpcGJvYXJkTW9kZS5TZXJ2ZXI7fWMuaXNTb2NrZXRDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5zb2NrZXQmJihjLnNvY2tldC5yZWFkeVN0YXRlPT1XZWJTb2NrZXQuT1BFTik7fTtjLnNlbmRDb21tYW5kPWZ1bmN0aW9uKGJpLGJrLGJsLGJtLGJqKXtpZighYy5pc1NvY2tldENvbm5lY3RlZCgpKXtyZXR1cm47fXZhciBiaD17Q29tbWFuZElEOnBhcnNlSW50KGJpLDEwKSxQYXJhbTE6Ymt8fDAsUGFyYW0yOmJsfHwwLFBhcmFtMzpibXx8MCxEYXRhOmJqfHxcIlwiLH07dmFyIGJuPUpTT04uc3RyaW5naWZ5KGJoKTtjLnNvY2tldC5zZW5kKGJuKTt9O2MuZ2V0SG9zdEFuZFdlYlNvY2tldEhhbmRsZXJQYXRoPWZ1bmN0aW9uKCl7dmFyIGJrPVwiXCI7dmFyIGJpPVwiXCI7aWYodHlwZW9mIGMuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtyZXR1cm4gYy5nZXRIb3N0QW5kQXBwVmlydFBhdGgoKTt9aWYodHlwZW9mIGMud2ViQ29udHJvbFNldHRpbmdzIT09XCJ1bmRlZmluZWRcIil7aWYoYy53ZWJDb250cm9sU2V0dGluZ3Mud2ViU29ja2V0SGFuZGxlclBhdGgpe2JpPWMud2ViQ29udHJvbFNldHRpbmdzLndlYlNvY2tldEhhbmRsZXJQYXRoO31lbHNle3JldHVybiBjLmdldEhvc3RBbmRBcHBWaXJ0UGF0aCgpO319dmFyIGJqPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIik7YmoucG9wKCk7dmFyIGJoPShiai5sZW5ndGg9PTApP1wiL1wiOmJqLmpvaW4oXCIvXCIpK1wiL1wiO2lmKGJpKXtpZihiaS5zbGljZSgtMSkhPT1cIi9cIil7YmkrPVwiL1wiO31pZihiaVswXT09PVwiL1wiKXtiaz13aW5kb3cubG9jYXRpb24uaG9zdCtiaTt9ZWxzZXtiaz13aW5kb3cubG9jYXRpb24uaG9zdCtiaCtiaTt9fWVsc2V7Yms9d2luZG93LmxvY2F0aW9uLmhvc3QrYmg7fXJldHVybiBiazt9O2MuZ2V0SG9zdEFuZEFwcFZpcnRQYXRoPWZ1bmN0aW9uKCl7dmFyIGJsPVwiXCI7dmFyIGJoPVwiXCI7dmFyIGJrPTA7aWYoKHR5cGVvZiBjLnNldHRpbmdzIT09XCJ1bmRlZmluZWRcIikmJmMuc2V0dGluZ3MuUG9ydCl7Yms9Yy5zZXR0aW5ncy5Qb3J0O31pZih0eXBlb2YgYy53ZWJDb250cm9sU2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtiaD1jLndlYkNvbnRyb2xTZXR0aW5ncy5hcHBWaXJ0UGF0aDt9ZWxzZXtpZigodHlwZW9mIGMuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKSYmYy5zZXR0aW5ncy5Jc01WQyl7Ymg9Yy5zZXR0aW5ncy5BcHBWaXJ0dWFsUGF0aDt9fWlmKGJoKXtibD13aW5kb3cubG9jYXRpb24uaG9zdCtiaDt9ZWxzZXt2YXIgYmo9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtiai5wb3AoKTt2YXIgYmk9KGJqLmxlbmd0aD09MCk/XCIvXCI6Ymouam9pbihcIi9cIikrXCIvXCI7Ymw9KGJrPyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUrXCI6XCIrYmspOndpbmRvdy5sb2NhdGlvbi5ob3N0KStiaTt9cmV0dXJuIGJsO307ZnVuY3Rpb24gQigpe2lmKGMuc2V0dGluZ3MmJmMuc2V0dGluZ3MuV2ViU29ja2V0VVJMKXtyZXR1cm4gYy5zZXR0aW5ncy5XZWJTb2NrZXRVUkw7fXZhciBiaT1jLmlzU1NMQ29ubmVjdGlvbj9cIndzczovL1wiOlwid3M6Ly9cIjt2YXIgYmg9Yy5nZXRIb3N0QW5kV2ViU29ja2V0SGFuZGxlclBhdGgoKTtpZih0eXBlb2YgYy5zZXR0aW5ncyE9PVwidW5kZWZpbmVkXCIpe2lmKGMuc2V0dGluZ3MuSXNNVkMpe3JldHVybiBiaStiaCtjLnNldHRpbmdzLkFwaVJvdXRlK1wiVFhXZWJTb2NrZXRcIjt9ZWxzZXtiaD1iaStiaDtyZXR1cm4gYmguc3Vic3RyaW5nKDAsYmgubGVuZ3RoLTEpK2Muc2V0dGluZ3MuV2ViU29ja2V0UGF0aDt9fWVsc2V7cmV0dXJuIGJpK2JoK1wiVFhXZWJTb2NrZXRIYW5kbGVyLmFzaHhcIjt9fWZ1bmN0aW9uIGJiKCl7dmFyIGJpLGJoO2JoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiX190eFdlYkNvbnRyb2xTZXR0aW5nc1wiKTtpZihiaCl7Ymk9YmguaW5uZXJIVE1MO2Mud2ViQ29udHJvbFNldHRpbmdzPUpTT04ucGFyc2UoYmkpO2JoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmgpO31lbHNle2JoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiX190eFNldHRpbmdzXCIpO2lmKGJoKXtiaT1iaC5pbm5lckhUTUw7Yy5zZXR0aW5ncz1KU09OLnBhcnNlKGJpKTtiaC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJoKTtpZihjLnNldHRpbmdzLlJlY29ubmVjdFRpbWVvdXQ+MCl7Yy5yZWNvbm5lY3RUaW1lb3V0PWMuc2V0dGluZ3MuUmVjb25uZWN0VGltZW91dDt9fX19Yy5pbml0PWZ1bmN0aW9uKCl7dmFyIGJqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNhbnZhc1wiKTt2YXIgYmg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob3JSdWxlckNhbnZhc1wiKTt2YXIgYm49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJ0UnVsZXJDYW52YXNcIik7dmFyIGJrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhdHVzQmFyQ2FudmFzXCIpO3ZhciBibT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc0NhbnZhc1wiKTtiai53aWR0aD13aW5kb3cuaW5uZXJXaWR0aDtiai5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0O2JoLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoO2JuLmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQ7Ymsud2lkdGg9d2luZG93LmlubmVyV2lkdGg7Yy50ZXh0Vmlld2VyPW5ldyBjLkNvbXBvbmVudFZpZXdlcihiaixjLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpO2MuaG9yUnVsZXJWaWV3ZXI9bmV3IGMuQ29tcG9uZW50Vmlld2VyKGJoLGMuQ29tcG9uZW50VHlwZS5Ib3JSdWxlcik7Yy52ZXJ0UnVsZXJWaWV3ZXI9bmV3IGMuQ29tcG9uZW50Vmlld2VyKGJuLGMuQ29tcG9uZW50VHlwZS5WZXJ0UnVsZXIpO2Muc3RhdHVzQmFyVmlld2VyPW5ldyBjLkNvbXBvbmVudFZpZXdlcihiayxjLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyKTtjLnRyYWNrQ2hhbmdlc1ZpZXdlcj1uZXcgYy5UZXh0Q29tcG9uZW50Vmlld2VyKGJtLGMuQ29tcG9uZW50VHlwZS5UcmFja0NoYW5nZXNWaWV3KTtiYigpO2Mud2ViU29ja2V0SGFuZGxlclVSTD1CKCk7Y29uc29sZS5pbmZvKFwiQ29ubmVjdGluZyB0byBcIitjLndlYlNvY2tldEhhbmRsZXJVUkwpO20oKTtDKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixIKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLEopO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLEkpO2goKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRQb3NpdGlvbkNoYW5nZWRcIixjLmlucHV0UG9zaXRpb25DaGFuZ2VkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInVpRmxhZ3NVcGRhdGVkXCIsYy51aUZsYWdzVXBkYXRlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbWFnZVJlY2VpdmVkXCIsYy5pbWFnZVJlY2VpdmVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImltYWdlUmVnaW9uc1VwZGF0ZWRcIixjLmltYWdlUmVnaW9uc1VwZGF0ZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlld0NvbnRlbnRTY3JvbGxlZFwiLGMudmlld0NvbnRlbnRTY3JvbGxlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwcmludFJlc3VsdFJlY2VpdmVkXCIsYy5wcmludFJlc3VsdFJlY2VpdmVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRvY3VtZW50U2l6ZUNoYW5nZWRcIixjLmRvY3VtZW50U2l6ZUNoYW5nZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHhab29tZWRcIixjLnR4Wm9vbWVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRleHRWaWV3TG9jYXRpb25DaGFuZ2VkXCIsYy50ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0TWVudURhdGFSZWNlaXZlZFwiLGMuY29udGV4dE1lbnVEYXRhUmVjZWl2ZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHhDb250YWluZXJSZXNpemVkXCIsYy5vbkNvbnRhaW5lclJlc2l6ZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRleHRWaWV3Q2FyZXRTdGF0ZUNoYW5nZWRcIixjLnRleHRWaWV3Q2FyZXRTdGF0ZUNoYW5nZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2hvd0ZpZWxkUHJvcHNEaWFsb2dcIixjLnNob3dGaWVsZFByb3BzRGlhbG9nSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua0NsaWNrZWRcIixjLmh5cGVybGlua0NsaWNrZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9uZ01lc3NhZ2VSZWNlaXZlZFwiLEwpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkb2N1bWVudFNhdmVkXCIscyk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRleHRGaWVsZERhdGFSZWNlaXZlZFwiLGMudGV4dEZpZWxkRGF0YVJlY2VpdmVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR4UHJvcGVydHlDaGFuZ2VkXCIsYy50eFByb3BlcnR5Q2hhbmdlZEhhbmRsZXIpO2JqLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsYy5oYW5kbGVEcm9wKTtiai5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsZnVuY3Rpb24oYm8pe2JvLnByZXZlbnREZWZhdWx0KCk7Ym8uc3RvcFByb3BhZ2F0aW9uKCk7fSk7YmouYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsZnVuY3Rpb24oYm8pe2JvLnByZXZlbnREZWZhdWx0KCk7Ym8uc3RvcFByb3BhZ2F0aW9uKCk7Ym8uZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJjb3B5XCI7fSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWJib25iYXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsTSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJ0aWNhbC1zY3JvbGxiYXItd3JhcHBlclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixNKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvcml6b250YWwtc2Nyb2xsYmFyLXdyYXBwZXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsTSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGwtYnV0dG9uLXVwXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLE0pO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsLWJ1dHRvbi1kb3duXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLE0pO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsLWJ1dHRvbi1sZWZ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLE0pO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsLWJ1dHRvbi1yaWdodFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixNKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIscCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIscSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbyk7Yy5pbml0Q29udGV4dE1lbnVzKCk7Yy5jcmVhdGVTY3JvbGxiYXJzKCk7Yy5jcmVhdGVUcmFja0NoYW5nZXNTaWRlYmFyKCk7Yy5hZGFwdFZpZXdUb0NvbnRhaW5lclNpemUoKTtzZXRJbnRlcnZhbChmdW5jdGlvbigpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLlBpbmcpO30sSyoxMDAwKTtpZighYy5pc1RvdWNoRGV2aWNlKXtjLnRleHRWaWV3ZXIuZm9jdXMoKTt9dmFyIGJpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhMb2FkZXJHaWZcIik7Ymkuc3R5bGUuZGlzcGxheT1cIlwiO2JpLnN0eWxlLm9wYWNpdHk9MTt2YXIgYmw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyaWJib25iYXIgdWwudGFic1wiKTtibC5zdHlsZS5kaXNwbGF5PVwiXCI7YVkoKTt9O2EoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7Yy5pbml0KCk7fSk7ZnVuY3Rpb24gbSgpe2Muc29ja2V0PW5ldyBXZWJTb2NrZXQoYy53ZWJTb2NrZXRIYW5kbGVyVVJMLFwiVFhUZXh0Q29udHJvbC5XZWJcIik7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixiZyk7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixiZik7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYmUpO2Muc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGJkKTt9ZnVuY3Rpb24gZigpe3ZhciBiaT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO3ZhciBiaj1uZXcgYmkoZnVuY3Rpb24oYmspe2JrLmZvckVhY2goZnVuY3Rpb24oYmwpe3N3aXRjaChibC50eXBlKXtjYXNlXCJhdHRyaWJ1dGVzXCI6c3dpdGNoKGJsLmF0dHJpYnV0ZU5hbWUpe2Nhc2VcInN0eWxlXCI6bCgpO2JyZWFrO31icmVhazt9fSk7fSk7dmFyIGJoPXthdHRyaWJ1dGVzOnRydWUsY2hpbGRMaXN0OmZhbHNlLGNoYXJhY3RlckRhdGE6ZmFsc2V9O2JqLm9ic2VydmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIikucGFyZW50RWxlbWVudCxiaCk7fWZ1bmN0aW9uIGkoKXt2YXIgYmk9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjt2YXIgYms9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWJib25iYXJcIik7dmFyIGJqPW5ldyBiaShmdW5jdGlvbihibCl7YmwuZm9yRWFjaChmdW5jdGlvbihibSl7c3dpdGNoKGJtLnR5cGUpe2Nhc2VcImF0dHJpYnV0ZXNcIjpzd2l0Y2goYm0uYXR0cmlidXRlTmFtZSl7Y2FzZVwic3R5bGVcIjppZihiay5zdHlsZS5kaXNwbGF5PT09XCJub25lXCIpe2lmKCFjLmlzUmliYm9uQmFyUmVtb3ZlZCl7Yy5pc1JpYmJvbkJhclJlbW92ZWQ9dHJ1ZTtjLnJpYmJvbkJhckhlaWdodD0wO2MuYWRhcHRWaWV3VG9Db250YWluZXJTaXplKCk7fX1lbHNle2lmKGMuaXNSaWJib25CYXJSZW1vdmVkKXtjLmlzUmliYm9uQmFyUmVtb3ZlZD1mYWxzZTtjLnJpYmJvbkJhckhlaWdodD1jLkRFRkFVTFRfUklCQk9OQkFSX0hFSUdIVDtjLmFkYXB0Vmlld1RvQ29udGFpbmVyU2l6ZSgpO319YnJlYWs7fWJyZWFrO319KTt9KTt2YXIgYmg9e2F0dHJpYnV0ZXM6dHJ1ZSxjaGlsZExpc3Q6ZmFsc2UsY2hhcmFjdGVyRGF0YTpmYWxzZX07Ymoub2JzZXJ2ZShiayxiaCk7fWZ1bmN0aW9uIGcoKXt2YXIgYmo9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjt2YXIgYmk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpO3ZhciBiaz1uZXcgYmooZnVuY3Rpb24oYm0pe2lmKCFjLnRyaWFsU3RyaW5nSW5mKXtyZXR1cm47fXZhciBibj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjLnRyaWFsU3RyaW5nSW5mLmlkKTtpZighYm4pe3JldHVybjt9dmFyIGJsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO2JtLmZvckVhY2goZnVuY3Rpb24oYnApe3N3aXRjaChicC50eXBlKXtjYXNlXCJhdHRyaWJ1dGVzXCI6c3dpdGNoKGJwLmF0dHJpYnV0ZU5hbWUpe2Nhc2VcIndpZHRoXCI6dmFyIGJzPWJpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBicj1ibC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgYm89YnMubGVmdCsoYnMud2lkdGgvMik7dmFyIGJxPWJvLShici5sZWZ0Kyhici53aWR0aC8yKSk7Ym4uc3R5bGUubGVmdD1kLmxlZnQ9KDUwKygoYnEvYnIud2lkdGgpKjEwMCkpK1wiJVwiO2JyZWFrO31icmVhazt9fSk7fSk7dmFyIGJoPXthdHRyaWJ1dGVzOnRydWUsY2hpbGRMaXN0OmZhbHNlLGNoYXJhY3RlckRhdGE6ZmFsc2V9O2JrLm9ic2VydmUoYmksYmgpO31mdW5jdGlvbiBoKCl7ZigpO2koKTtnKCk7fWZ1bmN0aW9uIGFaKGJpKXt2YXIgYmg9XCJcIjtpZih0eXBlb2YgYy53ZWJDb250cm9sU2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtiaD1jLndlYkNvbnRyb2xTZXR0aW5ncy5jb25uZWN0aW9uSUQ7fWVsc2V7aWYodHlwZW9mIGMuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtiaD1jLnNldHRpbmdzLkNvbm5lY3Rpb25JRDt9ZWxzZXtpZihjLmdlbmVyYXRlZENvbm5lY3Rpb25JRCl7Ymg9Yy5nZW5lcmF0ZWRDb25uZWN0aW9uSUQ7fWVsc2V7Ymg9Yy5nZW5lcmF0ZWRDb25uZWN0aW9uSUQ9eCgyMSk7Y29uc29sZS5sb2coXCJObyBjb25uZWN0aW9uIElEIHdhcyByZWNlaXZlZCBmcm9tIHRoZSB3ZWIgc2VydmVyLiBHZW5lcmF0aW5nIG15IG93bi4gKFwiK2JoK1wiKVwiKTt9fX1jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5TZXRDb25uZWN0aW9uSUQsKGJpPzE6MCksMCwwLGJoKTt9ZnVuY3Rpb24gYUcoKXtpZih0eXBlb2YgYy5zZXR0aW5ncz09PVwidW5kZWZpbmVkXCIpe3JldHVybjt9Yy5zYXZlRG9jdW1lbnRRdWVzdGlvbkVuYWJsZWQ9Yy5zZXR0aW5ncy5TYXZlRG9jdW1lbnRRdWVzdGlvbkRpYWxvZ0VuYWJsZWQ7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuVFhTZXR0aW5ncywwLDAsMCxjLnNldHRpbmdzKTt9ZnVuY3Rpb24geShiaCl7aWYobmF2aWdhdG9yLnVzZXJMYW5ndWFnZSl7YmguY3VsdHVyZT1uYXZpZ2F0b3IudXNlckxhbmd1YWdlO2JoLnVpQ3VsdHVyZT1uYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlO31lbHNle3ZhciBiaT1uYXZpZ2F0b3IubGFuZ3VhZ2VzP25hdmlnYXRvci5sYW5ndWFnZXNbMF06bmF2aWdhdG9yLmxhbmd1YWdlO2lmKGJpKXtiaC5jdWx0dXJlPWJoLnVpQ3VsdHVyZT1iaTt9ZWxzZXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZGV0ZWN0IGJyb3dzZXIgbGFuZ3VhZ2UuXCIpO319fWMuQ3VsdHVyZVNldHRpbmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIEN1bHR1cmVTZXR0aW5ncyhjdWx0dXJlLHVpQ3VsdHVyZSl7aWYoY3VsdHVyZT09PXVuZGVmaW5lZCl7Y3VsdHVyZT1cIlwiO31pZih1aUN1bHR1cmU9PT11bmRlZmluZWQpe3VpQ3VsdHVyZT1cIlwiO310aGlzLmN1bHR1cmU9XCJcIitjdWx0dXJlO3RoaXMudWlDdWx0dXJlPVwiXCIrdWlDdWx0dXJlO31yZXR1cm4gQ3VsdHVyZVNldHRpbmdzO30pKCk7Yy5nZXRDdWx0dXJlcz1mdW5jdGlvbigpe3ZhciBiaD1uZXcgYy5DdWx0dXJlU2V0dGluZ3MoKTt5KGJoKTtpZih0eXBlb2YgYy53ZWJDb250cm9sU2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtpZihjLndlYkNvbnRyb2xTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShcImN1bHR1cmVcIikmJmMud2ViQ29udHJvbFNldHRpbmdzLmhhc093blByb3BlcnR5KFwidWlDdWx0dXJlXCIpKXtpZihjLndlYkNvbnRyb2xTZXR0aW5ncy5jdWx0dXJlKXtiaC5jdWx0dXJlPWMud2ViQ29udHJvbFNldHRpbmdzLmN1bHR1cmU7fWlmKGMud2ViQ29udHJvbFNldHRpbmdzLnVpQ3VsdHVyZSl7YmgudWlDdWx0dXJlPWMud2ViQ29udHJvbFNldHRpbmdzLnVpQ3VsdHVyZTt9fX1lbHNle2lmKHR5cGVvZiBjLnNldHRpbmdzIT09XCJ1bmRlZmluZWRcIil7aWYoYy5zZXR0aW5ncy5DdWx0dXJlKXtiaC5jdWx0dXJlPWMuc2V0dGluZ3MuQ3VsdHVyZTt9aWYoYy5zZXR0aW5ncy5VSUN1bHR1cmUpe2JoLnVpQ3VsdHVyZT1jLnNldHRpbmdzLlVJQ3VsdHVyZTt9fX1yZXR1cm4gYmg7fTtmdW5jdGlvbiBKKCl7dHJ5e2woKTt9Y2F0Y2goYmgpe319ZnVuY3Rpb24gSSgpe2MubW9kaWZpZXJLZXlzPTA7fWZ1bmN0aW9uIGwoKXt2YXIgYmg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIikucGFyZW50RWxlbWVudDt2YXIgYmssYmo7aWYoYmgudGFnTmFtZT09XCJCT0RZXCIpe2JrPXdpbmRvdy5pbm5lcldpZHRoO2JqPXdpbmRvdy5pbm5lckhlaWdodDt9ZWxzZXtiaz1iaC5vZmZzZXRXaWR0aDtiaj1iaC5vZmZzZXRIZWlnaHQ7fWlmKChiayE9Yy5jbGllbnRTaXplLldpZHRoKXx8KGJqIT1jLmNsaWVudFNpemUuSGVpZ2h0KSl7dmFyIGJpPW5ldyBDdXN0b21FdmVudChcInR4Q29udGFpbmVyUmVzaXplZFwiKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTt9fWMuYmxvY2tVc2VySW5wdXQ9ZnVuY3Rpb24oKXt2YXIgYmk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFVzZXJJbnB1dEJsb2NrZXJcIik7aWYoYmkpe3JldHVybjt9dmFyIGJoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO3ZhciBiaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2JpLmlkPVwidHhVc2VySW5wdXRCbG9ja2VyXCI7Ymkuc3R5bGUub3BhY2l0eT0wO2JoLmFwcGVuZENoaWxkKGJpKTtiaS5zdHlsZS5vcGFjaXR5PTE7fTtjLmFsbG93VXNlcklucHV0PWZ1bmN0aW9uKCl7Yy5yZW1vdmVNc2dEaXYoKTt2YXIgYmk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFVzZXJJbnB1dEJsb2NrZXJcIik7aWYoIWJpKXtyZXR1cm47fXZhciBiaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTt0KGJpLGJoLDAsMjAwKTt9O2Z1bmN0aW9uIEMoKXt2YXIgYm89ZG9jdW1lbnQuc3R5bGVTaGVldHN8fFtdO2Zvcih2YXIgYmk9MDtiaTxiby5sZW5ndGg7YmkrKyl7dHJ5e3ZhciBibT1ib1tiaV0uY3NzUnVsZXN8fGJvW2JpXS5ydWxlc3x8W107Zm9yKHZhciBiaj0wO2JqPGJtLmxlbmd0aDtiaisrKXt2YXIgYmw9Ym1bYmpdO3N3aXRjaChibC5zZWxlY3RvclRleHQpe2Nhc2VcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgI3JpYmJvbmJhclwiOmMucmliYm9uQmFySGVpZ2h0PWMuREVGQVVMVF9SSUJCT05CQVJfSEVJR0hUPXBhcnNlSW50KGJsLnN0eWxlLmhlaWdodCwxMCk7YnJlYWs7fX19Y2F0Y2goYmgpe319dmFyIGJrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmliYm9uYmFyXCIpO3ZhciBibj1nZXRDb21wdXRlZFN0eWxlKGJrKXx8e307aWYoYm4uZGlzcGxheT09PVwibm9uZVwiKXtjLnJpYmJvbkJhckhlaWdodD0wO2MuaXNSaWJib25CYXJSZW1vdmVkPXRydWU7fX1mdW5jdGlvbiB0KGJpLGJqLGJoLGJrKXtiaS5zdHlsZS50cmFuc2l0aW9uPVwib3BhY2l0eSBcIisoYmsvMTAwMCkrXCJzXCI7c2V0VGltZW91dChmdW5jdGlvbigpe2JpLnN0eWxlLm9wYWNpdHk9MDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoYmkuc3R5bGUub3BhY2l0eSE9MCl7cmV0dXJuO31iai5yZW1vdmVDaGlsZChiaSk7Ymkuc3R5bGUudHJhbnNpdGlvbj1cIlwiO30sYmspO30sYmgpO31jLnNob3dNc2dEaXY9ZnVuY3Rpb24oYmssYmope2MudGV4dFZpZXdlci5oaWRlQ2FyZXQoKTt2YXIgYmg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIik7dmFyIGJpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhFcnJNc2dEaXZcIik7aWYoIWJpKXtiaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2JpLmlkPVwidHhFcnJNc2dEaXZcIjtiaS5jbGFzc0xpc3QuYWRkKFwidW5zZWxlY3RhYmxlXCIpO2JpLnN0eWxlLnpJbmRleD1cIjk5OTlcIjtiaS5zdHlsZS5vcGFjaXR5PTA7YmguYXBwZW5kQ2hpbGQoYmkpO31iaz1iay5yZXBsYWNlKC9cXFxccj9cXFxcbi9nLFwiPGJyPlwiKTtiaS5pbm5lckhUTUw9Yms7Ymkuc3R5bGUubWFyZ2luVG9wPS0oYmkuY2xpZW50SGVpZ2h0LzIpK1wicHhcIjtiaS5zdHlsZS5tYXJnaW5MZWZ0PS0oYmkuY2xpZW50V2lkdGgvMikrXCJweFwiO2JpLnN0eWxlLm9wYWNpdHk9MTtpZihiail7dChiaSxiaCwxMDAwLDEwMDApO319O2MucmVtb3ZlTXNnRGl2PWZ1bmN0aW9uKCl7dmFyIGJpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhFcnJNc2dEaXZcIik7aWYoIWJpKXtyZXR1cm47fXZhciBiaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTt0KGJpLGJoLDAsMjAwKTt9O2Z1bmN0aW9uIGE4KCl7Yy5ibG9ja1VzZXJJbnB1dCgpO2Muc2hvd01zZ0RpdihjLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuV0VCU09DS0VUX0VSUk9SX01TRyk7fWZ1bmN0aW9uIGJnKCl7aWYoYy5yZWNvbm5lY3RJbnRlcnZhbElEKXtjb25zb2xlLmxvZyhcIldlYlNvY2tldCBzdWNjZXNzZnVsbHkgcmVjb25uZWN0ZWQuIFdhaXRpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBzZXJ2aWNlIHJlc3BvbnNl4oCmXCIpO31hWihjLnJlY29ubmVjdEludGVydmFsSUQhPTApO2lmKCFjLnJlY29ubmVjdEZhaWxlZCYmIWMucmVjb25uZWN0SW50ZXJ2YWxJRCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50SW5mb3JtYXRpb24sMCwwLDAse2RldmljZVBpeGVsUmF0aW86d2luZG93LmRldmljZVBpeGVsUmF0aW99KTt2YXIgYmg9Yy5nZXRDdWx0dXJlcygpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNyZWF0ZVRleHRDb250cm9sLDAsMCwwLGJoKTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5Jc1RvdWNoRGV2aWNlLGMuaXNUb3VjaERldmljZT8xOjApO2FHKCk7fX1mdW5jdGlvbiBiZShiaCl7fWZ1bmN0aW9uIGJkKGJpKXtjLnNvY2tldD1udWxsO2lmKGMubmV2ZXJDb25uZWN0ZWQpe2E4KCk7cmV0dXJuO312YXIgYmg9e2NvZGU6YmkuY29kZSxyZWFzb246YmkucmVhc29uLHdhc0NsZWFuOmJpLndhc0NsZWFufTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS53ZWJTb2NrZXRDbG9zZWQsYmgpO2NvbnNvbGUubG9nKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gbG9zdC5cIik7aWYoIWMucmVjb25uZWN0RmFpbGVkJiYhYy5yZWNvbm5lY3RJbnRlcnZhbElEKXtjLmJsb2NrVXNlcklucHV0KCk7Yy5zaG93TXNnRGl2KGMudmFyaW91c1N0cmluZ1Jlc291cmNlcy5SRUNPTk5FQ1RJTkcpO2NvbnNvbGUubG9nKFwiU3RhcnRpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRz4oCmXCIpO2MucmVjb25uZWN0U3RhcnRUaW1lPURhdGUubm93KCk7Yy5yZWNvbm5lY3RJbnRlcnZhbElEPXdpbmRvdy5zZXRJbnRlcnZhbChhVixhVSoxMDAwKTt9fWZ1bmN0aW9uIGFXKGJoKXtjLnJlY29ubmVjdEZhaWxlZD10cnVlO3dpbmRvdy5jbGVhckludGVydmFsKGMucmVjb25uZWN0SW50ZXJ2YWxJRCk7Yy5yZWNvbm5lY3RJbnRlcnZhbElEPTA7Y29uc29sZS5sb2coYmgpO2E4KCk7fWZ1bmN0aW9uIGFWKCl7aWYoKERhdGUubm93KCktYy5yZWNvbm5lY3RTdGFydFRpbWUpPihjLnJlY29ubmVjdFRpbWVvdXQqMTAwMCkpe2FXKFwiQ291bGQgbm90IHJlY29ubmVjdC5cIik7cmV0dXJuO31pZihjLnNvY2tldCl7cmV0dXJuO31jb25zb2xlLmxvZyhcIlRyeWluZyB0byByZWNvbm5lY3QgdG8gV2ViU29ja2V04oCmXCIpO20oKTt9ZnVuY3Rpb24gYXgoKXtjLmFsbG93VXNlcklucHV0KCk7Y29uc29sZS5sb2coXCJTeW5jaHJvbml6YXRpb24gc2VydmljZSBjb25uZWN0aW9uIHJlLWVzdGFibGlzaGVkLlwiKTt3aW5kb3cuY2xlYXJJbnRlcnZhbChjLnJlY29ubmVjdEludGVydmFsSUQpO2MucmVjb25uZWN0SW50ZXJ2YWxJRD0wO31mdW5jdGlvbiBlKGJoKXt2YXIgYmk9XCJDb3VsZCBub3QgcmVjb25uZWN0LlwiO3N3aXRjaChiaCl7Y2FzZSBjLkFib3J0UmVjb25uZWN0UmVhc29uLlVua25vd25Db25uZWN0aW9uSUQ6Ymk9XCJDb3VsZCBub3QgcmVjb25uZWN0LiBDb25uZWN0aW9uIElEIGlzIHVua25vd24gdG8gdGhlIHN5bmNocm9uaXphdGlvbiBzZXJ2aWNlLlwiO2JyZWFrO2Nhc2UgYy5BYm9ydFJlY29ubmVjdFJlYXNvbi5PdGhlckNvbm5lY3Rpb25FeGlzdHM6Ymk9XCJDb3VsZCBub3QgcmVjb25uZWN0LiBBIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2FtZSBJRCBhbHJlYWR5IGV4aXN0cy5cIjticmVhazt9YVcoYmkpO2Mud2ViU29ja2V0RGlzY29ubmVjdCgpO31mdW5jdGlvbiBiZihiaCl7dmFyIGJqPVwiXCIrYmguZGF0YTt2YXIgYmk9SlNPTi5wYXJzZShiaik7YXIoYmkpO31mdW5jdGlvbiBFKGJoKXtyZXR1cm4gYmguaGFzT3duUHJvcGVydHkoXCJDb21tYW5kSURcIik7fWZ1bmN0aW9uIGFyKGJqKXtpZighRShiaikpe2NvbnNvbGUuZXJyb3IoXCJwcm9jZXNzTWVzc2FnZSgpOiBSZWNlaXZlZCBvYmplY3QgaXMgbm90IGEgdmFsaWQgbWVzc2FnZS5cIik7cmV0dXJuO31zd2l0Y2goYmouQ29tbWFuZElEKXtjYXNlIGMuQ29tbWFuZC5QcmludFRvUERGOmF2KGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5UZXh0Vmlld0xvY2F0aW9uOmFPKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5UcmFuc2ZlckNTaGFycFR5cGU6Yy5jcmVhdGVQcml2YXRlT2JqZWN0KGJqLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlN0cmluZ1Jlc291cmNlczphSyhiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSW1hZ2U6YWooYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNob3dEaWFsb2c6YUgoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRyaWFsU3RyaW5nOmMudHJpYWxTdHJpbmdJbmY9YmouRGF0YTtrKCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSW1hZ2VSZXNvdXJjZXM6Yy5pbWFnZVJlc291cmNlcz1iai5EYXRhO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkltYWdlUmVnaW9uczphayhiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2Nyb2xsOmF6KGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5DYXJldFN0YXRlQ2hhbmdlZDpOKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5UWFByb3BlcnR5Q2hhbmdlZDphUShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRG9jdW1lbnRTaXplQ2hhbmdlZDpXKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5SaWJib25Db250cm9sRXZlbnQ6YXkoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0RmlsZUxpc3Q6YWMoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuWm9vbTphVChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSW5wdXRQb3NpdGlvbkNoYW5nZWQ6YWwoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLk9wZW5GaWxlOmF0KGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5EQlNjaGVtZTpUKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5UQ1BTZXJ2ZXJNZXNzYWdlOmFMKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5DdXJzb3JDaGFuZ2VkOmFGKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5HZXREb2N1bWVudFRhcmdldHM6WChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0SXRlbTphbyhiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0RGlhbG9nUmVzb3VyY2VzOlUoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNldEFwcE1vZGU6YUUoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkZpZWxkRGlzcGxheU1vZGVDaGFuZ2VkOmFhKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5XYWl0RGlhbG9nOmFTKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5IaWdobGlnaHRNZXJnZUZpZWxkczphcShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ2xvc2VEaWFsb2c6UChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ29udGV4dE1lbnVEYXRhOlMoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNvbnNvbGVMb2c6Uihiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRHJhd1NoYXBlOlooYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkZpZWxkUHJvcGVydGllc0RpYWxvZzp2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwic2hvd0ZpZWxkUHJvcHNEaWFsb2dcIik7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSHlwZXJ0ZXh0TGlua0NsaWNrZWQ6YWkoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlBvbmc6Ymg9bmV3IEN1c3RvbUV2ZW50KFwicG9uZ01lc3NhZ2VSZWNlaXZlZFwiKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTticmVhaztjYXNlIGMuQ29tbWFuZC5JdGVtQWN0aXZhdGlvblN0YXRlQ2hhbmdlZEV2ZW50OmFuKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5IVE1MRGlhbG9nU3RhdGU6YWgoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkRvY3VtZW50RGlydHlDaGFuZ2VkOmMuZG9jdW1lbnREaXJ0eT0oYmouUGFyYW0xIT09MCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRG9jdW1lbnRTYXZlZDpWKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5FbmFibGVTYXZlRG9jdW1lbnRRdWVzdGlvbjpjLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZD0oYmouUGFyYW0xIT09MCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ29tcG9uZW50QWN0aXZhdGlvblN0YXRlOlEoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkVkaXRNb2RlOmMuc2V0RWRpdE1vZGUoYmouUGFyYW0xKTticmVhaztjYXNlIGMuQ29tbWFuZC5IaWdobGlnaHRNZXJnZUJsb2NrczphcChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2VydmVyRXZlbnQ6YUQoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudFNlbGVjdGlvbjphQShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ2xpZW50VGV4dFBhcnQ6Yy5wcm9jZXNzVGV4dFBhcnREYXRhTWVzc2FnZShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ2xpcGJvYXJkTW9kZTpPKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5UZXh0Q29udHJvbExvYWRlZDpjLmZpcmVFdmVudChjLkV2ZW50TmFtZS50ZXh0Q29udHJvbExvYWRlZCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0RmlsZURpcmVjdG9yeTphYihiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU3RhdHVzQmFyQ29sb3I6YUooYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudEdldEZvcm1hdHRpbmdQcmludGVyOmFkKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5DbGllbnRHZXRJbnN0YWxsZWRQcmludGVyczphbShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVGV4dENvbnRyb2xDaGFuZ2VkOmMuZmlyZUV2ZW50KGMuRXZlbnROYW1lLnRleHRDb250cm9sQ2hhbmdlZCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRHJhd2luZ0NvbnRyb2xJbmZvOlkoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudFRleHRGaWVsZDpjLnByb2Nlc3NUZXh0RmllbGREYXRhTWVzc2FnZShiai5EYXRhKTticmVhaztjYXNlIGMuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydDpjLnByb2Nlc3NTdWJUZXh0UGFydERhdGFNZXNzYWdlKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5TZWxlY3Rpb25IVE1MQ29udGVudDpjLnByb2Nlc3NTZWxlY3Rpb25IVE1MQ29udGVudE1lc3NhZ2UoYmopO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNwZWxsQ2hlY2s6Yy5wcm9jZXNzU3BlbGxDaGVja0NvbW1hbmRSZXNwb25zZShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRnJhbWVFdmVudDphZShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uVGFiczpjLmFkZFJpYmJvblRhYnMoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uQ29udHJvbFN0YXRlOmMuY2hhbmdlUmliYm9uQ29udHJvbFN0YXRlKGJqLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkJ1dHRvblN0YXRlOmMuY2hhbmdlUmliYm9uQnV0dG9uU3RhdGUoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uTWVudUl0ZW1TdGF0ZTpjLmNoYW5nZVJpYmJvbk1lbnVJdGVtU3RhdGUoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uVGV4dEJveFN0YXRlOmMuY2hhbmdlUmliYm9uVGV4dEJveFN0YXRlKGJqLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkNvbWJvQm94U3RhdGU6Yy5jaGFuZ2VSaWJib25Db21ib0JveFN0YXRlKGJqLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNob3dGaWVsZERpYWxvZzpjLnNob3dGaWVsZERpYWxvZyhiai5EYXRhLmRpYWxvZ0NvbnRlbnQuZmllbGQsYmouRGF0YS5kaWFsb2dDb250ZW50LmZpZWxkVHlwZSxiai5EYXRhLnRleHRGaWVsZCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuTGlzdEl0ZW1TdGF0ZTpjLmNoYW5nZUxpc3RJdGVtU3RhdGUoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuTGlzdEJveFN0YXRlOmMuY2hhbmdlTGlzdEJveFN0YXRlKGJqLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNob3dIb3Jpem9udGFsUnVsZXJCYXI6Yy5zaG93SG9yaXpvbnRhbFJ1bGVyKHRydWUpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkhpZGVIb3Jpem9udGFsUnVsZXJCYXI6Yy5zaG93SG9yaXpvbnRhbFJ1bGVyKGZhbHNlKTticmVhaztjYXNlIGMuQ29tbWFuZC5TaG93VmVydGljYWxSdWxlckJhcjpjLnNob3dWZXJ0aWNhbFJ1bGVyKHRydWUpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkhpZGVWZXJ0aWNhbFJ1bGVyQmFyOmMuc2hvd1ZlcnRpY2FsUnVsZXIoZmFsc2UpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNob3dTdGF0dXNCYXI6Yy5zaG93U3RhdHVzQmFyKHRydWUpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkhpZGVTdGF0dXNCYXI6Yy5zaG93U3RhdHVzQmFyKGZhbHNlKTticmVhaztjYXNlIGMuQ29tbWFuZC5GYWRlSW5WaWV3ZXJzOmMubmV2ZXJDb25uZWN0ZWQ9ZmFsc2U7Yy5mYWRlSW5WaWV3ZXJzKCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVHJhY2tDaGFuZ2VzRW5hYmxlZFN0YXRlOmMuaXNUcmFja0NoYW5nZXNFbmFibGVkPShiai5QYXJhbTEhPT0wKTticmVhaztjYXNlIGMuQ29tbWFuZC5GYWRlSW5SaWJib246Yy5mYWRlSW5SaWJib24oKTticmVhaztjYXNlIGMuQ29tbWFuZC5TZXREb2N1bWVudFBlcm1pc3Npb25zOmMuc2V0RG9jdW1lbnRQZXJtaXNzaW9uKGJqKTticmVhaztjYXNlIGMuQ29tbWFuZC5TaG93U2lkZUJhcjphSShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVHJhY2tlZENoYW5nZXNDb3VudDphUChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uVGFic0xvYWRlZDpjLnJpYmJvblRhYnNMb2FkZWQoKTticmVhaztjYXNlIGMuQ29tbWFuZC5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcjphTShiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuT3ZlcmxheUNvbnRyb2xDb21tYW5kOmMucHJvY2Vzc092ZXJsYXlDb250cm9sQ29tbWFuZChiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRW5hYmxlU2F2ZU1lbnVJdGVtOnZhciBiaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVNbnVJdGVtU2F2ZVwiKTtpZihiaSl7aWYoYmouUGFyYW0xPT0wKXtiaS5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9ZWxzZXtiaS5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9fWJyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkNvbWJvQm94Q29tbWFuZDpjLnByb2Nlc3NSaWJib25Db21ib0JveENvbW1hbmQoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVGV4dENvbnRyb2xFdmVudDphTihiaik7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmVjb25uZWN0aW9uU3VjY2Vzc2Z1bDpheCgpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkFib3J0UmVjb25uZWN0OmUoYmouUGFyYW0xKTticmVhaztjYXNlIGMuQ29tbWFuZC5HZXRJbWFnZXM6YWcoYmouRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVmVyc2lvbkluZm86YVIoYmouRGF0YSk7YnJlYWs7fX1mdW5jdGlvbiBhTihiaSl7dmFyIGJoPWJpLlBhcmFtMjtpZihiaD09Yy5FdmVudENhdGVnb3J5LlRleHRWaWV3R2VuZXJhdG9yKXtjLmZpcmVFdmVudChiaS5EYXRhLmV2ZW50TmFtZSxiaS5EYXRhLmV2ZW50QXJncyk7fWVsc2V7aWYoYmg9PWMuRXZlbnRDYXRlZ29yeS5JbnB1dEZvcm1hdCl7Yy50ZXh0Q29udHJvbC5pbnB1dEZvcm1hdC5fLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoYmkuRGF0YS5ldmVudE5hbWUsYmkuRGF0YS5ldmVudEFyZ3MpO319fWZ1bmN0aW9uIGFNKGJrKXtpZighYmsuRGF0YSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc1RleHRDb250cm9sQ29tbWFuZCgpOiBSZWNlaXZlZCBtZXNzYWdlIGRvZXMgbm90IGNvbnRhaW4gZGF0YS5cIik7fXZhciBiaD1iay5EYXRhLkNvbnRlbnQ7dmFyIGJqPWJrLkRhdGEuRXhjTXNnO3ZhciBibD1jLmdldFRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2soYmgubWVzc2FnZVVJRCk7dmFyIGJpPXttc2c6YmosaGFuZGxlZDpmYWxzZX07aWYoYmope2lmKGJsLmVycm9yQ2FsbGJhY2spe2JsLmVycm9yQ2FsbGJhY2soYmkpO31pZihiaS5oYW5kbGVkIT10cnVlKXtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS51bmhhbmRsZWRFcnJvcixiaSk7fWlmKGJpLmhhbmRsZWQhPXRydWUpe3Rocm93IG5ldyBFcnJvcihiaik7fX1lbHNle2lmKGJsLmNhbGxiYWNrKXtibC5jYWxsYmFjayhiaC5yZXN1bHQpO319fWMudHJhY2tlZENoYW5nZXNDb3VudD0wO2Z1bmN0aW9uIGFQKGJoKXtpZighIWMudHJhY2tDaGFuZ2VzU2lkZWJhcil7aWYoISFjLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSURfVFJBQ0tFRENIQU5HRVNfQ09VTlQpe2MudHJhY2tlZENoYW5nZXNDb3VudD1iaC5QYXJhbTE7Yy50cmFja0NoYW5nZXNTaWRlYmFyLnN1YlRpdGxlPWMuVFhUZXh0Q29udHJvbFJlc291cmNlcy5JRF9UUkFDS0VEQ0hBTkdFU19DT1VOVCtjLnRyYWNrZWRDaGFuZ2VzQ291bnQ7fX19ZnVuY3Rpb24gYXkoYmgpe2lmKGJoLmV2ZW50KXtzd2l0Y2goYmguZXZlbnQpe2Nhc2VcIkNvbGxlY3Rpb25DaGFuZ2VkXCI6aWYoYmguc2VuZGVyKXtzd2l0Y2goYmguc2VuZGVyLnR5cGUpe2Nhc2VcIlJpYmJvbk1lbnVcIjpzd2l0Y2goYmguZXZlbnRBcmdzLmFjdGlvbil7Y2FzZVwiQWRkXCI6aihiaC5zZW5kZXIsYmguZXZlbnRBcmdzLm5ld0l0ZW1zLGJoLmV2ZW50QXJncy5uZXdTdGFydGluZ0luZGV4KTticmVhaztjYXNlXCJSZW1vdmVcIjphWChiaC5ldmVudEFyZ3Mub2xkSXRlbXMpO2JyZWFrO2Nhc2VcIlJlc2V0XCI6YmkoYmguc2VuZGVyKTticmVhazt9YnJlYWs7fX1icmVhazt9fWZ1bmN0aW9uIGJpKGJrKXt2YXIgYmo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoeihiaykpO2lmKCFiail7cmV0dXJuO31iai5pbm5lckhUTUw9XCJcIjt9fWZ1bmN0aW9uIHooYmgpe3JldHVybiBiaC50YWJOYW1lK1wiX1wiK2JoLm5hbWU7fWZ1bmN0aW9uIGFYKGJoKXtiaC5mb3JFYWNoKGZ1bmN0aW9uKGJrKXt2YXIgYmo9eihiayk7dmFyIGJpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJqKTtiaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJpKTt9KTt9ZnVuY3Rpb24gaihibixiayxiail7dmFyIGJsPWJuLml0ZW1TaXplO3ZhciBibz16KGJuKTt2YXIgYmg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm8pO2lmKCFiaCl7cmV0dXJuO31mb3IodmFyIGJpPTA7Ymk8YmsubGVuZ3RoOysrYmkpe2MuYWRkTm9ybWFsTWVudUl0ZW0oYmgsYmtbYmldLGJsLGJuLm5hbWUsKGJqIT1udWxsKT9iaitiaTpudWxsKTt9dmFyIGJoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJvKTt2YXIgYm09YShiaCk7Ym0ubWVudShcInJlZnJlc2hcIik7Yy5jYWxjTWVudVdpZHRocyhiaCk7fWZ1bmN0aW9uIGEwKGJoKXtzd2l0Y2goYmgpe2Nhc2UgYy5BY3RpdmF0aW9uU3RhdGUuQWN0aXZhdGVkOmMudGV4dFZpZXdlci5mb2N1cygpO2JyZWFrO2Nhc2UgYy5BY3RpdmF0aW9uU3RhdGUuRGVhY3RpdmF0ZWQ6Yy50ZXh0Vmlld2VyLmJsdXIoKTticmVhazt9fWZ1bmN0aW9uIGFqKGJpKXt2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwiaW1hZ2VSZWNlaXZlZFwiLHtkZXRhaWw6Yml9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gbihiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcInVpRmxhZ3NVcGRhdGVkXCIse2RldGFpbDpiaX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmgpO31mdW5jdGlvbiBhYyhiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImZpbGVMaXN0UmVjZWl2ZWRcIix7ZGV0YWlsOmJpfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWZ1bmN0aW9uIGF2KGJpKXt2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwicHJpbnRSZXN1bHRSZWNlaXZlZFwiLHtkZXRhaWw6Yml9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gVyhiaSl7c3dpdGNoKGJpLlBhcmFtMSl7Y2FzZSBjLkNvbXBvbmVudFR5cGUuVGV4dFZpZXc6dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImRvY3VtZW50U2l6ZUNoYW5nZWRcIix7ZGV0YWlsOmJpLkRhdGF9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTticmVhaztjYXNlIGMuQ29tcG9uZW50VHlwZS5UcmFja0NoYW5nZXNWaWV3OmlmKCEhYy50cmFja0NoYW5nZXNWaWV3ZXIpe2MudHJhY2tDaGFuZ2VzVmlld2VyLmRvY3VtZW50U2l6ZT17V2lkdGg6YmkuRGF0YS5XaWR0aCxIZWlnaHQ6YmkuRGF0YS5IZWlnaHR9O31icmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKFwicHJvY2Vzc0RvY3VtZW50U2l6ZUNoYW5nZWRNZXNzYWdlOiBVbmtub3duIGNvbXBvbmVudCBpZC5cIik7fX1mdW5jdGlvbiBhVChiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcInR4Wm9vbWVkXCIse2RldGFpbDp7em9vbUZhY3RvcjpiaS5QYXJhbTF9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWMuSW5wdXRQb3NpdGlvbkNoYW5nZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYmgoaW5wdXRQb3NpdGlvbil7Zm9yKHZhciBiaSBpbiBpbnB1dFBvc2l0aW9uKXt0aGlzW2JpXT1pbnB1dFBvc2l0aW9uW2JpXTt9fXJldHVybiBiaDt9KSgpO2Z1bmN0aW9uIGFsKGJrKXt2YXIgYmk9YmsuRGF0YTtiaS51aUZsYWdzPWJrLlBhcmFtMTt2YXIgYmo9bmV3IEN1c3RvbUV2ZW50KFwiaW5wdXRQb3NpdGlvbkNoYW5nZWRcIix7ZGV0YWlsOmJpfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaik7dmFyIGJoPW5ldyBjLklucHV0UG9zaXRpb25DaGFuZ2VkRXZlbnRBcmdzKGJpLklucHV0UG9zaXRpb24pO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLmlucHV0UG9zaXRpb25DaGFuZ2VkLGJoKTtuKGJpLnVpRmxhZ3MpO31mdW5jdGlvbiBhdChiaCl7c3dpdGNoKGJoLlBhcmFtMSl7Y2FzZSBjLkZpbGVUeXBlLkRhdGFCYXNlOlQoYmgpO2JyZWFrO319ZnVuY3Rpb24gYWYoYmkpe3ZhciBiaD1uZXcgQ3VzdG9tRXZlbnQoXCJmcmFtZUluZm9SZWNlaXZlZFwiLHtkZXRhaWw6Yml9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gYVEoYmkpe3ZhciBiaD1uZXcgQ3VzdG9tRXZlbnQoXCJ0eFByb3BlcnR5Q2hhbmdlZFwiLHtkZXRhaWw6YmkuRGF0YX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmgpO31mdW5jdGlvbiBUZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZEV2ZW50QXJncyh4LHkpe3RoaXMubG9jYXRpb249bmV3IGMuUG9pbnQoeCx5KTt9ZnVuY3Rpb24gYU8oYmope3N3aXRjaChiai5QYXJhbTEpe2Nhc2UgYy5Db21wb25lbnRUeXBlLlRyYWNrQ2hhbmdlc1ZpZXc6aWYoISFjLnRyYWNrQ2hhbmdlc1ZpZXdlcil7Yy50cmFja0NoYW5nZXNWaWV3ZXIudGV4dFZpZXdMb2NhdGlvbj1iai5EYXRhO2MudHhUcmFja0NoYW5nZXNWZXJ0aWNhbFNjcm9sbGJhci51cGRhdGVTbGlkZXJQb3NpdGlvbnMoKTtjLnR4VHJhY2tDaGFuZ2VzSG9yaXpvbnRhbFNjcm9sbGJhci51cGRhdGVTbGlkZXJQb3NpdGlvbnMoKTt9YnJlYWs7Y2FzZSBjLkNvbXBvbmVudFR5cGUuVGV4dFZpZXc6dmFyIGJpPW5ldyBDdXN0b21FdmVudChcInRleHRWaWV3TG9jYXRpb25DaGFuZ2VkXCIse2RldGFpbDpiai5EYXRhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaSk7dmFyIGJrPWMudHdpcHMycHgoYmouRGF0YS5YLDEwMCw5Nik7dmFyIGJsPWMudHdpcHMycHgoYmouRGF0YS5ZLDEwMCw5Nik7dmFyIGJoPW5ldyBUZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZEV2ZW50QXJncyhiayxibCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUudGV4dFZpZXdMb2NhdGlvbkNoYW5nZWQsYmgpO24oYmouUGFyYW0yKTticmVhazt9fWZ1bmN0aW9uIFQoYmope3ZhciBiaD1iai5EYXRhfHx7fTtiaC5zdXBwcmVzc01lc3NhZ2U9KGJqLlBhcmFtMz09PTEpO3ZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJkYlNjaGVtZVJlY2VpdmVkXCIse2RldGFpbDpiaH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmkpO31mdW5jdGlvbiBhTChiaCl7dmFyIGJpPWMudHhEaWFsb2c/Yy50eERpYWxvZy5nZXRBY3RpdmVWaWV3ZXIoKTpjLnRleHRWaWV3ZXI7Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycz1bXTtjLmpRdWVyeUFsZXJ0KGJoLkRhdGEuY2FwdGlvbixiaC5EYXRhLm1lc3NhZ2UsYmkpO31mdW5jdGlvbiBhRihiail7dmFyIGJoPXt0YXJnZXQ6YmouUGFyYW0xLGN1cnNvclR5cGU6YmouUGFyYW0yLGRpYWxvZ1R5cGU6YmouUGFyYW0zfTt2YXIgYmk9bmV3IEN1c3RvbUV2ZW50KFwiY29tcG9uZW50Q3Vyc29yQ2hhbmdlZFwiLHtkZXRhaWw6Ymh9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTt9ZnVuY3Rpb24gWChiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImRvY3VtZW50VGFyZ2V0c1JlY2VpdmVkXCIse2RldGFpbDp7dGFyZ2V0czpiaS5EYXRhfX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmgpO31mdW5jdGlvbiBhbyhiail7dmFyIGJoPXtpdGVtVHlwZTpiai5QYXJhbTEsbW91c2VDbGljazooYmouUGFyYW0yIT09MCksaXRlbTpiai5EYXRhfTt2YXIgYmk9bmV3IEN1c3RvbUV2ZW50KFwidHhJdGVtUmVjZWl2ZWRcIix7ZGV0YWlsOmJofSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaSk7c3dpdGNoKGJoLml0ZW1UeXBlKXtjYXNlIGMuSXRlbVR5cGUuRmllbGRBZGFwdGVyOmMuY3VycmVudEZpZWxkRGF0YS5maWVsZEFkYXB0ZXI9YmguaXRlbS5maWVsZDtjLmN1cnJlbnRGaWVsZERhdGEubWVyZ2VGaWVsZFR5cGU9YmguaXRlbS5maWVsZFR5cGU7Ymk9bmV3IEN1c3RvbUV2ZW50KFwiZmllbGREYXRhUmVjZWl2ZWRcIix7ZGV0YWlsOmJoLml0ZW19KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTticmVhazt9fWZ1bmN0aW9uIFUoYmope3ZhciBiaD17ZGlhbG9nVHlwZTpiai5QYXJhbTEscmVzb3VyY2VzOmJqLkRhdGF9O3ZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJkaWFsb2dSZXNvdXJjZXNSZWNlaXZlZFwiLHtkZXRhaWw6Ymh9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTt9ZnVuY3Rpb24gYUUoYmkpe3ZhciBiaD1uZXcgQ3VzdG9tRXZlbnQoXCJhcHBNb2RlQ2hhbmdlZFwiLHtkZXRhaWw6e2FwcE1vZGU6YmkuUGFyYW0xfX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmgpO31mdW5jdGlvbiBhSChiaCl7c3dpdGNoKGJoLlBhcmFtMSl7Y2FzZSBjLkRpYWxvZ0NhdGVnb3J5LkhUTUxEaWFsb2c6YTMoYmgpO2JyZWFrO2Nhc2UgYy5EaWFsb2dDYXRlZ29yeS5UWERpYWxvZzppZighYy50eERpYWxvZyl7Yy50eERpYWxvZz1uZXcgYy5UeERpYWxvZyhiaC5EYXRhLmluaXRpYWxJbWFnZSxiaC5EYXRhLnNpemUsYmguRGF0YS5jYXB0aW9uLGJoLlBhcmFtMik7Yy50eERpYWxvZy5zaG93TW9kYWwoKTt9ZWxzZXtjLnR4RGlhbG9nLnNob3dDaGlsZERpYWxvZyhiaC5EYXRhLmluaXRpYWxJbWFnZSxiaC5EYXRhLnNpemUsYmguRGF0YS5jYXB0aW9uKTt9YnJlYWs7fX1mdW5jdGlvbiBhMyhiaSl7dmFyIGJoO3N3aXRjaChiaS5QYXJhbTIpe2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbnB1dEJveERpYWxvZzphNChiaS5EYXRhKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTWF4UHJldmlld1Jvd3NEaWFsb2c6YTUoYmkuRGF0YSk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkNoaWxkRGlhbG9nOmlmKGMudHhEaWFsb2cpe2MudHhEaWFsb2cuc2hvd0NoaWxkRGlhbG9nKGJpLkRhdGEuaW5pdGlhbEltYWdlLGJpLkRhdGEuc2l6ZSxiaS5EYXRhLmNhcHRpb24pO31lbHNle2MualF1ZXJ5QWxlcnQoXCJFcnJvciBNZXNzYWdlXCIsXCJDYW4gbm90IG9wZW4gY2hpbGQgZGlhbG9nIHdpdGhvdXQgaGF2aW5nIGFueSBUWFRleHRDb250cm9sIGRpYWxvZyBvcGVuLlwiKTt9YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkVkaXREYXRhUmVsYXRpb25zRGlhbG9nOmExKGJpLkRhdGEucmVsYXRpb25zLGJpLkRhdGEuZGJTY2hlbWUpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5FZGl0TWVyZ2VCbG9ja3NEaWFsb2c6YTIoYmkuRGF0YS5ibG9ja3MpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5PcHRpb25zRGlhbG9nOmE2KGJpLkRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkluc2VydE1lcmdlQmxvY2tEaWFsb2c6Ymg9bmV3IGMuSW5zZXJ0TWVyZ2VCbG9ja0RpYWxvZyhiaS5EYXRhLm5hbWUsYmkuRGF0YS5kYlNjaGVtZSk7Ymguc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlNhdmVEb2N1bWVudEFzRGlhbG9nOmE3KGJpLkRhdGEuZmlsZU5hbWUsYmkuRGF0YS5zdHJlYW1UeXBlKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuU3BlbGxDaGVja0RpYWxvZzpiaD1uZXcgYy5TcGVsbENoZWNrRGlhbG9nKGJpLkRhdGEpO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5Mb2FkRGljdGlvbmFyeURpYWxvZzpiaD1uZXcgYy5Mb2FkRGljdGlvbmFyeURpYWxvZyhiaS5EYXRhKTtiaC5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuU2V0Q2hhcnREYXRhUmVsYXRpb25EaWFsb2c6Ymg9bmV3IGMuU2V0Q2hhcnREYXRhUmVsYXRpb25EaWFsb2coYmkuRGF0YSk7Ymguc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkZvbnREaWFsb2c6Ymg9bmV3IGMuRm9udERpYWxvZyhiaS5EYXRhLnN0YXRlKTtiaC5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuVGhlc2F1cnVzRGlhbG9nOmJoPW5ldyBjLlRoZXNhdXJ1c0RpYWxvZyhiaS5EYXRhKTtiaC5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTG9hZFRoZXNhdXJ1c0RpYWxvZzpiaD1uZXcgYy5Mb2FkVGhlc2F1cnVzRGlhbG9nKGJpLkRhdGEpO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2c6Ymg9bmV3IGMuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nKGJpLkRhdGEpO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5DYW5ub3RUcmFja0NoYW5nZURpYWxvZzpiaD1uZXcgYy5NZXNzYWdlQm94RGlhbG9nKGJpLkRhdGEudGl0bGUsYmkuRGF0YS50ZXh0LGJpLkRhdGEuYnV0dG9ucyxiaS5EYXRhLmljb24pO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5PcGVuRmlsZURpYWxvZzpjLm9wZW5GaWxlKGJpLkRhdGEuZmlsZVR5cGUpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5IeXBlcmxpbmtEaWFsb2c6dmFyIGJoPW5ldyBjLkh5cGVybGlua0RpYWxvZygpO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbnNlcnREb2N1bWVudEZpbGVEaWFsb2c6dmFyIGJoPW5ldyBjLk9wZW5GaWxlRGlhbG9nKGMuQ29tbWFuZC5JbnNlcnREb2N1bWVudEZpbGUsYy5GaWxlVHlwZS5Eb2N1bWVudCk7Ymguc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLk1lcmdlRmllbGREaWFsb2c6YmMuc2hvd01lcmdlRmllbGREaWFsb2coYy5GaWVsZFR5cGUuTWVyZ2VGaWVsZCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLk5leHRJZkZpZWxkRGlhbG9nOmJjLnNob3dNZXJnZUZpZWxkRGlhbG9nKGMuRmllbGRUeXBlLk5leHRJZkZpZWxkKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuSWZGaWVsZERpYWxvZzpiYy5zaG93TWVyZ2VGaWVsZERpYWxvZyhjLkZpZWxkVHlwZS5JZkZpZWxkKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuSW5jbHVkZVRleHRGaWVsZERpYWxvZzpiYy5zaG93TWVyZ2VGaWVsZERpYWxvZyhjLkZpZWxkVHlwZS5JbmNsdWRlVGV4dEZpZWxkKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuRGF0ZUZpZWxkRGlhbG9nOmJjLnNob3dNZXJnZUZpZWxkRGlhbG9nKGMuRmllbGRUeXBlLkRhdGVGaWVsZCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkZpbGVTYXZlUXVlc3Rpb25EaWFsb2c6Yy5maWxlU2F2ZVF1ZXN0aW9uKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLk1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nOmJoPW5ldyBjLk1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nKGJpLkRhdGEpO2JoLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbnNlcnRCb29rbWFya0RpYWxvZzpiaD1uZXcgYy5JbnNlcnRCb29rbWFya0RpYWxvZyhiaS5EYXRhKTtiaC5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuRGVsZXRlQm9va21hcmtzRGlhbG9nOmJoPW5ldyBjLkRlbGV0ZUJvb2ttYXJrc0RpYWxvZyhiaS5EYXRhKTtiaC5zaG93TW9kYWwoKTticmVhazt9fWMuaW5zZXJ0TG9jYWxJbWFnZUZpbGU9ZnVuY3Rpb24oKXt2YXIgYmg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2JoLnR5cGU9XCJmaWxlXCI7Ymgub25jaGFuZ2U9ZnVuY3Rpb24oYmkpe3ZhciBiaj1iaC5maWxlc1swXTtpZighYmope3JldHVybjt9dmFyIGJrPW5ldyBGaWxlUmVhZGVyKCk7Ymsub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGJsPWMuYXJyYXlCdWZmZXJUb0I2NChiay5yZXN1bHQpO2JjLmltYWdlcy5hZGRJbmxpbmUoYmwsLTEpO307YmsucmVhZEFzQXJyYXlCdWZmZXIoYmopO307YmguY2xpY2soKTt9O2Z1bmN0aW9uIGFhKGJpKXt2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwiZmllbGREaXNwbGF5TW9kZUNoYW5nZWRcIix7ZGV0YWlsOntmaWVsZERpc3BsYXlNb2RlOmJpLlBhcmFtMX19KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gYVMoYmope3ZhciBiaD17c2hvdzooYmouUGFyYW0xIT09MCkscmVzb3VyY2VzOmJqLkRhdGF9O3ZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJ3YWl0RGlhbG9nTWVzc2FnZVJlY2VpdmVkXCIse2RldGFpbDpiaH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmkpO31mdW5jdGlvbiBhcShiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcIm1lcmdlRmllbGRIaWdobGlnaHRpbmdDaGFuZ2VkXCIse2RldGFpbDp7aGlnaGxpZ2h0OihiaS5QYXJhbTEhPT0wKX19KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gYXAoYmkpe3ZhciBiaD1uZXcgQ3VzdG9tRXZlbnQoXCJtZXJnZUJsb2NrSGlnaGxpZ2h0aW5nQ2hhbmdlZFwiLHtkZXRhaWw6e2hpZ2hsaWdodDooYmkuUGFyYW0xIT09MCl9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWZ1bmN0aW9uIFYoYmope3ZhciBiaT1iai5EYXRhLm1lc3NhZ2U7aWYoYmkmJmJpLmxlbmd0aCl7Yy5zaG93TXNnRGl2KGJpLHRydWUpO31jLmRvY3VtZW50RGlydHk9ZmFsc2U7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImRvY3VtZW50U2F2ZWRcIik7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWZ1bmN0aW9uIFEoYmgpe3N3aXRjaChiaC5QYXJhbTEpe2Nhc2UgYy5Db21wb25lbnRUeXBlLlRleHRWaWV3OmEwKGJoLlBhcmFtMik7YnJlYWs7fX1mdW5jdGlvbiBOKGJpKXtzd2l0Y2goYmkuUGFyYW0xKXtjYXNlIGMuQ29tcG9uZW50VHlwZS5UeERpYWxvZzp2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwiZGlhbG9nQ2FyZXRTdGF0ZUNoYW5nZWRcIix7ZGV0YWlsOmJpfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7YnJlYWs7Y2FzZSBjLkNvbXBvbmVudFR5cGUuVGV4dFZpZXc6Ymg9bmV3IEN1c3RvbUV2ZW50KFwidGV4dFZpZXdDYXJldFN0YXRlQ2hhbmdlZFwiLHtkZXRhaWw6Yml9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTticmVhazt9fWZ1bmN0aW9uIFAoYmope3ZhciBiaD17ZGlhbG9nVHlwZTpiai5QYXJhbTEsbmVzdGluZ0RlcHRoOmJqLlBhcmFtMn07dmFyIGJpPW5ldyBDdXN0b21FdmVudChcInR4RGlhbG9nQ2xvc2VkXCIse2RldGFpbDpiaH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmkpO31mdW5jdGlvbiBhayhiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImltYWdlUmVnaW9uc1VwZGF0ZWRcIix7ZGV0YWlsOmJpfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWZ1bmN0aW9uIGF6KGJpKXt2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwidmlld0NvbnRlbnRTY3JvbGxlZFwiLHtkZXRhaWw6Yml9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gUyhiail7dmFyIGJoPXtsb2NhdGlvbjpiai5QYXJhbTEsbWVudUl0ZW1zOmJqLkRhdGF9O3ZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJjb250ZXh0TWVudURhdGFSZWNlaXZlZFwiLHtkZXRhaWw6Ymh9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTt9ZnVuY3Rpb24gUihiaCl7dmFyIGJpPWJoLkRhdGEudGV4dDt2YXIgYmo9YmguUGFyYW0xO3N3aXRjaChiail7Y2FzZSBjLkNvbnNvbGVMb2dUeXBlLkxvZzpjb25zb2xlLmxvZyhiaSk7YnJlYWs7Y2FzZSBjLkNvbnNvbGVMb2dUeXBlLkRlYnVnOmNvbnNvbGUuZGVidWcoYmkpO2JyZWFrO2Nhc2UgYy5Db25zb2xlTG9nVHlwZS5JbmZvOmNvbnNvbGUuaW5mbyhiaSk7YnJlYWs7Y2FzZSBjLkNvbnNvbGVMb2dUeXBlLldhcm46Y29uc29sZS53YXJuKGJpKTticmVhaztjYXNlIGMuQ29uc29sZUxvZ1R5cGUuRXJyb3I6Y29uc29sZS5lcnJvcihiaSk7YnJlYWs7fX1mdW5jdGlvbiBaKGJqKXt2YXIgYmg9e0NvbXBvbmVudFR5cGU6YmouUGFyYW0xLEtpbmQ6YmouRGF0YS5LaW5kLExvY2F0aW9uOmJqLkRhdGEuTG9jYXRpb24sU2l6ZTpiai5EYXRhLlNpemV9O3ZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJkcmF3U2hhcGVNZXNzYWdlUmVjZWl2ZWRcIix7ZGV0YWlsOmJofSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaSk7fWZ1bmN0aW9uIGFpKGJpKXt2YXIgYmg9bmV3IEN1c3RvbUV2ZW50KFwiaHlwZXJsaW5rQ2xpY2tlZFwiLHtkZXRhaWw6YmkuRGF0YS5UYXJnZXR9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJoKTt9ZnVuY3Rpb24gYUsoYmgpe3ZhciBiaT1iaC5EYXRhO3N3aXRjaChiaC5QYXJhbTEpe2Nhc2UgYTkuVmFyaW91czpjLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXM9Ymk7YnJlYWs7Y2FzZSBhOS5SaWJib25TdHJpbmdzOmMucmliYm9uU3RyaW5nUmVzb3VyY2VzPWJpO2MuaW5pdFJpYmJvbigpO2JyZWFrO2Nhc2UgYTkuVFhUZXh0Q29udHJvbDpjLlRYVGV4dENvbnRyb2xSZXNvdXJjZXM9Ymk7Yy50cmFja0NoYW5nZXNTaWRlYmFyLmhlYWRlcj1iaS5JRF9UUkFDS0VEQ0hBTkdFU19DQVBUSU9OO2JyZWFrO319ZnVuY3Rpb24gYXcoYmgpe2MucHJvb2ZpbmdTZXR0aW5ncz1iaDtpZihiaC5pc1NwZWxsQ2hlY2tpbmdFbmFibGVkKXthKFwiI2J0blNwZWxsaW5nXCIpLnJlbW92ZUNsYXNzKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTthKFwiI2J0bkxvYWREaWN0aW9uYXJ5XCIpLnJlbW92ZUNsYXNzKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTthKFwiI3RnbEJ0bkVuYWJsZVNwZWxsQ2hlY2tcIikuYWRkQ2xhc3MoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO31lbHNle2EoXCIjYnRuU3BlbGxpbmdcIikuYWRkQ2xhc3MoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO2EoXCIjYnRuTG9hZERpY3Rpb25hcnlcIikuYWRkQ2xhc3MoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO2EoXCIjdGdsQnRuRW5hYmxlU3BlbGxDaGVja1wiKS5yZW1vdmVDbGFzcyhcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fWlmKGJoLmlzTGFuZ0RldGVjdEVuYWJsZWQpe2EoXCIjdGdsQnRuRW5hYmxlTGFuZ0RldGVjdFwiKS5hZGRDbGFzcyhcInJpYmJvbi1idXR0b24tc2VsZWN0ZWRcIik7fWVsc2V7YShcIiN0Z2xCdG5FbmFibGVMYW5nRGV0ZWN0XCIpLnJlbW92ZUNsYXNzKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9aWYoYmguaXNIeXBoZW5hdGlvbkVuYWJsZWQpe2EoXCIjdGdsQnRuRW5hYmxlSHlwaGVuYXRpb25cIikuYWRkQ2xhc3MoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO31lbHNle2EoXCIjdGdsQnRuRW5hYmxlSHlwaGVuYXRpb25cIikucmVtb3ZlQ2xhc3MoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319ZnVuY3Rpb24gYW4oYmspe3ZhciBiaT1udWxsO3ZhciBiaj1iay5QYXJhbTE7dmFyIGJoPWJrLlBhcmFtMjtzd2l0Y2goYmope2Nhc2UgYy5JdGVtVHlwZS5IZWFkZXJGb290ZXI6c3dpdGNoKGJoKXtjYXNlIGMuSXRlbUFjdGl2YXRpb25TdGF0ZS5BY3RpdmF0ZWQ6Ymk9bmV3IEN1c3RvbUV2ZW50KFwiaGVhZGVyRm9vdGVyQWN0aXZhdGVkXCIpO2JyZWFrO2Nhc2UgYy5JdGVtQWN0aXZhdGlvblN0YXRlLkRlYWN0aXZhdGVkOmJpPW5ldyBDdXN0b21FdmVudChcImhlYWRlckZvb3RlckRlYWN0aXZhdGVkXCIpO2JyZWFrO31icmVhazt9aWYoYmkpe2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmkpO319ZnVuY3Rpb24gYWgoYmope3ZhciBiaD1iai5QYXJhbTE7dmFyIGJrPWJqLkRhdGE7c3dpdGNoKGJoKXtjYXNlIGMuSFRNTERpYWxvZ1R5cGUuU3BlbGxDaGVja0RpYWxvZzp2YXIgYmk9bmV3IEN1c3RvbUV2ZW50KFwic3BlbGxDaGVja0RpYWxvZ1N0YXRlVXBkYXRlZFwiLHtkZXRhaWw6Ymt9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuVGhlc2F1cnVzRGlhbG9nOnZhciBiaT1uZXcgQ3VzdG9tRXZlbnQoXCJ0aGVzYXVydXNEaWFsb2dTdGF0ZVVwZGF0ZWRcIix7ZGV0YWlsOmJrfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaSk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZzp2YXIgYmk9bmV3IEN1c3RvbUV2ZW50KFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nVXBkYXRlZFwiLHtkZXRhaWw6Ymt9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJpKTticmVhazt9fWZ1bmN0aW9uIGFEKGJpKXt2YXIgYmg9YmkuUGFyYW0xO3N3aXRjaChiaCl7Y2FzZSBjLlNlcnZlckV2ZW50VHlwZS5Eb2N1bWVudExvYWRlZDp1KGJpLkRhdGEuZXZlbnREYXRhKTticmVhazt9fWMuRG9jdW1lbnRMb2FkZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRG9jdW1lbnRMb2FkZWRFdmVudEFyZ3MoZmlsZU5hbWUpe3RoaXMuZmlsZU5hbWU9ZmlsZU5hbWU7fXJldHVybiBEb2N1bWVudExvYWRlZEV2ZW50QXJnczt9KSgpO2Z1bmN0aW9uIHUoYmkpe3ZhciBiaD1uZXcgYy5Eb2N1bWVudExvYWRlZEV2ZW50QXJncyhiaS5maWxlTmFtZSk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuZG9jdW1lbnRMb2FkZWQsYmgpO31jLlNhdmVEb2N1bWVudFJlc3VsdD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBTYXZlRG9jdW1lbnRSZXN1bHQoZGF0YSxzdHJlYW1UeXBlLGJoKXt0aGlzLmRhdGE9ZGF0YTt0aGlzLnN0cmVhbVR5cGU9c3RyZWFtVHlwZXx8MDt0aGlzLmJ5dGVzV3JpdHRlbj1iaHx8MDt9cmV0dXJuIFNhdmVEb2N1bWVudFJlc3VsdDt9KSgpO2Z1bmN0aW9uIGFBKGJqKXtpZighYmouRGF0YSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc1NlbGVjdGlvbkRhdGEoKTogUmVjZWl2ZWQgbWVzc2FnZSBkb2VzIG5vdCBjb250YWluIGRhdGEuXCIpO312YXIgYmg9YmouRGF0YS5Db250ZW50O3ZhciBiaT1iai5EYXRhLkV4Y01zZztzd2l0Y2goYmguU2VsZWN0aW9uQ29tbWFuZCl7Y2FzZSBjLlNlbGVjdGlvbkNvbW1hbmQuU2F2ZTphQyhiaCxiaSk7YnJlYWs7Y2FzZSBjLlNlbGVjdGlvbkNvbW1hbmQuR2V0U3RhcnRBbmRMZW5ndGg6YUIoYmgsYmkpO2JyZWFrO2RlZmF1bHQ6YXUoYmgsYmkpO2JyZWFrO319ZnVuY3Rpb24gYUMoYmwsYmspe3ZhciBiaT1jLnNlbGVjdGlvblRhc2tDYWxsYmFja3Muc2F2ZS5zaGlmdCgpO2lmKGJrKXt0aHJvdyBuZXcgRXJyb3IoYmspO31pZighRChibC5TdHJlYW1UeXBlKSl7YmwuRG9jRGF0YT1iYy5hdG9iVVRGOChibC5Eb2NEYXRhKTt9aWYoYmkpe3ZhciBiaD1uZXcgYy5TYXZlRG9jdW1lbnRSZXN1bHQoYmwuRG9jRGF0YSxibC5TdHJlYW1UeXBlKTt0cnl7YmkoYmgpO31jYXRjaChiail7fX19ZnVuY3Rpb24gYUIoYmssYmope3ZhciBiaD1jLnNlbGVjdGlvblRhc2tDYWxsYmFja3MuZ2V0Qm91bmRzLnNoaWZ0KCk7aWYoYmope3Rocm93IG5ldyBFcnJvcihiaik7fWlmKGJoKXt0cnl7Ymgoe3N0YXJ0OmJrLlN0YXJ0LGxlbmd0aDpiay5MZW5ndGh9KTt9Y2F0Y2goYmkpe319fWZ1bmN0aW9uIGF1KGJpLGJoKXtpZihiaCl7dGhyb3cgbmV3IEVycm9yKGJoKTt9fWZ1bmN0aW9uIE8oYmgpe2lmKGMuaXNUb3VjaERldmljZSl7cmV0dXJuO31jLnNldENsaXBib2FyZE1vZGUoYmguUGFyYW0xKTt9ZnVuY3Rpb24gYWIoYmwpe3ZhciBiaDt2YXIgYms9YmwuRGF0YS5maWxlVHlwZTt2YXIgYmk9YmwuRGF0YS5kaXI7c3dpdGNoKGJrKXtjYXNlIGMuRmlsZVR5cGUuRG9jdW1lbnQ6Ymg9Yy5jb250cm9sVGFza0NhbGxiYWNrcy5nZXRGaWxlRGlyLmRvY3VtZW50LnNoaWZ0KCk7YnJlYWs7Y2FzZSBjLkZpbGVUeXBlLkltYWdlOmJoPWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0RmlsZURpci5pbWFnZS5zaGlmdCgpO2JyZWFrO2Nhc2UgYy5GaWxlVHlwZS5EYXRhQmFzZTpiaD1jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZpbGVEaXIuZGIuc2hpZnQoKTticmVhazt9aWYoYmgpe3RyeXtiaChiaSk7fWNhdGNoKGJqKXt9fX1mdW5jdGlvbiBhSihiail7dmFyIGJoPWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0U3RhdHVzQmFyQ29sb3Iuc2hpZnQoKTtpZihiaCl7dHJ5e2JoKGJqLkRhdGEuY3NzQ29sb3IpO31jYXRjaChiaSl7fX19ZnVuY3Rpb24gYWQoYmope3ZhciBiaD1jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZvcm1hdHRpbmdQcmludGVyLnNoaWZ0KCk7aWYoYmgpe3RyeXtiaChiai5EYXRhLnByaW50ZXJOYW1lKTt9Y2F0Y2goYmkpe319fWZ1bmN0aW9uIGFtKGJqKXt2YXIgYmg9Yy5jb250cm9sVGFza0NhbGxiYWNrcy5nZXRJbnN0YWxsZWRQcmludGVycy5zaGlmdCgpO2lmKGJoKXt0cnl7YmgoYmouRGF0YS5wcmludGVyTmFtZXMpO31jYXRjaChiaSl7fX19ZnVuY3Rpb24gWShiaSl7dmFyIGJoPW5ldyBDdXN0b21FdmVudChcImRyYXdpbmdDb250cm9sSW5mb1JlY2VpdmVkXCIse2RldGFpbDpiaS5EYXRhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fWZ1bmN0aW9uIGFlKGJrKXt2YXIgYmo9YmsuUGFyYW0xO3ZhciBiaT1udWxsO3N3aXRjaChiail7Y2FzZSBjLkZyYW1lRXZlbnRUeXBlLlNpemVkOmJpPVwiZnJhbWVTaXplZFwiO2JyZWFrO2Nhc2UgYy5GcmFtZUV2ZW50VHlwZS5Nb3ZlZDpiaT1cImZyYW1lTW92ZWRcIjticmVhazt9aWYoYmkpe3ZhciBiaD1uZXcgQ3VzdG9tRXZlbnQoYmkse2RldGFpbDpiay5EYXRhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiaCk7fX1mdW5jdGlvbiBhSShiaCl7dmFyIGJpPWJoLlBhcmFtMTt2YXIgYmo9KGJoLlBhcmFtMiE9PTApO3N3aXRjaChiaSl7Y2FzZSBjLlNpZGVCYXJUeXBlLlRyYWNrQ2hhbmdlczppZihjLnRyYWNrQ2hhbmdlc1NpZGViYXIpe2lmKGJqKXtjLnRyYWNrQ2hhbmdlc1NpZGViYXIuc2hvdygpO2MuYXJyYW5nZUNvbnRyb2xzKCk7fWVsc2V7Yy50cmFja0NoYW5nZXNTaWRlYmFyLmhpZGUoKTt9fWJyZWFrO319Yy5jcmVhdGVQcml2YXRlT2JqZWN0PWZ1bmN0aW9uKGJpKXtjW2JpLk5hbWVdPWNbYmkuTmFtZV18fHt9O2Zvcih2YXIgYmggaW4gYmkuRGVzY3JpcHRpb24pe2NbYmkuTmFtZV1bYmhdPWJpLkRlc2NyaXB0aW9uW2JoXTt9fTtmdW5jdGlvbiBiYSgpe3ZhciBiaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjLnRyaWFsU3RyaW5nSW5mLmlkKTtpZighYmgpe2soKTt9ZWxzZXtpZighYmguc3R5bGUuZGlzcGxheXx8KGJoLnN0eWxlLmRpc3BsYXkhPT1kLmRpc3BsYXkpKXtiaC5zdHlsZS5kaXNwbGF5PWQuZGlzcGxheTt9aWYoIWJoLnN0eWxlLnBvc2l0aW9ufHwoYmguc3R5bGUucG9zaXRpb24hPT1kLnBvc2l0aW9uKSl7Ymguc3R5bGUucG9zaXRpb249ZC5wb3NpdGlvbjt9aWYoYmguc3R5bGUuekluZGV4KXtiaC5zdHlsZS56SW5kZXg9XCJcIjt9aWYoIWJoLnN0eWxlLmxlZnR8fChiaC5zdHlsZS5sZWZ0IT09ZC5sZWZ0KSl7Ymguc3R5bGUubGVmdD1kLmxlZnQ7fWlmKCFiaC5zdHlsZS50b3B8fChiaC5zdHlsZS50b3AhPT0oZC50b3ArXCJweFwiKSkpe2JoLnN0eWxlLnRvcD1kLnRvcCtcInB4XCI7fWlmKCFiaC5zdHlsZS5tYXJnaW5MZWZ0fHwoYmguc3R5bGUubWFyZ2luTGVmdCE9PShkLm1hcmdpbkxlZnQrXCJweFwiKSkpe2JoLnN0eWxlLm1hcmdpbkxlZnQ9ZC5tYXJnaW5MZWZ0K1wicHhcIjt9aWYoIWJoLnN0eWxlLndpZHRofHwoYmguc3R5bGUud2lkdGghPT0oZC53aWR0aCtcInB4XCIpKSl7Ymguc3R5bGUud2lkdGg9ZC53aWR0aCtcInB4XCI7fWlmKCFiaC5zdHlsZS5vdmVyZmxvd3x8KGJoLnN0eWxlLm92ZXJmbG93IT09ZC5vdmVyZmxvdykpe2JoLnN0eWxlLm92ZXJmbG93PWQub3ZlcmZsb3c7fWlmKCFiaC5zdHlsZS5vcGFjaXR5fHwoYmguc3R5bGUub3BhY2l0eSE9ZC5vcGFjaXR5KSl7Ymguc3R5bGUub3BhY2l0eT1kLm9wYWNpdHk7fWlmKCFiaC5zdHlsZS5mb250U2l6ZXx8KGJoLnN0eWxlLmZvbnRTaXplIT09KGQuZm9udFNpemUrXCJwdFwiKSkpe2JoLnN0eWxlLmZvbnRTaXplPWQuZm9udFNpemUrXCJwdFwiO31pZighYmguc3R5bGUuY29sb3J8fChiaC5zdHlsZS5jb2xvci5yZXBsYWNlKC8gL2csXCJcIikhPT1kLmNvbG9yKSl7Ymguc3R5bGUuY29sb3I9ZC5jb2xvcjt9aWYoYmguaW5uZXJIVE1MIT09ZC5pbm5lckhUTUwpe2JoLmlubmVySFRNTD1kLmlubmVySFRNTDt9aWYoYmguc3R5bGUudHJhbnNmb3JtKXtiaC5zdHlsZS50cmFuc2Zvcm09XCJcIjt9aWYoYmguc3R5bGUuekluZGV4IT09ZC56SW5kZXgpe2JoLnN0eWxlLnpJbmRleD1kLnpJbmRleDt9fX1mdW5jdGlvbiB4KGJpKXtpZihiaTwxKXt0aHJvdyBuZXcgRXJyb3IoXCJJRCBtdXN0IGF0IGxlYXN0IGJlIG9uZSBjaGFyYWN0ZXIgbG9uZy5cIik7fXZhciBibD1cIlwiO3ZhciBiaz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjt2YXIgYmo9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OV9cIjtmb3IodmFyIGJoPTA7Ymg8Ymk7KytiaCl7aWYoYmg9PTApe2JsKz1iay5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJrLmxlbmd0aCkpO31lbHNle2JsKz1iai5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJqLmxlbmd0aCkpO319cmV0dXJuIGJsO31mdW5jdGlvbiBBKGJoKXt2YXIgYmk9YmguY2hpbGRyZW4ubGVuZ3RoO2lmKCFiaSl7cmV0dXJuIG51bGw7fXJldHVybiBiaC5jaGlsZHJlbltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYmkpXTt9dmFyIGQ9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIixsZWZ0OlwiNTAlXCIsdG9wOjAsbWFyZ2luTGVmdDowLG92ZXJmbG93OlwidmlzaWJsZVwiLG9wYWNpdHk6MC4zLHdpZHRoOjAsekluZGV4OjEsZm9udFNpemU6MTYsY29sb3I6XCJyZ2IoMCwwLDApXCIsaW5uZXJIVE1MOlwiXCJ9O2Z1bmN0aW9uIGsoKXt2YXIgYmg9Yy50cmlhbFN0cmluZ0luZi5jb2xvcjt2YXIgYm09KGJoLkEvMjU1KS50b0ZpeGVkKDIpO2Qub3BhY2l0eT1ibTt2YXIgYmk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiaS50ZXh0Q29udGVudD1jLnRyaWFsU3RyaW5nSW5mLnRleHQ7Ymkuc3R5bGUucG9zaXRpb249ZC5wb3NpdGlvbjtpZighYy50cmlhbFN0cmluZ1dESWQpe2JpLnN0eWxlLm9wYWNpdHk9MDt9ZWxzZXtiaS5zdHlsZS5vcGFjaXR5PWJtO31kLmNvbG9yPVwicmdiKFwiK2JoLlIrXCIsXCIrYmguRytcIixcIitiaC5CK1wiKVwiO2JpLnN0eWxlLmNvbG9yPWQuY29sb3I7Ymkuc3R5bGUuZm9udEZhbWlseT1jLnRyaWFsU3RyaW5nSW5mLmZvbnRGYW1pbHk7ZC5mb250U2l6ZT1jLnRyaWFsU3RyaW5nSW5mLmZvbnRTaXplO2JpLnN0eWxlLmZvbnRTaXplPWMudHJpYWxTdHJpbmdJbmYuZm9udFNpemUrXCJwdFwiO2JpLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCI7Ymkuc3R5bGUuekluZGV4PWQuekluZGV4O2JpLnN0eWxlLnRleHRBbGlnbj1cImNlbnRlclwiO2JpLnN0eWxlLmRpc3BsYXk9ZC5kaXNwbGF5O2lmKCFjLnRyaWFsU3RyaW5nV0RJZCl7Ymkuc3R5bGUudHJhbnNpdGlvbj1cIm9wYWNpdHkgMnNcIjt9YmkuY2xhc3NMaXN0LmFkZChcInVuc2VsZWN0YWJsZVwiKTtkLmlubmVySFRNTD1iaS5pbm5lckhUTUw7YmkuaWQ9eCgxMCk7Yy50cmlhbFN0cmluZ0luZi5pZD1iaS5pZDt2YXIgYmw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpO3ZhciBibj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTt0cnl7dmFyIGJrPUEoYm4pO2JuLmluc2VydEJlZm9yZShiaSxiayk7fWNhdGNoKGJqKXtpZihiaiBpbnN0YW5jZW9mIFR5cGVFcnJvciYmYy50cmlhbFN0cmluZ1dESWQpe2NsZWFySW50ZXJ2YWwoYy50cmlhbFN0cmluZ1dESWQpO3JldHVybjt9fWQudG9wPWJsLm9mZnNldFRvcCtjLnRyaWFsU3RyaW5nSW5mLnlQb3M7Ymkuc3R5bGUudG9wPWQudG9wK1wicHhcIjtkLndpZHRoPWJpLmNsaWVudFdpZHRoKzEwO2JpLnN0eWxlLndpZHRoPWQud2lkdGgrXCJweFwiO2QubWFyZ2luTGVmdD0tKGJpLmNsaWVudFdpZHRoLzIpO2JpLnN0eWxlLm1hcmdpbkxlZnQ9ZC5tYXJnaW5MZWZ0K1wicHhcIjtiaS5zdHlsZS5sZWZ0PWQubGVmdDtpZighYy50cmlhbFN0cmluZ1dESWQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiaS5zdHlsZS5vcGFjaXR5PWJtO30sMjAwMCk7fWlmKCFjLnRyaWFsU3RyaW5nV0RJZCl7Yy50cmlhbFN0cmluZ1dESWQ9c2V0SW50ZXJ2YWwoYmEsMjAwMCk7fX1jLmdldENhY2hlZEltYWdlRGF0YVVSTD1mdW5jdGlvbihibCl7aWYoIWMuVFhJbWFnZUNhY2hlKXt2YXIgYms9bG9jYWxTdG9yYWdlLmdldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7aWYoIWJrKXtyZXR1cm4gbnVsbDt9dHJ5e2MuVFhJbWFnZUNhY2hlPUpTT04ucGFyc2UoYmspO31jYXRjaChiail7Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBkZXNlcmlhbGl6ZSBUWCBEb2N1bWVudCBFZGl0b3IgaW1hZ2UgY2FjaGU6IFwiK2JqLm1lc3NhZ2UpO319aWYoIWMuVFhJbWFnZUNhY2hlKXtyZXR1cm4gbnVsbDt9dmFyIGJpPWMuVFhJbWFnZUNhY2hlW2JsLkltYWdlTmFtZV07aWYoIWJpKXtyZXR1cm4gbnVsbDt9Ymk9YmlbYmwuSW1hZ2VLaW5kXTtpZighYmkpe3JldHVybiBudWxsO312YXIgYmg9YmwuQ3VsdHVyZT9ibC5DdWx0dXJlLnJlcGxhY2UoXCItXCIsXCJfXCIpOlwiaW52YXJpYW50XCI7Ymk9YmlbYmhdO2lmKCFiaSl7cmV0dXJuIG51bGw7fXJldHVybiBiaS5kYXRhVVJMO307ZnVuY3Rpb24gYWcoYmope2lmKChiaj09PVwiXCIpfHwodHlwZW9mIGJqPT09XCJ1bmRlZmluZWRcIil8fChiaj09PW51bGwpKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5HZXRJbWFnZXMsMCwwLDAsYy5yZXF1aXJlZEltYWdlcyk7Yy5yZXF1aXJlZEltYWdlcz1bXTtyZXR1cm47fWlmKGJqLmxlbmd0aD09MCl7cmV0dXJuO312YXIgYmk9bG9jYWxTdG9yYWdlLmdldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7aWYoYmkpe3RyeXtjLlRYSW1hZ2VDYWNoZT1KU09OLnBhcnNlKGJpKTt9Y2F0Y2goYmgpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgZGVzZXJpYWxpemUgVFggRG9jdW1lbnQgRWRpdG9yIGltYWdlIGNhY2hlOiBcIitiaC5tZXNzYWdlKTt9bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7fWMuVFhJbWFnZUNhY2hlPWMuVFhJbWFnZUNhY2hlfHx7fTtiai5mb3JFYWNoKGJsKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSxKU09OLnN0cmluZ2lmeShjLlRYSW1hZ2VDYWNoZSkpO31jYXRjaChiaCl7Y29uc29sZS5lcnIoXCJDb3VsZCBub3Qgc3RvcmUgdGhlIFRYIERvY3VtZW50IEVkaXRvciBpbWFnZSBjYWNoZSBpbiB0aGUgbG9jYWwgc3RvcmFnZTogXCIrYmgubWVzc2FnZSk7fXZhciBiaz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciBpbWdbZGF0YS10eC1pbWFnZS1pbmZvXVwiKTtbXS5mb3JFYWNoLmNhbGwoYmssZnVuY3Rpb24oYm4pe3ZhciBibT1KU09OLnBhcnNlKGJuLmRhdGFzZXQudHhJbWFnZUluZm8pO2JuLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHgtaW1hZ2UtaW5mb1wiKTtibi5zcmM9Yy5nZXRDYWNoZWRJbWFnZURhdGFVUkwoYm0pO30pO2Z1bmN0aW9uIGJsKGJvKXt2YXIgYm49Yy5UWEltYWdlQ2FjaGVbYm8uaW1hZ2VOYW1lXXx8e307dmFyIGJxPWJuW2JvLmltYWdlS2luZF18fHt9O3ZhciBibT1iby5jdWx0dXJlP2JvLmN1bHR1cmUucmVwbGFjZShcIi1cIixcIl9cIik6XCJpbnZhcmlhbnRcIjt2YXIgYnA9YnFbYm1dfHx7fTticC5kYXRhVVJMPWJvLmRhdGFVUkw7YnFbYm1dPWJwO2JuW2JvLmltYWdlS2luZF09YnE7Yy5UWEltYWdlQ2FjaGVbYm8uaW1hZ2VOYW1lXT1ibjt9fWZ1bmN0aW9uIGFSKGJrKXtiYy52ZXJzaW9uPWJrLk1ham9yK1wiLlwiK2JrLk1pbm9yO2JjLnZlcnNpb25JbmZvPXttYWpvcjpiay5NYWpvcixtaW5vcjpiay5NaW5vcixzZXJ2aWNlUGFjazpiay5TZXJ2aWNlUGFja307dmFyIGJpPWMuTG9jYWxJbWFnZVN0b3JhZ2VQcmVmaXgrXCJfXCIrYmsuTWFqb3IrXCJfXCIrYmsuTWlub3IrXCJfXCIrYmsuU2VydmljZVBhY2s7Yy5Mb2NhbEltYWdlU3RvcmFnZUtleT1iaTt2YXIgYmo9W107Zm9yKHZhciBiaD0wO2JoPGxvY2FsU3RvcmFnZS5sZW5ndGg7KytiaCl7YmoucHVzaChsb2NhbFN0b3JhZ2Uua2V5KGJoKSk7fWJqLmZvckVhY2goZnVuY3Rpb24oYmwpe2lmKGJsLnN0YXJ0c1dpdGgoYy5Mb2NhbEltYWdlU3RvcmFnZVByZWZpeCkmJihibCE9PWJpKSl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYmwpO319KTt9Yy5maWxlU2F2ZVF1ZXN0aW9uPWZ1bmN0aW9uKGJqKXtiaj1ianx8ZnVuY3Rpb24oKXt9O2lmKCFjLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZCl7YmooKTtyZXR1cm47fXZhciBibj1jLnR4RGlhbG9nP2MudHhEaWFsb2cuZ2V0QWN0aXZlVmlld2VyKCk6Yy50ZXh0Vmlld2VyO3ZhciBiaT1jLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuU0FWRV9RVUVTVElPTl9ESUFMT0dfQ0FQVElPTjt2YXIgYm09Yy52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLlNBVkVfUVVFU1RJT05fRElBTE9HX1RFWFQ7dmFyIGJvPWMudmFyaW91c1N0cmluZ1Jlc291cmNlcy5CVE5fWUVTO3ZhciBiaz1jLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuQlROX05PO3ZhciBiaD1jLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuQlROX0NBTkNFTDtjLmRvY3VtZW50U2F2ZWRFdmVudEhhbmRsZXJzPVtdO3ZhciBibD1mdW5jdGlvbigpe2MuZG9jdW1lbnRTYXZlZEV2ZW50SGFuZGxlcnMucHVzaChiaik7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU2F2ZSk7fTthKFxcJzxkaXYgc3R5bGU9XCJmb250LXNpemU6IDEwcHQ7IG1pbi13aWR0aDogMjUwcHhcIj5cXCcrYm0rXCI8L2Rpdj5cIikuZGlhbG9nKHttb2RhbDp0cnVlLHJlc2l6YWJsZTpmYWxzZSx0aXRsZTpiaSx3aWR0aDpcImF1dG9cIixoZWlnaHQ6MTMwLGJ1dHRvbnM6e1llczp7dGV4dDpibyxjbGljazpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTtibCgpO2lmKGJuJiYhYy5pc1RvdWNoRGV2aWNlKXtibi5mb2N1cygpO319fSxObzp7dGV4dDpiayxjbGljazpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTtiaigpO2lmKGJuJiYhYy5pc1RvdWNoRGV2aWNlKXtibi5mb2N1cygpO319fSxDYW5jZWw6e3RleHQ6YmgsY2xpY2s6ZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7aWYoYm4mJiFjLmlzVG91Y2hEZXZpY2Upe2JuLmZvY3VzKCk7fX19fSxjbG9zZTpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTtpZihibiYmIWMuaXNUb3VjaERldmljZSl7Ym4uZm9jdXMoKTt9fX0pO307ZnVuY3Rpb24gYTQoYmgpe3ZhciBiaT1uZXcgYy5JbnB1dEJveERpYWxvZyhiaC50aXRsZSxiaC50ZXh0LGJoLmxhYmVsLGJoLmlzUGFzc3dvcmRCb3gpO2JpLnNob3dNb2RhbCgpO31mdW5jdGlvbiBhNShiaCl7dmFyIGJpPW5ldyBjLk1heFByZXZpZXdSb3dzRGlhbG9nKGJoLnZhbHVlKTtiaS5zaG93TW9kYWwoKTt9ZnVuY3Rpb24gYTEoYmosYmgpe3ZhciBiaT1uZXcgYy5FZGl0RGF0YVJlbGF0aW9uc0RpYWxvZyhiaixiaCk7Ymkuc2hvd01vZGFsKCk7fWZ1bmN0aW9uIGEyKGJoKXt2YXIgYmk9bmV3IGMuRWRpdE1lcmdlQmxvY2tzRGlhbG9nKGJoKTtiaS5zaG93TW9kYWwoKTt9ZnVuY3Rpb24gYTYoYmkpe3ZhciBiaD1uZXcgYy5PcHRpb25zRGlhbG9nKGJpKTtiaC5zaG93TW9kYWwoKTt9ZnVuY3Rpb24gYTcoYmksYmope3ZhciBiaD1uZXcgYy5TYXZlRG9jdW1lbnRBc0RpYWxvZyhiaSxiaik7Ymguc2hvd01vZGFsKCk7fWZ1bmN0aW9uIHYoYmgpe2lmKGMuaXNUb3VjaERldmljZSl7cmV0dXJuO31pZihjLm92ZXJsYXlDb250cm9scy5leGlzdCgpKXtyZXR1cm47fXZhciBiaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTtpZigoYmg9PWJpKXx8KGJpLmNvbnRhaW5zKGJoKSkpe2lmKChiaC50YWdOYW1lIT09XCJTRUxFQ1RcIikmJihiaC50YWdOYW1lIT09XCJJTlBVVFwiKSl7Yy50ZXh0Vmlld2VyLmZvY3VzKCk7fX19ZnVuY3Rpb24gRyhiaCl7dmFyIGJpPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzY3JvbGxiYXItd3JhcHBlclwiKTtmb3IodmFyIGJqPTA7Ymo8YmkubGVuZ3RoOysrYmope2lmKGJpW2JqXS5jb250YWlucyhiaCkpe3YoYmgpO2JyZWFrO319fWZ1bmN0aW9uIHAoYmkpe3RyeXtHKGJpLnRhcmdldCk7Yi5MZWZ0PShiaS53aGljaD09MSk7Yi5NaWRkbGU9KGJpLndoaWNoPT0yKTtiLlJpZ2h0PShiaS53aGljaD09Myk7fWNhdGNoKGJoKXt9fWZ1bmN0aW9uIHEoYmkpe3RyeXtpZihjLm1vdXNlT3duZXIpe3ZhciBiaj1jLm1vdXNlT3duZXI7Yy5tb3VzZU93bmVyPW51bGw7YmouY2FudmFzX01vdXNlTW92ZShiaSk7Yy5tb3VzZU93bmVyPWJqO319Y2F0Y2goYmgpe319ZnVuY3Rpb24gcihiaSl7dHJ5e2lmKGJpLndoaWNoPT0xKXtiLkxlZnQ9ZmFsc2U7fWlmKGJpLndoaWNoPT0yKXtiLk1pZGRsZT1mYWxzZTt9aWYoYmkud2hpY2g9PTMpe2IuUmlnaHQ9ZmFsc2U7fWlmKGMubW91c2VPd25lcil7dmFyIGJqPWMubW91c2VPd25lcjtjLm1vdXNlT3duZXI9bnVsbDtiai5jYW52YXNfTW91c2VVcChiaSk7Yy5tb3VzZU93bmVyPWJqO31pZighYi5MZWZ0JiYhYi5NaWRkbGUmJiFiLlJpZ2h0KXtjLm1vdXNlT3duZXI9bnVsbDt9fWNhdGNoKGJoKXt9fWZ1bmN0aW9uIG8oYmkpe3RyeXt2KGJpLnRhcmdldCk7fWNhdGNoKGJoKXt9fWZ1bmN0aW9uIEwoKXt9ZnVuY3Rpb24gRChiaCl7c3dpdGNoKGJoKXtjYXNlIGMuVFhTdHJlYW1UeXBlLkludGVybmFsRm9ybWF0OmNhc2UgYy5UWFN0cmVhbVR5cGUuSW50ZXJuYWxVbmljb2RlRm9ybWF0OmNhc2UgYy5UWFN0cmVhbVR5cGUuTVNXb3JkOmNhc2UgYy5UWFN0cmVhbVR5cGUuQWRvYmVQREY6Y2FzZSBjLlRYU3RyZWFtVHlwZS5Xb3JkcHJvY2Vzc2luZ01MOmNhc2UgYy5UWFN0cmVhbVR5cGUuQWRvYmVQREZBOmNhc2UgYy5UWFN0cmVhbVR5cGUuU3ByZWFkc2hlZXRNTDpyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO31jLmlzQmluYXJ5U3RyZWFtVHlwZT1EO2Z1bmN0aW9uIHMoKXtmb3IodmFyIGJpPTA7Ymk8Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycy5sZW5ndGg7KytiaSl7dmFyIGJoPWMuZG9jdW1lbnRTYXZlZEV2ZW50SGFuZGxlcnNbYmldO2JoKCk7fWMuZG9jdW1lbnRTYXZlZEV2ZW50SGFuZGxlcnM9W107fWZ1bmN0aW9uIE0oYmgpe2JoLnByZXZlbnREZWZhdWx0KCk7fWMud2ViU29ja2V0RGlzY29ubmVjdD1mdW5jdGlvbigpe2lmKCFjLnNvY2tldCl7cmV0dXJuO31pZihjLmlzU29ja2V0Q29ubmVjdGVkKCkpe2Muc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGJlKTtjLnNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2VcIixiZCk7Yy5zb2NrZXQuY2xvc2UoKTt9Yy5zb2NrZXQ9bnVsbDt9O2Z1bmN0aW9uIEgoYmgpe3RyeXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbG9zZSk7Yy53ZWJTb2NrZXREaXNjb25uZWN0KCk7fWNhdGNoKGJoKXt9fWMudW5zdWJzY3JpYmVEb2N1bWVudEFuZFdpbmRvd0V2ZW50cz1mdW5jdGlvbigpe307Yy5qUXVlcnlBbGVydD1mdW5jdGlvbihiaCxiaSxiail7Ymg9Ymh8fFwiXCI7Ymk9Yml8fFwiXCI7Ymk9YmkucmVwbGFjZSgvXFxcXHI/XFxcXG4vZyxcIjxicj5cIik7Ymo9dHlwZW9mIGJqIT09XCJ1bmRlZmluZWRcIj9iajpudWxsO2EoXFwnPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTBwdDsgbWluLXdpZHRoOiAyNTBweFwiPlxcJytiaStcIjwvZGl2PlwiKS5kaWFsb2coe21vZGFsOnRydWUscmVzaXphYmxlOmZhbHNlLHRpdGxlOmJoLHdpZHRoOlwiYXV0b1wiLGJ1dHRvbnM6e09LOmZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2lmKGJqJiYhYy5pc1RvdWNoRGV2aWNlKXtiai5mb2N1cygpO319LH0sY2xvc2U6ZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7aWYoYmomJiFjLmlzVG91Y2hEZXZpY2Upe2JqLmZvY3VzKCk7fX19KTt9O3JldHVybiBiYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7aWYodHlwZW9mIHJhbmRvbUludEZyb21JbnRlcnZhbCE9PVwiZnVuY3Rpb25cIil7cmFuZG9tSW50RnJvbUludGVydmFsPWZ1bmN0aW9uKGIsYSl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooYS1iKzEpK2IpO307fWlmKHR5cGVvZiBpc0ludGVnZXIhPT1cImZ1bmN0aW9uXCIpe2lzSW50ZWdlcj1mdW5jdGlvbihhKXtyZXR1cm4oYT09PSthKSYmKGE9PT0oYXwwKSk7fTt9aWYodHlwZW9mIGlzQ2hhcmFjdGVyIT09XCJmdW5jdGlvblwiKXtpc0NoYXJhY3Rlcj1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PT1cInN0cmluZ1wiJiZhLmxlbmd0aD09MTt9O31pZih0eXBlb2YgaXNBcnJheU9mVHlwZSE9PVwiZnVuY3Rpb25cIil7aXNBcnJheU9mVHlwZT1mdW5jdGlvbihiLGEpe2lmKGImJnR5cGVvZiBiPT09XCJvYmplY3RcIiYmYi5jb25zdHJ1Y3Rvcj09PUFycmF5KXtiLmZvckVhY2goZnVuY3Rpb24oYyl7aWYodHlwZW9mIGMhPT1hKXtyZXR1cm4gZmFsc2U7fX0pO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTt9IUFycmF5LnByb3RvdHlwZS5maW5kJiYoQXJyYXkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDsrK2Ipe2lmKGEodGhpc1tiXSxiLHRoaXMpKXtyZXR1cm4gdGhpc1tiXTt9fXJldHVybiBudWxsO30pOyFBcnJheS5wcm90b3R5cGUuc29tZSYmKEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbmQoYSkhPT1udWxsO30pOyFOdW1iZXIucHJvdG90eXBlLm1vZCYmKE51bWJlci5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGEpe3JldHVybigodGhpcyVhKSthKSVhO30pO2lmKCFTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLFwic3RhcnRzV2l0aFwiLHt2YWx1ZTpmdW5jdGlvbihjLGIpe3ZhciBhPWI+MD9ifDA6MDtyZXR1cm4gdGhpcy5zdWJzdHJpbmcoYSxhK2MubGVuZ3RoKT09PWM7fX0pO31pZih0eXBlb2YgQ3VzdG9tRXZlbnQhPT1cImZ1bmN0aW9uXCIpeyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXtkPWR8fHtidWJibGVzOmZhbHNlLGNhbmNlbGFibGU6ZmFsc2UsZGV0YWlsOnVuZGVmaW5lZH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtjLmluaXRDdXN0b21FdmVudChiLGQuYnViYmxlcyxkLmNhbmNlbGFibGUsZC5kZXRhaWwpO3JldHVybiBjO31hLnByb3RvdHlwZT13aW5kb3cuQ3VzdG9tRXZlbnQucHJvdG90eXBlO3dpbmRvdy5DdXN0b21FdmVudD1hO30pKCk7fWlmKHR5cGVvZiBjbG9uZU9iamVjdCE9PVwiZnVuY3Rpb25cIil7Y2xvbmVPYmplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYSkpO307fXZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihnLGEpe3ZhciBjPWcuX3ByaXZhdGU9Zy5fcHJpdmF0ZXx8e307Yy5zZWNyZXRBUElFbmFibGVkPWZhbHNlO2MuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzPXtnZXRUZXh0UGFydHM6W10sZ2V0VGV4dEZpZWxkczpbXSxnZXRTdWJUZXh0UGFydHM6W10sYWRkU3ViVGV4dFBhcnQ6W10scmVtb3ZlU3ViVGV4dFBhcnQ6W119O2Muc2VsZWN0aW9uVGFza0NhbGxiYWNrcz17c2F2ZTpbXSxnZXRCb3VuZHM6W10sZ2V0Q3VsdHVyZTpbXX07Yy5jb250cm9sVGFza0NhbGxiYWNrcz17Z2V0RmlsZURpcjp7ZG9jdW1lbnQ6W10sZGI6W10saW1hZ2U6W119LGdldFN0YXR1c0JhckNvbG9yOltdLGdldEZvcm1hdHRpbmdQcmludGVyOltdLGdldEluc3RhbGxlZFByaW50ZXJzOltdfTtjLkVycm9yVGV4dD1PYmplY3QuZnJlZXplKHtOb1N0cmVhbVR5cGU6XCJObyBUWFRleHRDb250cm9sIHN0cmVhbSB0eXBlIGdpdmVuLlwiLE5vRG9jdW1lbnREYXRhOlwiTm8gZG9jdW1lbnQgZGF0YSBnaXZlbi5cIixUb29GZXdQYXJhbWV0ZXJzOlwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIsQ2FsbEJhY2tJc05vRnVuY3Rpb246XFwnUGFyYW1ldGVyIFwiY2FsbGJhY2tcIiBtdXN0IGJlIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxcJyxFcnJvckNhbGxCYWNrSXNOb0Z1bmN0aW9uOlxcJ1BhcmFtZXRlciBcImVycm9yQ2FsbGJhY2tcIiBtdXN0IGJlIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxcJyxQYXJhbUludmFsaWQ6XCJQYXJhbWV0ZXIgaXMgaW52YWxpZC5cIixQYXJhbVVuZGVmaW5lZDpcIlBhcmFtZXRlciBpcyB1bmRlZmluZWQuXCIsUGFyYW1Ob3RBTnVtYmVyOlwiUGFyYW1ldGVyIGlzIG5vdCBhIG51bWJlci5cIixQYXJhbU5vdEFuSW50ZWdlcjpcIlBhcmFtZXRlciBpcyBub3QgYW4gaW50ZWdlci5cIixQYXJhbU5vdEFTdHJpbmc6XCJQYXJhbWV0ZXIgaXMgbm90IGEgc3RyaW5nLlwiLFBhcmFtTm90QUNoYXJhY3RlcjpcIlBhcmFtZXRlciBpcyBub3QgYSBzdHJpbmcgb2YgbGVuZ3RoIDEuXCIsUGFyYW1Ob3RCb29sZWFuOlwiUGFyYW1ldGVyIGlzIG5vdCBvZiB0eXBlIGJvb2xlYW4uXCIsUGFyYW1Ob3RBVGFibGVBZGRQb3NpdGlvbjpcIlBhcmFtZXRlciBpcyBub3QgYSBUYWJsZUFkZFBvc2l0aW9uLlwiLFBhcmFtTm90QXJyYXlPZlN0cmluZ3M6XCJQYXJhbWV0ZXIgaXMgbm90IGFuIGFycmF5IHdpdGggZWxlbWVudHMgb2YgdHlwZSBzdHJpbmcuXCIsRmlsZVR5cGVJc05vdE51bWVyaWM6XFwnUGFyYW1ldGVyIFwiZmlsZVR5cGVcIiBtdXN0IGJlIGEgbnVtZXJpYyB2YWx1ZS5cXCcsSW52YWxpZEhleENvbG9yU3RyaW5nOlwiIGlzIG5vdCBhIHZhbGlkIGhleCBjb2xvciBzdHJpbmcuXCIsSW52YWxpZENvbG9yU3RyaW5nOlwiIGlzIG5vdCBhIHZhbGlkIGNvbG9yIHN0cmluZy5cIixSaWJib25UYWJEb2VzTm90RXhpc3Q6XCJUaGUgcmVxdWVzdGVkIHJpYmJvbiB0YWIgZG9lcyBub3QgZXhpc3Qgb3IgaXMgbm90IHNlbGVjdGFibGUgYXQgdGhlIG1vbWVudC5cIixUZXh0RmllbGRQYXJhbVR5cGVFcnJvcjpcXCdQYXJhbWV0ZXIgXCJ0ZXh0RmllbGRcIiBjYW5ub3QgYmUgb21pdHRlZCBhbmQgbXVzdCBiZSBvZiB0eXBlIFRYVGV4dENvbnRyb2wuQXBwbGljYXRpb25GaWVsZCBvciBUWFRleHRDb250cm9sLlRleHRGaWVsZC5cXCcsVHJhY2tlZENoYW5nZVBhcmFtVHlwZUVycm9yOlxcJ1BhcmFtZXRlciBcInRyYWNrZWRDaGFuZ2VcIiBjYW5ub3QgYmUgb21pdHRlZCBhbmQgbXVzdCBiZSBvZiB0eXBlIFRyYWNrZWRDaGFuZ2UuXFwnLH0pO3ZhciBiPXRydWU7Zy5TdHJlYW1UeXBlPWcuc3RyZWFtVHlwZT1jLlRYU3RyZWFtVHlwZTtnLkVkaXRNb2RlPWMuRWRpdE1vZGU7Zy5GaWxlVHlwZT1jLkZpbGVUeXBlO2cuQ2xpcGJvYXJkTW9kZT1jLkNsaXBib2FyZE1vZGU7Zy5IaWdobGlnaHRNb2RlPWMuSGlnaGxpZ2h0TW9kZTtnLkNvbG9yPWMuQ29sb3I7Zy5EaXJlY3Rpb249Yy5EaXJlY3Rpb247Zy5KdXN0aWZpY2F0aW9uPWMuSnVzdGlmaWNhdGlvbjtnLlRhYlR5cGU9Yy5UYWJUeXBlO2cuRmllbGRUeXBlPWMuRmllbGRUeXBlO2cuRmluZE9wdGlvbnM9Yy5GaW5kT3B0aW9ucztnLkZvbnRVbmRlcmxpbmVTdHlsZT1jLkZvbnRVbmRlcmxpbmVTdHlsZTtnLkZyYW1lPWMuRnJhbWU7Zy5GcmFtZVN0eWxlPWMuRnJhbWVTdHlsZTtnLk1lcmdlRmllbGRUZXh0Rm9ybWF0PWMuTWVyZ2VGaWVsZFRleHRGb3JtYXQ7Zy5JZkZpZWxkPWMuSWZGaWVsZDtnLkxpc3RUeXBlPWMuTGlzdFR5cGU7Zy5NZWFzdXJpbmdVbml0PWMuTWVhc3VyaW5nVW5pdDtnLk51bWJlckZvcm1hdD1jLk51bWJlckZvcm1hdDtnLlJlbGF0aW9uYWxPcGVyYXRvcj1jLlJlbGF0aW9uYWxPcGVyYXRvcjtnLlNwZWNpYWxab29tRmFjdG9yPWMuU3BlY2lhbFpvb21GYWN0b3I7Zy5JbWFnZUluc2VydGlvbk1vZGU9Yy5JbWFnZUluc2VydGlvbk1vZGU7Zy5Ib3Jpem9udGFsQWxpZ25tZW50PWMuSG9yaXpvbnRhbEFsaWdubWVudDtnLlZlcnRpY2FsQWxpZ25tZW50PWMuVmVydGljYWxBbGlnbm1lbnQ7Zy5UZXh0VHlwZT1jLlRleHRUeXBlO2cuVGV4dEZyYW1lSW5zZXJ0aW9uTW9kZT1jLlRleHRGcmFtZUluc2VydGlvbk1vZGU7Zy5TaWRlQmFyVHlwZT1jLlNpZGVCYXJUeXBlO2cuQWRkUmVzdWx0PWMuQWRkUmVzdWx0O2cuU2VjdGlvbkJyZWFrS2luZD1jLlNlY3Rpb25CcmVha0tpbmQ7Zy5UYWJsZUFkZFBvc2l0aW9uPWMuVGFibGVBZGRQb3NpdGlvbjtnLkFjdGl2YXRpb25TdGF0ZT1jLkFjdGl2YXRpb25TdGF0ZTtnLlBlcm1hbmVudENvbnRyb2xDaGFyPWMuUGVybWFuZW50Q29udHJvbENoYXI7Zy5TY3JvbGxQb3NpdGlvbj1jLlNjcm9sbFBvc2l0aW9uO2cuQ2hhbmdlS2luZD1jLkNoYW5nZUtpbmQ7Zy5WaWV3TW9kZT1jLlZpZXdNb2RlO2cuRm9ybXVsYVJlZmVyZW5jZVN0eWxlPWMuRm9ybXVsYVJlZmVyZW5jZVN0eWxlO2cuQmFyY29kZVR5cGU9Yy5CYXJjb2RlVHlwZTtnLkZyYW1lSW5zZXJ0aW9uTW9kZT1jLkZyYW1lSW5zZXJ0aW9uTW9kZTtnLk1pc3NwZWxsZWRXb3JkS2luZD1jLk1pc3NwZWxsZWRXb3JkS2luZDtnLkltYWdlRm9ybWF0PWMuSW1hZ2VGb3JtYXQ7Zy5CYXJjb2RlQWxpZ25tZW50PWMuQmFyY29kZUFsaWdubWVudDtnLkJhcmNvZGVUZXh0QWxpZ25tZW50PWMuQmFyY29kZVRleHRBbGlnbm1lbnQ7Zy5aT3JkZXI9Yy5aT3JkZXI7Zy5TdWJUZXh0UGFydENvbGxlY3Rpb249e0FkZFJlc3VsdDpjLlN1YlRleHRQYXJ0Q29sbGVjdGlvbi5BZGRSZXN1bHR9O2cuQ29udHJvbENoYXJzPWMuQ29udHJvbENoYXJzO2cuQXBwbGljYXRpb25GaWVsZEZvcm1hdD1jLkFwcGxpY2F0aW9uRmllbGRGb3JtYXQ7Zy5IZWFkZXJGb290ZXJUeXBlPWMuSGVhZGVyRm9vdGVyVHlwZTtnLklubGluZVN0eWxlPU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZXM6Yy5JbmxpbmVTdHlsZS5BdHRyaWJ1dGVzfSk7Zy5JbnB1dFBvc2l0aW9uPU9iamVjdC5mcmVlemUoe1Njcm9sbFBvc2l0aW9uOmMuSW5wdXRQb3NpdGlvbi5TY3JvbGxQb3NpdGlvbn0pO2cuUGFyYWdyYXBoRm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlBhcmFncmFwaEZvcm1hdC5BdHRyaWJ1dGV9KTtnLlNlbGVjdGlvbj1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5TZWxlY3Rpb24uQXR0cmlidXRlfSk7Zy5MaXN0Rm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLkxpc3RGb3JtYXQuQXR0cmlidXRlfSk7Zy5TZWN0aW9uRm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlNlY3Rpb25Gb3JtYXQuQXR0cmlidXRlfSk7Zy5QYWdlTWFyZ2lucz1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5QYWdlTWFyZ2lucy5BdHRyaWJ1dGV9KTtnLlBhZ2VTaXplPU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlBhZ2VTaXplLkF0dHJpYnV0ZX0pO2cuUGFnZUJvcmRlcj1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5QYWdlQm9yZGVyLkF0dHJpYnV0ZX0pO2cuQXBwbGljYXRpb25GaWVsZD1jLkxlZ2FjeUFwcGxpY2F0aW9uRmllbGQ7Zy5JbmNsdWRlVGV4dEZpZWxkPWMuSW5jbHVkZVRleHRGaWVsZDtnLlRleHRGaWVsZD1jLkxlZ2FjeVRleHRGaWVsZDtnLkRhdGVGaWVsZD1jLkRhdGVGaWVsZDtnLk1lcmdlRmllbGQ9Yy5NZXJnZUZpZWxkO2cuTmV4dElmRmllbGQ9Yy5OZXh0SWZGaWVsZDtnLk5leHRGaWVsZD1jLk5leHRGaWVsZDtnLlNhdmVTZXR0aW5ncz1jLlNhdmVTZXR0aW5ncztnLkxvYWRTZXR0aW5ncz1jLkxvYWRTZXR0aW5nczt2YXIgZT1uZXcgYy5UZXh0Q29udHJvbCgpO2MudGV4dENvbnRyb2w9ZTtnLmRpc3BsYXlDb2xvcnM9ZS5kaXNwbGF5Q29sb3JzO2cuaW5wdXRGb3JtYXQ9ZS5pbnB1dEZvcm1hdDtnLnNlY3Rpb25zPWUuc2VjdGlvbnM7Zy50YWJsZXM9ZS50YWJsZXM7Zy50ZXh0RmllbGRzPWUudGV4dEZpZWxkcztnLmFwcGxpY2F0aW9uRmllbGRzPWUuYXBwbGljYXRpb25GaWVsZHM7Zy50cmFja2VkQ2hhbmdlcz1lLnRyYWNrZWRDaGFuZ2VzO2cubGlzdEZvcm1hdD1lLmxpc3RGb3JtYXQ7Zy5wYWdlTWFyZ2lucz1lLnBhZ2VNYXJnaW5zO2cucGFnZVNpemU9ZS5wYWdlU2l6ZTtnLnBhcmFncmFwaEZvcm1hdD1lLnBhcmFncmFwaEZvcm1hdDtnLmRvY3VtZW50VGFyZ2V0cz1lLmRvY3VtZW50VGFyZ2V0cztnLmRvY3VtZW50TGlua3M9ZS5kb2N1bWVudExpbmtzO2cuYmFyY29kZXM9ZS5iYXJjb2RlcztnLmltYWdlcz1lLmltYWdlcztnLmVkaXRhYmxlUmVnaW9ucz1lLmVkaXRhYmxlUmVnaW9ucztnLmh5cGVydGV4dExpbmtzPWUuaHlwZXJ0ZXh0TGlua3M7Zy5saW5lcz1lLmxpbmVzO2cubWlzc3BlbGxlZFdvcmRzPWUubWlzc3BlbGxlZFdvcmRzO2cucGFyYWdyYXBocz1lLnBhcmFncmFwaHM7Zy50ZXh0RnJhbWVzPWUudGV4dEZyYW1lcztnLmZyYW1lcz1lLmZyYW1lcztnLmZvcm1GaWVsZHM9ZS5mb3JtRmllbGRzO2cuc3ViVGV4dFBhcnRzPWUuc3ViVGV4dFBhcnRzO2cudGV4dENoYXJzPWUudGV4dENoYXJzO2cuaGVhZGVyc0FuZEZvb3RlcnM9ZS5oZWFkZXJzQW5kRm9vdGVycztnLnBhZ2VzPWUucGFnZXM7Zy5pbmxpbmVTdHlsZXM9ZS5pbmxpbmVTdHlsZXM7Zy5wYXJhZ3JhcGhTdHlsZXM9ZS5wYXJhZ3JhcGhTdHlsZXM7Zy5pbnB1dFBvc2l0aW9uPWUuaW5wdXRQb3NpdGlvbjtnLnRleHRQYXJ0cz1lLnRleHRQYXJ0cztnLnNldEFjdGl2YXRpb25TdGF0ZT1lLnNldEFjdGl2YXRpb25TdGF0ZS5iaW5kKGUpO2cuc2V0QWxsb3dVbmRvPWUuc2V0QWxsb3dVbmRvLmJpbmQoZSk7Zy5zZXRCYWNrQ29sb3I9ZS5zZXRCYWNrQ29sb3IuYmluZChlKTtnLnNldEJhc2VsaW5lPWUuc2V0QmFzZWxpbmUuYmluZChlKTtnLnNldENvbnRyb2xDaGFycz1lLnNldENvbnRyb2xDaGFycy5iaW5kKGUpO2cuc2V0RG9jdW1lbnRUYXJnZXRNYXJrZXJzPWUuc2V0RG9jdW1lbnRUYXJnZXRNYXJrZXJzLmJpbmQoZSk7Zy5zZXREcmF3aW5nTWFya2VyTGluZXM9ZS5zZXREcmF3aW5nTWFya2VyTGluZXMuYmluZChlKTtnLnNldEVkaXRNb2RlPWUuc2V0RWRpdE1vZGUuYmluZChlKTtnLnNldElzVHJhY2tDaGFuZ2VzRW5hYmxlZD1lLnNldElzVHJhY2tDaGFuZ2VzRW5hYmxlZC5iaW5kKGUpO2cuc2V0UGVybWFuZW50Q29udHJvbENoYXJzPWUuc2V0UGVybWFuZW50Q29udHJvbENoYXJzLmJpbmQoZSk7Zy5zZXRTZWxlY3RPYmplY3RzPWUuc2V0U2VsZWN0T2JqZWN0cy5iaW5kKGUpO2cuc2V0VGV4dEZyYW1lTWFya2VyTGluZXM9ZS5zZXRUZXh0RnJhbWVNYXJrZXJMaW5lcy5iaW5kKGUpO2cuc2V0Vmlld01vZGU9ZS5zZXRWaWV3TW9kZS5iaW5kKGUpO2cuc2V0Rm9udFVuZGVybGluZVN0eWxlPWUuc2V0Rm9udFVuZGVybGluZVN0eWxlLmJpbmQoZSk7Zy5zZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGU9ZS5zZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGUuYmluZChlKTtnLnNldExhbmRzY2FwZT1lLnNldExhbmRzY2FwZS5iaW5kKGUpO2cuc2V0UGFnZVVuaXQ9ZS5zZXRQYWdlVW5pdC5iaW5kKGUpO2cuc2V0VGV4dD1lLnNldFRleHQuYmluZChlKTtnLnNldFRleHRCYWNrQ29sb3I9ZS5zZXRUZXh0QmFja0NvbG9yLmJpbmQoZSk7Zy5zZXRJc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQ9ZS5zZXRJc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQuYmluZChlKTtnLnNldElzSHlwaGVuYXRpb25FbmFibGVkPWUuc2V0SXNIeXBoZW5hdGlvbkVuYWJsZWQuYmluZChlKTtnLnNldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkPWUuc2V0SXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQuYmluZChlKTtnLnNldElzU3BlbGxDaGVja2luZ0VuYWJsZWQ9ZS5zZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkLmJpbmQoZSk7Zy5nZXRBY3RpdmF0aW9uU3RhdGU9ZS5nZXRBY3RpdmF0aW9uU3RhdGUuYmluZChlKTtnLmdldEFsbG93VW5kbz1lLmdldEFsbG93VW5kby5iaW5kKGUpO2cuZ2V0QmFzZWxpbmU9ZS5nZXRCYXNlbGluZS5iaW5kKGUpO2cuZ2V0QmFja0NvbG9yPWUuZ2V0QmFja0NvbG9yLmJpbmQoZSk7Zy5nZXRDYW5DaGFyYWN0ZXJGb3JtYXQ9ZS5nZXRDYW5DaGFyYWN0ZXJGb3JtYXQuYmluZChlKTtnLmdldENhbkNvcHk9ZS5nZXRDYW5Db3B5LmJpbmQoZSk7Zy5nZXRDYW5Eb2N1bWVudEZvcm1hdD1lLmdldENhbkRvY3VtZW50Rm9ybWF0LmJpbmQoZSk7Zy5nZXRDYW5QYXN0ZT1lLmdldENhblBhc3RlLmJpbmQoZSk7Zy5nZXRDYW5QcmludD1lLmdldENhblByaW50LmJpbmQoZSk7Zy5nZXRDYW5SZWRvPWUuZ2V0Q2FuUmVkby5iaW5kKGUpO2cuZ2V0Q2FuU3R5bGVGb3JtYXQ9ZS5nZXRDYW5TdHlsZUZvcm1hdC5iaW5kKGUpO2cuZ2V0Q2FuVGFibGVGb3JtYXQ9ZS5nZXRDYW5UYWJsZUZvcm1hdC5iaW5kKGUpO2cuZ2V0Q2FuVW5kbz1lLmdldENhblVuZG8uYmluZChlKTtnLmdldENvbnRyb2xDaGFycz1lLmdldENvbnRyb2xDaGFycy5iaW5kKGUpO2cuZ2V0RG9jdW1lbnRUYXJnZXRNYXJrZXJzPWUuZ2V0RG9jdW1lbnRUYXJnZXRNYXJrZXJzLmJpbmQoZSk7Zy5nZXREcmF3aW5nTWFya2VyTGluZXM9ZS5nZXREcmF3aW5nTWFya2VyTGluZXMuYmluZChlKTtnLmdldEVkaXRNb2RlPWUuZ2V0RWRpdE1vZGUuYmluZChlKTtnLmdldElzVHJhY2tDaGFuZ2VzRW5hYmxlZD1lLmdldElzVHJhY2tDaGFuZ2VzRW5hYmxlZC5iaW5kKGUpO2cuZ2V0UGFnZUNvdW50PWUuZ2V0UGFnZUNvdW50LmJpbmQoZSk7Zy5nZXRQZXJtYW5lbnRDb250cm9sQ2hhcnM9ZS5nZXRQZXJtYW5lbnRDb250cm9sQ2hhcnMuYmluZChlKTtnLmdldFJlZG9BY3Rpb25OYW1lPWUuZ2V0UmVkb0FjdGlvbk5hbWUuYmluZChlKTtnLmdldFNlbGVjdE9iamVjdHM9ZS5nZXRTZWxlY3RPYmplY3RzLmJpbmQoZSk7Zy5nZXRUZXh0RnJhbWVNYXJrZXJMaW5lcz1lLmdldFRleHRGcmFtZU1hcmtlckxpbmVzLmJpbmQoZSk7Zy5nZXRVbmRvQWN0aW9uTmFtZT1lLmdldFVuZG9BY3Rpb25OYW1lLmJpbmQoZSk7Zy5nZXRVc2VyTmFtZXM9ZS5nZXRVc2VyTmFtZXMuYmluZChlKTtnLmdldFZpZXdNb2RlPWUuZ2V0Vmlld01vZGUuYmluZChlKTtnLmdldEZvbnRVbmRlcmxpbmVTdHlsZT1lLmdldEZvbnRVbmRlcmxpbmVTdHlsZS5iaW5kKGUpO2cuZ2V0Rm9ybXVsYVJlZmVyZW5jZVN0eWxlPWUuZ2V0Rm9ybXVsYVJlZmVyZW5jZVN0eWxlLmJpbmQoZSk7Zy5nZXRMYW5kc2NhcGU9ZS5nZXRMYW5kc2NhcGUuYmluZChlKTtnLmdldFBhZ2VVbml0PWUuZ2V0UGFnZVVuaXQuYmluZChlKTtnLmdldFRleHQ9ZS5nZXRUZXh0LmJpbmQoZSk7Zy5nZXRUZXh0QmFja0NvbG9yPWUuZ2V0VGV4dEJhY2tDb2xvci5iaW5kKGUpO2cuZ2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkPWUuZ2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkLmJpbmQoZSk7Zy5nZXRJc0h5cGhlbmF0aW9uRW5hYmxlZD1lLmdldElzSHlwaGVuYXRpb25FbmFibGVkLmJpbmQoZSk7Zy5nZXRJc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZD1lLmdldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkLmJpbmQoZSk7Zy5nZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWUuZ2V0SXNTcGVsbENoZWNraW5nRW5hYmxlZC5iaW5kKGUpO2cuem9vbT1lLnpvb20uYmluZChlKTtnLnVuZG89ZS51bmRvLmJpbmQoZSk7Zy5yZWRvPWUucmVkby5iaW5kKGUpO2cuY2xlYXI9ZS5jbGVhci5iaW5kKGUpO2cucmVzZXRDb250ZW50cz1lLnJlc2V0Q29udGVudHMuYmluZChlKTtnLmZpbmQ9ZS5maW5kLmJpbmQoZSk7Zy5nZXRTdXBwb3J0ZWRGb250cz1lLmdldFN1cHBvcnRlZEZvbnRzLmJpbmQoZSk7Zy5zZWxlY3Q9ZS5zZWxlY3QuYmluZChlKTtnLnNlbGVjdEFsbD1lLnNlbGVjdEFsbC5iaW5kKGUpO2cuc2VsZWN0V29yZD1lLnNlbGVjdFdvcmQuYmluZChlKTtnLmdldFN1cHBvcnRlZFBhcGVyU2l6ZXM9ZS5nZXRTdXBwb3J0ZWRQYXBlclNpemVzLmJpbmQoZSk7Zy5sb2FkPWUubG9hZC5iaW5kKGUpO2cuc2F2ZT1lLnNhdmUuYmluZChlKTtnLmxvYWREb2N1bWVudD1mdW5jdGlvbihsLGgsaSxrLGope3JldHVybiBlLmxvYWQobCxoLGksayxqKTt9O2cuc2F2ZURvY3VtZW50PWZ1bmN0aW9uKGssaCxqLGkpe3JldHVybiBlLnNhdmUoayxoLGosaSk7fTtnLmFwcGVuZERvY3VtZW50PWZ1bmN0aW9uKHN0cmVhbVR5cGUsYmFzZTY0RGF0YSl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighYmFzZTY0RGF0YSl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0Lk5vRG9jdW1lbnREYXRhKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQXBwZW5kRG9jdW1lbnRGaWxlLDAsc3RyZWFtVHlwZSwxLGJhc2U2NERhdGEpO307Zy5sb2FkU2VsZWN0aW9uPWZ1bmN0aW9uKHN0cmVhbVR5cGUsYmFzZTY0RGF0YSl7ZS5zZWxlY3Rpb24ubG9hZChzdHJlYW1UeXBlLGJhc2U2NERhdGEpO307Zy5zYXZlU2VsZWN0aW9uPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2spe2Uuc2VsZWN0aW9uLnNhdmUoc3RyZWFtVHlwZSxjYWxsYmFjayk7fTtnLmdldFRleHRQYXJ0cz1mdW5jdGlvbihjYWxsYmFjayxhdElucHV0UG9zaXRpb24pe2F0SW5wdXRQb3NpdGlvbj1hdElucHV0UG9zaXRpb258fGZhbHNlO2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31jLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRUZXh0UGFydHMucHVzaChjYWxsYmFjayk7dmFyIGg9YXRJbnB1dFBvc2l0aW9uP2MuVGV4dFBhcnRDb21tYW5kLkdldEl0ZW06Yy5UZXh0UGFydENvbW1hbmQuR2V0QWxsO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFRleHRQYXJ0LGgpO307Zy5nZXRUZXh0RmllbGRzPWZ1bmN0aW9uKGNhbGxiYWNrLGF0SW5wdXRQb3NpdGlvbil7aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYy5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmdldFRleHRGaWVsZHMucHVzaChjYWxsYmFjayk7dmFyIGg9YXRJbnB1dFBvc2l0aW9uP2MuVGV4dEZpZWxkQ29tbWFuZC5HZXRJdGVtOmMuVGV4dEZpZWxkQ29tbWFuZC5HZXRBbGw7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGgpO307Zy5hZGRUZXh0RmllbGQ9ZnVuY3Rpb24odGV4dEZpZWxkKXtpZighdGV4dEZpZWxkfHwoKHRleHRGaWVsZC5jb25zdHJ1Y3RvciE9PWMuTGVnYWN5QXBwbGljYXRpb25GaWVsZCkmJih0ZXh0RmllbGQuY29uc3RydWN0b3IhPT1jLkxlZ2FjeVRleHRGaWVsZCkpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LlRleHRGaWVsZFBhcmFtVHlwZUVycm9yKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGMuVGV4dEZpZWxkQ29tbWFuZC5BZGQsMCwwLHt0ZXh0RmllbGQ6dGV4dEZpZWxkLl8uZmllbGR9KTt9O2cuYWRkTWVyZ2VGaWVsZD1mdW5jdGlvbihtZXJnZUZpZWxkKXt2YXIgaT1udWxsLGg9LTE7aWYoKG1lcmdlRmllbGQ9PT1udWxsKXx8KHR5cGVvZiBtZXJnZUZpZWxkPT09XCJ1bmRlZmluZWRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgXCJtZXJnZUZpZWxkXCIgcGFyYW1ldGVyLlxcJyk7fWlmKG1lcmdlRmllbGQuY29uc3RydWN0b3I9PT1nLk1lcmdlRmllbGQpe2g9Zy5GaWVsZFR5cGUuTWVyZ2VGaWVsZDt9ZWxzZXtpZihtZXJnZUZpZWxkLmNvbnN0cnVjdG9yPT09Zy5JZkZpZWxkKXtoPWcuRmllbGRUeXBlLklmRmllbGQ7fWVsc2V7aWYobWVyZ2VGaWVsZC5jb25zdHJ1Y3Rvcj09PWcuSW5jbHVkZVRleHRGaWVsZCl7aD1nLkZpZWxkVHlwZS5JbmNsdWRlVGV4dEZpZWxkO31lbHNle2lmKG1lcmdlRmllbGQuY29uc3RydWN0b3I9PT1nLkRhdGVGaWVsZCl7aD1nLkZpZWxkVHlwZS5EYXRlRmllbGQ7fWVsc2V7aWYobWVyZ2VGaWVsZC5jb25zdHJ1Y3Rvcj09PWcuTmV4dEZpZWxkKXtoPWcuRmllbGRUeXBlLk5leHRGaWVsZDt9ZWxzZXtpZihtZXJnZUZpZWxkLmNvbnN0cnVjdG9yPT09Zy5OZXh0SWZGaWVsZCl7aD1nLkZpZWxkVHlwZS5OZXh0SWZGaWVsZDt9ZWxzZXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcIm1lcmdlRmllbGRcIiBtdXN0IGJlIG9uZSBvZiB0aGUga25vd24gbWVyZ2UgZmllbGQgdHlwZXMgKGUuIGcuIFRYVGV4dENvbnRyb2wuTWVyZ2VGaWVsZCBvciBUWFRleHRDb250cm9sLkRhdGVGaWVsZCkuXFwnKTt9fX19fX1pZihoIT09LTEpe2k9bWVyZ2VGaWVsZC50b1Bhc2NhbENhc2UoKTt9aWYoaSl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuSW5zZXJ0SXRlbSxjLkl0ZW1UeXBlLkZpZWxkQWRhcHRlcixoLDAsaSk7fX07Zy5zaG93TWVyZ2VGaWVsZERpYWxvZz1mdW5jdGlvbihmaWVsZFR5cGUpe3ZhciBoO2lmKHR5cGVvZiBmaWVsZFR5cGU9PT1cInVuZGVmaW5lZFwiKXtpZihjLmN1cnJlbnRGaWVsZERhdGEpe2Muc2hvd0ZpZWxkRGlhbG9nKGMuY3VycmVudEZpZWxkRGF0YS5maWVsZEFkYXB0ZXIsYy5jdXJyZW50RmllbGREYXRhLm1lcmdlRmllbGRUeXBlKTt9cmV0dXJuO31pZighaXNJbnRlZ2VyKGZpZWxkVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiZmllbGRUeXBlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRmllbGRUeXBlLlxcJyk7fXN3aXRjaChmaWVsZFR5cGUpe2Nhc2UgZy5GaWVsZFR5cGUuTWVyZ2VGaWVsZDp2YXIgaT1uZXcgYy5NZXJnZUZpZWxkKCk7aD1uZXcgYy5NZXJnZUZpZWxkRGlhbG9nKGkudG9QYXNjYWxDYXNlKCkpO2JyZWFrO2Nhc2UgZy5GaWVsZFR5cGUuSWZGaWVsZDpoPW5ldyBjLklmRmllbGREaWFsb2coKTticmVhaztjYXNlIGcuRmllbGRUeXBlLkluY2x1ZGVUZXh0RmllbGQ6aD1uZXcgYy5JbmNsdWRlVGV4dEZpZWxkRGlhbG9nKCk7YnJlYWs7Y2FzZSBnLkZpZWxkVHlwZS5EYXRlRmllbGQ6aD1uZXcgYy5EYXRlRmllbGREaWFsb2coKTticmVhaztjYXNlIGcuRmllbGRUeXBlLk5leHRGaWVsZDpjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5JbnNlcnRJdGVtLGMuSXRlbVR5cGUuRmllbGRBZGFwdGVyLGMuRmllbGRUeXBlLk5leHRGaWVsZCk7YnJlYWs7Y2FzZSBnLkZpZWxkVHlwZS5OZXh0SWZGaWVsZDpoPW5ldyBjLk5leHRJZkZpZWxkRGlhbG9nKCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwiVW5rbm93biBtZXJnZSBmaWVsZCB0eXBlLlwiKTticmVhazt9aWYoaCl7aC5zaG93TW9kYWwoKTt9fTtnLnJlbW92ZVRleHRGaWVsZD1mdW5jdGlvbih0ZXh0RmllbGQsa2VlcFRleHQpe2tlZXBUZXh0PSEha2VlcFRleHQ7aWYoIXRleHRGaWVsZHx8KCh0ZXh0RmllbGQuY29uc3RydWN0b3IhPT1jLkxlZ2FjeUFwcGxpY2F0aW9uRmllbGQpJiYodGV4dEZpZWxkLmNvbnN0cnVjdG9yIT09Yy5MZWdhY3lUZXh0RmllbGQpKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5UZXh0RmllbGRQYXJhbVR5cGVFcnJvcik7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxjLlRleHRGaWVsZENvbW1hbmQuUmVtb3ZlLDAsMCx7dGV4dEZpZWxkOnRleHRGaWVsZC5fLmZpZWxkLGtlZXBUZXh0OmtlZXBUZXh0fSk7fTtnLmdldFN1YlRleHRQYXJ0cz1mdW5jdGlvbihjYWxsYmFjayxhdElucHV0UG9zaXRpb24pe2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31jLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRTdWJUZXh0UGFydHMucHVzaChjYWxsYmFjayk7dmFyIGg9YXRJbnB1dFBvc2l0aW9uP2MuU3ViVGV4dFBhcnRDb21tYW5kLkdldEl0ZW06Yy5TdWJUZXh0UGFydENvbW1hbmQuR2V0QWxsO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGgpO307Zy5mb2N1cz1mdW5jdGlvbigpe2lmKGMudGV4dFZpZXdlcil7Yy50ZXh0Vmlld2VyLmZvY3VzKCk7fX07Zy5yZW1vdmVGcm9tRG9tPWZ1bmN0aW9uKCl7dHJ5e2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsb3NlKTtjLndlYlNvY2tldERpc2Nvbm5lY3QoKTtjLnVuc3Vic2NyaWJlRG9jdW1lbnRBbmRXaW5kb3dFdmVudHMoKTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTtpLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaSk7VFhUZXh0Q29udHJvbD11bmRlZmluZWQ7fWNhdGNoKGgpe319O2cubG9hZFhNTERhdGFiYXNlPWZ1bmN0aW9uKHhtbERhdGEpe2lmKCF4bWxEYXRhKXt0aHJvdyBuZXcgRXJyb3IoYy5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiB4bWxEYXRhIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5PcGVuRmlsZSxjLkZpbGVUeXBlLkRhdGFCYXNlLGMuRGF0YUJhc2VUeXBlLlhNTCwxLHhtbERhdGEpO307Zy5sb2FkSnNvbkRhdGE9ZnVuY3Rpb24oaCl7aWYoIWgpe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGghPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLk9wZW5GaWxlLGMuRmlsZVR5cGUuRGF0YUJhc2UsYy5EYXRhQmFzZVR5cGUuSlNPTiwxLGgpO307Zy5nZXRGaWxlRGlyZWN0b3J5PWZ1bmN0aW9uKGZpbGVUeXBlLGNhbGxiYWNrKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGZpbGVUeXBlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5GaWxlVHlwZUlzTm90TnVtZXJpYyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXN3aXRjaChmaWxlVHlwZSl7Y2FzZSBjLkZpbGVUeXBlLkRvY3VtZW50OmMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0RmlsZURpci5kb2N1bWVudC5wdXNoKGNhbGxiYWNrKTticmVhaztjYXNlIGMuRmlsZVR5cGUuSW1hZ2U6Yy5jb250cm9sVGFza0NhbGxiYWNrcy5nZXRGaWxlRGlyLmltYWdlLnB1c2goY2FsbGJhY2spO2JyZWFrO2Nhc2UgYy5GaWxlVHlwZS5EYXRhQmFzZTpjLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZpbGVEaXIuZGIucHVzaChjYWxsYmFjayk7YnJlYWs7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkdldEZpbGVEaXJlY3RvcnksZmlsZVR5cGUpO307Zy5zZXRGaWxlRGlyZWN0b3J5PWZ1bmN0aW9uKGZpbGVUeXBlLGRpcmVjdG9yeSl7aWYoIWRpcmVjdG9yeSl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgZmlsZVR5cGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LkZpbGVUeXBlSXNOb3ROdW1lcmljKTt9aWYodHlwZW9mIGRpcmVjdG9yeSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU2V0RmlsZURpcmVjdG9yeSxmaWxlVHlwZSwwLDAsZGlyZWN0b3J5KTt9O2cuZ2V0Q3VsdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5nZXRDdWx0dXJlcygpO307ZnVuY3Rpb24gZChoKXtyZXR1cm4vXiNbMC05YS1mXXszfSg/OlswLTlhLWZdezN9KT8kL2kudGVzdChoKTt9Yy5pc1ZhbGlkSGV4Q29sb3I9ZDtmdW5jdGlvbiBmKGgpe2lmKCFkKGgpKXt0aHJvdyBuZXcgRXJyb3IoXFwnXCJcXCcraCtcXCdcIlxcJytjLkVycm9yVGV4dC5JbnZhbGlkSGV4Q29sb3JTdHJpbmcpO312YXIgaT17UjoxMjcsRzoxMjcsQjoxMjd9O2lmKGgubGVuZ3RoPT00KXtpLlI9cGFyc2VJbnQoaC5jaGFyQXQoMSksMTYpKjE3O2kuRz1wYXJzZUludChoLmNoYXJBdCgyKSwxNikqMTc7aS5CPXBhcnNlSW50KGguY2hhckF0KDMpLDE2KSoxNzt9ZWxzZXtpZihoLmxlbmd0aD09Nyl7aS5SPXBhcnNlSW50KGguc3Vic3RyKDEsMiksMTYpO2kuRz1wYXJzZUludChoLnN1YnN0cigzLDIpLDE2KTtpLkI9cGFyc2VJbnQoaC5zdWJzdHIoNSwyKSwxNik7fX1yZXR1cm4gaTt9Zy5zZXRTdGF0dXNCYXJDb2xvcj1mdW5jdGlvbihoZXhDb2xvcil7aWYodHlwZW9mIGhleENvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO312YXIgaD1mKGhleENvbG9yKTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5TdGF0dXNCYXJDb2xvciwwLDAsMCxoKTt9O2cuZ2V0U3RhdHVzQmFyQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0U3RhdHVzQmFyQ29sb3IucHVzaChjYWxsYmFjayk7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU3RhdHVzQmFyQ29sb3IpO307Zy5zZXRGb3JtYXR0aW5nUHJpbnRlcj1mdW5jdGlvbihwcmludGVyTmFtZSl7aWYodHlwZW9mIHByaW50ZXJOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRTZXRGb3JtYXR0aW5nUHJpbnRlciwwLDAsMCxwcmludGVyTmFtZSk7fTtnLmdldEZvcm1hdHRpbmdQcmludGVyPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZvcm1hdHRpbmdQcmludGVyLnB1c2goY2FsbGJhY2spO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudEdldEZvcm1hdHRpbmdQcmludGVyKTt9O2cuZ2V0SW5zdGFsbGVkUHJpbnRlcnM9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0SW5zdGFsbGVkUHJpbnRlcnMucHVzaChjYWxsYmFjayk7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50R2V0SW5zdGFsbGVkUHJpbnRlcnMpO307Zy5zaG93VmVydGljYWxSdWxlcj1jLnNob3dWZXJ0aWNhbFJ1bGVyO2cuc2hvd0hvcml6b250YWxSdWxlcj1jLnNob3dIb3Jpem9udGFsUnVsZXI7Zy5zaG93U3RhdHVzQmFyPWMuc2hvd1N0YXR1c0JhcjtnLnNob3dSaWJib25CYXI9Yy5zaG93UmliYm9uQmFyO2cuc2hvd1NpZGVCYXI9Yy5zaG93U2lkZUJhcjtnLnByaW50RG9jdW1lbnQ9Yy5wcmludDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcInNlbGVjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWxlY3Rpb247fSxzZXQ6ZnVuY3Rpb24oYm91bmRzKXtlLnNlbGVjdGlvbi5zZXRCb3VuZHMoYm91bmRzKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNMb2FkaW5nRGlhbG9nRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYjt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtpZih0eXBlb2YgZW5hYmxlZCE9PVwiYm9vbGVhblwiKXtyZXR1cm47fWI9ZW5hYmxlZDtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5FbmFibGVMb2FkV2FpdERpYWxvZyxlbmFibGVkPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImVkaXRNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmVkaXRNb2RlQ3VyO30sc2V0OmZ1bmN0aW9uKGVkaXRNb2RlKXtpZih0eXBlb2YgZWRpdE1vZGUhPT1cIm51bWJlclwiKXtyZXR1cm47fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkVkaXRNb2RlLGVkaXRNb2RlKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiY29udHJvbENoYXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNvbnRyb2xDaGFyczt9LHNldDpmdW5jdGlvbihjb250cm9sQ2hhcnMpe2lmKHR5cGVvZiBjb250cm9sQ2hhcnMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5EaXNwbGF5VmlzdWFsRWxlbWVudCxjLlZpc3VhbEVsZW1lbnQuQ29udHJvbENoYXJzLGNvbnRyb2xDaGFycz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJ0YWJsZUdyaWRMaW5lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy50YWJsZUdyaWRMaW5lczt9LHNldDpmdW5jdGlvbih0YWJsZUdyaWRMaW5lcyl7aWYodHlwZW9mIHRhYmxlR3JpZExpbmVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRGlzcGxheVZpc3VhbEVsZW1lbnQsYy5WaXN1YWxFbGVtZW50LlRhYmxlR3JpZExpbmVzLHRhYmxlR3JpZExpbmVzPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImRvY3VtZW50VGFyZ2V0TWFya2Vyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kb2N1bWVudFRhcmdldE1hcmtlcnM7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRUYXJnZXRNYXJrZXJzKXtpZih0eXBlb2YgZG9jdW1lbnRUYXJnZXRNYXJrZXJzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRGlzcGxheVZpc3VhbEVsZW1lbnQsYy5WaXN1YWxFbGVtZW50LkJvb2ttYXJrTWFya2Vycyxkb2N1bWVudFRhcmdldE1hcmtlcnM/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwidGV4dEZyYW1lTWFya2VyTGluZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMudGV4dEZyYW1lTWFya2VyTGluZXM7fSxzZXQ6ZnVuY3Rpb24odGV4dEZyYW1lTWFya2VyTGluZXMpe2lmKHR5cGVvZiB0ZXh0RnJhbWVNYXJrZXJMaW5lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkRpc3BsYXlWaXN1YWxFbGVtZW50LGMuVmlzdWFsRWxlbWVudC5UZXh0RnJhbWVNYXJrZXJMaW5lcyx0ZXh0RnJhbWVNYXJrZXJMaW5lcz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJjb250ZXh0TWVudXNFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNvbnRleHRNZW51c0VuYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24oY29udGV4dE1lbnVzRW5hYmxlZCl7aWYodHlwZW9mIGNvbnRleHRNZW51c0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5Db250ZXh0TWVudXNFbmFibGVkLGNvbnRleHRNZW51c0VuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwic2F2ZURvY3VtZW50UXVlc3Rpb25EaWFsb2dFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZDt9LHNldDpmdW5jdGlvbihpc0VuYWJsZWQpe2lmKHR5cGVvZiBpc0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZD1pc0VuYWJsZWQ7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcInRleHRGaWVsZHNFZGl0YWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy50ZXh0RmllbGRzRWRpdGFibGU7fSxzZXQ6ZnVuY3Rpb24odGV4dEZpZWxkc0VkaXRhYmxlKXtpZih0eXBlb2YgdGV4dEZpZWxkc0VkaXRhYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU2V0VGV4dEZpZWxkc0VkaXRhYmxlLHRleHRGaWVsZHNFZGl0YWJsZT8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJyaWJib25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjLlJpYmJvbigpO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJpc1NwZWxsQ2hlY2tpbmdFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnByb29maW5nU2V0dGluZ3M/Yy5wcm9vZmluZ1NldHRpbmdzLmlzU3BlbGxDaGVja2luZ0VuYWJsZWQ6ZmFsc2U7fSxzZXQ6ZnVuY3Rpb24oZW5hYmxlZCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRW5hYmxlU3BlbGxDaGVja2luZyxlbmFibGVkPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImlzSHlwaGVuYXRpb25FbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnByb29maW5nU2V0dGluZ3M/Yy5wcm9vZmluZ1NldHRpbmdzLmlzSHlwaGVuYXRpb25FbmFibGVkOmZhbHNlO30sc2V0OmZ1bmN0aW9uKGVuYWJsZWQpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkVuYWJsZUh5cGhlbmF0aW9uLGVuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvb2ZpbmdTZXR0aW5ncz9jLnByb29maW5nU2V0dGluZ3MuaXNMYW5nRGV0ZWN0RW5hYmxlZDpmYWxzZTt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5FbmFibGVMYW5nRGV0ZWN0LGVuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNUcmFja0NoYW5nZXNFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmlzVHJhY2tDaGFuZ2VzRW5hYmxlZDt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5UcmFja0NoYW5nZXNFbmFibGVkU3RhdGUsZW5hYmxlZD8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJjbGlwYm9hcmRNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNsaXBib2FyZE1vZGU7fSxzZXQ6ZnVuY3Rpb24oY2xpcGJvYXJkTW9kZSl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpcGJvYXJkTW9kZSxjbGlwYm9hcmRNb2RlKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiem9vbUZhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy56b29tO30sc2V0OmZ1bmN0aW9uKHpvb21GYWN0b3Ipe2lmKHpvb21GYWN0b3I9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihcXCdQYXJhbWV0ZXIgXCJ6b29tRmFjdG9yXCIgaXMgdW5kZWZpbmVkLlxcJyk7fWlmKCh0eXBlb2Ygem9vbUZhY3RvciE9PVwibnVtYmVyXCIpfHwoKHpvb21GYWN0b3I8MTApJiYoem9vbUZhY3Rvcj4tMSkpfHwoem9vbUZhY3RvcjwtMykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJab29tIGZhY3RvciBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyID49IDEwIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCB6b29tIGZhY3RvciB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlNwZWNpYWxab29tRmFjdG9yLlwiKTt9em9vbUZhY3Rvcj1NYXRoLnJvdW5kKHpvb21GYWN0b3IpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLlpvb20sem9vbUZhY3Rvcik7fSxlbnVtZXJhYmxlOnRydWV9KTtnLmVuYWJsZUNvbW1hbmRzPWZ1bmN0aW9uKHNpbGVudCl7Zy5XZWJTb2NrZXQ9Yy5zb2NrZXQ7aWYoYy5zZWNyZXRBUElFbmFibGVkKXtyZXR1cm47fWcuc2VuZENvbW1hbmQ9Yy5zZW5kQ29tbWFuZDtnLkNvbW1hbmQ9Yy5Db21tYW5kO2cuVmlzdWFsRWxlbWVudD1jLlZpc3VhbEVsZW1lbnQ7Zy5JdGVtVHlwZT1jLkl0ZW1UeXBlO2cuRGlhbG9nQ2F0ZWdvcnk9Yy5EaWFsb2dDYXRlZ29yeTtnLkhUTUxEaWFsb2dUeXBlPWMuSFRNTERpYWxvZ1R5cGU7Zy5UWERpYWxvZ1R5cGU9Yy5UWERpYWxvZ1R5cGU7Zy5CcmVha1R5cGU9Yy5CcmVha1R5cGU7Zy5Db21wb25lbnRUeXBlPWMuQ29tcG9uZW50VHlwZTtnLkFjdGl2YXRpb25TdGF0ZT1jLkFjdGl2YXRpb25TdGF0ZTtnLkZpZWxkRGlzcGxheU1vZGU9Yy5GaWVsZERpc3BsYXlNb2RlO2cuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQ9Yy5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZDtnLlNlbGVjdGlvbkNvbW1hbmQ9Yy5TZWxlY3Rpb25Db21tYW5kO2cuVGV4dFBhcnRDb21tYW5kPWMuVGV4dFBhcnRDb21tYW5kO2cuVGV4dEZyYW1lUHJvcGVydHk9Yy5UZXh0RnJhbWVQcm9wZXJ0eTtnLnNob3dDZW50ZXJlZE1lc3NhZ2U9Yy5zaG93TXNnRGl2O2cuQ2hhcnRUZW1wbGF0ZVR5cGU9Yy5DaGFydFRlbXBsYXRlVHlwZTtnLkZyYW1lUHJvcGVydHk9Yy5GcmFtZVByb3BlcnR5O2cuVmVydGljYWxBbGlnbm1lbnQ9Yy5WZXJ0aWNhbEFsaWdubWVudDtnLlNlY3Rpb25Gb3JtYXREaWFsb2dUYWI9Yy5TZWN0aW9uRm9ybWF0RGlhbG9nVGFiO2cuVGFibGVDb21tYW5kPWMuVGFibGVDb21tYW5kO2cuVGFibGVFbGVtZW50PWMuVGFibGVFbGVtZW50O2cuTWFpbE1lcmdlTmF2QnV0dG9uPXtGaXJzdDowLFByZXZpb3VzOjEsTmV4dDoyLExhc3Q6Myx9O2cuaW5zZXJ0TWVyZ2VGaWVsZD1mdW5jdGlvbihpKXt2YXIgaD17TmFtZTppLFRleHQ6XCLCq1wiK2krXCLCu1wifTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5JbnNlcnRJdGVtLGMuSXRlbVR5cGUuRmllbGRBZGFwdGVyLGMuRmllbGRUeXBlLk1lcmdlRmllbGQsMCxoKTt9O2cuaW5zZXJ0TWVyZ2VCbG9jaz1mdW5jdGlvbihoKXtoPUpTT04uc3RyaW5naWZ5KGgpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkluc2VydEl0ZW0sYy5JdGVtVHlwZS5NZXJnZUJsb2NrLDAsMCxoKTt9O2lmKCFzaWxlbnQpe2NvbnNvbGUud2FybihcXCdVbmRvY3VtZW50ZWQgYW5kIHVuc3VwcG9ydGVkIFRleHRDb250cm9sIEFQSSBhY3RpdmF0ZWQuIFVzZSBhdCB5b3VyIG93biByaXNrLiBDYWxsIHRoaXMgZnVuY3Rpb24gd2l0aCB0aGUgcGFyYW1ldGVyIFwidHJ1ZVwiIGlmIHlvdSBkb25cXFxcXFwndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UuXFwnKTt9Yy5zZWNyZXRBUElFbmFibGVkPXRydWU7fTtyZXR1cm4gZzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGYsYSl7dmFyIGI9Zi5fcHJpdmF0ZT1mLl9wcml2YXRlfHx7fTtiLklucHV0Rm9ybWF0RXZlbnRzPU9iamVjdC5mcmVlemUoW1wiYWxsRnJhbWVMaW5lc0NoYW5nZWRcIixcImJvbGRDaGFuZ2VkXCIsXCJib3R0b21BbGlnbmVkQ2hhbmdlZFwiLFwiYm90dG9tRGlzdGFuY2VDaGFuZ2VkXCIsXCJib3R0b21GcmFtZUxpbmVDaGFuZ2VkXCIsXCJib3hGcmFtZUNoYW5nZWRcIixcImJ1bGxldENoYXJhY3RlckNoYW5nZWRcIixcImJ1bGxldGVkTGlzdENoYW5nZWRcIixcImNlbnRlcmVkQ2hhbmdlZFwiLFwiZm9udEZhbWlseUNoYW5nZWRcIixcImZvbnRTaXplQ2hhbmdlZFwiLFwiZnJhbWVGaWxsQ29sb3JDaGFuZ2VkXCIsXCJmcmFtZUxpbmVDb2xvckNoYW5nZWRcIixcImZyYW1lTGluZVdpZHRoQ2hhbmdlZFwiLFwiaGFuZ2luZ0luZGVudENoYW5nZWRcIixcImlubmVySG9yaXpvbnRhbEZyYW1lTGluZXNDaGFuZ2VkXCIsXCJpbm5lclZlcnRpY2FsRnJhbWVMaW5lc0NoYW5nZWRcIixcIml0YWxpY0NoYW5nZWRcIixcImp1c3RpZmllZENoYW5nZWRcIixcImxlZnRBbGlnbmVkQ2hhbmdlZFwiLFwibGVmdEZyYW1lTGluZUNoYW5nZWRcIixcImxlZnRJbmRlbnRDaGFuZ2VkXCIsXCJsZWZ0VG9SaWdodENoYW5nZWRcIixcImxpbmVTcGFjaW5nQ2hhbmdlZFwiLFwibnVtYmVyZWRMaXN0Q2hhbmdlZFwiLFwibnVtYmVyZWRMaXN0Rm9ybWF0Q2hhbmdlZFwiLFwibnVtYmVyRm9ybWF0Q2hhbmdlZFwiLFwibnVtYmVyVGV4dFR5cGVDaGFuZ2VkXCIsXCJyaWdodEFsaWduZWRDaGFuZ2VkXCIsXCJyaWdodEZyYW1lTGluZUNoYW5nZWRcIixcInJpZ2h0SW5kZW50Q2hhbmdlZFwiLFwicmlnaHRUb0xlZnRDaGFuZ2VkXCIsXCJzdGFuZGFyZFRleHRUeXBlQ2hhbmdlZFwiLFwic3RyaWtlb3V0Q2hhbmdlZFwiLFwic3RydWN0dXJlZExpc3RDaGFuZ2VkXCIsXCJzdHJ1Y3R1cmVkTGlzdEZvcm1hdENoYW5nZWRcIixcInN0eWxlTmFtZUNoYW5nZWRcIixcInN0eWxlTmFtZXNDaGFuZ2VkXCIsXCJzdWJzY3JpcHRDaGFuZ2VkXCIsXCJzdXBlcnNjcmlwdENoYW5nZWRcIixcInRleHRCYWNrQ29sb3JDaGFuZ2VkXCIsXCJ0ZXh0Q29sb3JDaGFuZ2VkXCIsXCJ0b3BBbGlnbmVkQ2hhbmdlZFwiLFwidG9wRGlzdGFuY2VDaGFuZ2VkXCIsXCJ0b3BGcmFtZUxpbmVDaGFuZ2VkXCIsXCJ1bmRlcmxpbmVDaGFuZ2VkXCIsXCJ1bmRlcmxpbmVTdHlsZUNoYW5nZWRcIixcInZlcnRpY2FsbHlDZW50ZXJlZENoYW5nZWRcIl0pO2IuVGV4dFZpZXdHZW5lcmF0b3JFdmVudHM9T2JqZWN0LmZyZWV6ZShbXCJiYXJjb2RlQ3JlYXRlZFwiLFwiYmFyY29kZURlbGV0ZWRcIixcImJhcmNvZGVEZXNlbGVjdGVkXCIsXCJiYXJjb2RlU2VsZWN0ZWRcIixcImNhbm5vdFRyYWNrQ2hhbmdlXCIsXCJjaGFuZ2VkXCIsXCJjaGFyRm9ybWF0Q2hhbmdlZFwiLFwiY2hhcnRDcmVhdGVkXCIsXCJjaGFydERlbGV0ZWRcIixcImNoYXJ0RGVzZWxlY3RlZFwiLFwiY2hhcnRTZWxlY3RlZFwiLFwiY29udGVudHNSZXNldFwiLFwiZG9jdW1lbnRMaW5rQ2xpY2tlZFwiLFwiZG9jdW1lbnRTaXplQ2hhbmdlZFwiLFwiZHJhd2luZ0FjdGl2YXRlZFwiLFwiZHJhd2luZ0NyZWF0ZWRcIixcImRyYXdpbmdEZWFjdGl2YXRlZFwiLFwiZHJhd2luZ0RlbGV0ZWRcIixcImRyYXdpbmdEZXNlbGVjdGVkXCIsXCJkcmF3aW5nU2VsZWN0ZWRcIixcImVkaXRhYmxlUmVnaW9uQ3JlYXRlZFwiLFwiZWRpdGFibGVSZWdpb25EZWxldGVkXCIsXCJlZGl0YWJsZVJlZ2lvbkVudGVyZWRcIixcImVkaXRhYmxlUmVnaW9uTGVmdFwiLFwiZnJhbWVEZXNlbGVjdGVkXCIsXCJmcmFtZU1vdmVkXCIsXCJmcmFtZVNlbGVjdGVkXCIsXCJmcmFtZVNpemVkXCIsXCJoZWFkZXJGb290ZXJBY3RpdmF0ZWRcIixcImhlYWRlckZvb3RlckRlYWN0aXZhdGVkXCIsXCJoeXBlcnRleHRMaW5rQ2xpY2tlZFwiLFwiaHlwaGVuYXRlV29yZFwiLFwiaW1hZ2VDcmVhdGVkXCIsXCJpbWFnZURlbGV0ZWRcIixcImltYWdlRGVzZWxlY3RlZFwiLFwiaW1hZ2VTZWxlY3RlZFwiLFwibWFpblRleHRBY3RpdmF0ZWRcIixcInBhZ2VGb3JtYXRDaGFuZ2VkXCIsXCJwYXJhZ3JhcGhGb3JtYXRDaGFuZ2VkXCIsXCJyZW1vdmVDb21ib2JveFwiLFwic3BlbGxDaGVja1RleHRcIixcInN1YlRleHRQYXJ0Q3JlYXRlZFwiLFwic3ViVGV4dFBhcnREZWxldGVkXCIsXCJzdWJUZXh0UGFydEVudGVyZWRcIixcInN1YlRleHRQYXJ0TGVmdFwiLFwic3ViVGV4dFBhcnRDbGlja2VkXCIsXCJzdWJUZXh0UGFydERvdWJsZUNsaWNrZWRcIixcInRhYmxlQ3JlYXRlZFwiLFwidGFibGVEZWxldGVkXCIsXCJ0ZXh0RmllbGRFbnRlcmVkXCIsXCJ0ZXh0RmllbGRMZWZ0XCIsXCJ0ZXh0RmllbGRDbGlja2VkXCIsXCJ0ZXh0RnJhbWVBY3RpdmF0ZWRcIixcInRleHRGcmFtZUNyZWF0ZWRcIixcInRleHRGcmFtZURlYWN0aXZhdGVkXCIsXCJ0ZXh0RnJhbWVEZWxldGVkXCIsXCJ0ZXh0RnJhbWVEZXNlbGVjdGVkXCIsXCJ0ZXh0RnJhbWVTZWxlY3RlZFwiLFwidHJhY2tlZENoYW5nZUNoYW5nZWRcIixcInRyYWNrZWRDaGFuZ2VDcmVhdGVkXCIsXCJ0cmFja2VkQ2hhbmdlRGVsZXRlZFwiLFwidHJhY2tlZENoYW5nZVN0YXRlQ2hhbmdlZFwiXSk7dmFyIGU9T2JqZWN0LmZyZWV6ZSh7U3Vic2NyaWJlOjAsVW5zdWJzY3JpYmU6MSx9KTtiLkV2ZW50Q2F0ZWdvcnk9T2JqZWN0LmZyZWV6ZSh7VGV4dFZpZXdHZW5lcmF0b3I6MCxJbnB1dEZvcm1hdDoxfSk7Yi5zdWJzY3JpYmVUb0V2ZW50PWZ1bmN0aW9uKGgsZyl7aWYoYyhnLGgpKXtkKGUuU3Vic2NyaWJlLGgsZyk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O2IudW5zdWJzY3JpYmVGcm9tRXZlbnQ9ZnVuY3Rpb24oaCxnKXtpZihjKGcsaCkpe2QoZS5VbnN1YnNjcmliZSxoLGcpO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtmdW5jdGlvbiBjKGgsaSl7dmFyIGc7c3dpdGNoKGgpe2Nhc2UgYi5FdmVudENhdGVnb3J5LlRleHRWaWV3R2VuZXJhdG9yOmc9Yi5UZXh0Vmlld0dlbmVyYXRvckV2ZW50czticmVhaztjYXNlIGIuRXZlbnRDYXRlZ29yeS5JbnB1dEZvcm1hdDpnPWIuSW5wdXRGb3JtYXRFdmVudHM7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJLaW5kIG9mIGV2ZW50IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO31yZXR1cm4gZy5pbmRleE9mKGkpPj0wO31mdW5jdGlvbiBkKGcsaSxoKXtpZih0eXBlb2YgZyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGkhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKHR5cGVvZiBoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZighYi5pc1NvY2tldENvbm5lY3RlZCgpKXt0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBoYXMgbm90IGJlZW4gZXN0YWJsaXNoZWQgeWV0LiBBdHRhY2ggVGV4dENvbnRyb2wgZXZlbnQgaGFuZGxlcnMgaW4gdGhlIFxcJ3RleHRDb250cm9sTG9hZGVkXFwnIGV2ZW50IG9yIGxhdGVyLlwiKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuVGV4dENvbnRyb2xFdmVudCxnLDAsaCxpKTt9cmV0dXJuIGY7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpOyc7Il19